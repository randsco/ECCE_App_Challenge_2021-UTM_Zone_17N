System.register(["jimu-core","jimu-ui","jimu-ui/basic/item-selector","jimu-for-builder","jimu-layouts/layout-runtime","jimu-for-builder/templates","jimu-ui/advanced/data-source-selector","jimu-ui/advanced/expression-builder"],(function(e){var t,n,o,r,i,a,s,c;return{setters:[function(e){t=e},function(e){n=e},function(e){o=e},function(e){r=e},function(e){i=e},function(e){a=e},function(e){s=e},function(e){c=e}],execute:function(){e(function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=944)}({0:function(e,n){e.exports=t},1:function(e,t){e.exports=n},100:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 5.5v-5a.5.5 0 011 0v5h5a.5.5 0 010 1h-5v5a.5.5 0 01-1 0v-5h-5a.5.5 0 010-1h5z" fill="#000" fill-rule="nonzero"></path></svg>'},11:function(e,t,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)&&o.length){var a=r.apply(null,o);a&&e.push(a)}else if("object"===i)for(var s in o)n.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},12:function(e,t){e.exports=o},21:function(e,t){e.exports=r},263:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 8c0-.291.231-.527.516-.527h9.508L8.527 3.9a.535.535 0 010-.746.508.508 0 01.73 0L14 8l-4.743 4.846a.508.508 0 01-.73 0 .535.535 0 010-.746l3.497-3.573H2.516A.522.522 0 012 8z" fill="#000" fill-rule="nonzero"></path></svg>'},264:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 2c.291 0 .527.231.527.516v9.508L12.1 8.527a.535.535 0 01.746 0 .508.508 0 010 .73L8 14 3.154 9.257a.508.508 0 010-.73.535.535 0 01.746 0l3.573 3.497V2.516C7.473 2.231 7.709 2 8 2z" fill="#000" fill-rule="nonzero"></path></svg>'},31:function(e,t){e.exports=i},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}));var o,r,i=n(0);n.d(t,"a",(function(){return i.LoadingType})),function(e){e.IMAGE="image",e.ICON="icon"}(o||(o={})),function(e){e.Info="INFO",e.Error="ERROR"}(r||(r={}))},37:function(e,t){e.exports=a},38:function(e,t){e.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M7.745 7l4.1 4.1a.527.527 0 01-.745.746L7 7.746l-4.1 4.1a.527.527 0 01-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 01.746-.746l4.1 4.1 4.1-4.1a.527.527 0 01.746.746L7.746 7z" fill="#000"></path><path d="M1 1h12v12H1z"></path></g></svg>'},39:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 6.598L14.308.29a.991.991 0 011.402 1.402L9.402 8l6.308 6.308a.991.991 0 01-1.402 1.402L8 9.402 1.692 15.71A.991.991 0 01.29 14.308L6.598 8 .29 1.692A.991.991 0 011.692.29L8 6.598z" fill="#000" fill-rule="nonzero"></path></svg>'},47:function(e,t){e.exports=s},54:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M4.586 8.657l6.01-6.01a.5.5 0 01.707.707l-6.01 6.01a1 1 0 01-1.414 0L.697 6.182a.5.5 0 01.707-.707l3.182 3.182z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},56:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M5.47 9.521L.162 3.981a.592.592 0 010-.813.534.534 0 01.779 0L6 8.448l5.06-5.28a.534.534 0 01.779 0 .592.592 0 010 .813l-5.31 5.54a.726.726 0 01-1.058 0z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},62:function(e,t){e.exports=c},64:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 32"><path d="M16.492 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zm0 21.333a2 2 0 11.001 3.999 2 2 0 01-.001-3.999zm0-2.666a2 2 0 01-2-2v-8a2 2 0 114 0v8a2 2 0 01-2 2z"></path></svg>'},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o,r,i=n(0),a=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},s={left:"right",right:"left",top:"bottom",bottom:"top"};function c(e,t){return t&&("left"===e||"right"===e)?e:s[e]}function l(e,t){return t?"left"===e?"right":"right"===e?"left":e:e}function p(e){var t=Object(i.getAppStore)().getState().appContext.isRTL,n=e.border,s=e.background,p=e.arrowSize,u=void 0===p?".75rem":p;return Object(i.css)(r||(r=a(['\n    .jimu-popper--arrow {\n      position: absolute;\n      &::before,\n      &::after {\n        content: " ";\n        display: block;\n        width: 0;\n        height: 0;\n        border: ',' solid transparent;\n        position: absolute;\n      }\n    }\n    &[data-popper-placement^="top"],\n    &[data-popper-placement^="bottom"] {\n      .jimu-popper--arrow {\n        ',';\n        &::before,\n        &::after {\n          transform: translateX(-50%);\n        }\n      }\n    }\n    &[data-popper-placement^="left"],\n    &[data-popper-placement^="right"] {\n      .jimu-popper--arrow {\n        top: 50%;\n        &::before,\n        &::after {\n          transform: translateY(-50%);\n        }\n      }\n    }\n    ',"\n  "],['\n    .jimu-popper--arrow {\n      position: absolute;\n      &::before,\n      &::after {\n        content: " ";\n        display: block;\n        width: 0;\n        height: 0;\n        border: ',' solid transparent;\n        position: absolute;\n      }\n    }\n    &[data-popper-placement^="top"],\n    &[data-popper-placement^="bottom"] {\n      .jimu-popper--arrow {\n        ',';\n        &::before,\n        &::after {\n          transform: translateX(-50%);\n        }\n      }\n    }\n    &[data-popper-placement^="left"],\n    &[data-popper-placement^="right"] {\n      .jimu-popper--arrow {\n        top: 50%;\n        &::before,\n        &::after {\n          transform: translateY(-50%);\n        }\n      }\n    }\n    ',"\n  "])),u,t?"right: 50%":"left: 50%",["left","right","top","bottom"].map((function(e){var r,p;return Object(i.css)(o||(o=a(['\n      &[data-popper-placement^="','"] {\n        .jimu-popper--arrow {\n          ',": -",";\n          &::before,\n          &::after {\n            border-","-width: 0;\n            border-","-color: ",";\n            ",": 0;\n          }\n          &::after {\n            border-","-color: ",";\n            ",": ",";\n          }\n        }\n      }\n    "],['\n      &[data-popper-placement^="','"] {\n        .jimu-popper--arrow {\n          ',": -",";\n          &::before,\n          &::after {\n            border-","-width: 0;\n            border-","-color: ",";\n            ",": 0;\n          }\n          &::after {\n            border-","-color: ",";\n            ",": ",";\n          }\n        }\n      }\n    "])),e,c(e,t),u,c(e,t),l(e,t),null!==(r=null==n?void 0:n.color)&&void 0!==r?r:"inherit",c(e,t),l(e,t),null!=s?s:"inherit",c(e,t),null!==(p=null==n?void 0:n.width)&&void 0!==p?p:"1px")})))}},76:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M.304 6.016a1.028 1.028 0 011.466 0l4.398 4.451 8.062-8.16a1.028 1.028 0 011.466 0c.405.41.405 1.074 0 1.484l-8.795 8.902c-.405.41-1.062.41-1.466 0L.304 7.5a1.058 1.058 0 010-1.484z" fill="#000"></path><path d="M0 0h16v16H0z"></path></g></svg>'},77:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M9.521 5.47L3.981.162a.592.592 0 00-.813 0 .534.534 0 000 .779L8.448 6l-5.28 5.06a.534.534 0 000 .779.592.592 0 00.813 0l5.54-5.31a.726.726 0 000-1.058z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},81:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M4.103 7.873L16 19.25 27.897 7.873c.939-.898 2.46-.898 3.399 0s.939 2.353 0 3.251L17.7 24.127a2.481 2.481 0 01-3.399 0L.705 11.124c-.939-.898-.939-2.353 0-3.251s2.46-.898 3.399 0z"></path></svg>'},82:function(e,t){e.exports='<svg viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg"><path d="M1.521 5.693a.517.517 0 01-.708 0 .464.464 0 010-.677l2.833-2.71a.517.517 0 01.708 0l2.833 2.71a.464.464 0 010 .677.517.517 0 01-.708 0L4 3.323l-2.479 2.37z"></path><path d="M0 0h8v8H0z" fill="none"></path></svg>'},88:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2.212 9.936L2 12.27l2.333-.212L13.27 3.12 11.149 1 2.212 9.936zm-.707-.707L10.441.293a1 1 0 011.415 0l2.12 2.121a1 1 0 010 1.414l-8.935 8.937a1 1 0 01-.617.289l-2.333.212a1 1 0 01-1.087-1.087l.212-2.333a1 1 0 01.289-.617zm7.434-6.497l2.829 2.829-.707.707-2.829-2.829.707-.707zM.5 15h15a.5.5 0 010 1H.5a.5.5 0 010-1z" fill="#000" fill-rule="nonzero"></path></svg>'},89:function(e,t){e.exports='<svg viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 8h-1V1.9L.7 4.7 0 4l4-4 4 4-.7.7-2.8-2.8z" fill-rule="evenodd"></path></svg>'},90:function(e,t){e.exports='<svg viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 0v6.1l2.8-2.8.7.7-4 4-4-4 .7-.7 2.8 2.8V0z" fill-rule="evenodd"></path></svg>'},944:function(e,t,n){"use strict";n.r(t),n.d(t,"handelDialogInfos",(function(){return Yo})),n.d(t,"changeCurrentPage",(function(){return Xo})),n.d(t,"changeCurrentDialog",(function(){return Ko})),n.d(t,"WidgetSelector",(function(){return Z})),n.d(t,"JimuMapViewSelector",(function(){return ne})),n.d(t,"JimuLayerViewSelector",(function(){return ce})),n.d(t,"StylePicker",(function(){return ue})),n.d(t,"RadioGroup",(function(){return he})),n.d(t,"ItemCardSelector",(function(){return je})),n.d(t,"SettingSection",(function(){return Se})),n.d(t,"SettingRow",(function(){return _e})),n.d(t,"SettingCollapse",(function(){return Re})),n.d(t,"SettingLayout",(function(){return r})),n.d(t,"LinkSetting",(function(){return at})),n.d(t,"LinkSettingPopup",(function(){return bt})),n.d(t,"OpenTypes",(function(){return J})),n.d(t,"proxySettingUtils",(function(){return i})),n.d(t,"ProxySetting",(function(){return Ht})),n.d(t,"ProxySettingPopup",(function(){return $t})),n.d(t,"SidePopper",(function(){return dt})),n.d(t,"WidgetListPopper",(function(){return In})),n.d(t,"PageTemplatePopper",(function(){return Hn})),n.d(t,"DialogTemplatePopper",(function(){return $n})),n.d(t,"BlockTemplatePopper",(function(){return ao})),n.d(t,"ScreenTemplatePopper",(function(){return mo})),n.d(t,"ScreenGroupTemplatePopper",(function(){return wo})),n.d(t,"SortSetting",(function(){return ko})),n.d(t,"DirectionSelector",(function(){return _o})),n.d(t,"SizeMode",(function(){return jn})),n.d(t,"SizeModeSelector",(function(){return Bo})),n.d(t,"NavQuickStyleItem",(function(){return Fo})),n.d(t,"QuickStylePopper",(function(){return Go}));var o={};n.r(o),n.d(o,"WidgetSelector",(function(){return g})),n.d(o,"SortSetting",(function(){return b})),n.d(o,"StylePicker",(function(){return y})),n.d(o,"SettingSection",(function(){return w})),n.d(o,"SettingRow",(function(){return O})),n.d(o,"LinkSetting",(function(){return S})),n.d(o,"ProxySetting",(function(){return I})),n.d(o,"ProxySettingPopup",(function(){return A})),n.d(o,"RadioGroup",(function(){return T})),n.d(o,"ItemCardSelector",(function(){return U})),n.d(o,"SidePopper",(function(){return W})),n.d(o,"JimuLayerViewSelector",(function(){return G}));var r={};n.r(r),n.d(r,"SettingSection",(function(){return Se})),n.d(r,"SettingRow",(function(){return _e})),n.d(r,"SettingCollapse",(function(){return Re}));var i={};n.r(i),n.d(i,"getNeedProxyDataSources",(function(){return Ot})),n.d(i,"traverseToGetNeedProxyDataSources",(function(){return kt})),n.d(i,"getProxyJsonFromSourceUrl",(function(){return St})),n.d(i,"isSameProxy",(function(){return Pt})),n.d(i,"isRegisteredApp",(function(){return Ct})),n.d(i,"needToConfigProxy",(function(){return It})),n.d(i,"deleteProxies",(function(){return _t})),n.d(i,"getProxyRootUrl",(function(){return At})),n.d(i,"getCreateProxyUrl",(function(){return Nt})),n.d(i,"getDeleteProxyUrl",(function(){return Rt}));var a,s,c,l,p,u,d,f=n(0),m=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},g=function(e){var t=e.theme;return Object(f.css)(a||(a=m(["\n    .component-choose-widget-popup{\n      .widget-card-active-btn{\n        outline: none;\n      }\n    }\n    div.component-choose-widget-popup-modal{\n      width: 850px;\n      max-width: 850px;\n      height: 600px;\n      background: ",";\n      border-radius: 4px;\n      position: absolute;\n      margin: auto;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      .component-choose-widget-clear-border{\n        border: 0;\n        padding: 0;\n      }\n      .modal-content{\n        border: 0;\n        padding: 20px 10px 20px 40px;\n        position: static;\n      }\n      .component-choose-widget-modal-header{\n        .choose-widget-popup-close{\n          width: 50px;\n          height: 50px;\n          display: inline-block;\n          right: 28px;\n          position: absolute;\n          top: 10px;\n          &:hover{\n            cursor: pointer;\n          }\n        }\n        .choose-widget-popup-close:after{\n          content: '';\n          display: inline-block;\n          width: 16px;\n          height: 16px;\n          background-image: url(",");\n          position: relative;\n          left: 18px;\n          top: 12px;\n        }\n      }\n      .component-choose-widget-modal-body{\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n        -webkit-box-pack: start;\n        -ms-flex-pack: start;\n        justify-content: flex-start;\n        margin: 40px 0 10px 0;\n        .widget-card-item{\n          width: 70px;\n          height: 120px;\n          border: 0;\n          margin: 0 30px 0 0;\n          &:hover{\n            cursor: pointer;\n          }\n          .widget-card-image{\n            width: 70px;\n            height: 70px;\n            border: 1px solid #ccc;\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -webkit-box-align: center;\n            -ms-flex-align: center;\n            align-items: center;\n            -webkit-box-pack: center;\n            -ms-flex-pack: center;\n            justify-content: center;\n            >div{\n              width: 30px;\n              height: 30px;\n              position: relative;\n              &:after{\n                display: none;\n              }\n            }\n          }\n          .widget-card-content{\n            font-size: 12px;\n            color: #000;\n            letter-spacing: 0.33px;\n            padding: 2px;\n            text-align: center;\n            line-height: 14px;\n          }\n        }\n        .widget-card-selected{\n          .widget-card-image{\n            border: 2px solid #0C5CB6;\n            >div:after{\n              content: '';\n              display: block;\n              width: 16px;\n              height: 16px;\n              position: absolute;\n              top: -20px;\n              right: -20px;\n              background-image: url(",");\n            }\n          }\n        }\n      }\n      .component-choose-widget-modal-footer{\n        position: absolute;\n        bottom: 20px;\n        right: 40px;\n        >button{\n          font-size: 14px;\n          letter-spacing: 0.39px;\n          text-align: center;\n          vertical-align: middle;\n        }\n        button:first-of-type {\n          background-color: #0075D0;\n          border: 1px solid  #0075D0;\n          border-radius: 3px;\n          color: #ffffff;\n        }\n        button:last-of-type{\n          background-color: #ffffff;\n          border: 1px solid #CCCCCC;\n          border-radius: 3px;\n          color: #000000;\n        }\n      }\n    }\n  "],["\n    .component-choose-widget-popup{\n      .widget-card-active-btn{\n        outline: none;\n      }\n    }\n    div.component-choose-widget-popup-modal{\n      width: 850px;\n      max-width: 850px;\n      height: 600px;\n      background: ",";\n      border-radius: 4px;\n      position: absolute;\n      margin: auto;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      .component-choose-widget-clear-border{\n        border: 0;\n        padding: 0;\n      }\n      .modal-content{\n        border: 0;\n        padding: 20px 10px 20px 40px;\n        position: static;\n      }\n      .component-choose-widget-modal-header{\n        .choose-widget-popup-close{\n          width: 50px;\n          height: 50px;\n          display: inline-block;\n          right: 28px;\n          position: absolute;\n          top: 10px;\n          &:hover{\n            cursor: pointer;\n          }\n        }\n        .choose-widget-popup-close:after{\n          content: '';\n          display: inline-block;\n          width: 16px;\n          height: 16px;\n          background-image: url(",");\n          position: relative;\n          left: 18px;\n          top: 12px;\n        }\n      }\n      .component-choose-widget-modal-body{\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n        -webkit-box-pack: start;\n        -ms-flex-pack: start;\n        justify-content: flex-start;\n        margin: 40px 0 10px 0;\n        .widget-card-item{\n          width: 70px;\n          height: 120px;\n          border: 0;\n          margin: 0 30px 0 0;\n          &:hover{\n            cursor: pointer;\n          }\n          .widget-card-image{\n            width: 70px;\n            height: 70px;\n            border: 1px solid #ccc;\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            -webkit-box-align: center;\n            -ms-flex-align: center;\n            align-items: center;\n            -webkit-box-pack: center;\n            -ms-flex-pack: center;\n            justify-content: center;\n            >div{\n              width: 30px;\n              height: 30px;\n              position: relative;\n              &:after{\n                display: none;\n              }\n            }\n          }\n          .widget-card-content{\n            font-size: 12px;\n            color: #000;\n            letter-spacing: 0.33px;\n            padding: 2px;\n            text-align: center;\n            line-height: 14px;\n          }\n        }\n        .widget-card-selected{\n          .widget-card-image{\n            border: 2px solid #0C5CB6;\n            >div:after{\n              content: '';\n              display: block;\n              width: 16px;\n              height: 16px;\n              position: absolute;\n              top: -20px;\n              right: -20px;\n              background-image: url(",");\n            }\n          }\n        }\n      }\n      .component-choose-widget-modal-footer{\n        position: absolute;\n        bottom: 20px;\n        right: 40px;\n        >button{\n          font-size: 14px;\n          letter-spacing: 0.39px;\n          text-align: center;\n          vertical-align: middle;\n        }\n        button:first-of-type {\n          background-color: #0075D0;\n          border: 1px solid  #0075D0;\n          border-radius: 3px;\n          color: #ffffff;\n        }\n        button:last-of-type{\n          background-color: #ffffff;\n          border: 1px solid #CCCCCC;\n          border-radius: 3px;\n          color: #000000;\n        }\n      }\n    }\n  "])),t.colors.white,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAsElEQVQ4jaWSLQ7EIBhEv2LxnAzP1cBzAU6DhKCpZneaQHYpP2k6omreCzA9yjf0IgyfGCMZY+g8zy2ADrpgmsA5R977raTC6IJpAiklCSEopTSVVBgddME0AeeclFJTSQ+jCwY5fh9xVERm8E0wkiAzeCjoJcgMbm/wJjdBf4XdOmwF49irdf4Es6l2E7MVXLOSXAJr7XKqkQTMFcwYQiha65JzLruggy4YZPgfPMkHXzQME+F7oHYAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA20lEQVQ4jWPkidn2n4ECwESJ5iFgABsLI8PBRiuGS732DKJ8bKQbwMHKzKAqyc0gK8zBIMDNilUNI6FYkBBgBxrExPDg9Xes8iy4NIZYSDJ4GYkx/Pj1j6F25Q2cFuD0wo2nXxi42ZkZYu1lGMItpUg34Mrjzwx//0HYT9//IN0AFiZGBjstIaAh/xkOXntLugHGyvwM/FysDBcefGT48PUP6QaI8ELinZ2FicFGQ4iBnRW7UmY2vegGbBIPXn1j+P//P8OXn38ZPn77zXDxwSesBhBMB4QAxXkBAMaDOywJrob4AAAAAElFTkSuQmCC")},h=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},b=function(e){var t=e.theme.colors;return Object(f.css)(s||(s=h(["\n    width:100%;\n    .add-option-btn {\n        & {\n            color:",";\n            margin-top:10px;\n            cursor: pointer;\n            font-size:13px;\n            overflow: hidden;\n        }\n        .add-option-icon{\n            margin-right: 4px;\n        }\n    }\n    .no-sort-remind {\n        margin: 70px auto 0;\n        color: ",";\n        font-size: 13px;\n        text-align: center;\n    }\n    .select-con {\n        & {\n            margin-top:17px;\n            box-sizing:border-box;\n            padding:",";\n            padding-top:",";\n            margin-bottom:10px;\n            background:",";\n            box-shadow: 0 0 0 2px ",";\n        }\n        .option-name-con {\n            & {\n              display: flex;\n              align-items: center;\n              margin-bottom:",";\n              width: 100%;\n            }\n            .option-name {\n              font-size: 13px;\n              line-height: 13px;\n              color: ",";\n              max-width: 87%;\n              height: ",";\n              line-height: ",";\n              cursor: pointer;\n            }\n            .option-name input {\n                display:inline-block;\n                width: auto;\n                max-width: 88%;\n                height: 100%;\n            }\n            .option-name-icon {\n                margin-left:5px;\n                color: ",";\n                cursor: pointer;\n            }\n            .option-name span {\n                max-width: 88%;\n                display: inline-block;\n                text-overflow: ellipsis;\n                overflow:hidden;\n            }\n            .close-con {\n                flex-grow: 1;\n            }\n            .close-con>span {\n                margin-right: ",";\n                color: ",";\n                cursor: pointer;\n            }\n        }\n\n        .select-down-con {\n            & {\n                display: flex;\n                align-items: center;\n                height: ",";\n            }\n            .sort-arrow-down-icon {\n                margin-right: 0;\n            }\n            .select-input {\n                flex-grow:1;\n                color: ",";\n            }\n            .sort-button {\n                margin-left: 5px;\n                width:30px;\n                cursor: pointer;\n                border:none;\n            }\n            .sort-field-selector {\n                & {\n                    background:",";\n                    border-radius: 2px;\n                    width: ",";\n                    overflow: hidden;\n                }\n\n\n            }\n        }\n    }\n\n\n  "],["\n    width:100%;\n    .add-option-btn {\n        & {\n            color:",";\n            margin-top:10px;\n            cursor: pointer;\n            font-size:13px;\n            overflow: hidden;\n        }\n        .add-option-icon{\n            margin-right: 4px;\n        }\n    }\n    .no-sort-remind {\n        margin: 70px auto 0;\n        color: ",";\n        font-size: 13px;\n        text-align: center;\n    }\n    .select-con {\n        & {\n            margin-top:17px;\n            box-sizing:border-box;\n            padding:",";\n            padding-top:",";\n            margin-bottom:10px;\n            background:",";\n            box-shadow: 0 0 0 2px ",";\n        }\n        .option-name-con {\n            & {\n              display: flex;\n              align-items: center;\n              margin-bottom:",";\n              width: 100%;\n            }\n            .option-name {\n              font-size: 13px;\n              line-height: 13px;\n              color: ",";\n              max-width: 87%;\n              height: ",";\n              line-height: ",";\n              cursor: pointer;\n            }\n            .option-name input {\n                display:inline-block;\n                width: auto;\n                max-width: 88%;\n                height: 100%;\n            }\n            .option-name-icon {\n                margin-left:5px;\n                color: ",";\n                cursor: pointer;\n            }\n            .option-name span {\n                max-width: 88%;\n                display: inline-block;\n                text-overflow: ellipsis;\n                overflow:hidden;\n            }\n            .close-con {\n                flex-grow: 1;\n            }\n            .close-con>span {\n                margin-right: ",";\n                color: ",";\n                cursor: pointer;\n            }\n        }\n\n        .select-down-con {\n            & {\n                display: flex;\n                align-items: center;\n                height: ",";\n            }\n            .sort-arrow-down-icon {\n                margin-right: 0;\n            }\n            .select-input {\n                flex-grow:1;\n                color: ",";\n            }\n            .sort-button {\n                margin-left: 5px;\n                width:30px;\n                cursor: pointer;\n                border:none;\n            }\n            .sort-field-selector {\n                & {\n                    background:",";\n                    border-radius: 2px;\n                    width: ",";\n                    overflow: hidden;\n                }\n\n\n            }\n        }\n    }\n\n\n  "])),t.palette.primary[600],t.palette.light[800],f.polished.rem(10),f.polished.rem(8),t.palette.light[500],f.polished.rgba(t.white,.3),f.polished.rem(7),t.palette.dark[800],f.polished.rem(25),f.polished.rem(25),t.palette.dark[400],f.polished.rem(10),t.black,f.polished.rem(34),t.dark,t.palette.secondary[200],f.polished.rem(140))},v=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},y=function(e){var t=e.theme;return Object(f.css)(c||(c=v(["\n    .widget-setting--stylepicker {\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      grid-gap: 10px;\n    }\n\n    .widget-setting--stylepicker-item {\n      height: 93px;\n      border: 1px solid ",";\n      background-color: ",";\n      background-repeat: no-repeat;\n      background-position: center;\n      &:hover {\n        border-color: ",";\n      }\n      &.active {\n        border: 2px solid ",";\n      }\n      &.full-width {\n        grid-column-start: 1;\n        grid-column-end: 3;\n      }\n    }\n  "],["\n    .widget-setting--stylepicker {\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      grid-gap: 10px;\n    }\n\n    .widget-setting--stylepicker-item {\n      height: 93px;\n      border: 1px solid ",";\n      background-color: ",";\n      background-repeat: no-repeat;\n      background-position: center;\n      &:hover {\n        border-color: ",";\n      }\n      &.active {\n        border: 2px solid ",";\n      }\n      &.full-width {\n        grid-column-start: 1;\n        grid-column-end: 3;\n      }\n    }\n  "])),t.colors.palette.light[500],t.colors.white,t.colors.primary,t.colors.primary)},x=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},w=function(e){var t=e.theme;return Object(f.css)(l||(l=x(["\n    padding: ",";\n    border-bottom: 1px solid ",";\n\n    &:last-child {\n      border-bottom: 0 none;\n    }\n\n    .jimu-widget-setting--section-header {\n      > h6 {\n        color: ",";\n        font-weight: ",";\n        margin-bottom: 0;\n      }\n      + * {\n        margin-top: ",";\n      }\n    }\n\n    .jimu-widget-setting--section-header {\n      &.row {\n        margin-left: 0;\n        margin-right: 0;\n      }\n    }\n  "],["\n    padding: ",";\n    border-bottom: 1px solid ",";\n\n    &:last-child {\n      border-bottom: 0 none;\n    }\n\n    .jimu-widget-setting--section-header {\n      > h6 {\n        color: ",";\n        font-weight: ",";\n        margin-bottom: 0;\n      }\n      + * {\n        margin-top: ",";\n      }\n    }\n\n    .jimu-widget-setting--section-header {\n      &.row {\n        margin-left: 0;\n        margin-right: 0;\n      }\n    }\n  "])),t.sizes[3],t.colors.palette.light[800],t.colors.palette.dark[600],t.typography.weights.bold,t.sizes[3])},j=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},O=function(e){var t=e.theme,n=e.flow,o=e.action;return Object(f.css)(p||(p=j(["\n    &.jimu-widget-setting--row {\n      margin-bottom: 0;\n      margin-left: 0;\n      margin-right: 0;\n      &:first-child  /* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */{\n        margin-top: 0;\n      }\n      + .jimu-widget-setting--row {\n        margin-top: ",";\n      }\n    }\n    &,\n    .jimu-widget-setting--row-header {\n      > .jimu-widget-setting--row-label {\n        font-size: 0.8125rem;\n        font-weight: 500;\n        color: ",";\n      }\n    }\n    > .jimu-widget-setting--row-label {\n      display: inline-block;\n      margin-bottom: ",";\n      margin-right: 20px;\n    }\n    > input {\n      &[type='number'] {\n        width: 50px;\n        flex-shrink: 0;\n      }\n    }\n    input {\n      &[type='number'] {\n        &::-webkit-inner-spin-button,\n        &::-webkit-outer-spin-button {\n          -webkit-appearance: none;\n          margin: 0;\n        }\n      }\n    }\n    .jimu-widget-setting--row-header {\n      display: flex;\n      width: 100%;\n      align-items: center;\n      margin-bottom: 0.75rem;\n      > .btn {\n        width: 100%;\n        padding-left: 0;\n        padding-right: 0;\n      }\n      .jimu-widget-setting--row-label {\n        text-align: left;\n        flex: 1;\n        margin-bottom: 0;\n      }\n    }\n    &.form-inline {\n      flex-wrap: nowrap;\n      .jimu-widget-setting--row-label {\n        + * {\n          flex-shrink: 0;\n        }\n      }\n    }\n  "],["\n    &.jimu-widget-setting--row {\n      margin-bottom: 0;\n      margin-left: 0;\n      margin-right: 0;\n      &:first-child  /* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */{\n        margin-top: 0;\n      }\n      + .jimu-widget-setting--row {\n        margin-top: ",";\n      }\n    }\n    &,\n    .jimu-widget-setting--row-header {\n      > .jimu-widget-setting--row-label {\n        font-size: 0.8125rem;\n        font-weight: 500;\n        color: ",";\n      }\n    }\n    > .jimu-widget-setting--row-label {\n      display: inline-block;\n      margin-bottom: ",";\n      margin-right: 20px;\n    }\n    > input {\n      &[type='number'] {\n        width: 50px;\n        flex-shrink: 0;\n      }\n    }\n    input {\n      &[type='number'] {\n        &::-webkit-inner-spin-button,\n        &::-webkit-outer-spin-button {\n          -webkit-appearance: none;\n          margin: 0;\n        }\n      }\n    }\n    .jimu-widget-setting--row-header {\n      display: flex;\n      width: 100%;\n      align-items: center;\n      margin-bottom: 0.75rem;\n      > .btn {\n        width: 100%;\n        padding-left: 0;\n        padding-right: 0;\n      }\n      .jimu-widget-setting--row-label {\n        text-align: left;\n        flex: 1;\n        margin-bottom: 0;\n      }\n    }\n    &.form-inline {\n      flex-wrap: nowrap;\n      .jimu-widget-setting--row-label {\n        + * {\n          flex-shrink: 0;\n        }\n      }\n    }\n  "])),t.sizes[3],t.colors.palette.dark[400],"wrap"===n?o?"0":t.sizes[2]:"0")},k=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};function S(e){var t=e.theme,n=t&&t.colors&&t.colors.palette&&t.colors.palette.light[500]||"#ccc",o=t&&t.colors&&t.colors.primary||"blue",r=f.polished.rgba(n,.5);return window.jimuConfig.isInBuilder?Object(f.css)(u||(u=k(["\n    .widget-builder-linksetting {\n      .option-name{\n        font-size: ",";\n        color: ",";\n        font-weight:\n      }\n      .linksetting-list {\n        .view-border{\n          border-width: 1px;\n          border-style: solid;\n        }\n        .linksetting-list-item {\n          height: ",";\n          cursor: pointer;\n\n          &:hover {\n            background-color: ",";\n          }\n        }\n\n        .linksetting-list-select {\n          background-color: ",";\n        }\n      }\n\n      select {\n        padding-top: "," !important;\n      }\n\n      .itemselected {\n        background-color: "," !important;\n      }\n\n      .btn-primary {\n        background-color: #00A6B6 !important;\n        border-color: #00A6B6 !important;\n        color: #ffffff !important;\n      }\n\n      .form-check-input {\n        span {\n          background: #00A6B6 !important;\n        }\n      }\n\n      .form-check-input:hover {\n        border-color: gray;\n      }\n\n      input[type='radio'].form-check-input {\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        background: transparent;\n        border: 1px solid #000;\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        transition: all 0.2s ease;\n        &:before {\n        content: '';\n        display: block;\n        position: absolute;\n        width: 0;\n        height: 0;\n        border-radius: 50%;\n        background: #00A6B6 !important;\n        margin: 8px;\n        transition: all 0.2s ease-out;\n        }\n        &:hover {\n        border-color: #00A6B6 !important;\n        }\n        &:checked {\n        &:before {\n            width: 8px;\n            height: 8px;\n            margin: 3px;\n        }\n        }\n      }\n      .link-setting-cursor-pointer{\n        cursor: pointer;\n      }\n      .open-type-label{\n        max-width: calc(100% - ",");\n        display: inline-block;\n      }\n    }\n    .url-error-container{\n      *{\n        color: ",";\n      }\n      div{\n        width: calc(100% - 20px);\n        marginLeft: 4px;\n        overflow: hidden;\n        textOverflow: ellipsis;\n      }\n    }\n  "],["\n    .widget-builder-linksetting {\n      .option-name{\n        font-size: ",";\n        color: ",";\n        font-weight:\n      }\n      .linksetting-list {\n        .view-border{\n          border-width: 1px;\n          border-style: solid;\n        }\n        .linksetting-list-item {\n          height: ",";\n          cursor: pointer;\n\n          &:hover {\n            background-color: ",";\n          }\n        }\n\n        .linksetting-list-select {\n          background-color: ",";\n        }\n      }\n\n      select {\n        padding-top: "," !important;\n      }\n\n      .itemselected {\n        background-color: "," !important;\n      }\n\n      .btn-primary {\n        background-color: #00A6B6 !important;\n        border-color: #00A6B6 !important;\n        color: #ffffff !important;\n      }\n\n      .form-check-input {\n        span {\n          background: #00A6B6 !important;\n        }\n      }\n\n      .form-check-input:hover {\n        border-color: gray;\n      }\n\n      input[type='radio'].form-check-input {\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        background: transparent;\n        border: 1px solid #000;\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        transition: all 0.2s ease;\n        &:before {\n        content: '';\n        display: block;\n        position: absolute;\n        width: 0;\n        height: 0;\n        border-radius: 50%;\n        background: #00A6B6 !important;\n        margin: 8px;\n        transition: all 0.2s ease-out;\n        }\n        &:hover {\n        border-color: #00A6B6 !important;\n        }\n        &:checked {\n        &:before {\n            width: 8px;\n            height: 8px;\n            margin: 3px;\n        }\n        }\n      }\n      .link-setting-cursor-pointer{\n        cursor: pointer;\n      }\n      .open-type-label{\n        max-width: calc(100% - ",");\n        display: inline-block;\n      }\n    }\n    .url-error-container{\n      *{\n        color: ",";\n      }\n      div{\n        width: calc(100% - 20px);\n        marginLeft: 4px;\n        overflow: hidden;\n        textOverflow: ellipsis;\n      }\n    }\n  "])),f.polished.rem(13),t.colors.palette.dark[400],f.polished.rem(30),r,r,f.polished.rem(2),o,f.polished.rem(25),t.colors.danger):Object(f.css)(d||(d=k(["\n    .widget-builder-linksetting {\n      .option-name{\n        font-size: ",";\n        color: ",";\n        font-weight: 500;\n      }\n      .mb-12{\n        margin-bottom: ",";\n      }\n      .item-common{\n        background: ",";\n      }\n      .view-border{\n        border: 1px solid ",";\n      }\n      .linksetting-list {\n\n        .linksetting-list-item {\n          height: ",";\n          cursor: pointer;\n\n          &:hover {\n            background-color: ",";\n          }\n        }\n\n        .linksetting-list-select {\n          background-color: ",";\n        }\n      }\n\n      select {\n        padding-top: "," !important;\n      }\n\n      .itemselected {\n        background-color: "," !important;\n      }\n      .link-setting-cursor-pointer{\n        cursor: pointer;\n      }\n      .open-type-label{\n        max-width: calc(100% - ",");\n        display: inline-block;\n      }\n      .url-error-container{\n        *{\n          color: ",";\n        }\n        div{\n          width: calc(100% - 20px);\n          marginLeft: 4px;\n          overflow: hidden;\n          textOverflow: ellipsis;\n        }\n      }\n    }\n  "],["\n    .widget-builder-linksetting {\n      .option-name{\n        font-size: ",";\n        color: ",";\n        font-weight: 500;\n      }\n      .mb-12{\n        margin-bottom: ",";\n      }\n      .item-common{\n        background: ",";\n      }\n      .view-border{\n        border: 1px solid ",";\n      }\n      .linksetting-list {\n\n        .linksetting-list-item {\n          height: ",";\n          cursor: pointer;\n\n          &:hover {\n            background-color: ",";\n          }\n        }\n\n        .linksetting-list-select {\n          background-color: ",";\n        }\n      }\n\n      select {\n        padding-top: "," !important;\n      }\n\n      .itemselected {\n        background-color: "," !important;\n      }\n      .link-setting-cursor-pointer{\n        cursor: pointer;\n      }\n      .open-type-label{\n        max-width: calc(100% - ",");\n        display: inline-block;\n      }\n      .url-error-container{\n        *{\n          color: ",";\n        }\n        div{\n          width: calc(100% - 20px);\n          marginLeft: 4px;\n          overflow: hidden;\n          textOverflow: ellipsis;\n        }\n      }\n    }\n  "])),f.polished.rem(13),t.colors.palette.dark[400],f.polished.rem(12),t.colors.white,t.colors.palette.light[400],f.polished.rem(30),r,r,f.polished.rem(2),o,f.polished.rem(25),t.colors.danger)}var P,C=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};function I(e){var t=e.theme;return Object(f.css)(P||(P=C(["\n    color: ",";\n    .font-size-13{\n      font-size: "," !important;\n    }\n    .subscriber-warning{\n      font-size: ",";\n    }\n    .secondary-title{\n      font-size: ",";\n    }\n    .content-table{\n      font-size: ",";\n      color: ",";\n    }\n    .content-table-header{\n      height: ",";\n      background-color: ",";\n      display: block;\n      line-height: ",";\n    }\n    .content-table-tr{\n      height: ",";\n      line-height: ",";\n      border-bottom: 1px solid ",";\n    }\n    .col-4, .col-2{\n      height: 100%;\n    }\n    .request-limit{\n      margin-top: ",";\n    }\n    .request-interval{\n      display: block;\n      margin-top: ",";\n    }\n  "],["\n    color: ",";\n    .font-size-13{\n      font-size: "," !important;\n    }\n    .subscriber-warning{\n      font-size: ",";\n    }\n    .secondary-title{\n      font-size: ",";\n    }\n    .content-table{\n      font-size: ",";\n      color: ",";\n    }\n    .content-table-header{\n      height: ",";\n      background-color: ",";\n      display: block;\n      line-height: ",";\n    }\n    .content-table-tr{\n      height: ",";\n      line-height: ",";\n      border-bottom: 1px solid ",";\n    }\n    .col-4, .col-2{\n      height: 100%;\n    }\n    .request-limit{\n      margin-top: ",";\n    }\n    .request-interval{\n      display: block;\n      margin-top: ",";\n    }\n  "])),t.colors.palette.dark[600],f.polished.rem(13),f.polished.rem(13),f.polished.rem(14),f.polished.rem(13),t.colors.palette.dark[800],f.polished.rem(32),t.colors.palette.light[400],f.polished.rem(30),f.polished.rem(39),f.polished.rem(39),t.colors.palette.light[400],f.polished.rem(6),f.polished.rem(-3))}var _,M=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};function A(e){var t=e.theme;return Object(f.css)(_||(_=M(["\n    max-width: "," !important;\n    .header{\n      font-size: ",";\n      color: ",";\n    }\n    .proxy-setting-container{\n      width: ",";\n      height: ",";\n      border: 0;\n      color: ",";\n    }\n    .px-30{\n      padding-right: ",";\n      padding-left: ",";\n    }\n  "],["\n    max-width: "," !important;\n    .header{\n      font-size: ",";\n      color: ",";\n    }\n    .proxy-setting-container{\n      width: ",";\n      height: ",";\n      border: 0;\n      color: ",";\n    }\n    .px-30{\n      padding-right: ",";\n      padding-left: ",";\n    }\n  "])),f.polished.rem(960),f.polished.rem(16),t.colors.palette.dark[600],f.polished.rem(960),f.polished.rem(640),t.colors.palette.dark[600],f.polished.rem(30),f.polished.rem(30))}var N,R,L,E,D=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},T=function(e){var t=e.theme,n=e.gutter;return Object(f.css)(N||(N=D(["\n    margin-bottom: 0;\n    label {\n      display: inline-flex;\n      align-items: center;\n      margin-right: ",";\n      .jimu-radio {\n        margin-right: ",";\n      }\n    }\n  "],["\n    margin-bottom: 0;\n    label {\n      display: inline-flex;\n      align-items: center;\n      margin-right: ",";\n      .jimu-radio {\n        margin-right: ",";\n      }\n    }\n  "])),n||t.sizes[3],t.gutters[4])},z=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},U=function(e){var t=e.theme,n=e.gutter,o=e.size,r=e.vertical;return Object(f.css)(L||(L=z(["\n    display: flex;\n    > .setting--item-selector-item {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      > .btn {\n        width: ",";\n        height: ",";\n        background: ",";\n        border: 0;\n        &:hover {\n          border: 0;\n        }\n        &:not(:disabled):not(.disabled):active, \n        &:not(:disabled):not(.disabled).active {\n          background: ",";\n          border: 0;\n          outline: 2px solid ",";\n        }\n      }\n      > label {\n        margin-bottom: 0;\n        margin-top: ",";\n      }\n      + .setting--item-selector-item {\n        margin-left: ",";\n      }\n    }\n    ","\n  "],["\n    display: flex;\n    > .setting--item-selector-item {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      > .btn {\n        width: ",";\n        height: ",";\n        background: ",";\n        border: 0;\n        &:hover {\n          border: 0;\n        }\n        &:not(:disabled):not(.disabled):active, \n        &:not(:disabled):not(.disabled).active {\n          background: ",";\n          border: 0;\n          outline: 2px solid ",";\n        }\n      }\n      > label {\n        margin-bottom: 0;\n        margin-top: ",";\n      }\n      + .setting--item-selector-item {\n        margin-left: ",";\n      }\n    }\n    ","\n  "])),o&&o.width,o&&o.height,t.colors.palette.light[200],t.colors.palette.light[200],t.colors.palette.primary[700],t.gutters[3],n||t.sizes[3],r&&Object(f.css)(R||(R=z(["\n      flex-direction: column;\n      > .setting--item-selector-item + .setting--item-selector-item {\n        margin-left: 0;\n        margin-top: ",";\n      }\n    "],["\n      flex-direction: column;\n      > .setting--item-selector-item + .setting--item-selector-item {\n        margin-left: 0;\n        margin-top: ",";\n      }\n    "])),n||t.sizes[3]))},B=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};function W(e){var t=e.theme;return Object(f.css)(E||(E=B(["\n    width: ",";\n    height: calc(100% - 70px);\n    padding: 0;\n    overflow: hidden;\n    border-radius: 0;\n    box-shadow: 0 0 0;\n    border-left: 1px solid ",";\n    border-right: 1px solid ",";\n    border-top: 0;\n    border-bottom: 0;\n    margin: 0 !important;\n  "],["\n    width: ",";\n    height: calc(100% - 70px);\n    padding: 0;\n    overflow: hidden;\n    border-radius: 0;\n    box-shadow: 0 0 0;\n    border-left: 1px solid ",";\n    border-right: 1px solid ",";\n    border-top: 0;\n    border-bottom: 0;\n    margin: 0 !important;\n  "])),f.polished.rem(260),t.colors.palette.light[800],t.colors.palette.light[800])}var F,H,V,J,q=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},G=function(e){var t=e.theme;return Object(f.css)(F||(F=q(["\n    .dropdown-menu--inner {\n      background-color: ",";\n      padding: 0;\n    }\n\n    .dropdown-toggle-content {\n      width: 100%;\n    }\n\n    .layerviewselector-input {\n      width: 100%;\n      height: 30px !important;\n      background-color: ",";\n      flex-direction: unset !important;\n    }\n\n    .layerviewselector-input-text {\n      max-width: calc(100% - 13px);\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .layerviewselector-bg {\n      max-height: 270px;\n      overflow-y: auto;\n      background-color: ",";\n    }\n\n    .layerviewselector-item-bg {\n      cursor: pointer;\n    }\n\n    .layerviewselector-item-bg:hover {\n      background-color: ",";\n    }\n\n    .layerviewselector-ds-item {\n      cursor: pointer;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      width: 100%;\n    }\n\n    .layerviewselector-ds-item:hover {\n      background-color: ",";\n    }\n\n    .layerviewselector-ds-item-selected {\n      background-color: ",";\n    }\n  "],["\n    .dropdown-menu--inner {\n      background-color: ",";\n      padding: 0;\n    }\n\n    .dropdown-toggle-content {\n      width: 100%;\n    }\n\n    .layerviewselector-input {\n      width: 100%;\n      height: 30px !important;\n      background-color: ",";\n      flex-direction: unset !important;\n    }\n\n    .layerviewselector-input-text {\n      max-width: calc(100% - 13px);\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .layerviewselector-bg {\n      max-height: 270px;\n      overflow-y: auto;\n      background-color: ",";\n    }\n\n    .layerviewselector-item-bg {\n      cursor: pointer;\n    }\n\n    .layerviewselector-item-bg:hover {\n      background-color: ",";\n    }\n\n    .layerviewselector-ds-item {\n      cursor: pointer;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      width: 100%;\n    }\n\n    .layerviewselector-ds-item:hover {\n      background-color: ",";\n    }\n\n    .layerviewselector-ds-item-selected {\n      background-color: ",";\n    }\n  "])),t.colors.palette.secondary[200],t.colors.palette.secondary[200],t.colors.palette.secondary[200],t.colors.primary,t.colors.primary,t.colors.primary)},Y=n(21),Q=n(1),X=(H=function(e,t){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}H(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),K=function(e){function t(t){var n=e.call(this,t)||this;return n.onSelectWidget=function(e){n.setState({currentWidget:e})},n.getListItemJSX=function(e){return Object(f.jsx)(Q.Card,{className:Object(f.classNames)("widget-card-item",{"widget-card-selected":n.state.currentWidget&&0===n.state.currentWidget.indexOf(e.uri)}),key:e.title,onClick:function(){return n.onSelectWidget(e.uri)}},Object(f.jsx)("div",{className:"widget-card-image bg-light-300"},Object(f.jsx)("div",null,Object(f.jsx)(Q.CardImg,{top:!0,width:"100%",src:e.image.src,alt:e.image.alt}))),Object(f.jsx)(Q.CardBody,{className:"widget-card-content"},Object(f.jsx)("span",{className:"text-capitalize",title:e.title},e.title)))},n.state={currentWidget:null,listInfo:[]},n}return X(t,e),t.prototype.componentDidMount=function(){var e=this;this.getListInfo().then((function(t){e.setState({listInfo:t.listInfo})}))},t.prototype.getListInfo=function(){return fetch(f.urlUtils.getAbsoluteRootUrl()+"widgets/widgets-info.json").then((function(e){return e.json()})).then((function(e){return{listInfo:e.map((function(e){var t={title:"",uri:"",image:{src:""}};return t.title=e.label,t.uri=e.path,t.image.src="../"+e.icon,t}))}}))},t.prototype.render=function(){var e,t=this;return Object(f.jsx)("div",{className:Object(f.classNames)("w-100 h-100",(e={},e[this.props.className]=!!this.props.className,e))},Object(f.jsx)("div",{className:"component-choose-widget-popup"},Object(f.jsx)(Q.Modal,{isOpen:!0,className:"component-choose-widget-popup-modal"},Object(f.jsx)(Q.ModalHeader,{className:"component-choose-widget-clear-border component-choose-widget-modal-header"},this.props.title,Object(f.jsx)("span",{className:"choose-widget-popup-close",onClick:this.props.onCancel})),Object(f.jsx)(Q.ModalBody,{className:"component-choose-widget-clear-border component-choose-widget-modal-body"},this.state.listInfo.length>0?this.state.listInfo.map((function(e){return t.getListItemJSX(e)})):"Loading..."),Object(f.jsx)(Q.ModalFooter,{className:"component-choose-widget-clear-border component-choose-widget-modal-footer"},Object(f.jsx)(Q.Button,{onClick:function(){return t.props.onOK(t.state.currentWidget)}},"OK"),Object(f.jsx)(Q.Button,{onClick:this.props.onCancel},"Cancel")))))},t}(f.React.PureComponent),Z=f.themeUtils.withStyles(K,"WidgetSelector"),$=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ee=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},te=function(e){function t(t){var n=e.call(this,t)||this;return n.noneMapWidget=Object(f.Immutable)({id:"none",label:n.props.intl.formatMessage({id:"none",defaultMessage:Q.defaultMessages.none})}),n.getStyle=function(e){return Object(f.css)(V||(V=ee(["\n      .component-map-selector{\n        width: 100%;\n      }\n\n    "],["\n      .component-map-selector{\n        width: 100%;\n      }\n\n    "])))},n.onSelect=function(e){var t=e.target.value,o=t===n.noneMapWidget.id?[]:[t];n.props.onSelect&&n.props.onSelect(o)},n.getSelectedMapWidget=function(){if(!n.props.useMapWidgetIds)return null;var e=n.props.useMapWidgetIds[0];return n.props.mapWidgetJsons.find((function(t){return t.id===e}))||null},n}return $(t,e),t.prototype.render=function(){var e=this.props.mapWidgetJsons,t=this.getSelectedMapWidget();return Object(f.jsx)("div",{css:this.getStyle(this.props.theme),className:"w-100"},Object(f.jsx)("div",{className:"component-map-selector"},Object(f.jsx)(Q.Select,{size:"sm",value:t?t.id:this.noneMapWidget.id,onChange:this.onSelect,className:""},e.concat(this.noneMapWidget).map((function(e,t){return Object(f.jsx)("option",{key:t,value:e.id},e.label)})))))},t}(f.React.PureComponent),ne=f.ReactRedux.connect((function(e,t){var n=window&&window.jimuConfig&&window.jimuConfig.isBuilder?e.appStateInBuilder&&e.appStateInBuilder.appConfig:e.appConfig,o=n&&n.widgets;return{mapWidgetJsons:o?Object.keys(o).filter((function(e){return o[e]&&o[e].manifest&&o[e].manifest.properties&&o[e].manifest.properties.canCreateMapView})).map((function(e){return o[e]})):[]}}))(Object(f.injectIntl)(f.themeUtils.withTheme(te))),oe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),re=function(e){function t(t){return e.call(this,t)||this}return oe(t,e),t.prototype.getContent=function(){for(var e=this,t=[],n=0;n<this.props.fromRootDsIds.length;n++)t.push(this.props.fromRootDsIds[n]);return f.React.createElement("div",{className:"w-100"},t.map((function(t,n){var o=f.DataSourceManager.getInstance().getDataSource(t),r=o.getLabel(),i=o.getChildDataSources();return f.React.createElement("div",{key:n},f.React.createElement("div",{className:"text-dark-600 pl-2 pr-2",style:{fontSize:"14px"}},r),i.map((function(n,o){return f.React.createElement("div",{key:o,className:"mt-1 mb-1"},f.React.createElement("div",{className:Object(f.classNames)("layerviewselector-ds-item pl-2 pr-2",{"layerviewselector-ds-item-selected":e.props.selectedDsIds&&e.props.selectedDsIds.indexOf(n.id)>-1}),title:n.getLabel(),onClick:function(){e.props.onSelect&&e.props.onSelect({rootDataSourceId:t,dataSourceId:n.id})}},n.getLabel()))})))})))},t.prototype.render=function(){return this.props.fromRootDsIds&&0!=this.props.fromRootDsIds.length?f.React.createElement("div",{className:"w-100"},this.getContent()):null},t}(f.React.PureComponent),ie=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ae=n(81),se=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleList=function(e){n.setState({listOpen:!n.state.listOpen})},n.onResize=function(e){n.setState({width:e})},n.handleChooseLayer=function(e){if(n.props.onSelect)if(e){var t=f.DataSourceManager.getInstance().getDataSource(e.rootDataSourceId),o=f.DataSourceManager.getInstance().getDataSource(e.dataSourceId).id,r=t.getJimuChildId(o)[0];n.props.onSelect(Object(f.Immutable)({jimuMapViewId:n.props.useMapWidgetIds[0]+"-"+e.rootDataSourceId,jimuLayerId:r,datasourceId:e&&e.dataSourceId,rootDatasourceId:e&&e.rootDataSourceId}))}else n.props.onSelect(Object(f.Immutable)({}));n.setState({listOpen:!1})},n.handleClickNone=function(){n.props.onSelect&&n.props.onSelect(Object(f.Immutable)({})),n.setState({listOpen:!1})},n.getTitle=function(){return n.props.jimuLayerViewInfo&&n.props.useMapWidgetIds&&n.props.useMapWidgetIds[0]&&n.props.jimuLayerViewInfo.datasourceId?Object(f.jsx)(f.DataSourceComponent,{useDataSource:Object(f.Immutable)({dataSourceId:n.props.jimuLayerViewInfo.datasourceId,mainDataSourceId:n.props.jimuLayerViewInfo.datasourceId,rootDataSourceId:n.props.jimuLayerViewInfo.rootDatasourceId})},(function(e,t,n){return e.getLabel()})):"None"},n.getContent=function(){var e=n.props.useMapWidgetIds&&n.props.useMapWidgetIds[0],t=Object(f.getAppStore)().getState().appStateInBuilder.appConfig.widgets[e];return t&&t.useDataSources&&t.useDataSources[0]?Object(f.jsx)("div",{className:"w-100 mt-1 mb-2"},Object(f.jsx)("div",{onClick:function(){n.handleClickNone()}},Object(f.jsx)("div",{className:"layerviewselector-ds-item pl-2 pr-2"},"None")),Object(f.jsx)("div",{className:"w-100 mt-1 mb-1"},Object(f.jsx)("div",{className:"w-100 border border-bottom-0 border-right-0 border-left-0"})),Object(f.jsx)(f.MultipleDataSourceComponent,{useDataSources:t.useDataSources},(function(e,t){var o=Object(f.Immutable)(Object.keys(e)),r=[];return n.props.jimuLayerViewInfo&&n.props.jimuLayerViewInfo.datasourceId&&r.push(n.props.jimuLayerViewInfo.datasourceId),Object(f.jsx)(re,{fromRootDsIds:o,onSelect:function(e){n.handleChooseLayer(e)},selectedDsIds:Object(f.Immutable)(r)})}))):n.getEmptyContent()},n.getEmptyContent=function(){return Object(f.jsx)("div",{className:"w-100 mt-1 mb-2"},Object(f.jsx)("div",{className:"layerviewselector-ds-item pl-2 pr-2",onClick:function(){n.handleClickNone()}},"None"))},n.state={listOpen:!1,width:0},n}return ie(t,e),t.prototype.render=function(){var e,t,n=this;return Object(f.jsx)("div",{className:Object(f.classNames)("w-100",(e={},e[this.props.className]=!!this.props.className,e))},Object(f.jsx)(Q.Dropdown,{size:"sm",toggle:function(e){n.toggleList(e)},isOpen:this.state.listOpen,className:"w-100"},Object(f.jsx)(Q.DropdownToggle,{size:"sm",type:"tertiary",className:Object(f.classNames)("h-100 p-0 m-0 d-flex flex-column align-items-center toollist-item h-100","justify-content-between toollist-item-click h-100 border-0 layerviewselector-input")},Object(f.jsx)("div",{className:"w-100 d-flex justify-content-between align-items-center"},Object(f.jsx)("div",{className:"layerviewselector-input-text ml-2"},this.getTitle()),Object(f.jsx)(Q.Icon,{size:8,icon:ae}))),Object(f.jsx)(Q.DropdownMenu,{className:Object(f.classNames)("ml-0 mr-0 mb-0 mt-1 p-0",(t={},t[this.props.className]=!!this.props.className,t))},Object(f.jsx)("div",{className:"w-100 h-100 layerviewselector-bg"},Object(f.jsx)("div",{style:{width:this.state.width+"px"}},this.getContent())))),Object(f.jsx)(f.ReactResizeDetector,{handleWidth:!0,onResize:this.onResize}))},t}(f.React.PureComponent),ce=f.themeUtils.withStyles(se,"JimuLayerViewSelector"),le=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pe=function(e){function t(t){var n=e.call(this,t)||this;return n.onStyleClick=function(e){n.state.selectedValue!==e&&(n.setState({selectedValue:e}),n.props.onChange&&n.props.onChange(e))},n.state={selectedValue:n.props.value},n}return le(t,e),t.prototype.componentDidUpdate=function(e,t){e.value!==this.props.value&&this.setState({selectedValue:this.props.value})},t.prototype.render=function(){var e=this,t=this.props.styles;return f.React.createElement("div",{className:Object(f.classNames)("widget-setting--stylepicker w-100",{small:"small"===this.props.size})},Object.keys(t).map((function(n,o){return f.React.createElement("div",{key:n,role:"button",className:Object(f.classNames)("widget-setting--stylepicker-item",{active:n===e.state.selectedValue,"full-width":"full"===t[n].size}),style:{backgroundImage:"url("+t[n].thumbnail+")"},onClick:function(){return e.onStyleClick(n)}})})))},t}(f.React.PureComponent),ue=f.themeUtils.withStyles(pe,"StylePicker"),de=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fe=function(){return(fe=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},me=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},ge=function(e){function t(n){var o=e.call(this,n)||this;return o.state={value:o.props.value},o.onRadioButtonChange=function(e){var t=e.target.value;o.state.value!==t&&(o.setState({value:t}),o.props.onChange&&o.props.onChange(t))},t.count++,o.inputName="setting-radiogroup-"+t.count,o}return de(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.options,o=t.className,r=me(t,["options","className"]);return f.React.createElement(Q.FormGroup,fe({},r,{onChange:this.onRadioButtonChange,className:"setting--button-group "+o}),n.map((function(t){return f.React.createElement(Q.Label,{key:t.value},f.React.createElement(Q.Radio,{value:t.value,name:e.inputName,checked:e.state.value===t.value}),t.content)})))},t.count=0,t}(f.React.PureComponent),he=f.themeUtils.withStyles(ge,"RadioGroup"),be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ve=function(){return(ve=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ye=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},xe=n(54),we=function(e){function t(n){var o=e.call(this,n)||this;return o.state={value:o.props.value,size:"default"},o.onRadioButtonClick=function(e){o.setState({value:e})},t.count++,o.inputName="setting-radiogroup-"+t.count,o}return be(t,e),t.prototype.componentDidUpdate=function(e,t){this.props.value!==e.value&&this.setState({value:this.props.value}),this.state.value!==t.value&&this.props&&this.props.onChange&&this.props.onChange(this.state.value)},t.prototype.render=function(){var e=this,t=this.props,n=t.options,o=t.className,r=t.vertical,i=ye(t,["options","className","vertical"]),a=Object(f.classNames)("setting--item-selector",o,{vertical:r});return f.React.createElement("div",ve({},i,{className:a}),n.map((function(t,n){return f.React.createElement("div",{className:"setting--item-selector-item "+(e.state.value===t.value?"active":"")+" ",key:t.value.toString()+n},e.state.value===t.value&&f.React.createElement("span",{className:"check-ribbon"},f.React.createElement(Q.Icon,{icon:xe})),f.React.createElement(Q.Button,{className:"p-0",onClick:function(){e.onRadioButtonClick(t.value)},active:e.state.value===t.value},t.content),f.React.createElement("label",{className:"text-break"},t.label))})))},t.count=0,t}(f.React.PureComponent),je=f.themeUtils.withStyles(we,"ItemCardSelector"),Oe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oe(t,e),t.prototype.render=function(){return f.React.createElement(Q.Container,{className:Object(f.classNames)(this.props.className,"jimu-widget-setting--section")},this.props.title&&f.React.createElement(Q.Row,{className:"jimu-widget-setting--section-header"},f.React.createElement("h6",{className:"w-100 text-truncate"},this.props.title)),this.props.children)},t}(f.React.PureComponent),Se=f.themeUtils.withStyles(ke,"SettingSection"),Pe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ce=function(e){return f.React.createElement("div",{className:"jimu-widget-setting--row-header mb-3"},e.children)},Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onActionClick=function(e){"drilldown"===e&&t.props&&t.props.onDrillDown&&t.props.onDrillDown()},t}return Pe(t,e),t.prototype.render=function(){var e=this,t=this.props,o=t.action,r=t.flow,i=t.truncateLabel,a=t.label,s=t.indented,c=t.className,l=Object(f.classNames)(c,"jimu-widget-setting--row","form-group","align-items-center",{"form-inline":"wrap"!==r,"pl-4":s}),p=o?"span":"label",u=a&&f.React.createElement(p,{className:Object(f.classNames)("jimu-widget-setting--row-label justify-content-start flex-grow-1 text-break",{"w-100 mr-0":"wrap"===r,"text-truncate":i})},a);return f.React.createElement(Q.Row,{className:l},"wrap"===r&&o?f.React.createElement(Ce,null,"drilldown"===o?f.React.createElement(Q.Button,{size:"sm",type:"tertiary",onClick:function(){return e.onActionClick("drilldown")}},u,f.React.createElement(Q.Icon,{className:"right-icon",icon:n(77)})):void 0):u,this.props.children)},t}(f.React.PureComponent),_e=f.themeUtils.withStyles(Ie,"SettingRow"),Me=function(){return(Me=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ae=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Ne=n(56),Re=function(e){var t=f.ReactRedux.useSelector((function(e){return e.theme})),n=e.label,o=e.isOpen,r=e.onRequestOpen,i=e.onRequestClose,a=e.children,s=Ae(e,["label","isOpen","onRequestOpen","onRequestClose","children"]);return f.React.createElement("div",{className:"setting-collapse w-100"},f.React.createElement("div",{className:"w-100 d-flex justify-content-between"},f.React.createElement("div",{className:"text-truncate"},n),f.React.createElement(Q.Button,{size:"sm",type:"tertiary",icon:!0,onClick:function(){o?null==i||i():null==r||r()}},f.React.createElement(Q.Icon,{size:12,color:t.colors.black,icon:Ne,rotate:o?180:0}))),f.React.createElement(Q.Collapse,Me({},s,{isOpen:o}),a))};!function(e){e.CurrentWindow="_self",e.TopWindow="_top",e.NewWindow="_blank"}(J||(J={}));var Le=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ee=function(e){function t(t){var n=e.call(this,t)||this;return n.itemOnClick=function(e){n.props.onClick(e),n.setState({selectedItemName:e.name})},n}return Le(t,e),t.prototype.getListContent=function(){var e=this;return this.props.datas.map((function(t,n){return f.React.createElement("div",{onClick:function(){return e.itemOnClick(t)},key:n,className:Object(f.classNames)("linksetting-list-item btn w-100 border text-left border-bottom-0 rounded-0 text-truncate",{itemselected:e.props.linkParam.value===t.id})},t.name)}))},t.prototype.render=function(){var e=this,t=this.props.datas.find((function(t){return e.props.linkParam.value===t.id})),n=t&&t.id;return f.React.createElement("div",{className:"linksetting-list w-100"},f.React.createElement(Q.Select,{value:n,className:"w-100",onChange:function(t){return e.itemOnClick(e.props.datas.find((function(e){return e.id===t.target.value})))}},this.props.datas.map((function(e,t){return f.React.createElement("option",{key:t,value:e.id},e.name)}))))},t}(f.React.PureComponent),De=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Te=function(e){function t(t){var n=e.call(this,t)||this;return n.currentPage={id:f.CONSTANTS.CURRENT_PAGE,name:n.props.intl.formatMessage({id:"currentPage",defaultMessage:Q.defaultMessages.currentPage})},n.getInitLinkParam=function(){var e=n.props.appConfig.pageStructure;if(!e||e.length<1)return Object(f.Immutable)({value:""});if(n.props.originLinkParam.linkType!==f.LinkType.Page){var t=n.getPageData();return Object(f.Immutable)({linkType:f.LinkType.Page,value:t&&t.some((function(e){return"default"===e.id}))?"default":t&&t[0]&&t[0].id,openType:J.CurrentWindow})}return n.props.originLinkParam},n.getPageData=function(){var e=n.props.appConfig&&n.props.appConfig.pages,t=e&&Object.keys(e).filter((function(t){return e[t].type===f.PageType.Normal})),o=[n.currentPage];return t&&(o=o.concat(t.map((function(t){return{id:t,name:e[t].label}})))),o},n.setLinkParam=function(e){var t=n.props.linkParam;t=t.set("value",e.id),n.props.onLinkParamChange(t)},n}return De(t,e),t.prototype.componentDidMount=function(){var e=this.getInitLinkParam();this.props.onLinkParamChange(e)},t.prototype.render=function(){var e=this.getPageData();return f.React.createElement("div",{className:"w-100"},f.React.createElement("div",{className:"mb-12 option-name"},this.props.intl.formatMessage({id:"chooseAPage",defaultMessage:Q.defaultMessages.chooseAPage})),f.React.createElement("div",{style:{maxHeight:this.props.selectAreaMaxHeight?this.props.selectAreaMaxHeight:"",overflowY:this.props.selectAreaMaxHeight?"auto":""}},f.React.createElement(Ee,{linkParam:this.props.linkParam,datas:e,onClick:this.setLinkParam})))},t}(f.React.PureComponent),ze=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ue=function(e){function t(t){var n=e.call(this,t)||this;return n.getInitLinkParam=function(){var e=n.props.appConfig.dialogs;if(!e||Object.keys(e).length<1)return Object(f.Immutable)({linkType:f.LinkType.Dialog,value:""});if(n.props.originLinkParam.linkType!==f.LinkType.Dialog){var t=n.getDialogData();return Object(f.Immutable)({linkType:f.LinkType.Dialog,value:t&&t.some((function(e){return"default"===e.id}))?"default":t&&t[0]&&t[0].id})}return n.props.originLinkParam},n.getDialogData=function(){var e,t,o=n.props.appConfig&&n.props.appConfig.dialogs,r=(null===(e=o&&Object.values(o).filter((function(e){return(null==e?void 0:e.mode)===f.DialogMode.Fixed})))||void 0===e?void 0:e.sort((function(e,t){return e.index-t.index})))||[],i=(null===(t=o&&Object.values(o).filter((function(e){return(null==e?void 0:e.mode)===f.DialogMode.Anchored})))||void 0===t?void 0:t.sort((function(e,t){return e.index-t.index})))||[],a=r.concat(i).map((function(e){return e.id}));return a&&a.filter((function(e){return!o[e].isSplash})).map((function(e){return{id:e,name:o[e].label}}))},n.setLinkParam=function(e){var t=n.props.linkParam;t=t.set("value",e.id),n.props.onLinkParamChange(t)},n}return ze(t,e),t.prototype.componentDidMount=function(){var e=this.getInitLinkParam();this.props.onLinkParamChange(e)},t.prototype.componentDidUpdate=function(e){if(e.appConfig!==this.props.appConfig){var t=this.getInitLinkParam();this.props.onLinkParamChange(t)}},t.prototype.render=function(){var e=this.getDialogData();return f.React.createElement("div",{className:"w-100"},f.React.createElement("div",{className:"mb-12 option-name"},this.props.intl.formatMessage({id:"chooseADialog",defaultMessage:Q.defaultMessages.chooseADialog})),f.React.createElement("div",{style:{maxHeight:this.props.selectAreaMaxHeight?this.props.selectAreaMaxHeight:"",overflowY:this.props.selectAreaMaxHeight?"auto":""}},e&&e.length>0&&f.React.createElement(Ee,{linkParam:this.props.linkParam,datas:e,onClick:this.setLinkParam})))},t}(f.React.PureComponent),Be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),We=n(81),Fe=n(82),He=function(e){function t(t){return e.call(this,t)||this}return Be(t,e),t.prototype.componentWillMount=function(){this.setState({collapse:this.props.isOpen})},t.prototype.render=function(){var e=this;return f.React.createElement("div",{className:Object(f.classNames)("w-100",this.props.className)},f.React.createElement("div",{style:{overflow:"hidden"},className:"w-100 btn pb-2 pr-2 d-flex justify-content-between",onClick:function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.setState({collapse:!e.state.collapse})}},f.React.createElement("div",null,this.props.title),f.React.createElement(Q.Icon,{icon:this.state.collapse?We:Fe,size:"12"})),f.React.createElement(Q.Collapse,{isOpen:this.state.collapse},this.props.children))},t}(f.React.PureComponent),Ve=n(31);function Je(e,t){var n=t&&t.pages;return n&&n[e]&&n[e].type===f.PageType.Normal&&Ve.searchUtils.getContentsInPageBody(t,e,f.LayoutItemType.Section,Ve.utils.getCurrentSizeMode())||[]}function qe(e,t){if(!e)return[];var n=Ge(e,t);if(n&&n.length>0){var o=[],r=[];return n.forEach((function(e){o=o.concat(Ye(e,t).map((function(e){return e.id})))})),o.length>0&&o.forEach((function(e){r=r.concat(qe(e,t))})),o.concat(r)}return[]}function Ge(e,t){return Ve.searchUtils.getContentsInView(t,e,f.LayoutItemType.Section,Ve.utils.getCurrentSizeMode())||[]}function Ye(e,t){for(var n=t.sections[e].views,o=[],r=0;r<n.length;r++)o.push({id:n[r],label:t.views[n[r]].label});return o}function Qe(e){if(!e)return null;if(!new RegExp("^(([h][t]{2}[p][s])?://)").test(e))return"httpError";var t=e.indexOf(".");return t<0||t===e.length-1?"invalidUrlError":null}var Xe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ke=function(){return(Ke=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ze=function(e){function t(t){var n=e.call(this,t)||this;return n.noScroll="Do not scroll",n.getInitLinkParam=function(){return n.props.originLinkParam.linkType===f.LinkType.View?n.props.originLinkParam:Object(f.Immutable)({linkType:f.LinkType.View,openType:J.CurrentWindow,value:""})},n.pageChange=function(e){var t=n.props.linkParam;t=t.set("value",e.target.value),n.props.onLinkParamChange(t)},n.viewChange=function(e,t){var o=[];(o=Object.assign(o,n.state.viewLinkParamArr))[0]||(o[0]=n.getDefaultPageId());var r=n.props.appConfig.sections[t].views,i=o.filter((function(t){return r.some((function(e){return e===t}))&&t!==e})),a=[],s=o.indexOf(e);if(s>-1?i=i.concat(o[s]):a=a.concat(e),i&&i.length>0){var c=[];i.forEach((function(e){c=c.concat(qe(e,n.props.appConfig))})),i=i.concat(c)}o=(o=o.filter((function(e){return!i.some((function(t){return t===e}))}))).concat(a);var l=n.props.linkParam;l=l.set("value",o.join(",")),n.props.onLinkParamChange(l)},n.viewRemove=function(e){var t=[];(t=Object.assign(t,n.state.viewLinkParamArr))[0]||(t[0]=n.getDefaultPageId());var o=qe(e,n.props.appConfig).concat(e);t=t.slice(0,1).concat(t.slice(1).filter((function(e){return!o.some((function(t){return t===e}))})));var r=n.props.linkParam;r=r.set("value",t.join(",")),n.props.onLinkParamChange(r,!0)},n.onScrollToViewChange=function(e){n.setState({scrollToViewId:e})},n.getDefaultPageId=function(){var e=n.props.appConfig&&n.props.appConfig.pages,t=e&&Object.keys(e).filter((function(e){return Je(e,n.props.appConfig).length>0}));return t&&t.find((function(t){return e[t].isDefault}))||t&&t[0]},n.getSelectedVeiwIds=function(){return n.state.viewLinkParamArr.slice(1)},n.state={viewLinkParamArr:[],scrollToViewId:n.noScroll},n}return Xe(t,e),t.prototype.componentDidMount=function(){var e=this.getInitLinkParam(),t=e.value,n=e.linkType;t&&n===f.LinkType.View?this.setState({viewLinkParamArr:t.split(",")}):this.setState({viewLinkParamArr:[]}),this.props.onLinkParamChange(e)},t.getDerivedStateFromProps=function(e,t){var n=e.linkParam,o=n.value,r=n.linkType;return o&&r===f.LinkType.View?Ke(Ke({},t),{viewLinkParamArr:o.split(",")}):Ke(Ke({},t),{viewLinkParamArr:[]})},t.prototype.render=function(){var e,t,n=this;if(!this.props.appConfig)return null;var o={};Object.keys(this.props.appConfig.pages).forEach((function(e){n.props.appConfig.pages[e]&&n.props.appConfig.pages[e].type===f.PageType.Normal&&(o[e]=Ke({},n.props.appConfig.pages[e]))}));var r=this.state.viewLinkParamArr[0]||this.getDefaultPageId();return o[r]?f.React.createElement("div",{className:"w-100"},f.React.createElement("div",{className:"mb-12 option-name"},this.props.intl.formatMessage({id:"chooseViews",defaultMessage:Q.defaultMessages.chooseViews})),f.React.createElement("div",{style:{maxHeight:this.props.selectAreaMaxHeight?this.props.selectAreaMaxHeight:"",overflowY:this.props.selectAreaMaxHeight?"auto":""}},f.React.createElement(Q.Select,{value:r,onChange:this.pageChange,className:"w-100 mb-3"},Object.keys(o).filter((function(e){return Je(e,n.props.appConfig).length>0})).map((function(e,t){return f.React.createElement("option",{key:t,value:o[e].id},o[e].label)}))),f.React.createElement("div",{className:Object(f.classNames)("choose-view",{"mb-3":(null===(e=Je(r,this.props.appConfig))||void 0===e?void 0:e.length)>0})},Je(r,this.props.appConfig).map((function(e){return f.React.createElement($e,{sections:n.props.appConfig.sections,sectionId:e,viewsInfo:Ye(e,n.props.appConfig),viewLinkParamArr:n.state.viewLinkParamArr,viewChange:n.viewChange,viewRemove:n.viewRemove,key:e})}))),f.React.createElement("div",{className:Object(f.classNames)("choose-view",{"mb-3":(null===(t=this.getSelectedVeiwIds())||void 0===t?void 0:t.length)>0})},this.getSelectedVeiwIds().map((function(e){return Ge(e,n.props.appConfig).map((function(e){return f.React.createElement($e,{sections:n.props.appConfig.sections,sectionId:e,viewsInfo:Ye(e,n.props.appConfig),viewLinkParamArr:n.state.viewLinkParamArr,viewChange:n.viewChange,viewRemove:n.viewRemove,key:e})}))}))))):null},t}(f.React.PureComponent),$e=function(e){function t(t){var n=e.call(this,t)||this;return n.onViewChange=function(e){n.setState({viewId:e}),n.props.viewChange(e,n.props.sectionId)},n.state={viewId:null},n}return Xe(t,e),t.prototype.componentWillUnmount=function(){this.props.viewRemove(this.state.viewId)},t.prototype.render=function(){var e=this;return f.React.createElement(He,{className:"mb-3 choose-view",title:this.props.sections[this.props.sectionId]&&this.props.sections[this.props.sectionId].label,isOpen:!0,key:this.props.sectionId},f.React.createElement("div",{className:"linksetting-list w-100 view-border border-top-0 border-left-0 border-right-0 rounded-0"},this.props.viewsInfo.map((function(t,n){return f.React.createElement("div",{onClick:function(){return e.onViewChange(t.id)},key:n,className:Object(f.classNames)("linksetting-list-item btn w-100 view-border px-2 pt-1 text-left border-bottom-0 rounded-0 text-truncate",{"item-common":!(e.props.viewLinkParamArr.indexOf(t.id)>-1)},{itemselected:e.props.viewLinkParamArr.indexOf(t.id)>-1}),title:t.label},t.label)}))))},t}(f.React.PureComponent),et=n(62),tt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),nt=Object(f.Immutable)([et.ExpressionInputType.Static,et.ExpressionInputType.Attribute,et.ExpressionInputType.Expression]),ot=function(e){function t(t){var n=e.call(this,t)||this;return n.getInitLinkParam=function(){return n.props.originLinkParam.linkType===f.LinkType.WebAddress?n.props.originLinkParam:Object(f.Immutable)({linkType:f.LinkType.WebAddress,openType:J.NewWindow,value:""})},n.webAddressInputChange=function(e){var t=e,o=n.props.linkParam;o=o.set("value",t).set("expression",null),n.props.onLinkParamChange(o)},n.webAddressExpressionChange=function(e){var t=n.props.linkParam;t=t.set("expression",e).set("value",""),n.props.onLinkParamChange(t),n.closeExpPopup()},n.openExpPopup=function(){return n.setState({isExpPopupOpen:!0})},n.closeExpPopup=function(){return n.setState({isExpPopupOpen:!1})},n.getDefaultExp=function(){return{name:"Expression",parts:[{type:f.ExpressionPartType.String,exp:'"https://"'}]}},n.staticUrlChange=function(e){var t,o=Qe(t=e&&e.target&&e.target.value?e.target.value.trim():"");o?(n.setState({showUrlError:!0}),"httpError"===o?n.setState({urlError:n.props.intl.formatMessage({id:"httpsUrlMessage",defaultMessage:Q.defaultMessages.httpsUrlMessage})}):"invalidUrlError"===o&&n.setState({urlError:n.props.intl.formatMessage({id:"invalidUrlMessage",defaultMessage:Q.defaultMessages.invalidUrlMessage})})):n.setState({showUrlError:!1,urlError:""}),n.webAddressInputChange(t)},n.state={isExpPopupOpen:!1,showUrlError:!1,urlError:""},n}return tt(t,e),t.prototype.componentDidMount=function(){var e=this.getInitLinkParam();this.props.onLinkParamChange(e)},t.prototype.render=function(){return f.React.createElement("div",{className:"w-100"},f.React.createElement("div",{className:"mb-12 option-name"},this.props.intl.formatMessage({id:"url",defaultMessage:Q.defaultMessages.url})),f.React.createElement("div",null,this.props.useDataSources&&this.props.useDataSources.length>0?f.React.createElement(et.ExpressionInput,{useDataSources:this.props.useDataSources,onChange:this.webAddressExpressionChange,expression:this.props.linkParam&&this.props.linkParam.expression||this.getDefaultExp(),closeExpPopup:this.closeExpPopup,openExpPopup:this.openExpPopup,isExpPopupOpen:this.state.isExpPopupOpen,types:nt,widgetId:this.props.widgetId}):f.React.createElement(Q.TextInput,{value:this.props.linkParam.value?this.props.linkParam.value:"",className:"w-100",invalid:this.state.showUrlError,placeholder:this.props.intl.formatMessage({id:"websitePlaceholder",defaultMessage:Q.defaultMessages.websitePlaceholder}),spellCheck:!1,onChange:this.staticUrlChange,onAcceptValue:this.webAddressInputChange}),this.state.showUrlError&&f.React.createElement("div",{className:"d-flex w-100 align-items-center justify-content-between url-error-container",style:{marginTop:"5px"}},f.React.createElement(Q.Icon,{size:16,icon:n(64)}),f.React.createElement("div",null,this.state.urlError))))},t}(f.React.PureComponent),rt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),it=function(e){function t(t){var n=e.call(this,t)||this;return n.getLinkTypeContent=function(){return n.props.isLinkPageSetting?Object(f.jsx)(Q.Select,{value:n.state.linkParam.linkType,onChange:n.linkTypeChange,className:"w-100"},Object(f.jsx)("option",{value:f.LinkType.WebAddress},n.props.intl.formatMessage({id:"webAddress",defaultMessage:Q.defaultMessages.webAddress}))):Object(f.jsx)(Q.Select,{value:n.state.linkParam.linkType,onChange:n.linkTypeChange,className:"w-100"},Object(f.jsx)("option",{value:f.LinkType.None},n.props.intl.formatMessage({id:"none",defaultMessage:Q.defaultMessages.none})),Object(f.jsx)("option",{value:f.LinkType.Page},n.props.intl.formatMessage({id:"page",defaultMessage:f.defaultMessages.page})),Object(f.jsx)("option",{value:f.LinkType.View},n.props.intl.formatMessage({id:"view",defaultMessage:f.defaultMessages.view})),Object(f.jsx)("option",{value:f.LinkType.Dialog},n.props.intl.formatMessage({id:"dialog",defaultMessage:f.defaultMessages.dialog})),Object(f.jsx)("option",{value:f.LinkType.WebAddress},n.props.intl.formatMessage({id:"webAddress",defaultMessage:Q.defaultMessages.webAddress})))},n.getLinkContent=function(e){switch(e){case f.LinkType.None:return null;case f.LinkType.Page:return Object(f.jsx)(Te,{selectAreaMaxHeight:n.props.selectAreaMaxHeight,originLinkParam:n.state.originLinkParam,linkParam:n.state.linkParam,appConfig:n.props.appConfig,onLinkParamChange:n.linkParamChange,intl:n.props.intl});case f.LinkType.Dialog:return Object(f.jsx)(Ue,{selectAreaMaxHeight:n.props.selectAreaMaxHeight,originLinkParam:n.state.originLinkParam,linkParam:n.state.linkParam,appConfig:n.props.appConfig,onLinkParamChange:n.linkParamChange,intl:n.props.intl});case f.LinkType.View:return Object(f.jsx)(Ze,{selectAreaMaxHeight:n.props.selectAreaMaxHeight,intl:n.props.intl,originLinkParam:n.state.originLinkParam,linkParam:n.state.linkParam,appConfig:n.props.appConfig,onLinkParamChange:n.linkParamChange,browserSizeMode:n.props.browserSizeMode});case f.LinkType.WebAddress:return Object(f.jsx)(ot,{selectAreaMaxHeight:n.props.selectAreaMaxHeight,intl:n.props.intl,originLinkParam:n.state.originLinkParam,linkParam:n.state.linkParam,onLinkParamChange:n.linkParamChange,useDataSources:n.props.useDataSources,widgetId:n.props.widgetId});default:return null}},n.linkTypeChange=function(e){var t=Object(f.Immutable)(n.state.linkParam);n.setState({linkParam:t.set("linkType",e.target.value)})},n.radioOpenTypeChange=function(e){var t=Object(f.Immutable)(n.state.linkParam);t=t.set("openType",e),n.setState({linkParam:t})},n.linkParamChange=function(e,t){t?e&&n.state.linkParam&&e.linkType===n.state.linkParam.linkType&&n.setState({linkParam:e}):n.setState({linkParam:e})},n.settingConfirm=function(){var e=Object(f.Immutable)(n.state.linkParam);n.setState({originLinkParam:e}),n.props.onSettingConfirm(e)},n.isLinkParamOk=function(e){if(!e||!e.linkType)return!1;if(e.linkType===f.LinkType.Page||e.linkType===f.LinkType.Dialog)return!(!e.value||"string"!=typeof e.value);if(e.linkType===f.LinkType.View){var t=e.value&&e.value.split(",")[0]||null,o=e.value&&e.value.split(",").slice(1)||[];return!!(t&&"string"==typeof t&&o.length>0)}if(e.linkType===f.LinkType.WebAddress){if(n.props.useDataSources&&n.props.useDataSources.length>0){var r=e.expression&&e.expression.parts,i=!1;return r&&r.length>0&&(i=1!==r.length||!!r[0].exp&&'""'!==r[0].exp),i}return!Qe(e.value)}return!0},n}return rt(t,e),t.prototype.componentWillMount=function(){if(this.props.linkParam&&this.props.linkParam.linkType)this.setState({linkParam:Object(f.Immutable)(this.props.linkParam),originLinkParam:Object(f.Immutable)(this.props.linkParam)});else{var e={linkType:f.LinkType.None,openType:"_self"};this.setState({linkParam:Object(f.Immutable)(e),originLinkParam:Object(f.Immutable)(e)})}},t.prototype.render=function(){var e=this;if(this.props.appConfig){var t=this.getLinkTypeContent(),n=this.getLinkContent(this.state.linkParam.linkType);return Object(f.jsx)("div",{className:Object(f.classNames)(this.props.className,"w-100 h-100")},Object(f.jsx)("div",{className:"widget-builder-linksetting w-100 h-100"},Object(f.jsx)("div",{style:{position:"relative"},className:"w-100 h-100"},Object(f.jsx)(Q.Container,null,Object(f.jsx)(Q.Row,{className:"mb-12 option-name"},this.props.intl.formatMessage({id:"linkTo",defaultMessage:Q.defaultMessages.linkTo})),Object(f.jsx)(Q.Row,{className:"mb-3"},t),this.state.linkParam.linkType!==f.LinkType.None?Object(f.jsx)("div",null,Object(f.jsx)(Q.Row,{className:"mb-3"},n),this.state.linkParam.linkType!==f.LinkType.Dialog&&Object(f.jsx)("div",null,Object(f.jsx)(Q.Row,{className:"mb-12 option-name"},this.props.intl.formatMessage({id:"openIn",defaultMessage:Q.defaultMessages.openIn})),Object(f.jsx)(Q.Container,{className:"p-0"},Object(f.jsx)(Q.Row,{className:"mb-3"},Object(f.jsx)(Q.Radio,{onChange:function(){return e.radioOpenTypeChange(J.CurrentWindow)},id:"link-setting-app-window",checked:this.state.linkParam.openType===J.CurrentWindow}),Object(f.jsx)(Q.Label,{for:"link-setting-app-window",className:"ml-2 link-setting-cursor-pointer open-type-label text-truncate"},this.props.intl.formatMessage({id:"appWindow",defaultMessage:Q.defaultMessages.appWindow}))),Object(f.jsx)(Q.Row,{className:"mb-3"},Object(f.jsx)(Q.Radio,{onChange:function(){return e.radioOpenTypeChange(J.TopWindow)},id:"link-setting-top-window",checked:this.state.linkParam.openType===J.TopWindow}),Object(f.jsx)(Q.Label,{for:"link-setting-top-window",className:"ml-2 link-setting-cursor-pointer open-type-label text-truncate"},this.props.intl.formatMessage({id:"topWindow",defaultMessage:Q.defaultMessages.topWindow}))),Object(f.jsx)(Q.Row,{className:"mb-3"},Object(f.jsx)(Q.Radio,{onChange:function(){return e.radioOpenTypeChange(J.NewWindow)},id:"link-setting-new-window",checked:this.state.linkParam.openType===J.NewWindow}),Object(f.jsx)(Q.Label,{for:"link-setting-new-window",className:"ml-2 link-setting-cursor-pointer open-type-label text-truncate"},this.props.intl.formatMessage({id:"newWindow",defaultMessage:Q.defaultMessages.newWindow})))))):null),Object(f.jsx)("div",{className:"w-100",style:{position:"absolute"}},Object(f.jsx)(Q.Button,{className:"w-100 text-dark link-setting-ok-btn",type:"primary",onClick:this.settingConfirm,disabled:!this.isLinkParamOk(this.state.linkParam)},Object(f.jsx)("div",{className:"text-truncate"},this.props.intl.formatMessage({id:"ok",defaultMessage:f.defaultMessages.ok})))))))}return null},t.prototype.componentDidMount=function(){this.props.isLinkPageSetting&&this.linkTypeChange({target:{value:f.LinkType.WebAddress}})},t}(f.React.PureComponent),at=f.ReactRedux.connect((function(e){return{appConfig:window&&window.jimuConfig&&window.jimuConfig.isBuilder?e.appStateInBuilder.appConfig:e.appConfig,browserSizeMode:window&&window.jimuConfig&&window.jimuConfig.isBuilder?e.appStateInBuilder.browserSizeMode:e.browserSizeMode}}))(Object(f.injectIntl)(f.themeUtils.withStyles(it,"LinkSetting"))),st=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ct=function(){return(ct=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},lt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},pt=[{name:"preventOverflow",options:{boundariesElement:"viewport"}}],ut=function(e){function t(t){var n=e.call(this,t)||this;return n.state={realIsOpen:n.getRealIsOpen()},n}return st(t,e),t.prototype.componentDidUpdate=function(e){var t=this;e.isOpen!==this.props.isOpen||"left"===this.props.position&&e.leftSidebarCollapse&&!this.props.leftSidebarCollapse||"right"===this.props.position&&e.rightSidebarCollapse&&!this.props.rightSidebarCollapse?this.setState({realIsOpen:this.getRealIsOpen()}):("left"===this.props.position&&!e.leftSidebarCollapse&&this.props.leftSidebarCollapse||"right"===this.props.position&&!e.rightSidebarCollapse&&this.props.rightSidebarCollapse)&&setTimeout((function(){return t.setState({realIsOpen:t.getRealIsOpen()})}),210)},t.prototype.getReference=function(e){return"left"===e?document&&document.querySelector('[data-layoutid="left-sidebar-left-layout"]'):document&&document.querySelector('[data-layoutid="right-sidebar-right-layout"]')},t.prototype.getRealIsOpen=function(){var e=this.props,t=e.isOpen,n=e.position,o=e.leftSidebarCollapse,r=e.rightSidebarCollapse;return t&&("left"===n?o:r)},t.prototype.getPlacement=function(e){return"left"===e?"right-start":"left-start"},t.prototype.render=function(){var e=this.props,t=(e.isOpen,e.position),n=e.className,o=(e.dispatch,e.leftSidebarCollapse,e.rightSidebarCollapse,lt(e,["isOpen","position","className","dispatch","leftSidebarCollapse","rightSidebarCollapse"])),r=this.state.realIsOpen;return f.React.createElement(Q.Popper,ct({reference:this.getReference(t),placement:this.getPlacement(t),open:r,className:Object(f.classNames)("bg-light-300",n),modifiers:pt},o),this.props.children)},t}(f.React.PureComponent),dt=f.ReactRedux.connect((function(e,t){var n,o,r,i;return{leftSidebarCollapse:null===(o=null===(n=e.widgetsState)||void 0===n?void 0:n["left-sidebar"])||void 0===o?void 0:o.collapse,rightSidebarCollapse:null===(i=null===(r=e.widgetsState)||void 0===r?void 0:r["right-sidebar"])||void 0===i?void 0:i.collapse}}))(f.themeUtils.withStyles(ut,"SidePopper")),ft=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mt=function(){return(mt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},gt=n(39),ht=function(e){function t(t){var n=e.call(this,t)||this;return n.style={height:"31px",marginTop:"18px"},n.fontSizeStyle={fontSize:"16px",color:""+n.props.theme.colors.palette.dark[600],fontWeight:"500"},n.cursorStyle={cursor:"pointer"},n.close=function(){n.props.onSettingCancel()},n.getIsOpen=function(){return n.props.isOpen||n.props.showDialog},n}return ft(t,e),t.prototype.render=function(){var e=this.props.pisition||"right",t=this.props.title;return f.React.createElement(dt,{isOpen:this.getIsOpen(),position:e},f.React.createElement("div",{className:"bg-light-300 w-100 h-100"},f.React.createElement("div",{className:"w-100 mb-2 d-flex align-items-center justify-content-between",style:this.style},f.React.createElement("div",{className:"ml-3 text-truncate",title:this.props.intl.formatMessage({id:t?"setLinkForTitle":"setLink",defaultMessage:t?Q.defaultMessages.setLinkForTitle:Q.defaultMessages.setLink},{title:t}),style:mt({width:"calc(100% - 40px)"},this.fontSizeStyle)},this.props.intl.formatMessage({id:t?"setLinkForTitle":"setLink",defaultMessage:t?Q.defaultMessages.setLinkForTitle:Q.defaultMessages.setLink},{title:t})),f.React.createElement(Q.Button,{size:"sm",icon:!0,type:"tertiary",className:"mr-3",onClick:this.close,style:this.cursorStyle},f.React.createElement(Q.Icon,{icon:gt,size:"16"}))),f.React.createElement("div",{className:"w-100 h-100 px-3 pt-2",style:{overflowY:"auto"}},f.React.createElement("div",null,f.React.createElement(at,{isLinkPageSetting:this.props.isLinkPageSetting,linkParam:this.props.linkParam,onSettingConfirm:this.props.onSettingConfirm,useDataSources:this.props.useDataSources,selectAreaMaxHeight:"500px",widgetId:this.props.widgetId}),f.React.createElement("div",{style:{height:"100px"}})))))},t}(f.React.PureComponent),bt=f.themeUtils.withTheme(Object(f.injectIntl)(ht)),vt=n(47),yt=n(12),xt=function(){return(xt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},wt=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},jt=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Ot(){var e,t,n,o;return wt(this,void 0,void 0,(function(){var r,i;return jt(this,(function(a){return r=null===(o=null===(n=null===(t=null===(e=Object(f.getAppStore)())||void 0===e?void 0:e.getState())||void 0===t?void 0:t.appStateInBuilder)||void 0===n?void 0:n.appConfig)||void 0===o?void 0:o.dataSources,i=[],r&&Object.keys(r).forEach((function(e){var t=f.DataSourceManager.getInstance().getDataSource(e);i.push(kt(t))})),[2,Promise.allSettled(i).then((function(e){var t={};return e.filter((function(e){return"fulfilled"===e.status})).map((function(e){return e.value})).forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]?t[n].dataSources=t[n].dataSources.concat(e[n].dataSources):t=xt(xt({},t),e)}))})),t}))]}))}))}function kt(e,t){var n,o,r,i,a,s,c,l,p,u;return void 0===t&&(t=!1),wt(this,void 0,void 0,(function(){var d,m,g,h,b,v,y,x,w,j,O,k;return jt(this,(function(S){switch(S.label){case 0:return d={},e?(m=null===(i=null===(r=null===(o=null===(n=Object(f.getAppStore)())||void 0===n?void 0:n.getState())||void 0===o?void 0:o.appStateInBuilder)||void 0===r?void 0:r.appConfig)||void 0===i?void 0:i.widgets,g=(null===(a=e.getMainDataSource())||void 0===a?void 0:a.id)==e.id,h=vt.dataComponentsUtils.getWidgetsUsingDsOrItsViews(e.id,m).length>0,b=f.dataSourceUtils.getFullServiceUrl(null===(s=e.getDataSourceJson())||void 0===s?void 0:s.url,!1),g&&b&&(t||h)?(null===(c=e.getDataSourceJson())||void 0===c?void 0:c.portalUrl)&&(null===(l=e.getDataSourceJson())||void 0===l?void 0:l.itemId)?[4,Et(null===(p=e.getDataSourceJson())||void 0===p?void 0:p.itemId,null===(u=e.getDataSourceJson())||void 0===u?void 0:u.portalUrl)]:[3,2]:[3,4]):[2,d];case 1:return y=S.sent(),[3,3];case 2:y=null,S.label=3;case 3:v=y,x=yt.itemSelectorUtils.isPremium(v,b),w=yt.itemSelectorUtils.isSubscriber(v,b),(x||w)&&(d[b]={dataSources:[e],isPremium:x,isSubscriber:w}),S.label=4;case 4:return j=[],g&&e.isDataSourceSet&&(O=e.type===vt.AllDataSourceTypes.WebMap||e.type===vt.AllDataSourceTypes.WebScene,k=O&&h||t,e.getChildDataSources().forEach((function(e){j.push(kt(e,k))}))),[2,Promise.allSettled(j).then((function(e){var t=d;return e.filter((function(e){return"fulfilled"===e.status})).map((function(e){return e.value})).forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]?t[n].dataSources=t[n].dataSources.concat(e[n].dataSources):t=xt(xt({},t),e)}))})),t}))]}}))}))}function St(e,t){var n;if(!e||!t)return null;var o=null;for(var r in t)if((null===(n=t[r])||void 0===n?void 0:n.sourceUrl)===e){o=t[r];break}return o}function Pt(e,t,n,o){return!(!e||!t)&&(e.sourceUrl===t&&((!e.hitsPerInterval&&!n||e.hitsPerInterval===n)&&!((e.intervalSeconds||o)&&e.intervalSeconds!==o)))}function Ct(){var e,t,n=null===(e=Object(f.getAppStore)().getState())||void 0===e?void 0:e.appStateInBuilder.appInfo;return null===(t=null==n?void 0:n.typeKeywords)||void 0===t?void 0:t.includes("Registered App")}function It(){var e,t,n,o,r,i,a,s,c,l;return wt(this,void 0,void 0,(function(){var p,u,d,m,g,h;return jt(this,(function(b){switch(b.label){case 0:return!1===(null===(n=null===(t=null===(e=Object(f.getAppStore)().getState())||void 0===e?void 0:e.appContext)||void 0===t?void 0:t.jimuConfig)||void 0===n?void 0:n.isInPortal)&&!1===(null===(i=null===(r=null===(o=Object(f.getAppStore)().getState())||void 0===o?void 0:o.appContext)||void 0===r?void 0:r.jimuConfig)||void 0===i?void 0:i.isDevEdition)?(p=Ct(),u=!1,p||(d=null===(a=Object(f.getAppStore)().getState())||void 0===a?void 0:a.appStateInBuilder.appInfo,m=null===(l=null===(c=null===(s=Object(f.getAppStore)().getState())||void 0===s?void 0:s.appStateInBuilder)||void 0===c?void 0:c.user)||void 0===l?void 0:l.username,u=(null==d?void 0:d.owner)===m),p||u?[4,Ot()]:[2,Promise.resolve(!1)]):[2,Promise.resolve(!1)];case 1:return g=b.sent(),h=Object.keys(g).map((function(e){return f.ServiceManager.getInstance().fetchServiceInfo(e).then((function(e){return e.isHostedInSamePortal}))})),[2,Promise.all(h).then((function(e){return(null==e?void 0:e.length)>0&&(null==e?void 0:e.some((function(e){return e})))}))]}}))}))}function _t(e,t){if(!e||0===e.length||!t)return Promise.resolve();var n=Rt();return f.esri.restRequest.request(n,{authentication:f.SessionManager.getInstance().getSessionByUrl(Object(f.getAppStore)().getState().portalUrl),httpMethod:"POST",params:{proxies:e.join()}}).then((function(e){var n;return e.results&&Object.values(e.results).forEach((function(e){!0===e.success&&Mt(e.proxyId,t)})),null==t||t.exec(),(null===(n=e.results)||void 0===n?void 0:n.every((function(e){return!0===e.success})))?Promise.resolve():Promise.reject("Deleting existing proxy failed: "+JSON.stringify(e))})).catch((function(n){return e.forEach((function(e){Mt(e,t)})),null==t||t.exec(),Promise.reject("Deleting existing proxy failed: "+JSON.stringify(n))}))}function Mt(e,t){var n,o,r,i=null===(r=null===(o=null===(n=Object(f.getAppStore)().getState())||void 0===n?void 0:n.appStateInBuilder)||void 0===o?void 0:o.appConfig)||void 0===r?void 0:r.appProxies,a=i&&Object.values(i).find((function(t){return t.proxyId===e}));a&&(null==t||t.removeAppProxy(a.id))}function At(){var e,t,n,o,r,i,a,s=null===(t=null===(e=Object(f.getAppStore)().getState())||void 0===e?void 0:e.appStateInBuilder)||void 0===t?void 0:t.portalUrl,c=null===(o=null===(n=Object(f.getAppStore)().getState())||void 0===n?void 0:n.appStateInBuilder)||void 0===o?void 0:o.appId;return s+"/sharing/rest/content/users/"+(null===(a=null===(i=null===(r=Object(f.getAppStore)().getState())||void 0===r?void 0:r.appStateInBuilder)||void 0===i?void 0:i.appInfo)||void 0===a?void 0:a.owner)+"/items/"+c}function Nt(){return At()+"/createProxies"}function Rt(){return At()+"/deleteProxies"}var Lt={};function Et(e,t){return wt(this,void 0,void 0,(function(){var n;return jt(this,(function(o){return n=function(e,t){return f.SessionManager.getInstance().getSessionKeyFromUrl(t)+"-"+e}(e,t),Lt[n]||(Lt[n]=f.requestUtils.requestWrapper(t,(function(n){return f.esri.restPortal.getItem(e,{portal:f.portalUrlUtils.getPortalRestUrl(t),authentication:n})}))),[2,Lt[n]]}))}))}var Dt,Tt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zt=n(54),Ut=function(e){function t(t){var n=e.call(this,t)||this;return n.__unmount=!1,n.interval={none:n.props.intl.formatMessage({id:"intervalNone",defaultMessage:Q.defaultMessages.intervalNone}),second:n.props.intl.formatMessage({id:"intervalSecond",defaultMessage:Q.defaultMessages.intervalSecond}),minute:n.props.intl.formatMessage({id:"intervalMinute",defaultMessage:Q.defaultMessages.intervalMinute}),hour:n.props.intl.formatMessage({id:"intervalHour",defaultMessage:Q.defaultMessages.intervalHour}),day:n.props.intl.formatMessage({id:"intervalDay",defaultMessage:Q.defaultMessages.intervalDay})},n.setIsHostedInSamePortal=function(){n.props.sourceUrl&&f.ServiceManager.getInstance().fetchServiceInfo(n.props.sourceUrl).then((function(e){n.__unmount||n.setState({isHostedInSamePortal:e.isHostedInSamePortal})}))},n.onToggleProxy=function(){var e;e=n.props.proxyConfig?null:Object(f.Immutable)({sourceUrl:n.props.sourceUrl}),n.props.onChange(n.props.sourceUrl,e)},n.onHitsPerInervalChange=function(e){var t=e,o=Object(f.Immutable)({sourceUrl:n.props.sourceUrl,hitsPerInterval:t}),r=n.props.proxyConfig?n.props.proxyConfig.merge(o):o;n.props.onChange(n.props.sourceUrl,r)},n.onIntervalUnitChange=function(e){var t=e.target.value,o=n.getIntervalSeconds(t),r=Object(f.Immutable)({sourceUrl:n.props.sourceUrl,intervalSeconds:o}),i=n.props.proxyConfig?n.props.proxyConfig.merge(r):r;n.props.onChange(n.props.sourceUrl,i)},n.state={isHostedInSamePortal:!0},n}return Tt(t,e),t.prototype.componentDidMount=function(){this.__unmount=!1,this.setIsHostedInSamePortal()},t.prototype.componentDidUpdate=function(e){this.__unmount=!1,e.sourceUrl!==this.props.sourceUrl&&this.setIsHostedInSamePortal()},t.prototype.componentWillUnmount=function(){this.__unmount=!0},t.prototype.getIntervalUnit=function(e){if(!e)return"none";switch(e){case 1:return"second";case 60:return"minute";case 3600:return"hour";case 86400:return"day";default:return"none"}},t.prototype.getIntervalSeconds=function(e){if(!e)return null;switch(e){case"second":return 1;case"minute":return 60;case"hour":return 3600;case"day":return 86400;default:return null}},t.prototype.render=function(){var e,t,n=this;if(!this.props.sourceUrl)return null;var o=this.props.label,r=!!this.props.proxyConfig,i=this.getIntervalUnit(null===(e=this.props.proxyConfig)||void 0===e?void 0:e.intervalSeconds),a=f.SessionManager.getInstance().getMainSession(),s=this.props.sourceUrl+"?token="+a.token;return f.React.createElement("tr",{className:"row m-0 content-table-tr"},f.React.createElement("td",{className:"col-2",title:this.state.isHostedInSamePortal?null:this.props.intl.formatMessage({id:"disabledProxyTooltip",defaultMessage:Q.defaultMessages.disabledProxyTooltip})},f.React.createElement(Q.Switch,{onChange:this.onToggleProxy,checked:r,className:"mr-2",disabled:!this.state.isHostedInSamePortal})),f.React.createElement("td",{className:"col-4",title:o},f.React.createElement(Q.Link,{to:s,target:"_blank",className:"font-size-13 px-0 text-truncate d-block text-left"},o)),f.React.createElement("td",{className:"col-2"},this.props.isPremium&&f.React.createElement(Q.Icon,{icon:zt,size:16})),f.React.createElement("td",{className:"col-2"},r&&f.React.createElement(Q.NumericInput,{size:"sm",value:null===(t=this.props.proxyConfig)||void 0===t?void 0:t.hitsPerInterval,onChange:this.onHitsPerInervalChange,precision:0,min:1,className:"request-limit"})),f.React.createElement("td",{className:"col-2"},r&&f.React.createElement(Q.Select,{value:i,onChange:this.onIntervalUnitChange,size:"sm",className:"request-interval"},Object.keys(this.interval).map((function(e,t){return f.React.createElement("option",{value:e,key:t,selected:e===i},n.interval[e])})))))},t}(f.React.PureComponent),Bt=n(11),Wt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.columnName={authorized:t.props.intl.formatMessage({id:"authorized",defaultMessage:Q.defaultMessages.authorized}),subscriberContent:t.props.intl.formatMessage({id:"subscriberContent",defaultMessage:Q.defaultMessages.subscriberContent}),credits:t.props.intl.formatMessage({id:"credits",defaultMessage:Q.defaultMessages.credits}),requestLimit:t.props.intl.formatMessage({id:"requestLimit",defaultMessage:Q.defaultMessages.requestLimit}),requestInterval:t.props.intl.formatMessage({id:"requestInterval",defaultMessage:Q.defaultMessages.requestInterval})},t.onProxyChange=function(e,n){var o,r=t.props.proxyConfigs||Object(f.Immutable)({}),i=f.dataSourceUtils.getDsTypeFromWholeServiceUrl(e)===f.DataSourceTypes.SceneService;if(n){if(o=r.set(e,n),i){var a=e.replace("/SceneServer","/FeatureServer"),s=n.set("sourceUrl",a);o=o.set(a,s)}}else if(o=r.without(e),i){a=e.replace("/SceneServer","/FeatureServer");o=o.without(a)}t.props.onChange(o)},t}return Wt(t,e),t.prototype.render=function(){var e,t=this,n=this.props.needProxyDataSources,o=this.props.proxyConfigs;return f.React.createElement("div",{className:Bt("h-100 w-100 bg-light-300",(e={},e[this.props.className]=!!this.props.className,e))},f.React.createElement("div",{className:"subscriber-warning"},this.props.intl.formatMessage({id:"subscriberWarning",defaultMessage:Q.defaultMessages.subscriberWarning})),f.React.createElement("div",{className:"secondary-title mt-4 mb-3"},this.props.intl.formatMessage({id:"data",defaultMessage:Q.defaultMessages.data})),f.React.createElement("table",{className:"content-table w-100"},f.React.createElement("thead",{className:"content-table-header container"},f.React.createElement("tr",{className:"row"},Object.keys(this.columnName).map((function(e,n){return f.React.createElement("th",{key:n,className:Bt("text-truncate",{"col-4":"subscriberContent"===e,"col-2":"subscriberContent"!==e}),title:t.columnName[e]},t.columnName[e])})))),f.React.createElement("tbody",{className:"container"},n&&Object.keys(n).map((function(e,r){var i,a,s=n[e],c=s.dataSources[0],l=(null===(i=c)||void 0===i?void 0:i.getLayerDefinition)?null===(a=c)||void 0===a?void 0:a.getLayerDefinition():c.getServiceDefinition?c.getServiceDefinition():null;return f.React.createElement(Ut,{isPremium:s.isPremium,isSubscriber:s.isSubscriber,sourceUrl:e,intl:t.props.intl,key:r,onChange:t.onProxyChange,label:(null==l?void 0:l.name)||f.dataSourceUtils.getServiceLabelFromUrl(e),icon:vt.dataComponentsUtils.getDsIcon(c.getDataSourceJson()),proxyConfig:null==o?void 0:o[e]})})))))},t}(f.React.PureComponent),Ht=Object(f.injectIntl)(f.themeUtils.withStyles(Ft,"ProxySetting")),Vt=n(32),Jt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qt=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Gt=function(){return(Gt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Yt=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},Qt=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Xt={},Kt=function(e){function t(t){var n=e.call(this,t)||this;return n.__unmount=!1,n.getProxyConfigFromAppProxyJsons=function(){return Yt(n,void 0,void 0,(function(){var e,t,n,o,r;return Qt(this,(function(i){switch(i.label){case 0:return[4,Ot()];case 1:return e=i.sent(),t={},n=null===(r=null===(o=Object(f.getAppStore)().getState().appStateInBuilder)||void 0===o?void 0:o.appConfig)||void 0===r?void 0:r.appProxies,Object.keys(e).forEach((function(e){var o=St(e,n);o&&(t[e]=o.without("id").without("proxyId").without("proxyUrl"))})),[2,{proxyConfigs:Object(f.Immutable)(t),needProxyDataSources:e}]}}))}))},n.registerApp=function(){return Yt(n,void 0,void 0,(function(){var e,t,n,o,r,i,a;return Qt(this,(function(s){return e=null===(r=null===(o=Object(f.getAppStore)().getState())||void 0===o?void 0:o.appStateInBuilder)||void 0===r?void 0:r.appId,Xt[e]||(t=null===(a=null===(i=Object(f.getAppStore)().getState())||void 0===i?void 0:i.appStateInBuilder)||void 0===a?void 0:a.portalUrl,n=t+"/sharing/rest/oauth2/registerApp",Xt[e]=f.esri.restRequest.request(n,{authentication:f.SessionManager.getInstance().getSessionByUrl(Object(f.getAppStore)().getState().portalUrl),httpMethod:"POST",params:{itemId:e,appType:"browser",redirect_uris:JSON.stringify([this.getAppRootUrl()])}})),[2,Xt[e]]}))}))},n.createProxies=function(e){return Yt(n,void 0,void 0,(function(){var t,n,o,r,i,a,s,c;return Qt(this,(function(l){switch(l.label){case 0:return e?(t=null===(c=null===(s=null===(a=Object(f.getAppStore)().getState())||void 0===a?void 0:a.appStateInBuilder)||void 0===s?void 0:s.appConfig)||void 0===c?void 0:c.appProxies,n={},o=[],Object.keys(e).forEach((function(r){var i=e[r];if(i){var a=i.hitsPerInterval,s=i.intervalSeconds,c=St(r,t);Pt(c,r,a,s)?n[c.id]=c:o=o.concat({sourceUrl:r,hitsPerInterval:a,intervalSeconds:s})}})),0===o.length?[2,Object(f.Immutable)(n)]:Ct()?[3,2]:[4,this.registerApp()]):[2,Promise.resolve(null)];case 1:l.sent(),l.label=2;case 2:return r={referrers:[this.getAppUrl()]},i=Nt(),[2,f.esri.restRequest.request(i,{authentication:f.SessionManager.getInstance().getSessionByUrl(Object(f.getAppStore)().getState().portalUrl),httpMethod:"POST",params:{serviceProxyParams:r,proxies:o}}).then((function(e){var t,o,r=(null==e?void 0:e.appProxies)||[],i=n,a=null===(o=null===(t=Object(f.getAppStore)().getState())||void 0===t?void 0:t.appStateInBuilder)||void 0===o?void 0:o.appConfig,s=null==a?void 0:a.appProxies;return r.forEach((function(e){var t=St(e.sourceUrl,s),n=(null==t?void 0:t.id)||f.appConfigUtils.getUniqueId(a.set("appProxies",s?s.merge(i):i),"appProxy");i[n]=Gt(Gt({},e),{id:n})})),Object(f.Immutable)(i)}))]}}))}))},n.getAppRootUrl=function(){var e;return null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.origin},n.getAppUrl=function(){var e,t,o,r,i,a,s=null===(t=null===(e=Object(f.getAppStore)().getState())||void 0===e?void 0:e.appStateInBuilder)||void 0===t?void 0:t.appId,c=null===(r=null===(o=Object(f.getAppStore)().getState())||void 0===o?void 0:o.appStateInBuilder)||void 0===r?void 0:r.appInfo,l="Web Experience Template"===(null==c?void 0:c.type),p=null===(i=f.urlUtils.getAppUrl({appId:s,isTemplate:l}))||void 0===i?void 0:i.replace(/^\//,"");return(null===(a=n.getAppRootUrl())||void 0===a?void 0:a.replace(/\/$/,""))+"/"+p},n.onProxyConfigChange=function(e){n.setState({proxyConfigs:e})},n.onFinish=function(){var e,t,o,r;n.setState({isLoading:!0});var i=n.state.proxyConfigs||Object(f.Immutable)({}),a=null===(o=null===(t=null===(e=Object(f.getAppStore)().getState())||void 0===e?void 0:e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===o?void 0:o.appProxies,s=a&&Object.values(a).filter((function(e){var t,n=i[null==e?void 0:e.sourceUrl];if(f.dataSourceUtils.getDsTypeFromWholeServiceUrl(null==e?void 0:e.sourceUrl)===f.DataSourceTypes.FeatureService){var o=null===(t=null==e?void 0:e.sourceUrl)||void 0===t?void 0:t.replace("/FeatureServer","/SceneServer"),r=i[o];n=n||(null==r?void 0:r.set("sourceUrl",null==e?void 0:e.sourceUrl))}return!n||!Pt(e,n.sourceUrl,n.hitsPerInterval,n.intervalSeconds)}));_t(null==s?void 0:s.map((function(e){return e.proxyId})),null===(r=n.state)||void 0===r?void 0:r.getAppConfigAction()).then((function(){return n.createProxies(i).then((function(e){var t;if(!n.__unmount){if(e){var o=null===(t=n.state)||void 0===t?void 0:t.getAppConfigAction();Object.keys(e).forEach((function(t){null==o||o.editAppProxy(e[t])})),null==o||o.exec()}n.props.onFinish().then((function(){n.__unmount||setTimeout((function(){n.setState({isLoading:!1},(function(){n.props.onToggle()}))}),3e3)}),(function(){n.__unmount||setTimeout((function(){n.setState({isLoading:!1},(function(){n.props.onToggle()}))}),3e3)}))}}))})).catch((function(e){console.error("Creating proxy failed: ",e),n.setState({isLoading:!1,isError:!0},(function(){setTimeout((function(){n.setState({isError:!1})}),5500)}))}))},n.getTostStyle=function(){var e,t,o,r,i,a,s,c,l,p,u;return Object(f.css)(Dt||(Dt=qt(["\n      & {\n        height:  ",";\n        top: ",";\n      }\n      .jimu-toast-info {\n        background: ",";\n        line-height: ",";\n        color: ",";\n        font-weight: 300;\n        padding: 0 ",";\n        box-shadow: 0 0 "," "," ",";\n      }\n    "],["\n      & {\n        height:  ",";\n        top: ",";\n      }\n      .jimu-toast-info {\n        background: ",";\n        line-height: ",";\n        color: ",";\n        font-weight: 300;\n        padding: 0 ",";\n        box-shadow: 0 0 "," "," ",";\n      }\n    "])),f.polished.rem(40),f.polished.rem(60),null===(r=null===(o=null===(t=null===(e=n.props)||void 0===e?void 0:e.theme)||void 0===t?void 0:t.colors)||void 0===o?void 0:o.palette)||void 0===r?void 0:r.secondary[300],f.polished.rem(40),null===(c=null===(s=null===(a=null===(i=n.props)||void 0===i?void 0:i.theme)||void 0===a?void 0:a.colors)||void 0===s?void 0:s.palette)||void 0===c?void 0:c.dark[800],f.polished.rem(16),f.polished.rem(10),f.polished.rem(2),f.polished.rgba(null===(u=null===(p=null===(l=n.props)||void 0===l?void 0:l.theme)||void 0===p?void 0:p.colors)||void 0===u?void 0:u.white,.2))},n.state={getAppConfigAction:null,isLoading:!1,isError:!1,proxyConfigs:null,needProxyDataSources:null},n}return Jt(t,e),t.prototype.componentDidMount=function(){var e=this;this.__unmount=!1,f.moduleLoader.loadModule("jimu-for-builder").then((function(t){e.__unmount||e.setState({getAppConfigAction:t.getAppConfigAction})})),this.setState({isLoading:!0}),this.getProxyConfigFromAppProxyJsons().then((function(t){e.__unmount||e.setState({proxyConfigs:t.proxyConfigs,needProxyDataSources:t.needProxyDataSources,isLoading:!1})}),(function(t){e.__unmount||e.setState({isLoading:!1}),console.error("Getting proxy config error",t)}))},t.prototype.componentDidUpdate=function(e){var t=this;(!e.isOpen&&this.props.isOpen||e.appProxies!==this.props.appProxies)&&(this.setState({isLoading:!0}),this.getProxyConfigFromAppProxyJsons().then((function(e){t.__unmount||t.setState({proxyConfigs:e.proxyConfigs,needProxyDataSources:e.needProxyDataSources,isLoading:!1})}),(function(e){t.__unmount||t.setState({isLoading:!1}),console.error("Getting proxy config error",e)})))},t.prototype.componentWillUnmount=function(){this.__unmount=!0},t.prototype.render=function(){var e,t=this.state.proxyConfigs,n=this.state.needProxyDataSources;return Object(f.jsx)(Q.Modal,{isOpen:this.props.isOpen,centered:!0,className:Object(f.classNames)((e={},e[this.props.className]=!!this.props.className,e)),returnfocusafterclose:"true",contentClassName:"proxy-setting-container",backdrop:"static"},Object(f.jsx)(Q.ModalHeader,{className:"d-flex justify-content-between header px-30",toggle:this.props.onToggle},Object(f.jsx)("div",{className:"flex-grow-1 text-truncate"},this.props.intl.formatMessage({id:"subscriberContents",defaultMessage:Q.defaultMessages.subscriberContents}))),Object(f.jsx)(Q.ModalBody,{className:"d-flex px-30"},Object(f.jsx)(Ht,{onChange:this.onProxyConfigChange,proxyConfigs:t,needProxyDataSources:n})),Object(f.jsx)(Q.ModalFooter,{className:"px-30"},Object(f.jsx)(Q.Button,{className:"mr-2",type:"primary",onClick:this.onFinish},this.props.intl.formatMessage({id:"publish",defaultMessage:f.defaultMessages.publish})),Object(f.jsx)(Q.Button,{type:"default",onClick:this.props.onCancel},this.props.intl.formatMessage({id:"cancel",defaultMessage:f.defaultMessages.cancel}))),this.state.isLoading&&Object(f.jsx)(Q.Loading,{type:Vt.a.Secondary}),this.state.isError&&Object(f.jsx)(Q.Toast,{open:this.state.isError,type:Vt.c.Info,css:this.getTostStyle(),text:this.props.intl.formatMessage({id:"creatProxyToPublishAppError",defaultMessage:Q.defaultMessages.creatProxyToPublishAppError})}))},t}(f.React.PureComponent),Zt=Object(f.injectIntl)(f.themeUtils.withStyles(f.themeUtils.withTheme(Kt),"ProxySettingPopup")),$t=f.ReactRedux.connect((function(e,t){var n,o;return{appProxies:null===(o=null===(n=null==e?void 0:e.appStateInBuilder)||void 0===n?void 0:n.appConfig)||void 0===o?void 0:o.appProxies}}))(Zt),en=n(72),tn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),nn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},on=function(){return(on=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},rn=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},an=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tn(t,e),t.prototype.componentDidUpdate=function(e){this.props.pageId===e.pageId&&this.props.sizemode===e.sizemode||this.props.toggle()},t.prototype.getStyle=function(){var e=this.props.theme;return e&&Object(f.css)(sn||(sn=nn(["\n      background-color: ",";\n      ","\n      > * {\n        ::-webkit-scrollbar {\n          width: 8px;\n          height: 8px;\n        }\n\n        ::-webkit-scrollbar-track {\n          background: transparent;\n        }\n\n        ::-webkit-scrollbar-thumb {\n          background: ",";\n          border-radius: 10px;\n        }\n\n        ::-webkit-scrollbar-thumb:hover {\n          background: ",";\n        }\n      }\n    "],["\n      background-color: ",";\n      ","\n      > * {\n        ::-webkit-scrollbar {\n          width: 8px;\n          height: 8px;\n        }\n\n        ::-webkit-scrollbar-track {\n          background: transparent;\n        }\n\n        ::-webkit-scrollbar-thumb {\n          background: ",";\n          border-radius: 10px;\n        }\n\n        ::-webkit-scrollbar-thumb:hover {\n          background: ",";\n        }\n      }\n    "])),e.colors.palette.light[300],Object(en.a)({background:e.colors.palette.light[300],border:{color:e.colors.palette.light[600],width:"1px"}}),e.colors.palette.light[500],e.colors.palette.light[800])},t.prototype.render=function(){var e=this.props,t=(e.pageId,e.sizemode,e.dispatch,rn(e,["pageId","sizemode","dispatch"]));return Object(f.jsx)(Q.Popper,on({css:this.getStyle()},t))},t}(f.React.PureComponent);var sn,cn,ln,pn,un,dn,fn,mn,gn,hn,bn,vn,yn,xn,wn,jn,On=f.ReactRedux.connect((function(e){return{pageId:e.appRuntimeInfo.currentPageId,sizemode:e.browserSizeMode}}))(an),kn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Sn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Pn=[{name:"flip",enabled:!0},{name:"preventOverflow",enabled:!0,options:{boundariesElement:"viewport",padding:10}}],Cn=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOutsideClick=function(e){var t=!1;n.props.referenceElement&&(t=n.props.referenceElement.contains(e.target)),!n.contentRef||t||n.contentRef.contains(e.target)||n.props.onClose()},n.togglePopper=function(){n.state.open&&n.props.onClose&&n.props.onClose(),n.setState({open:!n.state.open})},n.state={widgetInfoList:null,open:!0,generation:0},n}return kn(t,e),t.prototype.componentDidMount=function(){this.loadWidgetInfos(),document.addEventListener("mousedown",this.handleOutsideClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleOutsideClick)},t.prototype.loadWidgetInfos=function(){var e=this;f.WidgetManager.getInstance().getWidgetListInfo().then((function(t){var n=t.filter((function(t){return e.props.isItemAccepted(t,e.props.isPlaceholder)}));e.setState({generation:e.state.generation+1,widgetInfoList:n})}))},t.prototype.createWidgetCard=function(e){var t,n,o=this;return Object(f.jsx)("div",{className:"d-flex align-items-start justify-content-center widget-card col-4",key:e.name,onClick:function(){return o.props.onItemSelect(e)}},Object(f.jsx)("div",{className:"d-flex flex-column w-100 h-100 widget-card--content pt-2"},Object(f.jsx)("div",{className:"d-flex justify-content-center"},Object(f.jsx)("div",{className:"widget-card-image mb-1"},Object(f.jsx)(Q.Icon,{className:"w-100",autoFlip:null===(n=null===(t=e.manifest)||void 0===t?void 0:t.properties)||void 0===n?void 0:n.flipIcon,icon:"string"==typeof e.icon?e.icon:e.icon&&e.icon.svg,color:this.props.builderTheme.colors.dark}))),Object(f.jsx)("div",{className:"flex-grow-1 d-flex align-items-center"},Object(f.jsx)("div",{className:"widget-card-name w-100 text-center text-capitalize text-truncate",css:Object(f.css)(cn||(cn=Sn(["\n                line-height: 1rem;\n                max-height: 2.2rem;\n                white-space: normal;\n              "],["\n                line-height: 1rem;\n                max-height: 2.2rem;\n                white-space: normal;\n              "]))),title:e.label},e.label))))},t.prototype.formatMessage=function(e){return this.props.intl.formatMessage({id:e,defaultMessage:Q.defaultMessages[e]})},t.prototype.getStyle=function(){var e=this.props.builderTheme;return Object(f.css)(ln||(ln=Sn(["\n      background-color: ",";\n\n      .content {\n        max-height: 350px;\n        height: auto;\n        width: 380px;\n        overflow-x: hidden;\n        padding: 10px;\n      }\n\n      .widget-card {\n        height: 80px;\n        padding: 4px;\n\n        .widget-card--content {\n          cursor: pointer;\n          background-color: ",";\n          &:hover {\n            background-color: ",";\n          }\n        }\n\n        .widget-card-image {\n          width: 20px;\n          height: 20px;\n          &:after {\n            display: none;\n          }\n          img {\n            width: 20px;\n            height: 20px;\n          }\n        }\n\n        .widget-card-name {\n          line-height: 1rem;\n          max-height: 2rem;\n          white-space: normal;\n          color: ",";\n          padding: 0 10px;\n          font-size: 13px;\n        }\n      }\n\n      .widget-type-label {\n        color: ",";\n        font-size: 14px;\n        margin: 0 4px 4px;\n      }\n    "],["\n      background-color: ",";\n\n      .content {\n        max-height: 350px;\n        height: auto;\n        width: 380px;\n        overflow-x: hidden;\n        padding: 10px;\n      }\n\n      .widget-card {\n        height: 80px;\n        padding: 4px;\n\n        .widget-card--content {\n          cursor: pointer;\n          background-color: ",";\n          &:hover {\n            background-color: ",";\n          }\n        }\n\n        .widget-card-image {\n          width: 20px;\n          height: 20px;\n          &:after {\n            display: none;\n          }\n          img {\n            width: 20px;\n            height: 20px;\n          }\n        }\n\n        .widget-card-name {\n          line-height: 1rem;\n          max-height: 2rem;\n          white-space: normal;\n          color: ",";\n          padding: 0 10px;\n          font-size: 13px;\n        }\n      }\n\n      .widget-type-label {\n        color: ",";\n        font-size: 14px;\n        margin: 0 4px 4px;\n      }\n    "])),e.colors.palette.light[300],e.colors.palette.light[500],e.colors.palette.light[600],e.colors.palette.dark[800],e.colors.palette.dark[800])},t.prototype.render=function(){var e=this;if(!this.state.open)return null;var t=this.state.widgetInfoList,n=[],o=[];return t&&t.length>0&&t.forEach((function(e){e.manifest.widgetType===f.WidgetType.Layout?o.push(e):n.push(e)})),Object(f.jsx)(On,{theme:this.props.builderTheme,placement:"bottom",toggle:this.togglePopper,css:this.getStyle(),version:this.state.generation,modifiers:Pn,reference:this.props.referenceElement,open:!0},Object(f.jsx)("div",{className:"shadow-lg content",ref:function(t){return e.contentRef=t}},!this.state.widgetInfoList&&Object(f.jsx)(Q.Loading,null),n.length>0&&Object(f.jsx)("div",{className:"widget-type-label"},this.formatMessage("basic")),n.length>0&&Object(f.jsx)("div",{className:"w-100 h-100 row m-0"},n.map((function(t){return e.createWidgetCard(t)}))),o.length>0&&Object(f.jsx)("div",{className:"widget-type-label"},this.formatMessage("layout")),o.length>0&&Object(f.jsx)("div",{className:"w-100 h-100 row m-0"},o.map((function(t){return e.createWidgetCard(t)})))))},t.defaultProps={isPlaceholder:!1,isItemAccepted:function(){return!0}},t}(f.React.PureComponent),In=Object(f.injectIntl)(Cn),_n=n(37),Mn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),An=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Nn=function(e){function t(t){var n=e.call(this,t)||this;return n.onTemplateSelected=function(e){n.setState({selectedIndex:e}),n.props.onItemSelect(n.templates[e])},n.templates=n.props.pageMode===f.PageMode.FitWindow?Object(_n.getFullScreenPageTemplates)():Object(_n.getAutoScrollPageTemplates)(),Object(_n.addLabelAndDescription)(n.templates),n.state={selectedIndex:-1},n}return Mn(t,e),t.prototype.formatMessage=function(e){return this.props.intl.formatMessage({id:e,defaultMessage:Q.defaultMessages[e]})},t.prototype.createTemplateCard=function(e,t){var n=this;return Object(f.jsx)("div",{className:"page-item d-flex flex-column col-6",key:t,title:e.description},Object(f.jsx)("div",{className:Object(f.classNames)("img-container d-flex align-items-center justify-content-center",{active:this.state.selectedIndex===t}),onClick:function(){return n.onTemplateSelected(t)}},Object(f.jsx)(Q.Icon,{autoFlip:!0,className:"thumbnail",icon:e.icon,width:160,height:120,options:{currentColor:!1}})),Object(f.jsx)("div",{className:"name w-100 text-center"},e.label))},t.prototype.getStyle=function(){var e=this.props.theme;return Object(f.css)(pn||(pn=An(["\n      .page-item {\n        width: 160px;\n        margin-bottom: 18px;\n        user-select: none;\n        .img-container {\n          height: 110px;\n          width: 162px;\n          cursor: pointer;\n          &:hover {\n            outline: 2px solid ",";\n          }\n        }\n\n        .name {\n          margin-top: 5px;\n          font-size: 14px;\n          color: ",";\n        }\n      }\n    "],["\n      .page-item {\n        width: 160px;\n        margin-bottom: 18px;\n        user-select: none;\n        .img-container {\n          height: 110px;\n          width: 162px;\n          cursor: pointer;\n          &:hover {\n            outline: 2px solid ",";\n          }\n        }\n\n        .name {\n          margin-top: 5px;\n          font-size: 14px;\n          color: ",";\n        }\n      }\n    "])),e.colors.palette.primary[500],e.colors.palette.dark[300])},t.prototype.render=function(){var e=this;return Object(f.jsx)("div",{className:"container p-4",css:this.getStyle()},Object(f.jsx)("div",{className:"row h-100"},this.templates.map((function(t,n){return e.createTemplateCard(t,n)}))))},t}(f.React.PureComponent),Rn=Object(f.injectIntl)(Nn),Ln=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),En=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ln(t,e),t.prototype.render=function(){var e=this.props.theme;return Object(f.jsx)("div",{className:"w-100 h-100"},Object(f.jsx)("h3",{className:"pt-3 px-4 mb-3 text-dark-600 text-truncate",title:this.props.formatMessage("addPage")},this.props.formatMessage("addPage")),Object(f.jsx)(Q.Tabs,{fill:!0,underline:!0,css:Object(f.css)(un||(un=En(["\n          .jimu-nav {\n            padding-left: ",";\n            padding-right: ",";\n          }\n          .nav-item {\n            width: 50%;\n          }\n        "],["\n          .jimu-nav {\n            padding-left: ",";\n            padding-right: ",";\n          }\n          .nav-item {\n            width: 50%;\n          }\n        "])),e&&e.sizes[4],e&&e.sizes[4])},Object(f.jsx)(Q.Tab,{id:"fullScreenApp",title:this.props.formatMessage("fullScreenApp"),defaultActive:!0},Object(f.jsx)(Rn,{theme:e,pageMode:f.PageMode.FitWindow,onItemSelect:this.props.onItemSelect})),Object(f.jsx)(Q.Tab,{id:"scrollingPage",title:this.props.formatMessage("scrollingPage")},Object(f.jsx)(Rn,{theme:e,pageMode:f.PageMode.AutoScroll,onItemSelect:this.props.onItemSelect}))))},t}(f.React.PureComponent),Tn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Un=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tn(t,e),t.prototype.getStyle=function(){var e=this.props.theme;return Object(f.css)(dn||(dn=zn(["\n      background-color: ",";\n\n      .block-item {\n        display: flex;\n        justify-content: space-around;\n        align-items: center;\n        cursor: pointer;\n        width: 200px;\n        padding: 1px;\n        margin-bottom: 10px;\n\n        .block-item--icon {\n          background: ",";\n        }\n        .block-item--icon:hover {\n          outline: 2px solid ",";\n        }\n      }\n\n      .size-mode-SMALL .block-item{\n        .block-item {\n          width: 140px;\n        }\n      }\n    "],["\n      background-color: ",";\n\n      .block-item {\n        display: flex;\n        justify-content: space-around;\n        align-items: center;\n        cursor: pointer;\n        width: 200px;\n        padding: 1px;\n        margin-bottom: 10px;\n\n        .block-item--icon {\n          background: ",";\n        }\n        .block-item--icon:hover {\n          outline: 2px solid ",";\n        }\n      }\n\n      .size-mode-SMALL .block-item{\n        .block-item {\n          width: 140px;\n        }\n      }\n    "])),e.colors.palette.light[300],e.colors.palette.light[400],e.colors.palette.primary[500])},t.prototype.createBlock=function(e,t){var n=this;return Object(f.jsx)("div",{key:t,className:"col-6 block-item",onClick:function(){return n.props.onItemSelect(e)}},Object(f.jsx)("div",{className:"block-item--icon"},Object(f.jsx)(Q.Icon,{icon:e.icon,width:"100%",height:"auto",options:{currentColor:!1}})))},t.prototype.render=function(){var e,t=this;return this.props.isHeader?e=Object(_n.getHeaderTemplates)():this.props.isFooter&&(e=Object(_n.getFooterTemplates)()),e?Object(f.jsx)("div",{className:"w-100 container p-4",css:this.getStyle()},Object(f.jsx)("div",{className:"row"},e.map((function(e,n){return t.createBlock(e,n)})))):null},t}(f.React.PureComponent),Bn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Fn=[{name:"flip",enabled:!0}],Hn=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOutsideClick=function(e){var t=!1;n.props.referenceElement&&(t=n.props.referenceElement.contains(e.target)),!n.contentRef||t||n.contentRef.contains(e.target)||n.props.onClose()},n.togglePopper=function(){n.state.open&&n.props.onClose&&n.props.onClose(),n.setState({open:!n.state.open})},n.onItemSelect=function(e){n.props.onClose(),n.props.onItemSelect(e)},n.state={open:!0},n}return Bn(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleOutsideClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleOutsideClick)},t.prototype.render=function(){var e=this;if(!this.state.open)return null;var t=this.props,n=t.referenceElement,o=t.theme,r=t.pageMode,i=t.isHeader,a=t.isFooter,s=i||a;return Object(f.jsx)(On,{placement:"bottom",theme:this.props.theme,reference:n,offset:[0,10],open:!0,toggle:this.togglePopper,showArrow:!0,modifiers:Fn},Object(f.jsx)("div",{ref:function(t){return e.contentRef=t},style:{width:400}},Object(f.jsx)("div",{className:"w-100",css:Object(f.css)(fn||(fn=Wn(["\n          max-height: 640px;\n          height: ",";\n          overflow: auto;\n        "],["\n          max-height: 640px;\n          height: ",";\n          overflow: auto;\n        "])),s?"auto":"calc(100vh - 150px)")},s&&Object(f.jsx)(Un,{isHeader:i,isFooter:a,theme:o,onItemSelect:this.onItemSelect}),!s&&r&&Object(f.jsx)(Rn,{theme:o,pageMode:r,onItemSelect:this.onItemSelect}),!s&&!r&&Object(f.jsx)(Dn,{theme:o,formatMessage:this.props.formatMessage,onItemSelect:this.onItemSelect}))))},t}(f.React.PureComponent),Vn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},qn=function(e){function t(t){var n=e.call(this,t)||this;return n.onTemplateSelected=function(e){n.setState({selectedIndex:e}),n.props.onItemSelect(n.templates[e])},n.templates=Object(_n.getDialogTemplates)(),n.state={selectedIndex:-1},n}return Vn(t,e),t.prototype.formatMessage=function(e){return this.props.intl.formatMessage({id:e,defaultMessage:Q.defaultMessages[e]})},t.prototype.createTemplateCard=function(e,t){var n=this;return Object(f.jsx)("div",{className:"dialog-item d-flex flex-column col-6",key:t},Object(f.jsx)("div",{className:Object(f.classNames)("img-container d-flex align-items-center justify-content-center",{active:this.state.selectedIndex===t}),onClick:function(){return n.onTemplateSelected(t)}},Object(f.jsx)(Q.Icon,{autoFlip:!0,className:"thumbnail",icon:e.icon,width:166,height:140,options:{currentColor:!1}})),Object(f.jsx)("div",{className:"name w-100 text-center"},this.formatMessage(e.name)))},t.prototype.getStyle=function(){var e=this.props.theme;return Object(f.css)(mn||(mn=Jn(["\n      .dialog-item {\n        /* width: 160px; */\n        margin-bottom: 18px;\n        user-select: none;\n        .img-container {\n          /* height: 140px;\n          width: 162px; */\n          cursor: pointer;\n          background: ",";\n          &:hover {\n            outline: 2px solid ",";\n          }\n        }\n\n        .name {\n          margin-top: 5px;\n          font-size: 14px;\n          color: ",";\n        }\n      }\n    "],["\n      .dialog-item {\n        /* width: 160px; */\n        margin-bottom: 18px;\n        user-select: none;\n        .img-container {\n          /* height: 140px;\n          width: 162px; */\n          cursor: pointer;\n          background: ",";\n          &:hover {\n            outline: 2px solid ",";\n          }\n        }\n\n        .name {\n          margin-top: 5px;\n          font-size: 14px;\n          color: ",";\n        }\n      }\n    "])),e.colors.palette.light[200],e.colors.palette.primary[500],e.colors.palette.dark[300])},t.prototype.render=function(){var e=this;return Object(f.jsx)("div",{className:"container p-4",css:this.getStyle()},Object(f.jsx)("div",{className:"row h-100"},this.templates.map((function(t,n){return e.createTemplateCard(t,n)}))))},t}(f.React.PureComponent),Gn=Object(f.injectIntl)(qn),Yn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yn(t,e),t.prototype.render=function(){var e=this.props.theme;return Object(f.jsx)("div",{className:"w-100 h-100"},Object(f.jsx)("h3",{className:"pt-4 px-4 mb-0 text-dark-600 text-truncate",title:this.props.formatMessage("addDialog")},this.props.formatMessage("addDialog")),Object(f.jsx)(Gn,{theme:e,onItemSelect:this.props.onItemSelect}))},t}(f.React.PureComponent),Xn=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kn=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Zn=[{name:"flip",enabled:!0}],$n=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOutsideClick=function(e){var t=!1;n.props.referenceElement&&(t=n.props.referenceElement.contains(e.target)),!n.contentRef||t||n.contentRef.contains(e.target)||n.props.onClose()},n.togglePopper=function(){n.state.open&&n.props.onClose&&n.props.onClose(),n.setState({open:!n.state.open})},n.onItemSelect=function(e){n.props.onClose(),n.props.onItemSelect(e)},n.state={open:!0},n}return Xn(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleOutsideClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleOutsideClick)},t.prototype.render=function(){var e=this;if(!this.state.open)return null;var t=this.props,n=t.referenceElement,o=t.theme,r=t.showList;return Object(f.jsx)(On,{placement:"bottom",theme:this.props.theme,reference:n,offset:[0,10],open:!0,toggle:this.togglePopper,showArrow:!0,modifiers:Zn},Object(f.jsx)("div",{ref:function(t){return e.contentRef=t},style:{width:400}},Object(f.jsx)("div",{className:"w-100",css:Object(f.css)(gn||(gn=Kn(["\n          max-height: "," ;\n          height: calc(100vh - 150px);\n          overflow: auto;\n        "],["\n          max-height: "," ;\n          height: calc(100vh - 150px);\n          overflow: auto;\n        "])),r?"638px":"385px")},r?Object(f.jsx)(Qn,{theme:o,onItemSelect:this.onItemSelect,formatMessage:this.props.formatMessage}):Object(f.jsx)(Gn,{theme:o,onItemSelect:this.props.onItemSelect}))))},t}(f.React.PureComponent),eo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),to=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},no=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eo(t,e),t.prototype.getStyle=function(){var e=this.props.theme;return Object(f.css)(hn||(hn=to(["\n      background-color: ",";\n\n      .block-item {\n        display: flex;\n        justify-content: space-around;\n        align-items: center;\n        cursor: pointer;\n        width: 200px;\n        height: 62px;\n        padding: 1px;\n        margin-bottom: 10px;\n\n        .block-item--icon {\n          background: ",";\n          height: 60px;\n        }\n        .block-item--icon:hover {\n          outline: 1px solid ",";\n        }\n      }\n\n      .size-mode-SMALL .block-item{\n        .block-item {\n          width: 140px;\n          height: 44px;\n\n          .block-item--icon {\n            height: 42px;\n          }\n        }\n      }\n    "],["\n      background-color: ",";\n\n      .block-item {\n        display: flex;\n        justify-content: space-around;\n        align-items: center;\n        cursor: pointer;\n        width: 200px;\n        height: 62px;\n        padding: 1px;\n        margin-bottom: 10px;\n\n        .block-item--icon {\n          background: ",";\n          height: 60px;\n        }\n        .block-item--icon:hover {\n          outline: 1px solid ",";\n        }\n      }\n\n      .size-mode-SMALL .block-item{\n        .block-item {\n          width: 140px;\n          height: 44px;\n\n          .block-item--icon {\n            height: 42px;\n          }\n        }\n      }\n    "])),e.colors.palette.light[300],e.colors.palette.light[400],e.colors.palette.primary[500])},t.prototype.createBlock=function(e,t){var n=this;return Object(f.jsx)("div",{key:t,className:"col-6 block-item",onClick:function(){return n.props.onItemSelect(e)}},Object(f.jsx)("div",{className:"block-item--icon"},Object(f.jsx)(Q.Icon,{icon:e.icon,width:"100%",height:"100%",options:{currentColor:!1}})))},t.prototype.render=function(){var e=this;return Object(f.jsx)("div",{className:"w-100 container",css:this.getStyle()},Object(f.jsx)("div",{className:"row"},Object(_n.getBlockTemplates)().map((function(t,n){return e.createBlock(t,n)}))))},t}(f.React.PureComponent),oo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ro=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},io=[{name:"flip",enabled:!0}],ao=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOutsideClick=function(e){var t=!1;n.props.referenceElement&&(t=n.props.referenceElement.contains(e.target)),!n.contentRef||t||n.contentRef.contains(e.target)||n.props.onClose()},n.togglePopper=function(){n.state.open&&n.props.onClose&&n.props.onClose(),n.setState({open:!n.state.open})},n.state={open:!0},n}return oo(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleOutsideClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleOutsideClick)},t.prototype.getStyle=function(){var e=this.props.theme;return Object(f.css)(bn||(bn=ro(["\n      .title {\n        font-size: 14px;\n        color: ",";\n        padding: 0 5px 5px 5px;\n      }\n      .template-content {\n        height: auto;\n        max-height: 600px;\n        width: 450px;\n        border: 1px solid ",";\n        box-shadow: 0 4px 20px 4px rgba(0,0,0,0.50);\n        overflow: auto;\n        padding: 10px 15px;\n      }\n\n      .size-mode-SMALL & .template-content {\n        max-height: 600px;\n        width: 320px;\n      }\n    "],["\n      .title {\n        font-size: 14px;\n        color: ",";\n        padding: 0 5px 5px 5px;\n      }\n      .template-content {\n        height: auto;\n        max-height: 600px;\n        width: 450px;\n        border: 1px solid ",";\n        box-shadow: 0 4px 20px 4px rgba(0,0,0,0.50);\n        overflow: auto;\n        padding: 10px 15px;\n      }\n\n      .size-mode-SMALL & .template-content {\n        max-height: 600px;\n        width: 320px;\n      }\n    "])),e.colors.palette.dark[100],e.colors.palette.light[600])},t.prototype.render=function(){var e=this;if(!this.state.open)return null;var t=this.props,n=t.referenceElement,o=t.theme;return Object(f.jsx)(On,{placement:"bottom",theme:this.props.theme,css:this.getStyle(),reference:n,offset:[0,10],toggle:this.togglePopper,open:!0,showArrow:!0,modifiers:io},Object(f.jsx)("div",{ref:function(t){return e.contentRef=t},className:"template-content"},Object(f.jsx)(no,{referenceElement:n,theme:o,onItemSelect:this.props.onItemSelect})))},t}(f.React.PureComponent),so=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),co=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},lo=function(e){function t(t){var n=e.call(this,t)||this;return n.state={templates:null},n}return so(t,e),t.prototype.componentDidMount=function(){var e=Object(_n.getScreenTemplates)();this.setState({templates:e})},t.prototype.getStyle=function(){var e=this.props.theme;return Object(f.css)(vn||(vn=co(["\n      display: grid;\n      background-color: ",";\n      grid-template-columns: 1fr 1fr;\n      grid-row-gap: 10px;\n      grid-column-gap: 10px;\n\n      .block-item {\n        display: flex;\n        justify-content: space-around;\n        align-items: center;\n        cursor: pointer;\n        width: 164px;\n        height: 100px;\n\n        .block-item--icon {\n          background: ",";\n        }\n        .block-item--icon:hover {\n          outline: 1px solid ",";\n        }\n      }\n\n      .size-mode-SMALL .block-item{\n        .block-item {\n          width: 140px;\n          height: 44px;\n\n          .block-item--icon {\n            height: 42px;\n          }\n        }\n      }\n    "],["\n      display: grid;\n      background-color: ",";\n      grid-template-columns: 1fr 1fr;\n      grid-row-gap: 10px;\n      grid-column-gap: 10px;\n\n      .block-item {\n        display: flex;\n        justify-content: space-around;\n        align-items: center;\n        cursor: pointer;\n        width: 164px;\n        height: 100px;\n\n        .block-item--icon {\n          background: ",";\n        }\n        .block-item--icon:hover {\n          outline: 1px solid ",";\n        }\n      }\n\n      .size-mode-SMALL .block-item{\n        .block-item {\n          width: 140px;\n          height: 44px;\n\n          .block-item--icon {\n            height: 42px;\n          }\n        }\n      }\n    "])),e.colors.palette.light[300],e.colors.palette.light[200],e.colors.palette.primary[500])},t.prototype.createBlock=function(e,t){var n=this;return Object(f.jsx)("div",{key:t,className:"block-item",onClick:function(){return n.props.onItemSelect(e)}},Object(f.jsx)("div",{className:"block-item--icon"},Object(f.jsx)(Q.Icon,{icon:e.icon,width:"100%",height:"100%",options:{currentColor:!1}})))},t.prototype.render=function(){var e=this;return this.state.templates?Object(f.jsx)("div",{className:"w-100",css:this.getStyle()},this.state.templates.map((function(t,n){return e.createBlock(t,n)}))):Object(f.jsx)(Q.Loading,null)},t}(f.React.PureComponent),po=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),uo=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},fo=[{name:"flip",enabled:!0}],mo=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOutsideClick=function(e){var t=!1;n.props.referenceElement&&(t=n.props.referenceElement.contains(e.target)),!n.contentRef||t||n.contentRef.contains(e.target)||n.props.onClose()},n.togglePopper=function(){n.state.open&&n.props.onClose&&n.props.onClose(),n.setState({open:!n.state.open})},n.state={open:!0},n}return po(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleOutsideClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleOutsideClick)},t.prototype.getStyle=function(){var e=this.props.theme;return Object(f.css)(yn||(yn=uo(["\n      .title {\n        font-size: 14px;\n        color: ",";\n        padding: 0 5px 5px 5px;\n      }\n      .template-content {\n        height: auto;\n        max-height: 600px;\n        width: 400px;\n        border: 1px solid ",";\n        box-shadow: 0 4px 20px 4px rgba(0,0,0,0.50);\n        overflow: auto;\n        padding: 16px;\n      }\n\n      .size-mode-SMALL & .template-content {\n        max-height: 600px;\n        width: 320px;\n      }\n    "],["\n      .title {\n        font-size: 14px;\n        color: ",";\n        padding: 0 5px 5px 5px;\n      }\n      .template-content {\n        height: auto;\n        max-height: 600px;\n        width: 400px;\n        border: 1px solid ",";\n        box-shadow: 0 4px 20px 4px rgba(0,0,0,0.50);\n        overflow: auto;\n        padding: 16px;\n      }\n\n      .size-mode-SMALL & .template-content {\n        max-height: 600px;\n        width: 320px;\n      }\n    "])),e.colors.palette.dark[100],e.colors.palette.light[600])},t.prototype.render=function(){var e=this;if(!this.state.open)return null;var t=this.props,n=t.referenceElement,o=t.theme;return Object(f.jsx)(On,{placement:"bottom",theme:this.props.theme,css:this.getStyle(),reference:n,offset:[0,10],toggle:this.togglePopper,open:!0,showArrow:!0,modifiers:fo},Object(f.jsx)("div",{ref:function(t){return e.contentRef=t},className:"template-content"},Object(f.jsx)(lo,{referenceElement:n,theme:o,onItemSelect:this.props.onItemSelect})))},t}(f.React.PureComponent),go=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ho=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},bo=function(e){function t(t){var n=e.call(this,t)||this;return n.state={templates:null},n}return go(t,e),t.prototype.componentDidMount=function(){var e=Object(_n.getScreenGroupTemplates)();this.setState({templates:e})},t.prototype.getStyle=function(){var e=this.props.theme;return Object(f.css)(xn||(xn=ho(["\n      background-color: ",";\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      grid-row-gap: 10px;\n      grid-column-gap: 10px;\n\n      .block-item {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n        align-items: center;\n        cursor: pointer;\n        width: 200px;\n        height: 140px;\n        padding: 1px;\n\n        .block-item--icon {\n          background: ",";\n          height: 120px;\n          width: 100%;\n          position: relative;\n\n          .screen-group-icon {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n          }\n\n          .default-icon {\n            opacity: 1;\n          }\n          .gif-icon {\n            opacity: 0;\n          }\n        }\n        .block-item--icon:hover {\n          outline: 1px solid ",";\n          .default-icon {\n            opacity: 0;\n          }\n          .gif-icon {\n            opacity: 1;\n          }\n        }\n\n        .block-item-label {\n          color: ",";\n        }\n      }\n\n      .size-mode-SMALL & .block-item{\n        .block-item {\n          width: 140px;\n          height: 44px;\n\n          .block-item--icon {\n            height: 42px;\n          }\n          .block-item-label {\n            display: none;\n          }\n        }\n      }\n    "],["\n      background-color: ",";\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      grid-row-gap: 10px;\n      grid-column-gap: 10px;\n\n      .block-item {\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n        align-items: center;\n        cursor: pointer;\n        width: 200px;\n        height: 140px;\n        padding: 1px;\n\n        .block-item--icon {\n          background: ",";\n          height: 120px;\n          width: 100%;\n          position: relative;\n\n          .screen-group-icon {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n          }\n\n          .default-icon {\n            opacity: 1;\n          }\n          .gif-icon {\n            opacity: 0;\n          }\n        }\n        .block-item--icon:hover {\n          outline: 1px solid ",";\n          .default-icon {\n            opacity: 0;\n          }\n          .gif-icon {\n            opacity: 1;\n          }\n        }\n\n        .block-item-label {\n          color: ",";\n        }\n      }\n\n      .size-mode-SMALL & .block-item{\n        .block-item {\n          width: 140px;\n          height: 44px;\n\n          .block-item--icon {\n            height: 42px;\n          }\n          .block-item-label {\n            display: none;\n          }\n        }\n      }\n    "])),e.colors.palette.light[300],e.colors.palette.light[200],e.colors.palette.primary[500],e.colors.palette.dark[400])},t.prototype.createBlock=function(e,t){var n=this;return Object(f.jsx)("div",{key:t,className:"block-item",onClick:function(){return n.props.onItemSelect(e)}},Object(f.jsx)("div",{className:"block-item--icon"},Object(f.jsx)(Q.Icon,{className:"default-icon screen-group-icon",icon:e.icon,width:"100%",height:"100%"}),Object(f.jsx)("img",{className:"gif-icon screen-group-icon",src:f.urlUtils.isAbsoluteUrl(e.gifIcon)?e.gifIcon:""+f.urlUtils.getFixedRootPath()+e.gifIcon,width:"100%",height:"100%"})),Object(f.jsx)("span",{className:"block-item-label"},e.label))},t.prototype.render=function(){var e=this;return this.state.templates?Object(f.jsx)("div",{className:"w-100",css:this.getStyle()},this.state.templates.map((function(t,n){return e.createBlock(t,n)}))):Object(f.jsx)(Q.Loading,null)},t}(f.React.PureComponent),vo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yo=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},xo=[{name:"flip",options:{fallbackPlacements:["top","right"]}}],wo=function(e){function t(t){var n=e.call(this,t)||this;return n.handleOutsideClick=function(e){var t=!1;n.props.referenceElement&&(t=n.props.referenceElement.contains(e.target)),!n.contentRef||t||n.contentRef.contains(e.target)||n.props.onClose()},n.togglePopper=function(){n.state.open&&n.props.onClose&&n.props.onClose(),n.setState({open:!n.state.open})},n.state={open:!0},n}return vo(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleOutsideClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleOutsideClick)},t.prototype.getStyle=function(){var e=this.props.theme;return Object(f.css)(wn||(wn=yo(["\n      .title {\n        font-size: 14px;\n        color: ",";\n        padding: 0 5px 5px 5px;\n      }\n      .template-content {\n        height: auto;\n        max-height: 600px;\n        width: 450px;\n        border: 1px solid ",";\n        box-shadow: 0 4px 20px 4px rgba(0,0,0,0.50);\n        overflow: auto;\n        padding: 10px 15px;\n      }\n\n      .size-mode-SMALL & .template-content {\n        max-height: 600px;\n        width: 320px;\n      }\n    "],["\n      .title {\n        font-size: 14px;\n        color: ",";\n        padding: 0 5px 5px 5px;\n      }\n      .template-content {\n        height: auto;\n        max-height: 600px;\n        width: 450px;\n        border: 1px solid ",";\n        box-shadow: 0 4px 20px 4px rgba(0,0,0,0.50);\n        overflow: auto;\n        padding: 10px 15px;\n      }\n\n      .size-mode-SMALL & .template-content {\n        max-height: 600px;\n        width: 320px;\n      }\n    "])),e.colors.palette.dark[100],e.colors.palette.light[600])},t.prototype.render=function(){var e=this;if(!this.state.open)return null;var t=this.props,n=t.referenceElement,o=t.theme;return Object(f.jsx)(On,{placement:"bottom",theme:this.props.theme,css:this.getStyle(),reference:n,offset:[0,10],toggle:this.togglePopper,open:!0,showArrow:!0,modifiers:xo},Object(f.jsx)("div",{ref:function(t){return e.contentRef=t},className:"template-content"},Object(f.jsx)(bo,{referenceElement:n,theme:o,onItemSelect:this.props.onItemSelect})))},t}(f.React.PureComponent),jo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Oo=function(e){function t(t){var o=e.call(this,t)||this;return o.initData=function(){if(Array.isArray(o.props.value)&&o.props.value.length)return!1;var e=o.deepClone(o.state.option);e.ruleOptionName=o.props.intl.formatMessage({id:"option",defaultMessage:Q.defaultMessages.option})+0;var t=[e];o.props.onChange(t)},o.onOptionChange=function(e,t,n,r){var i=o.deepClone(o.props.value);i[t].rule[e][n]=r,o.props.onChange(i,t)},o.onSelectChange=function(e,t,n){var r=e[0];if(r){var i=o.deepClone(o.props.value),a=r.name;i[n].rule[t].jimuFieldName=a,o.props.onChange(i,n)}},o.addOption=function(){var e=Array.isArray(o.props.value),t=e?o.props.value.length:0,n=o.createOptionText(t),r=o.deepClone(o.state.option);r.ruleOptionName=n;var i=e?o.deepClone(o.props.value):[];i.push(r),o.props.onChange(i)},o.createOptionText=function(e){var t=o.props.intl.formatMessage({id:"option",defaultMessage:Q.defaultMessages.option})+e;if(!o.isOptionNameRepeat(t))return t;var n=e+1;return o.createOptionText(n)},o.deleteOption=function(e){var t=o.deepClone(o.props.value);t.splice(e,1),o.props.onChange(t)},o.deleteAll=function(){o.props.onChange([])},o.toggleOptionNameDisplay=function(e,t){var n=o.deepClone(o.props.value),r=n[e].isEditOptionName;if(r=!!r,n[e].isEditOptionName=!r,t){var i=t.target.value;!o.isOptionNameRepeat(i)&&i&&(n[e].ruleOptionName=i)}o.props.onChange(n)},o.isOptionNameRepeat=function(e){if(!Array.isArray(o.props.value))return!1;var t=!1;return o.props.value.forEach((function(n){n.ruleOptionName==e&&(t=!0)})),t},o.deepClone=function(e){var t=Array.isArray(e)?[]:{};for(var n in e){var r=("object"==typeof e[n]||"function"==typeof e[n])&&null!==e[n];t[n]=r?o.deepClone(e[n]):e[n]}return t},o.setInputRef=function(e){e&&(e.select(),e.focus())},o.createRuleOptionElement=function(e,t,r,i){var a=t.jimuFieldName?Object(f.Immutable)([t.jimuFieldName]):Object(f.Immutable)([]);return Object(f.jsx)("div",{className:"select-down-con",key:t.jimuFieldName||r},o.props.useDataSource&&Object(f.jsx)("div",{className:"sort-field-selector"},Object(f.jsx)(vt.FieldSelector,{useDataSources:e,onChange:function(e,t){o.onSelectChange(e,r,i)},selectedFields:a,isSearchInputHidden:!0,isDataSourceDropDownHidden:!0,useDropdown:!0})),Object(f.jsx)(Q.Button,{title:o.nls("ascending"),type:t.order==f.OrderRule.Asc?"primary":"secondary",className:"sort-button",onClick:function(){o.onOptionChange(r,i,"order",f.OrderRule.Asc)}},Object(f.jsx)(Q.Icon,{size:"12",icon:n(89),className:"sort-arrow-down-icon"})),Object(f.jsx)(Q.Button,{title:o.nls("decending"),type:t.order==f.OrderRule.Desc?"primary":"secondary",className:"sort-button",onClick:function(){o.onOptionChange(r,i,"order",f.OrderRule.Desc)}},Object(f.jsx)(Q.Icon,{size:"12",icon:n(90),className:"sort-arrow-down-icon"})))},o.createOptionNameElement=function(e,t){var r=e.ruleOptionName,i=o.props.intl.formatMessage({id:"optionNamePlaceholder",defaultMessage:Q.defaultMessages.optionNamePlaceholder}),a=Object(f.jsx)(Q.TextInput,{type:"text",value:r,onBlur:function(e){o.toggleOptionNameDisplay(t,e)},ref:function(e){o.setInputRef(e)},placeholder:i});return Object(f.jsx)("div",{className:"option-name d-flex"},e.isEditOptionName?a:Object(f.jsx)("span",{title:r,onDoubleClick:function(){o.toggleOptionNameDisplay(t)}},r),Object(f.jsx)("span",{title:o.nls("edit"),onClick:function(){o.toggleOptionNameDisplay(t)}},Object(f.jsx)(Q.Icon,{size:"12",icon:n(88),className:"option-name-icon"})))},o.createOptionElement=function(e,t,r){var i;return i=Object(f.jsx)("div",{className:"close-con text-right"},Object(f.jsx)("span",{title:o.nls("deleteOption"),onClick:function(){o.deleteOption(r)}},Object(f.jsx)(Q.Icon,{size:"12",icon:n(38),className:"sort-arrow-down-icon"}))),Object(f.jsx)("div",{className:"select-con",key:r},Object(f.jsx)("div",{className:"option-name-con"},o.createOptionNameElement(t,r),i),t.rule.map((function(t,n){return o.createRuleOptionElement(e,t,n,r)})))},o.nls=function(e){return o.props.intl?o.props.intl.formatMessage({id:e,defaultMessage:Q.defaultMessages[e]}):e},o.onDataSourceCreated=function(e){},o.state={option:{ruleOptionName:"",isEditOptionName:!1,rule:[{jimuFieldName:"",order:f.OrderRule.Asc}]}},o}return jo(t,e),t.prototype.componentDidMount=function(){this.initData()},t.prototype.componentDidUpdate=function(e,t){var n,o,r,i=this;(null===(n=null==e?void 0:e.useDataSource)||void 0===n?void 0:n.dataSourceId)!==(null===(r=null===(o=this.props)||void 0===o?void 0:o.useDataSource)||void 0===r?void 0:r.dataSourceId)&&Promise.resolve(!0).then((function(){i.initData()}))},t.prototype.render=function(){var e,t=this,o=this.props.value,r=this.props.intl.formatMessage({id:"invalidExpression",defaultMessage:Q.defaultMessages.invalidExpression});return Object(f.jsx)("div",{className:Object(f.classNames)("sort-con",(e={},e[this.props.className]=!!this.props.className,e))},Object(f.jsx)("div",null,Object(f.jsx)("div",{className:"add-option-btn"},Object(f.jsx)(Q.Icon,{size:"12",icon:n(100),className:"add-option-icon"}),Object(f.jsx)("span",{onClick:this.addOption},this.props.intl.formatMessage({id:"addOption",defaultMessage:Q.defaultMessages.addOption}))),Object(f.jsx)(f.DataSourceComponent,{useDataSource:this.props.useDataSource,onDataSourceCreated:this.onDataSourceCreated},(function(e){return Array.isArray(o)?o.map((function(e,n){var o;return t.createOptionElement(Object(f.Immutable)([null===(o=t.props.useDataSource)||void 0===o?void 0:o.asMutable({deep:!0})]),e,n)})):r})),Array.isArray(o)&&0==o.length&&Object(f.jsx)("div",{className:"no-sort-remind"},Object(f.jsx)("div",null,this.props.intl.formatMessage({id:"noOptionRemindText",defaultMessage:Q.defaultMessages.noOptionRemindText})),Object(f.jsx)("div",null,this.props.intl.formatMessage({id:"pleaceAddOne",defaultMessage:Q.defaultMessages.pleaceAddOne})))))},t}(f.React.PureComponent),ko=f.themeUtils.withStyles(Object(f.injectIntl)(Oo),"SortSetting"),So=function(){return(So=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Po=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Co=n(263),Io=n(264),_o=function(e){var t=Q.hooks.useTranslate(),n=e.vertical,o=void 0!==n&&n,r=e.onChange,i=e.autoFlip,a=void 0===i||i,s=e.className,c=Po(e,["vertical","onChange","autoFlip","className"]);return f.React.createElement(Q.ButtonGroup,So({className:Object(f.classNames)("setting--direction-selector",s)},c),f.React.createElement(Q.Button,{title:t("horizontal"),type:"default",icon:!0,size:"sm",active:!o,onClick:function(){return r(!1)}},f.React.createElement(Q.Icon,{icon:Co,autoFlip:a})),f.React.createElement(Q.Button,{title:t("vertical"),type:"default",icon:!0,size:"sm",active:o,onClick:function(){return r(!0)}},f.React.createElement(Q.Icon,{icon:Io})))},Mo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ao=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};!function(e){e.Auto="AUTO",e.Custom="CUSTOM"}(jn||(jn={}));var No,Ro,Lo,Eo,Do,To,zo=n(76),Uo=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleDropdown=function(){n.setState((function(e){return{dropdownOpen:!e.dropdownOpen}}))},n.state={dropdownOpen:!1},n._onAutoSelected=n.onSelect.bind(n,jn.Auto),n._onCustomSelected=n.onSelect.bind(n,jn.Custom),n}return Mo(t,e),t.prototype.onSelect=function(e){this.props.mode!==e&&this.props.onChange(e)},t.prototype.getStyle=function(){return Object(f.css)(No||(No=Ao(["\n      .auto-dropdown.jimu-dropdown {\n        width: 26px;\n        height: 26px;\n\n        .btn {\n          padding: 0 !important;\n        }\n      }\n\n      & > .jimu-dropdown .jimu-dropdown-button,\n      & > .jimu-dropdown .jimu-dropdown-button:hover {\n        height: 26px;\n        padding: 0 0.375rem;\n      }\n    "],["\n      .auto-dropdown.jimu-dropdown {\n        width: 26px;\n        height: 26px;\n\n        .btn {\n          padding: 0 !important;\n        }\n      }\n\n      & > .jimu-dropdown .jimu-dropdown-button,\n      & > .jimu-dropdown .jimu-dropdown-button:hover {\n        height: 26px;\n        padding: 0 0.375rem;\n      }\n    "])))},t.prototype.autoInput=function(){return Object(f.jsx)(Q.Input,{style:{width:"110px"},css:Object(f.css)(Ro||(Ro=Ao(["\n          background-color: var(--light-600);\n          border-color: var(--light-600);\n          color: var(--black);\n          height: 1.625rem;\n          border-width: 0;\n          padding: 0 0.25rem;\n        "],["\n          background-color: var(--light-600);\n          border-color: var(--light-600);\n          color: var(--black);\n          height: 1.625rem;\n          border-width: 0;\n          padding: 0 0.25rem;\n        "]))),disabled:!0,value:this.props.intl.formatMessage({id:"auto"})})},t.prototype.render=function(){var e=this.props,t=e.mode,n=e.intl,o=n.formatMessage({id:"auto"}),r=n.formatMessage({id:"custom"});return Object(f.jsx)("div",{className:"d-flex",css:this.getStyle()},Object(f.jsx)(Q.Dropdown,{className:"auto-dropdown",isOpen:this.state.dropdownOpen,toggle:this.toggleDropdown},Object(f.jsx)(Q.DropdownButton,{icon:!0}),Object(f.jsx)(Q.DropdownMenu,null,Object(f.jsx)(Q.DropdownItem,{onClick:this._onAutoSelected},Object(f.jsx)("span",{css:Object(f.css)(Lo||(Lo=Ao(["width: 1rem;"],["width: 1rem;"])))},t===jn.Auto&&Object(f.jsx)(Q.Icon,{icon:zo,size:12})),o),Object(f.jsx)(Q.DropdownItem,{onClick:this._onCustomSelected},Object(f.jsx)("span",{css:Object(f.css)(Eo||(Eo=Ao(["width: 1rem;"],["width: 1rem;"])))},t===jn.Custom&&Object(f.jsx)(Q.Icon,{icon:zo,size:12})),r))),t===jn.Auto&&this.autoInput(),t===jn.Custom&&this.props.children)},t}(f.React.PureComponent),Bo=Object(f.injectIntl)(Uo),Wo=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Fo=function(e){var t,n,o,r,i,a,s,c=e.title,l=e.children,p=e.selected,u=e.onClick,d=(r=f.React.useContext(f.ThemeContext),i=null===(t=null==r?void 0:r.colors)||void 0===t?void 0:t.palette.primary[600],a=null===(n=null==r?void 0:r.colors)||void 0===n?void 0:n.palette.light[200],s=null===(o=null==r?void 0:r.colors)||void 0===o?void 0:o.black,f.React.useMemo((function(){return Object(f.css)(Do||(Do=Wo(["\n      width: 100%;\n      height:  ",";\n      padding: ","  ",";\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: ",";\n      background-color: ",";\n      position: relative;\n      &.selected {\n        outline: 3px solid ",";\n      }\n      >.overlay {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        cursor: pointer;\n      }\n  "],["\n      width: 100%;\n      height:  ",";\n      padding: ","  ",";\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: ",";\n      background-color: ",";\n      position: relative;\n      &.selected {\n        outline: 3px solid ",";\n      }\n      >.overlay {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        cursor: pointer;\n      }\n  "])),f.polished.rem(50),f.polished.rem(8),f.polished.rem(12),s,a,i)}),[i,a,s]));return Object(f.jsx)("div",{css:d,title:c,className:Object(f.classNames)("quick-style-item",{selected:p}),onClick:u},Object(f.jsx)("div",{className:"overlay"}),l)},Ho=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Vo=function(){return(Vo=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Jo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},qo=[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["bottom-end","top-end"]}}],Go=function(e){var t=e.open,n=e.reference,o=e.onClose,r=e.placement,i=void 0===r?"right-start":r,a=e.children,s=Jo(e,["open","reference","onClose","placement","children"]),c=function(){var e,t,n,o=f.themeUtils.getBuilderThemeVariables(),r=null===(e=null==o?void 0:o.colors)||void 0===e?void 0:e.palette.dark[600],i=null===(t=null==o?void 0:o.colors)||void 0===t?void 0:t.palette.light[300],a=null===(n=null==o?void 0:o.colors)||void 0===n?void 0:n.palette.light[600];return f.React.useMemo((function(){return Object(f.css)(To||(To=Ho(["\n      background-color: ",";\n      color: ",";\n      border: 1px solid ",";\n    "],["\n      background-color: ",";\n      color: ",";\n      border: 1px solid ",";\n    "])),i,r,a)}),[r,i,a])}(),l=Q.hooks.useTranslate(Q.defaultMessages);return Object(f.jsx)(Q.Popper,Vo({css:c,open:t,className:"shadow-2",reference:n,modifiers:qo,placement:i},s),Object(f.jsx)(Q.PanelHeader,{title:l("quickStyle"),onClose:o}),a)};function Yo(e){var t,n,o=Object(f.getAppStore)().getState().appStateInBuilder,r=o.appRuntimeInfo.currentPageId,i=o.appRuntimeInfo.currentDialogId,a=o.appRuntimeInfo.dialogInfos||Object(f.Immutable)({}),s=o.appConfig.dialogs,c=o.appConfig.pages,l={canClose:!0,checked:!0,isClosed:!0};return i&&((null===(t=s[i])||void 0===t?void 0:t.isSplash)&&(a=a.set(i,l)),c[r].autoOpenDialogId&&(a=a.set(r+"-"+c[r].autoOpenDialogId,l)),e&&Object.keys(c).map((function(e){c[e].autoOpenDialogId===i&&(a=a.set(e+"-"+i,l))}))),(null===(n=s[i])||void 0===n?void 0:n.isSplash)||Object.keys(s).some((function(e){s[e].isSplash&&(a=a.set(e,l))})),e&&a&&Object.keys(a).map((function(t){t!==e&&t!==r+"-"+e||(a=a.set(t,{canClose:Qo(e),checked:!1,isClosed:!1}))})),a}function Qo(e){var t=Object(f.getAppStore)().getState().appStateInBuilder.appConfig.dialogs[e];return!t.interactionType||!t.confirmBeforeClose}function Xo(e){var t=Object(f.getAppStore)().getState().appStateInBuilder,n=t.appRuntimeInfo.currentPageId,o=t.appRuntimeInfo.currentDialogId;if(Y.builderAppSync.publishChangeSelectionToApp(null),o){var r=Yo();Y.builderAppSync.publishDialogInfosChangeToApp(r),Y.builderAppSync.publishDialogChangeToApp(null)}n!==e&&Y.builderAppSync.publishPageChangeToApp(e),Y.builderAppSync.publichActivePagePartChangeToApp(f.PagePart.Body)}function Ko(e){if(Y.builderAppSync.publishChangeSelectionToApp(null),e!==Object(f.getAppStore)().getState().appStateInBuilder.appRuntimeInfo.currentDialogId){Y.builderAppSync.publishDialogChangeToApp(e);var t=Yo(e);Y.builderAppSync.publishDialogInfosChangeToApp(t),Y.builderAppSync.publichActivePagePartChangeToApp(null)}}f.ThemeManager.getInstance().registerJimuThemeStyleModule("jimu-ui/advanced/setting-components/",{componentStyles:o})}}))}}}));
System.register(["jimu-core/react","jimu-core/react-dom"],(function(e){var t,n;return{setters:[function(e){t=e},function(e){n=e}],execute:function(){e(function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=202)}([function(e,n){e.exports=t},,function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return j}));var r=n(9),o=n(3),i=n(8),a=n(42),s=n(37),u=n(14),c=n(4),l=n(26),d=n(17);function f(e,t){var n,l;if(!e)return l={appConfig:null,portalUrl:null,portalSelf:null,widgetsRuntimeInfo:r({}),widgetsPreloadProps:r({}),widgetsClassStatus:r({}),dataSourcesPreloadData:{},appContext:null,appRuntimeInfo:r({}),isNetworkOffLine:null,browserSizeMode:null,appPath:window.location.pathname,appId:null,appInfo:r({}),appI18nMessages:r({}),queryObject:null,dataSourcesInfo:r({}),jimuMapViewsInfo:r({}),mapWidgetsInfo:r({}),widgetsState:r({}),widgetsMutableStateVersion:r({}),theme:r({}),token:null,user:null,overlays:r([]),userLocaleChanged:!1,hasPrivilege:!0,privilegeError:null},r(l);if(t.type.indexOf("@@")>-1)return e;switch(t.type){case o.ActionKeys.InitStoreExtensionState:return function(e,t){var n=a.a.getInstance().getExtensionById(t.extensionId),r=n.getStoreKey().split(".");if(e.getIn(r))return e;return e=e.setIn(r,n.getInitLocalState())}(e,t);case o.ActionKeys.AppConfigLoaded:return function(e,t){var n=t.appConfig.attributes.portalUrl,r=t.appConfig.attributes.clientId,o=e.set("appConfig",t.appConfig);n&&o.portalUrl!==n&&(o=o.set("portalUrl",n));r&&o.clientId!==r&&(o=o.set("clientId",r));if(!o.appRuntimeInfo.currentPageId){var i=Object.keys(t.appConfig.pages).find((function(e){return t.appConfig.pages[e].isDefault}));o=o.setIn(["appRuntimeInfo","currentPageId"],i)}o.appConfig.dataSources&&Object.keys(o.appConfig.dataSources).forEach((function(e){o=o.setIn(["dataSourcesInfo",e,"instanceStatus"],c.b.NotCreated)}));return o}(e,t);case o.ActionKeys.SetPortalUrl:return e.set("portalUrl",t.portalUrl);case o.ActionKeys.SetPortalInfo:return e=e.set("portalUrl",t.portalUrl),t.clientId&&(e=e.set("clientId",t.clientId)),e;case o.ActionKeys.SetPortalSelf:return e.set("portalSelf",t.portalSelf);case o.ActionKeys.AppConfigChanged:return p(e,t);case o.ActionKeys.AppPathChanged:return function(e,t){var n;e=e.set("appPath",t.path);var r=Object(u.parseAppPath)(location.pathname).pageId;!r&&(null===(n=null==e?void 0:e.appConfig)||void 0===n?void 0:n.pages)&&(r=e.appConfig&&Object.keys(e.appConfig.pages).find((function(t){return e.appConfig.pages[t].isDefault})));r&&(e=h(e=e.setIn(["appRuntimeInfo","currentPageId"],r),r));return e}(e,t);case o.ActionKeys.AppInfoChanged:return e.set("appInfo",e.appInfo.merge(t.appInfo));case o.ActionKeys.AppContextInit:return e.set("appContext",t.appContext);case o.ActionKeys.AppIdChanged:return e.set("appId",t.appId);case o.ActionKeys.I18nMessagesLoaded:return function(e,t){0;return e.set("appI18nMessages",e.appI18nMessages.merge(t.messages))}(e,t);case o.ActionKeys.QueryObjectChanged:return function(e,t){var n,o,i,a=function(e){var t,n,r,o,i,a,s;return(null===(t=e.appRuntimeInfo)||void 0===t?void 0:t.currentDialogId)&&((null===(r=null===(n=e.appConfig.dialogs)||void 0===n?void 0:n[e.appRuntimeInfo.currentDialogId])||void 0===r?void 0:r.isSplash)||(null===(i=null===(o=e.appConfig.dialogs)||void 0===o?void 0:o[e.appRuntimeInfo.currentDialogId])||void 0===i?void 0:i.mode)===d.c.Anchored||(null===(s=null===(a=e.appConfig.pages)||void 0===a?void 0:a[e.appRuntimeInfo.currentPageId])||void 0===s?void 0:s.autoOpenDialogId)===e.appRuntimeInfo.currentDialogId)}(e=e.set("queryObject",r(t.query)));if(t.query.dlg){if(!a&&t.query.dlg!==(null===(n=e.appRuntimeInfo)||void 0===n?void 0:n.currentDialogId)&&(e=e.setIn(["appRuntimeInfo","currentDialogId"],t.query.dlg)).appConfig){var s=null===(o=e.appConfig.dialogs)||void 0===o?void 0:o[t.query.dlg],c=(e.appRuntimeInfo.dialogInfos||r({})).setIn([t.query.dlg,"canClose"],!(null==s?void 0:s.interactionType)||!(null==s?void 0:s.confirmBeforeClose)).setIn([t.query.dlg,"checked"],!1).setIn([t.query.dlg,"isClosed"],!1);e=e.setIn(["appRuntimeInfo","dialogInfos"],c)}}else a||(e=e.setIn(["appRuntimeInfo","currentDialogId"],null));if(t.query.views&&e.appConfig){var l=Object(u.getSectionNavInfoFromQueryObject)(t.query,e.appConfig);Object.keys(l).forEach((function(t){var n,r,o;if((null===(o=null===(r=null===(n=e.appRuntimeInfo)||void 0===n?void 0:n.sectionNavInfos)||void 0===r?void 0:r[t])||void 0===o?void 0:o.currentViewId)!==l[t].currentViewId){var i=y(e,t,l[t]);e=e.setIn(["appRuntimeInfo","sectionNavInfos",t],i)}}))}if(!window.jimuConfig.useStructuralUrl){var f=t.query.page;!f&&(null===(i=null==e?void 0:e.appConfig)||void 0===i?void 0:i.pages)&&(f=e.appConfig&&Object.keys(e.appConfig.pages).find((function(t){return e.appConfig.pages[t].isDefault}))),f&&(e=h(e=e.setIn(["appRuntimeInfo","currentPageId"],f),f))}return e}(e,t);case o.ActionKeys.SetAppInBuilder:return e.set("appContext",e.appContext.merge({isInBuilder:!0}));case o.ActionKeys.WidgetClassLoaded:return function(e,t){var n=e.appConfig.widgets||{},r=Object.keys(n).filter((function(e){return n[e].uri===t}));return e=e.setIn(["widgetsClassStatus",t],!0),r.forEach((function(t){e=e.setIn(["widgetsRuntimeInfo",t,"isClassLoaded"],!0)})),e}(e,t.widgetUri);case o.ActionKeys.WidgetConfigLoaded:return e.setIn(["appConfig","widgets",t.widgetId,"config"],t.config);case o.ActionKeys.WidgetConfigUpgraded:return e.setIn(["appConfig","widgets",t.widgetId,"config"],t.config).setIn(["appConfig","widgets",t.widgetId,"version"],e.appConfig.widgets[t.widgetId].manifest.version);case o.ActionKeys.OpenWidget:return g(e,t.widgetId);case o.ActionKeys.OpenWidgets:return function(e,t){return t.forEach((function(t){e=g(e,t)})),e}(e,t.widgetIds);case o.ActionKeys.CloseWidget:return m(e,t.widgetId);case o.ActionKeys.CloseWidgets:return function(e,t){return t.forEach((function(t){e=m(e,t)})),e}(e,t.widgetIds);case o.ActionKeys.ActivateWidget:return function(e,t){var n,r;if(!(null===(r=null===(n=e.appConfig.widgets[t])||void 0===n?void 0:n.manifest)||void 0===r?void 0:r.properties.needActiveState))return e;var o=Object.keys(e.widgetsRuntimeInfo).filter((function(t){return e.widgetsRuntimeInfo[t].state===i.m.Active}));e.appConfig.widgets[t].manifest.properties.deactivateOtherWidgets&&o.forEach((function(t){e=e.setIn(["widgetsRuntimeInfo",t,"state"],i.m.Opened)}));return e.setIn(["widgetsRuntimeInfo",t,"state"],i.m.Active)}(e,t.widgetId);case o.ActionKeys.SetWidgetIsInlineEditingState:return!1===t.isInlineEditing?e.setIn(["widgetsRuntimeInfo",t.widgetId,"isInlineEditing"],!1):(Object.keys(e.widgetsRuntimeInfo).forEach((function(t){e.widgetsRuntimeInfo[t].isInlineEditing&&(e=e.setIn(["widgetsRuntimeInfo",t,"isInlineEditing"],!1))})),e.setIn(["widgetsRuntimeInfo",t.widgetId,"isInlineEditing"],!0));case o.ActionKeys.SetWidgetPreloadProps:return e.setIn(["widgetsPreloadProps",t.widgetId],t.props);case o.ActionKeys.SetDataSourcePreloadData:return e.setIn(["dataSourcesPreloadData",t.dataSourceId],t.data);case o.ActionKeys.LayoutClassLoaded:return e.setIn(["isLayoutClassLoaded",t.layoutName],!0);case o.ActionKeys.DataSourceInstanceStatusChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"instanceStatus"],t.status);case o.ActionKeys.DataSourceStatusChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"status"],t.status);case o.ActionKeys.DataSourceCountStatusChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"countStatus"],t.countStatus);case o.ActionKeys.DataSourceSaveStatusChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"saveStatus"],t.saveStatus);case o.ActionKeys.DataSourceVersionAdded:var f=e.dataSourcesInfo[t.dataSourceId]&&e.dataSourcesInfo[t.dataSourceId].version?e.dataSourcesInfo[t.dataSourceId].version:0;return e.setIn(["dataSourcesInfo",t.dataSourceId,"version"],f+1);case o.ActionKeys.ChangeDataSourceGDBVersion:return e.setIn(["dataSourcesInfo",t.dataSourceId,"gdbVersion"],t.gdbVersion);case o.ActionKeys.ClearDataSourceInfo:return e.setIn(["dataSourcesInfo"],e.dataSourcesInfo.without(t.dataSourceId));case o.ActionKeys.UpdateDataSourceInfo:return e.setIn(["dataSourcesInfo"],e.dataSourcesInfo.set(t.dataSourceId,t.dataSourceInfo));case o.ActionKeys.JimuMapViewAdded:case o.ActionKeys.JimuMapViewUpdated:return e.setIn(["jimuMapViewsInfo",t.jimuMapViewId],t.jimuMapViewInfo);case o.ActionKeys.JimuMapViewRemoved:var b;return b=e.jimuMapViewsInfo.without(t.jimuMapViewId),e.setIn(["jimuMapViewsInfo"],b);case o.ActionKeys.RequestAutoControlMapWidget:return e.setIn(["mapWidgetsInfo",t.mapWidgetId,"autoControlWidgetId"],t.autoControlWidgetId);case o.ActionKeys.ReleaseAutoControlMapWidget:return e.setIn(["mapWidgetsInfo",t.mapWidgetId,"autoControlWidgetId"],null);case o.ActionKeys.MapWidgetInfoAdded:case o.ActionKeys.MapWidgetInfoUpdated:return e.setIn(["mapWidgetsInfo",t.mapWidgetId],t.mapWidgetInfo);case o.ActionKeys.MapWidgetInfoRemoved:var w;return w=e.mapWidgetsInfo.without(t.mapWidgetId),e.setIn(["mapWidgetsInfo"],w);case o.ActionKeys.DataSourceSelectedIndexesChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"selectedIndexes"],t.selectedIndexes).setIn(["dataSourcesInfo",t.dataSourceId,"selectedIds"],null);case o.ActionKeys.DataSourceSelectedIdsChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"selectedIds"],t.selectedIds).setIn(["dataSourcesInfo",t.dataSourceId,"selectedIndexes"],null);case o.ActionKeys.SetDataNeedRefresh:return e.setIn(["dataSourcesInfo",t.dataSourceId,"needRefresh"],t.refresh);case o.ActionKeys.UpdateWidgetQuery:return e.setIn(["dataSourcesInfo",t.dataSourceId,"widgetQueries",t.widgetId],t.query);case o.ActionKeys.WidgetStatePropChange:return function(e,t){var n=t.propKey.split(".");return e.setIn(["widgetsState",t.widgetId].concat(n),t.value)}(e,t);case o.ActionKeys.WidgetMutableStatePropChange:return function(e,t){var n,r,o=null!==(r=null===(n=e.widgetsMutableStateVersion[t.widgetId])||void 0===n?void 0:n[t.propKey])&&void 0!==r?r:0;return e.setIn(["widgetsMutableStateVersion",t.widgetId,t.propKey],++o)}(e,t);case o.ActionKeys.SessionStart:return e.set("token",t.token);case o.ActionKeys.UserSignIn:return e.set("user",r(t.user));case o.ActionKeys.UserSignOut:return e.merge({token:null,user:null});case o.ActionKeys.BrowserSizeModeChanged:return e.set("browserSizeMode",t.browserSizeMode);case o.ActionKeys.NetworkStatusChanged:return e.set("isNetworkOffLine",t.isOffLine);case o.ActionKeys.CurrentPageChanged:return h(e=e.setIn(["appRuntimeInfo","currentPageId"],t.pageId),t.pageId);case o.ActionKeys.CurrentDialogChanged:return(e=e.setIn(["appRuntimeInfo","currentDialogId"],t.dialogId)).setIn(["appRuntimeInfo","currentDialogId"],t.dialogId);case o.ActionKeys.SelectionChanged:return v(e,t.selection);case o.ActionKeys.AppModeChanged:return e.setIn(["appRuntimeInfo","appMode"],t.mode).setIn(["appRuntimeInfo","animationPreview"],null);case o.ActionKeys.AppRuntimeInfoInit:return e.set("appRuntimeInfo",t.info);case o.ActionKeys.UpdateStoreState:return t.state;case o.ActionKeys.ThemeVariablesChanged:return e.set("theme",r(t.theme));case o.ActionKeys.ActivePagePartChanged:return e.setIn(["appRuntimeInfo","activePagePart"],t.part);case o.ActionKeys.OpenOverlay:return(null==e?void 0:e.overlays.indexOf(t.id))>-1?e:e.set("overlays",e.overlays.concat([t.id]));case o.ActionKeys.CloseOverlay:return(null==e?void 0:e.overlays.indexOf(t.id))>-1?e.set("overlays",e.overlays.filter((function(e){return e!==t.id}))):e;case o.ActionKeys.ActiveOverlay:var O=null==e?void 0:e.overlays;return(null==O?void 0:O.indexOf(t.id))<0||(null==O?void 0:O.indexOf(t.id))===(null==O?void 0:O.length)-1?e:(O=(O=O.filter((function(e){return e!==t.id}))).concat([t.id]),e.set("overlays",O));case o.ActionKeys.SetIsBusy:return e.setIn(["appRuntimeInfo","isBusy"],t.isBusy).setIn(["appRuntimeInfo","loadingType"],t.loadingType);case o.ActionKeys.ZoomScaleChanged:return e.setIn(["appRuntimeInfo","zoomScale"],t.zoomScale);case o.ActionKeys.LayoutChanged:return v(p(e,{appConfig:t.appConfig,type:o.ActionKeys.AppConfigChanged}),t.selection);case o.ActionKeys.ClipboardChanged:return e.setIn(["appRuntimeInfo","clipboard"],t.item);case o.ActionKeys.SectionNavInfoChanged:var S=y(e,t.sectionId,t.navInfo),I=e;if(!(null===(n=e.queryObject)||void 0===n?void 0:n.views)||e.queryObject.views.indexOf(S.currentViewId)<0){var j=e.queryObject.views?e.queryObject.views.split(","):[];(j=j.filter((function(n){return e.appConfig.sections[t.sectionId].views.indexOf(n)<0}))).push(S.currentViewId),I=e.setIn(["queryObject","views"],j.join(","))}return I.setIn(["appRuntimeInfo","sectionNavInfos",t.sectionId],S);case o.ActionKeys.ScreenGroupNavInfoChanged:return e.setIn(["appRuntimeInfo","screenGroupNavInfos",t.screenGroupId],{activeIndex:t.activeIndex,scrollIntoView:t.scrollIntoView});case o.ActionKeys.DialogInfosChanged:return e.setIn(["appRuntimeInfo","dialogInfos"],t.dialogInfos);case o.ActionKeys.SetupAnimationPreview:return e.setIn(["appRuntimeInfo","animationPreview"],t.data);case o.ActionKeys.ClearAnimationPreview:return e.set("appRuntimeInfo",e.appRuntimeInfo.without("animationPreview"));case o.ActionKeys.SetHasNewVersion:return e.set("hasNewVersion",t.hasNew);case o.ActionKeys.UserLocaleChanged:return e.set("userLocaleChanged",t.isChanged);case o.ActionKeys.HasPrivilegeChanged:return e.set("hasPrivilege",!1).set("privilegeError",t.error);case o.ActionKeys.ScreenPanelVisibleChange:return e.setIn(["appRuntimeInfo","screenPanelStates",t.screenId],t.visible);default:return function(e,t){for(var n=a.a.getInstance().getExtensions(s.ExtensionPoints.ReduxStore),r=0;r<n.length;r++){var o=n[r];if(o.getActions().indexOf(t.type)>-1){var i=o.getStoreKey().split("."),u=e.getIn(i);return e.setIn(i,o.getReducer()(u,t,e))}}return e}(e,t)}}function p(e,t){return Object(l.updateStateWhenAppConfigChange)(e,t.appConfig)}function h(e,t){var n;return n=e.appConfig&&e.appConfig.pages?e.appConfig.pages[t]:{},e.setIn(["appRuntimeInfo","activeLayout"],n.layout||null).setIn(["appRuntimeInfo","editingSectionId"],null).setIn(["appRuntimeInfo","selection"],null)}function g(e,t){return e.setIn(["widgetsRuntimeInfo",t,"state"],i.m.Opened)}function m(e,t){return e.setIn(["widgetsRuntimeInfo",t,"state"],i.m.Closed)}function v(e,t){var n,r;if(Object.keys(e.widgetsRuntimeInfo).forEach((function(t){e.widgetsRuntimeInfo[t].isInlineEditing&&(e=e.setIn(["widgetsRuntimeInfo",t,"isInlineEditing"],!1))})),t){var o=t.layoutId,i=t.layoutItemId;if(!(null===(r=null===(n=e.appConfig.layouts[o])||void 0===n?void 0:n.content)||void 0===r?void 0:r[i]))return e=e.setIn(["appRuntimeInfo","selection"],null)}return e=e.setIn(["appRuntimeInfo","selection"],t)}function y(e,t,n){var r,o,i,a,s,u,c,l;if((null===(r=n.visibleViews)||void 0===r?void 0:r.length)>0?(l=n.visibleViews,c=n.visibleViews.length):c=null!==(a=null==(l=null!==(i=null===(o=e.appConfig.sections[t])||void 0===o?void 0:o.views)&&void 0!==i?i:[])?void 0:l.length)&&void 0!==a?a:0,n.useProgress&&(!n.currentViewId||!n.previousViewId)){var d=function(e,t){var n,r,o=b(e,0,1)*(t-1),i=Math.floor(o);r=i,r=function(e){return Math.abs(e-Math.round(e))<1e-7}(o)?Math.round(o)-1:i;return n=b(n=r+1,0,t-1),{previousIndex:r=b(r,0,t-1),progress:o,currentIndex:n}}(n.progress,c),f=d.currentIndex,p=d.previousIndex;n.currentViewId=l[f],n.previousViewId=l[p]}if(null==n.progress){f=l.indexOf(n.currentViewId);n.progress=l.length>1?f/(l.length-1):1}if(null==n.previousViewId){var h=null===(u=null===(s=e.appRuntimeInfo)||void 0===s?void 0:s.sectionNavInfos)||void 0===u?void 0:u[t];if(null==h?void 0:h.currentViewId)n.previousViewId=h.currentViewId;else{f=l.indexOf(n.currentViewId);n.previousViewId=f>0?l[f-1]:l[c-1]}}return n}function b(e,t,n){return Math.max(t,Math.min(e,n))}var w,O=n(128);function S(e){return w||(w=Object(O.b)(f,e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),window._appStore=w,w)}function I(){return w}function j(e,t){var n;function r(){var r=w.getState();t?(r=r.getIn(t))!==n&&(e(n,r),n=r):r!==n&&(e(n,r),n=r)}var o=w.subscribe(r);return r(),o}},function(e,t,n){"use strict";n.r(t),n.d(t,"ActionKeys",(function(){return r})),n.d(t,"appConfigLoaded",(function(){return i})),n.d(t,"appConfigChanged",(function(){return a})),n.d(t,"appPathChanged",(function(){return s})),n.d(t,"appInfoChanged",(function(){return u})),n.d(t,"appIdChanged",(function(){return c})),n.d(t,"widgetClassLoaded",(function(){return l})),n.d(t,"widgetConfigUpgraded",(function(){return d})),n.d(t,"widgetConfigLoaded",(function(){return f})),n.d(t,"openWidget",(function(){return p})),n.d(t,"openWidgets",(function(){return h})),n.d(t,"closeWidget",(function(){return g})),n.d(t,"closeWidgets",(function(){return m})),n.d(t,"activateWidget",(function(){return v})),n.d(t,"initAppContext",(function(){return y})),n.d(t,"i18nMessagesLoaded",(function(){return b})),n.d(t,"queryObjectChanged",(function(){return w})),n.d(t,"setAppInBuilder",(function(){return O})),n.d(t,"appModeChanged",(function(){return S})),n.d(t,"layoutClassLoaded",(function(){return I})),n.d(t,"dataSourceStatusChanged",(function(){return j})),n.d(t,"dataSourceCountStatusChanged",(function(){return E})),n.d(t,"dataSourceInstanceStatusChanged",(function(){return C})),n.d(t,"dataSourceSaveStatusChanged",(function(){return T})),n.d(t,"dataSourceVersionAdded",(function(){return A})),n.d(t,"changeDataSourceGDBVersion",(function(){return _})),n.d(t,"clearDataSourceInfo",(function(){return x})),n.d(t,"updateDataSourceInfo",(function(){return P})),n.d(t,"setDataNeedRefresh",(function(){return D})),n.d(t,"updateWidgetQuery",(function(){return R})),n.d(t,"jimuMapViewAdded",(function(){return k})),n.d(t,"jimuMapViewUpdated",(function(){return M})),n.d(t,"jimuMapViewRemoved",(function(){return N})),n.d(t,"requestAutoControlMapWidget",(function(){return L})),n.d(t,"releaseAutoControlMapWidget",(function(){return U})),n.d(t,"MapWidgetInfoAdded",(function(){return F})),n.d(t,"MapWidgetInfoUpdated",(function(){return V})),n.d(t,"MapWidgetInfoRemoved",(function(){return B})),n.d(t,"initStoreExtensionState",(function(){return W})),n.d(t,"widgetStatePropChange",(function(){return z})),n.d(t,"widgetMutableStatePropChange",(function(){return G})),n.d(t,"setPortalUrl",(function(){return q})),n.d(t,"setPortalInfo",(function(){return H})),n.d(t,"dataSourceSelectedIndexesChanged",(function(){return K})),n.d(t,"dataSourceSelectedIdsChanged",(function(){return $})),n.d(t,"sessionStart",(function(){return Y})),n.d(t,"userSignIn",(function(){return J})),n.d(t,"userSignOut",(function(){return X})),n.d(t,"browserSizeModeChanged",(function(){return Q})),n.d(t,"setWidgetIsInlineEditingState",(function(){return Z})),n.d(t,"setWidgetPreloadProps",(function(){return ee})),n.d(t,"setDataSourcePreloadData",(function(){return te})),n.d(t,"networkStatusChanged",(function(){return ne})),n.d(t,"currentPageChanged",(function(){return re})),n.d(t,"currentDialogChanged",(function(){return oe})),n.d(t,"dialogInfosChanged",(function(){return ie})),n.d(t,"selectionChanged",(function(){return ae})),n.d(t,"clipboardChanged",(function(){return se})),n.d(t,"updateStoreState",(function(){return ue})),n.d(t,"appRuntimeInfoInit",(function(){return ce})),n.d(t,"themeVariablesChanged",(function(){return le})),n.d(t,"setPortalSelf",(function(){return de})),n.d(t,"activePagePartChanged",(function(){return fe})),n.d(t,"openOverlay",(function(){return pe})),n.d(t,"closeOverlay",(function(){return he})),n.d(t,"activeOverlay",(function(){return ge})),n.d(t,"zoomScaleChange",(function(){return me})),n.d(t,"setIsBusy",(function(){return ve})),n.d(t,"layoutChanged",(function(){return ye})),n.d(t,"sectionNavInfoChanged",(function(){return be})),n.d(t,"screenGroupNavInfoChanged",(function(){return we})),n.d(t,"screenPanelVisibleChanged",(function(){return Oe})),n.d(t,"setupAnimationPreview",(function(){return Se})),n.d(t,"clearAnimationPreview",(function(){return Ie})),n.d(t,"setHasNewVersion",(function(){return je})),n.d(t,"userLocaleChanged",(function(){return Ee})),n.d(t,"hasPrivilegeChanged",(function(){return Ce}));var r,o=n(8);function i(e){return{type:r.AppConfigLoaded,appConfig:e}}function a(e){return{type:r.AppConfigChanged,appConfig:e}}function s(e){return{type:r.AppPathChanged,path:e}}function u(e){return{type:r.AppInfoChanged,appInfo:e}}function c(e){return{type:r.AppIdChanged,appId:e}}function l(e){return{type:r.WidgetClassLoaded,widgetUri:e}}function d(e,t){return{type:r.WidgetConfigUpgraded,widgetId:e,config:t}}function f(e,t){return{type:r.WidgetConfigLoaded,widgetId:e,config:t}}function p(e){return{type:r.OpenWidget,widgetId:e}}function h(e){return{type:r.OpenWidgets,widgetIds:e}}function g(e){return{type:r.CloseWidget,widgetId:e}}function m(e){return{type:r.CloseWidgets,widgetIds:e}}function v(e){return{type:r.ActivateWidget,widgetId:e}}function y(e){return{type:r.AppContextInit,appContext:e}}function b(e,t){return{type:r.I18nMessagesLoaded,key:e,messages:t}}function w(e){return{type:r.QueryObjectChanged,query:e}}function O(){return{type:r.SetAppInBuilder}}function S(e){return{type:r.AppModeChanged,mode:e}}function I(e){return{type:r.LayoutClassLoaded,layoutName:e}}function j(e,t){return{type:r.DataSourceStatusChanged,dataSourceId:e,status:t}}function E(e,t){return{type:r.DataSourceCountStatusChanged,dataSourceId:e,countStatus:t}}function C(e,t){return{type:r.DataSourceInstanceStatusChanged,dataSourceId:e,status:t}}function T(e,t){return{type:r.DataSourceSaveStatusChanged,dataSourceId:e,saveStatus:t}}function A(e){return{type:r.DataSourceVersionAdded,dataSourceId:e}}function _(e,t){return{type:r.ChangeDataSourceGDBVersion,dataSourceId:e,gdbVersion:t}}function x(e){return{type:r.ClearDataSourceInfo,dataSourceId:e}}function P(e,t){return{type:r.UpdateDataSourceInfo,dataSourceId:e,dataSourceInfo:t}}function D(e,t){return{type:r.SetDataNeedRefresh,dataSourceId:e,refresh:t}}function R(e,t,n){return{type:r.UpdateWidgetQuery,dataSourceId:e,widgetId:t,query:n}}function k(e,t){return{type:r.JimuMapViewAdded,jimuMapViewId:e,jimuMapViewInfo:t}}function M(e,t){return{type:r.JimuMapViewUpdated,jimuMapViewId:e,jimuMapViewInfo:t}}function N(e){return{type:r.JimuMapViewRemoved,jimuMapViewId:e}}function L(e,t){return{type:r.RequestAutoControlMapWidget,mapWidgetId:e,autoControlWidgetId:t}}function U(e){return{type:r.ReleaseAutoControlMapWidget,mapWidgetId:e}}function F(e,t){return{type:r.MapWidgetInfoAdded,mapWidgetId:e,mapWidgetInfo:t}}function V(e,t){return{type:r.MapWidgetInfoUpdated,mapWidgetId:e,mapWidgetInfo:t}}function B(e){return{type:r.MapWidgetInfoRemoved,mapWidgetId:e}}function W(e){return{type:r.InitStoreExtensionState,extensionId:e}}function z(e,t,n){return{type:r.WidgetStatePropChange,widgetId:e,propKey:t,value:n}}function G(e,t){return{type:r.WidgetMutableStatePropChange,widgetId:e,propKey:t}}function q(e){return{type:r.SetPortalUrl,portalUrl:e}}function H(e,t){return{type:r.SetPortalInfo,portalUrl:e,clientId:t}}function K(e,t){return{type:r.DataSourceSelectedIndexesChanged,dataSourceId:e,selectedIndexes:t}}function $(e,t){return{type:r.DataSourceSelectedIdsChanged,dataSourceId:e,selectedIds:t}}function Y(e){return{type:r.SessionStart,token:e}}function J(e){return{type:r.UserSignIn,user:e}}function X(){return{type:r.UserSignOut}}function Q(e){var t=window.document&&window.document.documentElement;return t&&(t.classList.remove("size-mode-"+o.d.Large),t.classList.remove("size-mode-"+o.d.Medium),t.classList.remove("size-mode-"+o.d.Small),t.classList.add("size-mode-"+e)),{type:r.BrowserSizeModeChanged,browserSizeMode:e}}function Z(e,t){return{type:r.SetWidgetIsInlineEditingState,widgetId:e,isInlineEditing:t}}function ee(e,t){return{type:r.SetWidgetPreloadProps,widgetId:e,props:t}}function te(e,t){return{type:r.SetDataSourcePreloadData,dataSourceId:e,data:t}}function ne(e){return{type:r.NetworkStatusChanged,isOffLine:e}}function re(e){return{type:r.CurrentPageChanged,pageId:e}}function oe(e){return{type:r.CurrentDialogChanged,dialogId:e}}function ie(e){return{type:r.DialogInfosChanged,dialogInfos:e}}function ae(e){return{type:r.SelectionChanged,selection:e}}function se(e){return{type:r.ClipboardChanged,item:e}}function ue(e){return{type:r.UpdateStoreState,state:e}}function ce(e){return{type:r.AppRuntimeInfoInit,info:e}}function le(e){return{type:r.ThemeVariablesChanged,theme:e}}function de(e){return{type:r.SetPortalSelf,portalSelf:e}}function fe(e){return{part:e,type:r.ActivePagePartChanged}}function pe(e){return{type:r.OpenOverlay,id:e}}function he(e){return{type:r.CloseOverlay,id:e}}function ge(e){return{type:r.ActiveOverlay,id:e}}function me(e){return{type:r.ZoomScaleChanged,zoomScale:e}}function ve(e,t){return{type:r.SetIsBusy,isBusy:e,loadingType:t}}function ye(e,t){return{type:r.LayoutChanged,appConfig:e,selection:t}}function be(e,t){return{type:r.SectionNavInfoChanged,sectionId:e,navInfo:t}}function we(e,t,n){return void 0===n&&(n=!0),{type:r.ScreenGroupNavInfoChanged,screenGroupId:e,activeIndex:t,scrollIntoView:n}}function Oe(e,t){return{type:r.ScreenPanelVisibleChange,screenId:e,visible:t}}function Se(e){return{type:r.SetupAnimationPreview,data:e}}function Ie(){return{type:r.ClearAnimationPreview}}function je(e){return{type:r.SetHasNewVersion,hasNew:e}}function Ee(e){return{type:r.UserLocaleChanged,isChanged:e}}function Ce(e){return{type:r.HasPrivilegeChanged,error:e}}!function(e){e.InitStoreExtensionState="INIT_STORE_EXTENSION_STATE",e.AppConfigLoaded="APPCONFIG_LOADED",e.AppConfigChanged="APPCONFIG_CHANGED",e.ThemeVariablesChanged="THEME_VARIABLES_CHANGED",e.SetPortalUrl="SET_PORTAL_URL",e.SetPortalInfo="SET_PORTAL_INFO",e.SetPortalSelf="SET_PORTAL_SELF",e.WidgetClassLoaded="WIDGET_CLASS_LOADED",e.WidgetConfigLoaded="WIDGET_CONFIG_LOADED",e.WidgetConfigUpgraded="WIDGET_CONFIG_UPGRADED",e.OpenWidget="OPEN_WIDGET",e.OpenWidgets="OPEN_WIDGETS",e.CloseWidget="CLOSE_WIDGET",e.CloseWidgets="CLOSE_WIDGETS",e.SetWidgetIsInlineEditingState="SET_WIDGET_IS_INLINE_EDITING_STATE",e.SetWidgetPreloadProps="SET_WIDGET_PRELOAD_PROPS",e.ActivateWidget="ACTIVATE_WIDGET",e.SetAppInBuilder="SET_APP_IN_BUILDER",e.LayoutClassLoaded="LAYOUT_CLASS_LOADED",e.AppContextInit="APP_CONTEXT_INIT",e.I18nMessagesLoaded="I18N_MESSAGES_LOADED",e.QueryObjectChanged="QUERY_OBJECT_CHANGED",e.AppModeChanged="APP_MODE_CHANGED",e.SelectionChanged="SELECTION_CHANGED",e.AppRuntimeInfoInit="APP_RUNTIME_INFO_INIT",e.CurrentPageChanged="CURRENT_PAGE_CHANGED",e.CurrentDialogChanged="CURRENT_DIALOG_CHANGED",e.DialogInfosChanged="DIALOG_INFOS_CHANGED",e.ClipboardChanged="CLIPBOARD_CHANGED",e.AppPathChanged="APP_PATH_CHANGED",e.AppIdChanged="APP_ID_CHANGED",e.AppInfoChanged="APP_INFO_CHANGED",e.NetworkStatusChanged="NETWORK_STATUS_CHANGED",e.DataSourceStatusChanged="DATA_SOURCE_STATUS_CHANGED",e.DataSourceCountStatusChanged="DATA_SOURCE_COUNT_STATUS_CHANGED",e.DataSourceInstanceStatusChanged="DATA_SOURCE_INSTANCE_STATUS_CHANGED",e.DataSourceSaveStatusChanged="DATA_SOURCE_SAVE_STATUS_CHANGED",e.DataSourceVersionAdded="DATA_SOURCE_VERSION_ADDED",e.DataSourceSelectedIndexesChanged="DATA_SOURCE_SELECTED_INDEXES_CHANGED",e.DataSourceSelectedIdsChanged="DATA_SOURCE_SELECTED_IDS_CHANGED",e.SetDataSourcePreloadData="SET_DATA_SOURCE_PRELOAD_DATA",e.SetDataNeedRefresh="SET_DATA_NEED_REFRESH",e.UpdateWidgetQuery="UPDATE_WIDGET_QUERY",e.ChangeDataSourceGDBVersion="CHANGE_DATA_SOURCE_GDB_VERSION",e.ClearDataSourceInfo="CLEARE_DATA_SOURCE_INFO",e.UpdateDataSourceInfo="UPDATE_DATA_SOURCE_INFO",e.JimuMapViewAdded="JIMU_MAPVIEW_ADDED",e.JimuMapViewRemoved="JIMU_MAPVIEW_REMOVED",e.JimuMapViewUpdated="JIMU_MAPVIEW_UPDATED",e.MapWidgetInfoAdded="MAP_WIDGET_INFO_ADDED",e.MapWidgetInfoRemoved="MAP_WIDGET_INFO_REMOVED",e.MapWidgetInfoUpdated="MAP_WIDGET_INFO_UPDATED",e.RequestAutoControlMapWidget="REQUEST_AUTO_CONTROL_MAP_WIDGET",e.ReleaseAutoControlMapWidget="RELEASE_AUTO_CONTROL_MAP_WIDGET",e.WidgetStatePropChange="WIDGET_STATE_PROP_CHANGE",e.WidgetMutableStatePropChange="WIDGET_MUTABLE_STATE_PROP_CHANGE",e.SessionStart="SESSION_START",e.UserSignIn="USER_SIGN_IN",e.UserSignOut="USER_SIGN_OUT",e.BrowserSizeModeChanged="BROWSER_SIZE_MODE_CHANGED",e.UpdateStoreState="UPDATE_STORE_STATE",e.ActivePagePartChanged="ACTIVE_PAGE_PART_CHANGED",e.OpenOverlay="OPEN_OVERLAY",e.CloseOverlay="CLOSE_OVERLAY",e.ActiveOverlay="ACTIVE_OVERLAY",e.SetIsBusy="SET_IS_BUSY",e.ZoomScaleChanged="ZOOM_SCALE_CHANGED",e.LayoutChanged="LAYOUT_CHANGED",e.SectionNavInfoChanged="SECTION_NAV_INFO_CHANGED",e.SetupAnimationPreview="SETUP_ANIMATION_PREVIEW",e.ClearAnimationPreview="CLEAR_ANIMATION_PREVIEW",e.SetHasNewVersion="SET_HAS_NEW_VERSION",e.ScreenGroupNavInfoChanged="SCREEN_GROUP_NAV_INFO_CHANGE",e.UserLocaleChanged="USER_LOCALE_CHANGED",e.HasPrivilegeChanged="HAS_PRIVILEGE_CHANGED",e.ScreenPanelVisibleChange="SCREEN_PANEL_VISIBLE_CHANGE"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return f}));var r,o,i,a,s,u,c,l,d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e.NotCreated="NOT_CREATED",e.Created="CREATED",e.CreateError="CREATE_ERROR",e.Unloaded="UNLOADED",e.Loading="LOADING",e.Loaded="LOADED",e.LoadError="LOAD_ERROR",e.Saving="SAVING",e.Saved="SAVED",e.SaveError="SAVE_ERROR",e.Closed="CLOSED",e.Connecting="CONNECTING",e.Connected="CONNECTED",e.Closing="CLOSING"}(o||(o={})),function(e){e.SimpleLocal="SIMPLE_LOCAL",e.CSV="CSV",e.FeatureLayer="FEATURE_LAYER",e.SceneLayer="SCENE_LAYER",e.FeatureSet="FEATURE_SET",e.GroupLayer="GROUP_LAYER",e.FeatureService="FEATURE_SERVICE",e.MapService="MAP_SERVICE",e.SceneService="SCENE_SERVICE"}(i||(i={})),function(e){e.FeatureLayer="Feature Layer",e.Table="Table",e.GroupLayer="Group Layer",e.SceneLayerPoint="Point",e.SceneLayer3DObject="3DObject"}(a||(a={})),function(e){e.FeatureService="FeatureServer",e.MapService="MapServer",e.SceneService="SceneServer"}(s||(s={})),function(e){e.WebMap="Web Map",e.WebScene="Web Scene",e.FeatureService="Feature Service",e.MapService="Map Service",e.SceneService="Scene Service",e.FeatureCollection="Feature Collection"}(u||(u={})),function(e){e.FeatureLayer="feature",e.MapImageLayer="map-image",e.TileLayer="tile",e.GroupLayer="group",e.SceneLayer="scene"}(c||(c={})),function(e){e.InAllData="IN_ALL_DATA",e.InRemoteConfigView="IN_REMOTE_CONFIG_VIEW",e.InConfigView="IN_CONFIG_VIEW",e.InRuntimeView="IN_RUNTIME_VIEW"}(l||(l={}));var f=function(e){function t(t,n){var r=e.call(this,n)||this;return r.dataSourceId=t,r}return d(t,e),t}(Error)},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}},function(e,t,n){"use strict";var r,o;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),function(e){e.String="STRING",e.Number="NUMBER",e.Field="FIELD",e.Function="FUNCTION",e.Operator="OPERATOR",e.Unknown="UNKNOWN"}(r||(r={})),function(e){e.Average="AVERAGE",e.Count="COUNT",e.Sum="SUM",e.Max="MAX",e.Min="MIN"}(o||(o={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(154);function o(e){return void 0===e&&(e={}),e.portal?Object(r.a)(e.portal):e.authentication?e.authentication.portal:"https://www.arcgis.com/sharing/rest"}},function(e,t,n){"use strict";var r,o,i,a,s,u,c,l;n.d(t,"d",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"m",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"j",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"k",(function(){return h})),n.d(t,"i",(function(){return g})),function(e){e.Small="SMALL",e.Medium="MEDIUM",e.Large="LARGE"}(r||(r={})),function(e){e.String="STRING",e.Number="NUMBER",e.Date="DATE"}(o||(o={})),function(e){e.Blob="esriFieldTypeBlob",e.Date="esriFieldTypeDate",e.Double="esriFieldTypeDouble",e.Geometry="esriFieldTypeGeometry",e.GlobalID="esriFieldTypeGlobalID",e.GUID="esriFieldTypeGUID",e.Integer="esriFieldTypeInteger",e.OID="esriFieldTypeOID",e.Raster="esriFieldTypeRaster",e.Single="esriFieldTypeSingle",e.SmallInteger="esriFieldTypeSmallInteger",e.String="esriFieldTypeString",e.XML="esriFieldTypeXML"}(i||(i={})),function(e){e.Fetching="FETCHING",e.Success="SUCCESS",e.Error="ERROR"}(a||(a={})),function(e){e.Design="DESIGN",e.Run="RUN"}(s||(s={})),function(e){e.Opened="OPENED",e.Active="ACTIVE",e.Closed="CLOSED"}(u||(u={})),function(e){e.None="NONE",e.Page="PAGE",e.Dialog="DIALOG",e.View="VIEW",e.WebAddress="WEB_ADDRESS"}(c||(c={})),function(e){e.Normal="NORMAL",e.Layout="LAYOUT"}(l||(l={}));var d,f,p=["shortDate","shortDateLE","longMonthDayYear","dayShortMonthYear","longDate","shortDateShortTime","shortDateLEShortTime","shortDateShortTime24","shortDateLEShortTime24","shortDateLongTime","shortDateLELongTime","shortDateLongTime24","shortDateLELongTime24","longMonthYear","shortMonthYear","year"];!function(e){e.Header="HEADER",e.Footer="FOOTER",e.Body="BODY"}(d||(d={})),function(e){e.Http="http:",e.Https="https:"}(f||(f={}));var h,g,m="_appWindow";!function(e){e.Image="IMAGE",e.Config="CONFIG"}(h||(h={})),function(e){e.Primary="PRIMARY",e.Secondary="SECONDARY",e.Image="IMAGE",e.Donut="DONUT"}(g||(g={}))},function(e,t,n){var r;!function(){"use strict";var o=function e(t){var n,r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),o={use_static:!1};function i(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function a(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:n})}function s(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,"__immutable_invariants_hold")))}function u(e,t){return e===t||e!=e&&t!=t}function c(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}"object"!=typeof(n=t)||Array.isArray(n)||null===n||void 0!==t.use_static&&(o.use_static=Boolean(t.use_static));var l=["setPrototypeOf"],d=(l.concat(["push","pop","sort","splice","shift","unshift","reverse"]),["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]));function f(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function p(e,t){return a(e,"__immutable_invariants_hold",!0),e}function h(e,t){var n=e[t];a(e,t,(function(){return B(n.apply(e,arguments))}))}function g(e,t,n){var r=n&&n.deep;if(e in this&&(r&&this[e]!==t&&c(t)&&c(this[e])&&(t=B.merge(this[e],t,{deep:!0,mode:"replace"})),u(this[e],t)))return this;var o=S.call(this);return o[e]=B(t),y(o)}l.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]),f.prototype=new Error,f.prototype.constructor=Error;var m=B([]);function v(e,t,n){var r=e[0];if(1===e.length)return g.call(this,r,t,n);var o,i=e.slice(1),a=this[r];if("object"==typeof a&&null!==a)o=B.setIn(a,i,t);else{var s=i[0];o=""!==s&&isFinite(s)?v.call(m,i,t):D.call(P,i,t)}if(r in this&&a===o)return this;var u=S.call(this);return u[r]=o,y(u)}function y(e){for(var t in d){if(d.hasOwnProperty(t))h(e,d[t])}o.use_static||(a(e,"flatMap",w),a(e,"asObject",I),a(e,"asMutable",S),a(e,"set",g),a(e,"setIn",v),a(e,"update",k),a(e,"updateIn",N),a(e,"getIn",L));for(var n=0,r=e.length;n<r;n++)e[n]=B(e[n]);return p(e)}function b(){return new Date(this.getTime())}function w(e){if(0===arguments.length)return this;var t,n=[],r=this.length;for(t=0;t<r;t++){var o=e(this[t],t,this);Array.isArray(o)?n.push.apply(n,o):n.push(o)}return y(n)}function O(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,n){"number"==typeof e&&(n[t]=e.toString())})),e=function(e,n){return-1!==t.indexOf(n)}}var n=i(this);for(var r in this)this.hasOwnProperty(r)&&!1===e(this[r],r)&&(n[r]=this[r]);return V(n)}function S(e){var t,n,r=[];if(e&&e.deep)for(t=0,n=this.length;t<n;t++)r.push(j(this[t]));else for(t=0,n=this.length;t<n;t++)r.push(this[t]);return r}function I(e){"function"!=typeof e&&(e=function(e){return e});var t,n={},r=this.length;for(t=0;t<r;t++){var o=e(this[t],t,this),i=o[0],a=o[1];n[i]=a}return V(n)}function j(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,"__immutable_invariants_hold")||e instanceof Date?e:B.asMutable(e,{deep:!0})}function E(e,t){for(var n in e)Object.getOwnPropertyDescriptor(e,n)&&(t[n]=e[n]);return t}function C(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var n,r,o=Array.isArray(e),a=t&&t.deep,s=t&&t.mode||"merge",l=t&&t.merger;function d(e,r,o){var s,d=B(r[o]),f=l&&l(e[o],d,t),p=e[o];void 0===n&&void 0===f&&e.hasOwnProperty(o)&&u(d,p)||(u(p,s=void 0!==f?f:a&&c(p)&&c(d)?B.merge(p,d,t):d)&&e.hasOwnProperty(o)||(void 0===n&&(n=E(e,i(e))),n[o]=s))}function f(e,t){for(var r in e)t.hasOwnProperty(r)||(void 0===n&&(n=E(e,i(e))),delete n[r])}if(o)for(var p=0,h=e.length;p<h;p++){var g=e[p];for(r in g)g.hasOwnProperty(r)&&d(void 0!==n?n:this,g,r)}else{for(r in e)Object.getOwnPropertyDescriptor(e,r)&&d(this,e,r);"replace"===s&&f(this,e)}return void 0===n?this:V(n)}function T(e,t){var n=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return B.merge(this,e,{deep:n,mode:"replace"})}var A,_,x,P=B({});function D(e,t,n){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var r=e[0];if(1===e.length)return R.call(this,r,t,n);var o,a=e.slice(1),s=this[r];if(o=this.hasOwnProperty(r)&&"object"==typeof s&&null!==s?B.setIn(s,a,t):D.call(P,a,t),this.hasOwnProperty(r)&&s===o)return this;var u=E(this,i(this));return u[r]=o,V(u)}function R(e,t,n){var r=n&&n.deep;if(this.hasOwnProperty(e)&&(r&&this[e]!==t&&c(t)&&c(this[e])&&(t=B.merge(this[e],t,{deep:!0,mode:"replace"})),u(this[e],t)))return this;var o=E(this,i(this));return o[e]=B(t),V(o)}function k(e,t){var n=Array.prototype.slice.call(arguments,2),r=this[e];return B.set(this,e,t.apply(r,[r].concat(n)))}function M(e,t){for(var n=0,r=t.length;null!=e&&n<r;n++)e=e[t[n]];return n&&n==r?e:void 0}function N(e,t){var n=Array.prototype.slice.call(arguments,2),r=M(this,e);return B.setIn(this,e,t.apply(r,[r].concat(n)))}function L(e,t){var n=M(this,e);return void 0===n?t:n}function U(e){var t,n=i(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(n[t]=j(this[t]));else for(t in this)this.hasOwnProperty(t)&&(n[t]=this[t]);return n}function F(){return{}}function V(e){return o.use_static||(a(e,"merge",C),a(e,"replace",T),a(e,"without",O),a(e,"asMutable",U),a(e,"set",R),a(e,"setIn",D),a(e,"update",k),a(e,"updateIn",N),a(e,"getIn",L)),p(e)}function B(e,t,n){if(s(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===r)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(B);if(Array.isArray(e))return y(e.slice());if(e instanceof Date)return i=new Date(e.getTime()),o.use_static||a(i,"asMutable",b),p(i);var i,u=t&&t.prototype,c=(u&&u!==Object.prototype?function(){return Object.create(u)}:F)();for(var l in e)Object.getOwnPropertyDescriptor(e,l)&&(c[l]=B(e[l],void 0,n));return V(c)}function W(e){return function(){var t=[].slice.call(arguments),n=t.shift();return e.apply(n,t)}}function z(e,t){return function(){var n=[].slice.call(arguments),r=n.shift();return Array.isArray(r)?t.apply(r,n):e.apply(r,n)}}return B.from=B,B.isImmutable=s,B.ImmutableError=f,B.merge=W(C),B.replace=W(T),B.without=W(O),B.asMutable=(A=U,_=S,x=b,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?_.apply(t,e):t instanceof Date?x.apply(t,e):A.apply(t,e)}),B.set=z(R,g),B.setIn=z(D,v),B.update=W(k),B.updateIn=W(N),B.getIn=W(L),B.flatMap=W(w),B.asObject=W(I),o.use_static||(B.static=e({use_static:!0})),Object.freeze(B),B}();void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";var r,o,i,a,s;n.d(t,"j",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return d})),function(e){e.All="ALL",e.Simple="SIMPLE"}(r||(r={})),function(e){e.And="AND",e.Or="OR"}(o||(o={})),function(e){e.None="NONE",e.Previous="PREVIOUS",e.All="ALL"}(i||(i={})),function(e){e.StringOperatorIs="STRING_OPERATOR_IS",e.StringOperatorIsNot="STRING_OPERATOR_IS_NOT",e.StringOperatorContains="STRING_OPERATOR_CONTAINS",e.StringOperatorDoesNotContain="STRING_OPERATOR_DOES_NOT_CONTAIN",e.StringOperatorStartsWith="STRING_OPERATOR_STARTS_WITH",e.StringOperatorDoesNotStartWith="STRING_OPERATOR_DOES_NOT_START_WITH",e.StringOperatorEndsWith="STRING_OPERATOR_ENDS_WITH",e.StringOperatorDoesNotEndWith="STRING_OPERATOR_DOES_NOT_END_WITH",e.StringOperatorIsAnyOf="STRING_OPERATOR_IS_ANY_OF",e.StringOperatorIsNoneOf="STRING_OPERATOR_IS_NONE_OF",e.StringOperatorIsBlank="STRING_OPERATOR_IS_BLANK",e.StringOperatorIsNotBlank="STRING_OPERATOR_IS_NOT_BLANK",e.NumberOperatorIs="NUMBER_OPERATOR_IS",e.NumberOperatorIsNot="NUMBER_OPERATOR_IS_NOT",e.NumberOperatorIsAtLeast="NUMBER_OPERATOR_IS_AT_LEAST",e.NumberOperatorIsAtMost="NUMBER_OPERATOR_IS_AT_MOST",e.NumberOperatorIsLessThan="NUMBER_OPERATOR_IS_LESS_THAN",e.NumberOperatorIsGreaterThan="NUMBER_OPERATOR_IS_GREATER_THAN",e.NumberOperatorIsBetween="NUMBER_OPERATOR_IS_BETWEEN",e.NumberOperatorIsNotBetween="NUMBER_OPERATOR_IS_NOT_BETWEEN",e.NumberOperatorIsAnyOf="NUMBER_OPERATOR_IS_ANY_OF",e.NumberOperatorIsNoneOf="NUMBER_OPERATOR_IS_NONE_OF",e.NumberOperatorIsBlank="NUMBER_OPERATOR_IS_BLANK",e.NumberOperatorIsNotBlank="NUMBER_OPERATOR_IS_NOT_BLANK",e.DateOperatorIsOn="DATE_OPERATOR_IS_ON",e.DateOperatorIsNotOn="DATE_OPERATOR_IS_NOT_ON",e.DateOperatorIsIn="DATE_OPERATOR_IS_IN",e.DateOperatorIsNotIn="DATE_OPERATOR_IS_NOT_IN",e.DateOperatorIsBefore="DATE_OPERATOR_IS_BEFORE",e.DateOperatorIsAfter="DATE_OPERATOR_IS_AFTER",e.DateOperatorIsOnOrBefore="DATE_OPERATOR_IS_ON_OR_BEFORE",e.DateOperatorIsOnOrAfter="DATE_OPERATOR_IS_ON_OR_AFTER",e.DateOperatorIsInTheLast="DATE_OPERATOR_IS_IN_THE_LAST",e.DateOperatorIsNotInTheLast="DATE_OPERATOR_IS_NOT_IN_THE_LAST",e.DateOperatorIsBetween="DATE_OPERATOR_IS_BETWEEN",e.DateOperatorIsNotBetween="DATE_OPERATOR_IS_NOT_BETWEEN",e.DateOperatorIsBlank="DATE_OPERATOR_IS_BLANK",e.DateOperatorIsNotBlank="DATE_OPERATOR_IS_NOT_BLANK"}(a||(a={})),function(e){e.UserInput="USER_INPUT",e.Field="FIELD",e.SingleSelectFromUnique="UNIQUE",e.MultipleSelectFromUnique="MULTIPLE",e.SingleSelectFromPredefined="UNIQUE_PREDEFINED",e.MultipleSelectFromPredefined="MULTIPLE_PREDEFINED"}(s||(s={}));var u,c,l,d,f="-empty-";!function(e){e.Single="SINGLE",e.Set="SET"}(u||(u={})),function(e){e.Inline="INLINE",e.Block="BLOCK"}(c||(c={})),function(e){e.None="NONE",e.UseAskForValue="USE_ASK_FOR_VALUE",e.UseLabel="USE_LABEL"}(l||(l={})),function(e){e.Asc="ASC",e.Desc="DESC"}(d||(d={}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"BREAK_POINTS",(function(){return o})),n.d(t,"DEFAULT_VIEWPORT_SIZE",(function(){return i})),n.d(t,"DEFAULT_PAGE_WIDTH",(function(){return a})),n.d(t,"SCREEN_RESOLUTIONS",(function(){return u})),n.d(t,"SHARED_THEME",(function(){return c})),n.d(t,"SELECTION_DATA_VIEW_ID",(function(){return l})),n.d(t,"DATA_VIEW_ID_FOR_NO_SELECTION",(function(){return d})),n.d(t,"REPEAT_CONTEXT_DATA_VIEW_ID",(function(){return f})),n.d(t,"PROVIDE_REPEATED_DATA_SOURCE_CONTEXT_WIDGET_URI",(function(){return p})),n.d(t,"CURRENT_PAGE",(function(){return h})),n.d(t,"DEFAULT_QUERY_PAGE_SIZE",(function(){return g})),n.d(t,"USER_LOCALE_KEY",(function(){return m}));var r=n(8),o=[576,992],i={DESKTOP:{width:1280,height:800},PAD:{width:768,height:1024},PHONE:{width:414,height:896}},a=960,s={};s[r.d.Large]=[{width:1024,height:768},{width:1280,height:800},{width:1280,height:1024},{width:1366,height:768},{width:1440,height:900},{width:1536,height:864},{width:1600,height:900},{width:1920,height:1080}],s[r.d.Medium]=[{width:601,height:962},{width:600,height:1024},{width:768,height:1024},{width:800,height:1280},{width:834,height:1112}],s[r.d.Small]=[{width:360,height:640},{width:360,height:720},{width:360,height:740},{width:375,height:667},{width:414,height:736}];var u=s,c="themes/shared-theme/",l="selection",d="no_selection",f="repeat_context",p=["widgets/common/list/"],h="current_page",g=100,m="exb_user_locale"},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u}));var r=n(24),o=n(18),i={offsetX:0,offsetY:0,rotateX:0,rotateY:0,rotateZ:0,clipLeft:0,clipRight:0,clipTop:0,clipBottom:0,scaleX:1,scaleY:1,opacity:1,zIndex:0},a=function(){function e(e,t){this.type=e,this.option=t}return e.prototype.generateProps=function(e){return Object.assign({},i,e)},e.prototype.getConfigType=function(){var e,t;return(null!==(t=null===(e=this.option)||void 0===e?void 0:e.configType)&&void 0!==t?t:o.b.Default).toLowerCase()},e.prototype.transform=function(e,t,n){return s(e,t,n)},e.prototype.clippath=function(e){return u(e)},e.prototype.propsOnXY=function(e,t){return null},e.prototype.hasMoveEffect=function(){return!1},e}();function s(e,t,n){if(null!=(null==e?void 0:e.offsetX)){var o=e.offsetX,i=e.offsetY,a=e.rotateX,s=e.rotateY,u=e.rotateZ,c=e.scaleX,l=e.scaleY;return Object(r.interpolate)([o,i,a,s,u,c,l],(function(e,r,o,i,a,s,u){var c=Math.max(o,i,a);return 0===e&&0===r&&0===o&&0===i&&0===a&&1===s&&1===u?null:"translate3d(calc("+t+" + "+e+"px), calc("+n+" + "+r+"px), 0)\n        rotate3d("+(0!==c?o/c:0)+", "+(0!==c?i/c:0)+", "+(0!==c?a/c:0)+", "+c+"deg)\n        scale("+s+", "+u+")"}))}return null}function u(e){if(null==e?void 0:e.clipTop){var t=e.clipTop,n=e.clipBottom,o=e.clipLeft,i=e.clipRight;return Object(r.interpolate)([t,n,o,i],(function(e,t,n,r){return 0!==e||0!==t||0!==n||0!==r?"inset("+e+"% "+r+"% "+t+"% "+n+"%)":null}))}return null}},function(e,t,n){"use strict";n.r(t),n.d(t,"parsePath",(function(){return d})),n.d(t,"isAbsoluteUrl",(function(){return f})),n.d(t,"getDataSourceInfosFromQueryObject",(function(){return p})),n.d(t,"getSectionNavInfoFromQueryObject",(function(){return h})),n.d(t,"getAppIdPageIdFromUrl",(function(){return g})),n.d(t,"parseAppPath",(function(){return m})),n.d(t,"getPageLink",(function(){return v})),n.d(t,"getPageLinkUrl",(function(){return y})),n.d(t,"getFolder",(function(){return b})),n.d(t,"getFixedRootPath",(function(){return w})),n.d(t,"getAbsoluteRootUrl",(function(){return O})),n.d(t,"createLocation",(function(){return S})),n.d(t,"createHref",(function(){return I})),n.d(t,"getHrefFromLinkTo",(function(){return j})),n.d(t,"getLinkResultFromHref",(function(){return E})),n.d(t,"updateQueryStringParameter",(function(){return C})),n.d(t,"getProtocol",(function(){return T})),n.d(t,"setProtocol",(function(){return A})),n.d(t,"setLocationProtocal",(function(){return _})),n.d(t,"getUrlHost",(function(){return x})),n.d(t,"removeSearchFromUrl",(function(){return P})),n.d(t,"appendQueryParam",(function(){return D})),n.d(t,"normalize",(function(){return R})),n.d(t,"getAppUrl",(function(){return k})),n.d(t,"getExperienceBuilderOnlineUrl",(function(){return M})),n.d(t,"getArcgisOnlineUrl",(function(){return N}));var r=n(51),o=n(8),i=n(31),a=n(2),s=n(26),u=n(17),c=n(12),l=n(27);function d(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}function f(e){return/(^http:)|(^https:)|(^\/\/)/.test(e)}function p(e){var t={};if(e.data_id)e.data_id.split(",").forEach((function(e){var n=e.split(":"),r=n[0],o=n[1],i={selectionType:"id",selection:[]};o?(o.split("+").forEach((function(e){i.selection.push(e)})),t[r]=i):t[r]=i}));else if(e.data_index){e.data_index.split(",").forEach((function(n){var r=n.split(":"),o=r[0],i=r[1],a={selectionType:"index",selection:[]};i?(i.split("+").forEach((function(t){var n=t.split("-");if(1===n.length)a.selection.push(parseInt(n[0]));else if(2===n.length)for(var r=parseInt(n[0]),o=parseInt(n[1]),i=r;i<=o;i++)a.selection.push(i);else console.error("Bad URL format:",e.data_index)})),t[o]=a):t[o]=a}))}return t}function h(e,t){if(!e.views)return{};var n=e.views.split(","),r={};return Object.keys(t.sections||{}).forEach((function(e){var o,i=null===(o=t.sections[e].views)||void 0===o?void 0:o.find((function(e){return n.indexOf(e)>-1}));i&&(r[e]={currentViewId:i})})),r}function g(e){if(e||(e=window.location),window.jimuConfig.useStructuralUrl)return m(e.pathname);var t=r.parse(e.search);return{appId:t.id,pageId:t.page}}function m(e){void 0===e&&(e=window.location.pathname);var t=e.substr(window.jimuConfig.rootPath.length),n={pageId:null,appId:null},r=t.split("/").filter((function(e){return e}));return""===t?n:1===r.length?(t.indexOf(".")>-1||"page"===r[0]||(n.appId=r[0]),n):2===r.length?/^page\/page\//.test(t)?(n.pageId="page",n):/^page/.test(t)?(n.pageId=r[1],n):(n.appId=r[0],n):r.length>=3?(n.appId=r[0],n.pageId=r[2],n):(console.log("URL pattern is not correct.",e),n)}function v(e){if(window.jimuConfig.useStructuralUrl){var t=m();return{path:t.appId?""+window.jimuConfig.rootPath+t.appId+"/page/"+e+"/":window.jimuConfig.rootPath+"page/"+e+"/",qo:null}}return{path:window.jimuConfig.rootPath,qo:{page:e}}}function y(e,t){e===c.CURRENT_PAGE&&(e=Object(a.b)().getState().appRuntimeInfo.currentPageId);var n,o=v(e);return(n=t&&o.qo?Object.assign({},t,o.qo):t||o.qo)&&!Object(i.isDeepEqual)(n,{})?o.path+"?"+r.stringify(n):o.path}function b(e){if(/\/$/.test(e))return e;if(!([".js",".css",".scss",".html"].filter((function(t){return new RegExp(t+"$").test(e)})).length>0))return e;var t=e.split("/");return t.pop(),t.join("/")}function w(){var e;return e=window.jimuConfig.packagesInAppFolder||window.jimuConfig.rootPath===window.jimuConfig.mountPath?window.jimuConfig.rootPath:window.jimuConfig.rootPath+"../",window.jimuConfig.buildNumber?e+window.jimuConfig.buildNumber+"/":e}function O(){return window.location.protocol+"//"+window.location.host+w()}function S(e,t){var n=d(t);return"/"===n.pathname.charAt(0)?n:""===n.pathname?(n.pathname=e.pathname,n):"."===n.pathname.charAt(0)?(n.pathname=e.pathname+"/"+n.pathname.substr(2),n):(n.pathname=e.pathname+"/"+n.pathname,n)}function I(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function j(e,t,n,i){var c;if(void 0===n&&(n=window.location),void 0===i&&(i=!1),"string"==typeof e)return f(e)?e:/^www./.test(e)?"//"+e:I(S(n,e));if(!e.linkType)return I(e);var l,d=e.linkType,p=e,h=t,g=Object(a.b)().getState().appConfig;switch(d){case o.h.Page:return t=i?t:null==t?void 0:t.without("dlg"),y(p.value,t);case o.h.Dialog:(null===(c=g.dialogs[p.value])||void 0===c?void 0:c.mode)===u.c.Fixed&&(h=h?h.set("dlg",p.value):{dlg:p.value}),l=S(n,"?"+r.stringify(h));break;case o.h.View:var m=p.value.split(",")[0],v=p.value.split(",").slice(1);if(null==h?void 0:h.views){var b=h.views.split(",");v.forEach((function(e){(b=b.filter((function(t){return!Object(s.isTwoViewsInSaveSection)(g,e,t)}))).push(e)})),h=h.set("views",b.join(","))}else h=h?h.set("views",v.join(",")):{views:v.join(",")};return y(m,h);case o.h.WebAddress:var w=p.value;if(f(w))return w;if(/^www./.test(w))return"//"+w;case o.h.None:return null;default:console.error("Unknown type:",d)}return l?I(l):void 0}function E(e){if(!e)return{linkType:o.h.None};if(/^http/.test(e))return{linkType:o.h.WebAddress,value:e};var t=d(e),n=g(t).pageId,i=r.parse(t.search);return i.views?{linkType:o.h.View,value:n+","+i.views}:i.dlg?{linkType:o.h.Dialog,value:i.dlg}:{linkType:o.h.Page,value:n}}function C(e,t,n){if(!n)return e;var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+o+t+"="+n}function T(e){var t;return 0===(e=e.toLowerCase()).indexOf("https://")?t="https:":0===e.indexOf("http://")&&(t="http:"),t}function A(e,t){return T(e)?e.replace(/^https?:\/\//,t+"//"):t+"//"+e}function _(e){return A(e,window.location.protocol)}function x(e){return 0===(e=(e=(e||"").trim()).replace(/^(http(s?):?)\/\//gi,"")).indexOf("//")&&(e=e.slice(2)),e.split("/")[0]}function P(e){return(e=(e||"").trim()).split("?")[0]}function D(e,t,n){var r=(e=(e||"").trim()).indexOf("#"),o="";return r>-1&&(o=e.substring(r),e=e.substring(0,r)),e=e.indexOf("?")>-1?e+"&"+t+"="+n+o:e+"?"+t+"="+n+o}function R(e){return new URL(e).href}function k(e){var t,n=e.appId,r=e.isTemplate,o=e.isArcGisOnlineTemplate,i=e.isPortalRequest,s=e.isDraft,u=e.defaultTemplateName,c=Object(a.b)().getState().portalUrl,d=r?"template":"experience",f=window.jimuConfig.isDevEdition&&i,p=Object(l.isAGOLDomain)(c),h=f&&p,g="";return s&&(g=window.jimuConfig.useStructuralUrl?"?draft=true":"&draft=true"),t=window.jimuConfig.useStructuralUrl?""+window.jimuConfig.mountPath+d+"/"+n+"/"+g:""+window.jimuConfig.mountPath+d+"/?id="+n+g,(o||h)&&(t=M()+"/"+d+"/"+n+"/"),f&&!h&&(t=c+"/apps/experiencebuilder/"+d+"?id="+n),u&&(t=window.jimuConfig.mountPath+"template/?config="+w()+"templates/"+u+".json"),t}function M(){var e=Object(a.b)().getState().portalUrl;return(null==e?void 0:e.endsWith("mapsdevext.arcgis.com"))||(null==e?void 0:e.endsWith("mapsdevext.arcgis.com/"))?"https://experiencedev.arcgis.com":(null==e?void 0:e.endsWith("mapsqa.arcgis.com"))||(null==e?void 0:e.endsWith("mapsqa.arcgis.com/"))?"https://experienceqa.arcgis.com":"https://experience.arcgis.com"}function N(){var e=Object(a.b)().getState().portalUrl;return(null==e?void 0:e.endsWith("mapsdevext.arcgis.com"))||(null==e?void 0:e.endsWith("mapsdevext.arcgis.com/"))?"https://devext.arcgis.com":(null==e?void 0:e.endsWith("mapsqa.arcgis.com"))||(null==e?void 0:e.endsWith("mapsqa.arcgis.com/"))?"https://qaext.arcgis.com":"https://www.arcgis.com"}},function(e,t,n){"use strict";n.r(t),n.d(t,"getModuleSync",(function(){return a})),n.d(t,"loadModule",(function(){return s})),n.d(t,"loadModules",(function(){return u})),n.d(t,"resolveModuleFullUrl",(function(){return c})),n.d(t,"resolveModuleFullPath",(function(){return l})),n.d(t,"getJimuForBuilderModules",(function(){return d}));var r=n(2),o=n(3),i=n(31);function a(e){var t=window.SystemJS.get(c(e));return t?t.__useDefault?t.default:t:null}function s(e,t){var n=(window._cachedModules||{})[e],a=!!t&&!!n&&t.every((function(e){return e in n}));return Promise.resolve(a?n:window.SystemJS.import(e)).then((function(e){return e=e.__useDefault?e.default:e})).catch((function(e){console.error("Load module error.",e),Object(i.checkUpdate)().then((function(e){e&&Object(r.b)().dispatch(Object(o.setHasNewVersion)(!0))}))}))}function u(e){return Promise.all(e.map((function(e){return s(e)})))}function c(e){return window.SystemJS.resolve(e)}function l(e){var t=c(e);return/^file:/.test(t)?t:t.substring((window.location.protocol+"//"+window.location.host).length,t.length)}function d(){return a("jimu-for-builder")}},function(e,t,n){"use strict";n.r(t),n.d(t,"NODEJS_DEFAULT_REFERER_HEADER",(function(){return o.b})),n.d(t,"setDefaultRequestOptions",(function(){return o.e})),n.d(t,"ArcGISAuthError",(function(){return o.a})),n.d(t,"checkForErrors",(function(){return o.c})),n.d(t,"request",(function(){return o.d})),n.d(t,"appendCustomParams",(function(){return i.a})),n.d(t,"ArcGISRequestError",(function(){return a.a})),n.d(t,"cleanUrl",(function(){return s.a})),n.d(t,"encodeFormData",(function(){return u.a})),n.d(t,"encodeParam",(function(){return c.a})),n.d(t,"encodeQueryString",(function(){return c.b})),n.d(t,"ErrorTypes",(function(){return r})),n.d(t,"requiresFormData",(function(){return l.b})),n.d(t,"processParams",(function(){return l.a})),n.d(t,"warn",(function(){return d.a}));var r,o=n(40),i=n(155),a=n(80),s=n(154),u=n(115),c=n(84);!function(e){e.ArcGISRequestError="ArcGISRequestError",e.ArcGISAuthError="ArcGISAuthError"}(r||(r={}));var l=n(63),d=n(114)},function(e,t,n){"use strict";var r,o,i,a,s,u,c,l;n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),function(e){e.Page="pages",e.View="views",e.ScreenPanel="screens_panel",e.ScreenMain="screens_main",e.Dialog="dialogs",e.Header="header",e.Footer="footer"}(r||(r={})),function(e){e.Fade="FADE",e.Cover="COVER",e.Push="PUSH"}(o||(o={})),function(e){e.Top="TOP",e.Upper="UPPER",e.Lower="LOWER",e.Bottom="BOTTOM"}(i||(i={})),function(e){e.Normal="NORMAL",e.Folder="FOLDER",e.Link="LINK"}(a||(a={})),function(e){e.FitWindow="FIT_WINDOW",e.AutoScroll="AUTO_SCROLL"}(s||(s={})),function(e){e.Fixed="FIXED",e.Anchored="ANCHORED"}(u||(u={})),function(e){e.Center="CENTER",e.Left="LEFT",e.Right="RIGHT",e.Top="TOP",e.Bottom="BOTTOM"}(c||(c={})),function(e){e.NoButton="NO_BUTTON",e.ButtonInline="BUTTON_INLINE",e.ButtonBlock="BUTTON_BLOCK"}(l||(l={}))},function(e,t,n){"use strict";var r,o,i,a,s;n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),function(e){e.ScrollIntoView="SCROLL_IN",e.Manual="MANUAL"}(r||(r={})),function(e){e.None="NONE",e.Pulse="PULSE",e.RubberBand="RUBBER_BAND",e.FadeIn="FADE_IN",e.FadeOut="FADE_OUT",e.FlyIn="FLY_IN",e.ZoomIn="ZOOM_IN",e.WipeIn="WIPE_IN",e.SpinIn="SPIN_IN",e.FloatIn="FLOAT_IN"}(o||(o={})),function(e){e.Default="DEFAULT",e.Gentle="GENTLE",e.Wobbly="WOBBLY",e.Stiff="STIFF",e.Slow="SLOW",e.Molasses="MOLASSES"}(i||(i={})),function(e){e.Top="TOP",e.Bottom="BOTTOM",e.Left="LEFT",e.Right="RIGHT"}(a||(a={})),function(e){e.AsOne="AS_ONE",e.OneByOne="ONE_BY_ONE"}(s||(s={}))},function(e,t,n){"use strict";var r=n(2),o=n(4),i=n(42),a=n(37),s=n(15),u=n(3),c=n(67),l=n(12),d=function(){function e(){if(this.dataSources={},this.dataSourcesCreatePromise={},this.dataSourceFactories={},window.jimuConfig.isBuilder)console.error("DataSourceManager should not be created in builder");else{Object(r.c)(this.onStoreChange.bind(this),["appConfig","dataSources"])}}return e.getInstance=function(){return window.jimuConfig.isBuilder?window._appWindow&&window._appWindow._dataSourceManager:(e.instance||(e.instance=new e,window._dataSourceManager=e.instance),e.instance)},e.prototype.getDataSource=function(e){return this.dataSources[e]},e.prototype.getDataViewDataSource=function(e,t){return this.dataSources[this.getDataViewDataSourceId(e,t)]},e.prototype.getDataSources=function(){return this.dataSources},e.prototype.getDataSourcesAsArray=function(){var e=this;return Object.keys(this.dataSources).map((function(t){return e.dataSources[t]}))},e.prototype.setDataSource=function(e,t){this.dataSources[e]=t},e.prototype.destroyAllDataSources=function(){var e=this;Object.keys(this.dataSources).forEach((function(t){return e.destroyDataSource(t)})),this.dataSourcesCreatePromise={}},e.prototype.destroyDataSource=function(e){var t=this;this.dataSources[e]?(Object(r.b)().dispatch(Object(u.clearDataSourceInfo)(e)),this.dataSources[e].getDataViews().forEach((function(e){return t.destroyDataSource(e.id)})),this.dataSources[e].getLocalDataSources().forEach((function(e){return t.destroyDataSource(e.id)})),this.getDataSourcesAsArray().forEach((function(n){n.getOriginDataSources().find((function(n){return n===t.dataSources[e]}))&&t.destroyDataSource(n.id)})),this.dataSources[e].destroy(),delete this.dataSources[e],delete this.dataSourcesCreatePromise[e]):this.dataSourcesCreatePromise[e]&&delete this.dataSourcesCreatePromise[e]},e.prototype.getConfiguredDataSources=function(){var e=this;return Object.keys(this.dataSources).filter((function(t){return!e.dataSources[t].getDataSourceJson().isOutputFromWidget})).map((function(t){return e.getDataSource(t)}))},e.prototype.getWidgetGeneratedDataSources=function(){var e=this,t={},n=this.getAppConfig();return Object.keys(n.widgets).filter((function(e){return n.widgets[e].outputDataSources})).map((function(r){t[r]=n.widgets[r].outputDataSources.asMutable().map((function(t){return e.getDataSource(t)}))})),t},e.prototype.createAllDataSources=function(){var e=this,t=this.getAppConfig()&&this.getAppConfig().dataSources,n=[];return t&&Object.keys(t).forEach((function(t){e.dataSources[t]||n.push(e.createDataSource(t).then((function(t){return e.createDataViews(t).then((function(){return t}))})).catch((function(e){console.error("Create data source failed",t,e),Promise.resolve(null)})))})),Promise.all(n)},e.prototype.createDataViews=function(e){var t=this;return Promise.all(e.getDataSourceJson().dataViews&&Object.keys(e.getDataSourceJson().dataViews).map((function(n){return t.createDataSource(e.id,n)}))||[])},e.prototype.createDataSource=function(e,t,n){var i,a,s,c=this;if("string"==typeof e){if(!(d=this.getAppConfig().dataSources[e]))throw Error("Can not create data source."+e);a={dataSourceJson:d,dataSourceManager:this,id:s=e}}else if(e.dataSourceJson||e.belongToDataSource)s=(a=e).dataSourceJson?a.dataSourceJson.id:a.belongToDataSource.getMainDataSource().id,a.dataViewId&&(t=a.dataViewId,delete a.dataViewId),a.localId&&(n=a.localId,delete a.localId),a.dataSourceManager=this,a.id=s;else{var d;s=(d=e).id,a={dataSourceJson:d,dataSourceManager:this,id:s}}var f=function(e){return c.dataSourcesCreatePromise[e]?c.dataSourcesCreatePromise[e]:c.createDataSource(e)},p=function(e,t){var n=c.getDataViewDataSourceId(e,t);return c.getDataSource(n)?Promise.resolve(c.getDataSource(n)):(c.dataSourcesCreatePromise[e]=f(s),c.dataSourcesCreatePromise[e].then((function(e){return c.createDataView(e,t)})))};if(t&&n){var h=this.getDataViewDataSourceId(s,t);this.getLocalDataSourceId(h,n);return p(s,t).then((function(e){return c.createLocalDataSource(e,n)}))}return t?p(s,t):n?(this.dataSourcesCreatePromise[s]=f(s),this.dataSourcesCreatePromise[s].then((function(e){return c.createLocalDataSource(e,n)}))):this.dataSourcesCreatePromise[s]?this.dataSourcesCreatePromise[s]:((null===(i=Object(r.b)().getState().dataSourcesInfo[s])||void 0===i?void 0:i.instanceStatus)!==o.b.NotCreated&&Object(r.b)().dispatch(Object(u.dataSourceInstanceStatusChanged)(s,o.b.NotCreated)),this.dataSourcesCreatePromise[s]=this.createOriginDataSources(a.dataSourceJson).then((function(){return c.createDataSourceObj(a)})).then((function(e){var t=Object(r.b)().getState().dataSourcesPreloadData[s];return t&&e.setJsonData(t.asMutable()),e.ready().then((function(){return e.fetchSchema()})).then((function(t){return c.initSchema(e,t),c.afterCreate(e),c.createDataViewObj(e,l.SELECTION_DATA_VIEW_ID),e}))})).catch((function(t){return console.error("Create datasource error.",e,t),Object(r.b)().dispatch(Object(u.dataSourceInstanceStatusChanged)(s,o.b.CreateError)),Promise.reject(new o.a(s,t))})),this.dataSourcesCreatePromise[a.dataSourceJson.id])},e.prototype.createDataView=function(e,t){var n=this.getDataViewDataSourceId(e.id,t);return this.getDataSource(n)?this.getDataSource(n):this.createDataViewObj(e,t)},e.prototype.createLocalDataSource=function(e,t){var n=this.getLocalDataSourceId(e.id,t);return this.getDataSource(n)?this.getDataSource(n):this.createLocalDataSourceObj(e,t)},e.prototype.afterCreate=function(e){this.dataSources[e.id]=e,Object(r.b)().dispatch(Object(u.dataSourceInstanceStatusChanged)(e.id,o.b.Created));var t=e.getMainDataSource().id;if(e.id!==t){var n=Object(r.b)().getState().dataSourcesInfo[t].selectedIds;n&&n.length>0&&Object(r.b)().dispatch(Object(u.dataSourceSelectedIdsChanged)(e.id,n.asMutable()))}},e.prototype.getDataViewDataSourceId=function(e,t){return e+"-"+t},e.prototype.getLocalDataSourceId=function(e,t){return e+"-"+t},e.prototype.createDataSourceByUseDataSource=function(e,t){var n=this,r=this.getAppConfig().dataSources;return r[e.mainDataSourceId]?e.dataViewId?e.dataViewId===l.SELECTION_DATA_VIEW_ID||r[e.mainDataSourceId].dataViews[e.dataViewId]?this.createDataSource(e.mainDataSourceId,e.dataViewId,t):(console.error("Can not find data view: "+e.mainDataSourceId+", "+e.dataViewId),Promise.reject("Can not find data view: "+e.mainDataSourceId+", "+e.dataViewId)):this.createDataSource(e.mainDataSourceId,null,t):r[e.rootDataSourceId]?this.createDataSource(e.rootDataSourceId).then((function(r){var o=n.getDataSource(e.mainDataSourceId);return e.dataViewId?e.dataViewId===l.SELECTION_DATA_VIEW_ID||o.getDataSourceJson().dataViews[e.dataViewId]?n.createDataSource(o.getDataSourceJson(),e.dataViewId,t):(console.error("Can not find data view: "+e.mainDataSourceId+", "+e.dataViewId),Promise.reject("Can not find data view: "+e.mainDataSourceId+", "+e.dataViewId)):t?n.createDataSource(o.getDataSourceJson(),null,t):o})):(console.error("Can not find data source:",e.mainDataSourceId),Promise.reject("Can not find data source:"+e.mainDataSourceId))},e.prototype.createOriginDataSources=function(e){var t=this;return e.isOutputFromWidget&&e.originDataSources&&e.originDataSources.length>0?Promise.all(e.originDataSources.asMutable().map((function(e){return t.createDataSourceByUseDataSource(e)}))).then((function(){return Promise.resolve()})):Promise.resolve()},e.prototype.initSchema=function(e,t){e.setFetchedSchema(t);var n=e.getDataSourceJson().schema;if(e.getDataSourceJson().isOutputFromWidget)if(e.getDataSourceJson().schema)e.setSchema(e.getDataSourceJson().schema);else if(e.getDataSourceJson().originDataSources&&e.getDataSourceJson().originDataSources.length>0)if(1===e.getDataSourceJson().originDataSources.length){var r=this.getDataSource(e.getDataSourceJson().originDataSources[0].dataSourceId);e.setSchema(r&&r.getSchema())}else console.error("Datasource created from more than one data source must save the schema in app config.");else console.error("Datasource without origin data source must save the schema in app config.");else{var o=this.mergeSchema(e,n,t);e.setSchema(o)}},e.prototype.mergeSchema=function(e,t,n){if(e.isDataSourceSet){if(!t)return n;var r=t;return Object.keys(n.childSchemas).forEach((function(o){if(e.getReversedConfigSchema().childSchemas[o])e.getReversedConfigSchema().childSchemas[o].forEach((function(t){r=r.setIn(["childSchemas",t.jimuChildId],e.getChildDataSource(t.jimuChildId).getSchema())}));else{if(t.childSchemas[o])return void console.warn("Layer existed, please re-map the data source.",e.id,o);r=r.setIn(["childSchemas",o],n.childSchemas[o])}})),Object.keys(t.childSchemas).forEach((function(e){var r=t.childSchemas[e].childId;n.childSchemas[r]||console.error("Used data is not found.",r)})),r}return this.mergeOneSchema(e,t,n)},e.prototype.mergeOneSchema=function(e,t,n){if(!t)return n;var r=t;return Object.keys(n.fields).forEach((function(o){if(e.getReversedConfigSchema().fields[o])e.getReversedConfigSchema().fields[o].forEach((function(e){r.fields[e.jimuName].alias||(r=r.setIn(["fields",e.jimuName,"alias"],n.fields[o].alias))}));else{if(t.fields[o])return void console.warn("Field name existed, please re-map the data source.",e.id,o);var i=n.fields[o];r=r.setIn(["fields",o],i)}})),Object.keys(t.fields).forEach((function(e){var r=t.fields[e].name;n.fields[r]||console.error("Used field is not found.",r)})),r},e.prototype.getDataSourceFactory=function(e){var t=this,n=this.getDataSourceFactorySync(e);if(n)return Promise.resolve(n);var r=this.getDataSourceFactoryUri(e);return Object(s.loadModule)(r,["default"]).then((function(o){try{n=new o.default,t.dataSourceFactories[r]=n}catch(t){throw console.error("Load data source factory error.",e,t),t}return n}))},e.prototype.getDataSourceFactoryUri=function(e){var t=i.a.getInstance().getExtensions(a.ExtensionPoints.DataSourceFactoryUri).filter((function(t){return t.getFactoryUri(e)}))[0];if(!t)throw console.error("Unknown data source type:"+e),Error("Unknown data source type:"+e);return t.getFactoryUri(e)},e.prototype.getDataSourceFactorySync=function(e){var t=this.getDataSourceFactoryUri(e),n=this.dataSourceFactories[t];if(n)return n},e.prototype.createDataSourceObj=function(e){return this.getDataSourceFactory(e.dataSourceJson.type).then((function(t){var n;try{n=t.createDataSource(e)}catch(t){return console.error("Create data source error.",e.dataSourceJson,t),Promise.reject(t)}return Promise.resolve(n)}))},e.prototype.createDataViewObj=function(e,t){var n=this.getDataSourceFactoryUri(e.type),i=this.dataSourceFactories[n];if(!i)throw Error("Data source is not created");var a=null;try{a=i.createDataSource({id:this.getDataViewDataSourceId(e.id,t),dataViewId:t,belongToDataSource:e,dataSourceManager:this}),this.afterCreate(a)}catch(n){console.error("Create data view error.",e.id,t,n),Object(r.b)().dispatch(Object(u.dataSourceInstanceStatusChanged)(this.getDataViewDataSourceId(e.id,t),o.b.CreateError))}return a},e.prototype.createLocalDataSourceObj=function(e,t){var n=this.getDataSourceFactoryUri(e.type),i=this.dataSourceFactories[n];if(!i)throw Error("Data source is not created");var a=null;try{a=i.createDataSource({id:this.getLocalDataSourceId(e.id,t),dataViewId:e.isDataView?e.dataViewId:null,localId:t,belongToDataSource:e,dataSourceManager:this}),this.afterCreate(a)}catch(n){console.error("Create local data source error.",e.id,t,n),Object(r.b)().dispatch(Object(u.dataSourceInstanceStatusChanged)(this.getLocalDataSourceId(e.id,t),o.b.CreateError))}return a},e.prototype.getAppConfig=function(){return Object(r.b)().getState().appConfig},e.prototype.onStoreChange=function(e,t){var n=this;e&&t&&Object.keys(e).forEach((function(r){if(t[r]){if(t[r]&&e[r]){var o=t[r],i=n.getDataSource(r);i&&n.updateDataSourceByDataSourceJson(i,o)}}else Object(c.a)((function(){n.destroyDataSource(r)}))})),window.jimuConfig.isInBuilder&&e&&t&&Object.keys(t).forEach((function(t){var o,i=Object(r.b)().getState();e[t]||(null===(o=i.dataSourcesInfo[t])||void 0===o?void 0:o.instanceStatus)||n.createDataSource(t).then((function(e){n.createDataViews(e)}))}))},e.prototype.updateDataSourceByDataSourceJson=function(e,t){var n=this;if(e.getDataSourceJson()!==t){if(e.getDataSourceJson().query!==(null==t?void 0:t.query)&&Object(c.a)((function(){e.clearData()})),e.getDataSourceJson().dataViews!==(null==t?void 0:t.dataViews)){var r=e.getDataSourceJson().dataViews,o=null==t?void 0:t.dataViews;r&&o&&Object.keys(r).forEach((function(i){if(o[i]){if(o[i]&&r[i]){var a=n.getDataViewDataSourceId(e.id,i),s=n.getDataSource(a);s&&s.getDataSourceJson().dataViews[i]!==t.dataViews[i]&&Object(c.a)((function(){s.clearData()}))}}else Object(c.a)((function(){n.destroyDataSource(n.getDataViewDataSourceId(e.id,i))}))}))}e.getDataSourceJson().childDataSourceJsons!==(null==t?void 0:t.childDataSourceJsons)&&e.getChildDataSources().forEach((function(e){var r;n.updateDataSourceByDataSourceJson(e,null===(r=null==t?void 0:t.childDataSourceJsons)||void 0===r?void 0:r[e.jimuChildId])})),e.setDataSourceJson(t),Object(c.a)((function(){e.addVersion()}))}},e}();t.a=d},function(e,t,n){"use strict";n.r(t),n.d(t,"Provider",(function(){return l})),n.d(t,"connectAdvanced",(function(){return j})),n.d(t,"ReactReduxContext",(function(){return i})),n.d(t,"connect",(function(){return B})),n.d(t,"batch",(function(){return X.unstable_batchedUpdates})),n.d(t,"useDispatch",(function(){return H})),n.d(t,"createDispatchHook",(function(){return q})),n.d(t,"useSelector",(function(){return J})),n.d(t,"createSelectorHook",(function(){return $})),n.d(t,"useStore",(function(){return G})),n.d(t,"createStoreHook",(function(){return z})),n.d(t,"shallowEqual",(function(){return C}));var r=n(0),o=n.n(r),i=(n(203),o.a.createContext(null));var a=function(e){e()},s={notify:function(){}};function u(){var e=a,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var c=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=u())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}();var l=function(e){var t=e.store,n=e.context,a=e.children,s=Object(r.useMemo)((function(){var e=new c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=Object(r.useMemo)((function(){return t.getState()}),[t]);Object(r.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,u]);var l=n||i;return o.a.createElement(l.Provider,{value:s},a)},d=n(11),f=n(43),p=n(78),h=n.n(p),g=n(153),m="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,v=[],y=[null,null];function b(e,t){var n=e[1];return[t.payload,n+1]}function w(e,t,n){m((function(){return e.apply(void 0,t)}),n)}function O(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function S(e,t,n,r,o,i,a,s,u,c){if(e){var l=!1,d=null,f=function(){if(!l){var e,n,f=t.getState();try{e=r(f,o.current)}catch(e){n=e,d=e}n||(d=null),e===i.current?a.current||u():(i.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var I=function(){return[null,0]};function j(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,u=n.methodName,l=void 0===u?"connectAdvanced":u,p=n.renderCountProp,m=void 0===p?void 0:p,j=n.shouldHandleStateChanges,E=void 0===j||j,C=n.storeKey,T=void 0===C?"store":C,A=(n.withRef,n.forwardRef),_=void 0!==A&&A,x=n.context,P=void 0===x?i:x,D=Object(f.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),R=P;return function(t){var n=t.displayName||t.name||"Component",i=s(n),a=Object(d.a)({},D,{getDisplayName:s,methodName:l,renderCountProp:m,shouldHandleStateChanges:E,storeKey:T,displayName:i,wrappedComponentName:n,WrappedComponent:t}),u=D.pure;var p=u?r.useMemo:function(e){return e()};function j(n){var i=Object(r.useMemo)((function(){var e=n.forwardedRef,t=Object(f.a)(n,["forwardedRef"]);return[n.context,e,t]}),[n]),s=i[0],u=i[1],l=i[2],h=Object(r.useMemo)((function(){return s&&s.Consumer&&Object(g.isContextConsumer)(o.a.createElement(s.Consumer,null))?s:R}),[s,R]),m=Object(r.useContext)(h),j=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(m)&&Boolean(m.store);var C=j?n.store:m.store,T=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,a)}(C)}),[C]),A=Object(r.useMemo)((function(){if(!E)return y;var e=new c(C,j?null:m.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[C,j,m]),_=A[0],x=A[1],P=Object(r.useMemo)((function(){return j?m:Object(d.a)({},m,{subscription:_})}),[j,m,_]),D=Object(r.useReducer)(b,v,I),k=D[0][0],M=D[1];if(k&&k.error)throw k.error;var N=Object(r.useRef)(),L=Object(r.useRef)(l),U=Object(r.useRef)(),F=Object(r.useRef)(!1),V=p((function(){return U.current&&l===L.current?U.current:T(C.getState(),l)}),[C,k,l]);w(O,[L,N,F,l,V,U,x]),w(S,[E,C,_,T,L,N,F,U,x,M],[C,_,T]);var B=Object(r.useMemo)((function(){return o.a.createElement(t,Object(d.a)({},V,{ref:u}))}),[u,t,V]);return Object(r.useMemo)((function(){return E?o.a.createElement(h.Provider,{value:P},B):B}),[h,B,P])}var C=u?o.a.memo(j):j;if(C.WrappedComponent=t,C.displayName=i,_){var A=o.a.forwardRef((function(e,t){return o.a.createElement(C,Object(d.a)({},e,{forwardedRef:t}))}));return A.displayName=i,A.WrappedComponent=t,h()(A,t)}return h()(C,t)}}function E(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function C(e,t){if(E(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!E(e[n[o]],t[n[o]]))return!1;return!0}var T=n(128);function A(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function _(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function x(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=_(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=_(o),o=r(t,n)),o},r}}var P=[function(e){return"function"==typeof e?x(e):void 0},function(e){return e?void 0:A((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?A((function(t){return Object(T.a)(e,t)})):void 0}];var D=[function(e){return"function"==typeof e?x(e):void 0},function(e){return e?void 0:A((function(){return{}}))}];function R(e,t,n){return Object(d.a)({},n,{},e,{},t)}var k=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?o&&i(u,r)||(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return R}}];function M(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function N(e,t,n,r,o){var i,a,s,u,c,l=o.areStatesEqual,d=o.areOwnPropsEqual,f=o.areStatePropsEqual,p=!1;function h(o,p){var h,g,m=!d(p,a),v=!l(o,i);return i=o,a=p,m&&v?(s=e(i,a),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):m?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):v?(h=e(i,a),g=!f(h,s),s=h,g&&(c=n(s,u,a)),c):c}return function(o,l){return p?h(o,l):(s=e(i=o,a=l),u=t(r,a),c=n(s,u,a),p=!0,c)}}function L(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=Object(f.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),s=r(e,i),u=o(e,i);return(i.pure?N:M)(a,s,u,e,i)}function U(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function F(e,t){return e===t}function V(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?j:n,o=t.mapStateToPropsFactories,i=void 0===o?D:o,a=t.mapDispatchToPropsFactories,s=void 0===a?P:a,u=t.mergePropsFactories,c=void 0===u?k:u,l=t.selectorFactory,p=void 0===l?L:l;return function(e,t,n,o){void 0===o&&(o={});var a=o,u=a.pure,l=void 0===u||u,h=a.areStatesEqual,g=void 0===h?F:h,m=a.areOwnPropsEqual,v=void 0===m?C:m,y=a.areStatePropsEqual,b=void 0===y?C:y,w=a.areMergedPropsEqual,O=void 0===w?C:w,S=Object(f.a)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),I=U(e,i,"mapStateToProps"),j=U(t,s,"mapDispatchToProps"),E=U(n,c,"mergeProps");return r(p,Object(d.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:I,initMapDispatchToProps:j,initMergeProps:E,pure:l,areStatesEqual:g,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:O},S))}}var B=V();function W(){return Object(r.useContext)(i)}function z(e){void 0===e&&(e=i);var t=e===i?W:function(){return Object(r.useContext)(e)};return function(){return t().store}}var G=z();function q(e){void 0===e&&(e=i);var t=e===i?G:z(e);return function(){return t().dispatch}}var H=q(),K=function(e,t){return e===t};function $(e){void 0===e&&(e=i);var t=e===i?W:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=K);var o=t();return function(e,t,n,o){var i,a=Object(r.useReducer)((function(e){return e+1}),0)[1],s=Object(r.useMemo)((function(){return new c(n,o)}),[n,o]),u=Object(r.useRef)(),l=Object(r.useRef)(),d=Object(r.useRef)();try{i=e!==l.current||u.current?e(n.getState()):d.current}catch(e){throw u.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),e}return m((function(){l.current=e,d.current=i,u.current=void 0})),m((function(){function e(){try{var e=l.current(n.getState());if(t(e,d.current))return;d.current=e}catch(e){u.current=e}a({})}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),i}(e,n,o.store,o.subscription)}}var Y,J=$(),X=n(90);Y=X.unstable_batchedUpdates,a=Y},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,o=n(58),i=n(40),a=n(3),s=n(109),u=n(2),c=n(15),l=n(14),d=n(27),f=n(8),p=n(48),h=n(12),g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};!function(e){e.ArcGISJSSync="ARCGIS_JS",e.OtherWindowSync="OTHER_WINDOW",e.AddOrUpdate="ADD_OR_UPDATE",e.Remove="REMOVE"}(r||(r={}));var v=function(){function e(){var e=this;this._tryToSignIn=function(){var t=window.location.pathname;if(!/^\/page\/set-portalurl/.test(t)&&!/^\/page\/landing/.test(t)){var n=e._getSessionFromLocalStorage();if(n&&e._checkMainSession(n)){var r=e._getSessionKeyFromUrl(n.portal);e._setSession(r,n)}else if(n&&e._processInvalidSignInSession(),window.jimuConfig.isSite||window.jimuConfig.isBuilder){if(!window.jimuConfig.isDevEdition)throw e.signIn(window.location.href,!1),new Error("Should signIn");e.gotoLoginInPage()}}},this._checkMainSession=function(t){var n,r;if(!t)return!1;if(!e._checkSession(t))return!1;var o=e._getSessionKeyFromUrl(t.portal);return!(!(null===(n=e._mainPortalInfo)||void 0===n?void 0:n.portalUrl)||o!==e._getSessionKeyFromUrl(null===(r=e._mainPortalInfo)||void 0===r?void 0:r.portalUrl))},this._processInvalidSignInSession=function(){e.removeAuthInfo(),e.clearSessions()},this.gotoLoginInPage=function(){var t;if(window.jimuConfig.isDevEdition)t=location.protocol+"//"+location.host+"/page/set-portalurl";else{if(window.jimuConfig.isInPortal)return void e.signIn(""+window.location.pathname+window.location.search,!1);t=location.protocol+"//"+location.host+"/page/landing"}0!==window.location.href.indexOf(t)&&(window.location.href=t)},this.handleAuthError=function(t,n){void 0===n&&(n=!0);var r=t.options;if(t instanceof i.a&&r&&(!r.authentication||498===t.code||"AUTHENTICATION_ERROR_CODE"===t.code)){var o=e._getSessionKeyFromUrl(t.url);return e._sessions&&e._sessions[o]&&delete e._sessions[o],e.signIn(window.location&&window.location.href,n,t.url)}throw t}}return e.prototype.getMainSession=function(){var e;if(!this._sessions||!this._mainPortalInfo)return null;var t=this._sessions[this._getSessionKeyFromUrl(null===(e=this._mainPortalInfo)||void 0===e?void 0:e.portalUrl)];return this._checkSession(t)?t:null},e.prototype.getSessions=function(){var e=this;if(!this._sessions)return[];var t={};return Object.keys(this._sessions).forEach((function(n){var r=e._sessions[n];e._checkSession(r)&&(t[n]=r)})),this._sessions=t,Object.keys(this._sessions).map((function(t){return e._sessions[t]}))},e.prototype.clearSessions=function(){delete this._sessions},e.prototype.syncSessionsFromOtherWindow=function(e){var t=this;this.clearSessions(),e.forEach((function(e){t._addOrReplaceSession(e)})),this._onSessionChanged(r.OtherWindowSync)},e.prototype._onSessionChanged=function(e){if(this._onSessionChangedCallbacks){var t=this.getSessions();this._onSessionChangedCallbacks.forEach((function(n){n(t,e)}))}},e.getInstance=function(){return e.instance||(e.instance=new e,window._sessionManager=e.instance,this.instance._isSigning=!1,this.instance._signInQueue=[],this.instance._onSessionChangedCallbacks=[]),e.instance},e.prototype.tryToSignIn=function(e){void 0===e&&(e=this._mainPortalInfo),this._mainPortalInfo=e,this._tryToSignIn()},e.prototype.getUserInfo=function(){var e=this;return Object(u.b)().getState().user?Promise.resolve(Object(u.b)().getState().user.asMutable({deep:!0})):this.getMainSession()?this.getMainSession().getUser().then((function(t){return e.afterGetUserInfo(t),t})):Promise.resolve(null)},e.prototype.afterGetUserInfo=function(e){Object(u.b)().dispatch(Object(a.userSignIn)(e));var t=e.culture||"en-us";localStorage.getItem(h.USER_LOCALE_KEY)?localStorage.getItem(h.USER_LOCALE_KEY)!==t&&(localStorage.setItem(h.USER_LOCALE_KEY,t),Object(u.b)().dispatch(Object(a.userLocaleChanged)(!0))):localStorage.setItem(h.USER_LOCALE_KEY,t)},e.prototype.setSessionPortalUrl=function(e,t){if(!e||!t)return!1;var n=this._getSessionKeyFromUrl(t),r=e.toJSON();return r.portal=Object(d.getPortalRestUrl)(t),this.removeSession(e),this._setSession(n,new o.a(r)),!0},e.prototype.setClientId=function(e){var t;if(this._mainPortalInfo.clientId=e,this.getMainSession()){var n=this.getMainSession().toJSON();n.clientId=e,this._setSession(this._getSessionKeyFromUrl(null===(t=this._mainPortalInfo)||void 0===t?void 0:t.portalUrl),new o.a(n))}},e.prototype.setMainPortalUrl=function(e){this._mainPortalInfo.portalUrl=e},e.prototype.setMainPortal=function(e){this._mainPortalInfo=e},e.prototype.getMainPortal=function(){return this._mainPortalInfo},e.prototype.getTrustedServers=function(){var e,t=Object(u.b)().getState(),n=null===(e=null==t?void 0:t.portalSelf)||void 0===e?void 0:e.authorizedCrossOriginDomains;return!this._trustedServers&&n&&(this._trustedServers=n.map((function(e){return Object(l.setProtocol)(Object(l.getUrlHost)(e),f.l.Https)}))),this._trustedServers||[]},e.prototype.isTrustedServer=function(e){return this.getTrustedServers().some((function(t){return e.indexOf(t)>-1}))},e.prototype.removeSession=function(e){if(!e)return!1;var t=this._getSessionKeyFromUrl(e.portal);return!!this._removeSessionByKey(t)&&(this._syncToOtherWindowSessionManager(),this._onSessionChanged(r.Remove),!0)},e.prototype._syncToOtherWindowSessionManager=function(){if(window.jimuConfig.isBuilder)Object(c.getModuleSync)("jimu-for-builder").builderAppSync.publishChangeSessionToApp();else if(window.jimuConfig.isInBuilder){Object(c.getModuleSync)("jimu-for-builder").appBuilderSync.publishAppSessionChangeToBuilder()}},e.prototype._removeSessionByKey=function(e){return!!e&&(this._sessions&&this._sessions[e]&&delete this._sessions[e],!0)},e.prototype.addOrReplaceSession=function(e){return!!e&&(!!this._addOrReplaceSession(e)&&(this._syncToOtherWindowSessionManager(),this._onSessionChanged(r.AddOrUpdate),!0))},e.prototype._addOrReplaceSession=function(e){if(!e)return!1;var t=this._getSessionKeyFromUrl(e.portal);return!!t&&(this._setSession(t,e),!0)},e.prototype._setSession=function(e,t){var n;this._checkSession(t)&&(this._sessions||(this._sessions={}),this._sessions[e]=t,e===this._getSessionKeyFromUrl(null===(n=this._mainPortalInfo)||void 0===n?void 0:n.portalUrl)&&(Object(u.b)().dispatch(Object(a.sessionStart)(t.token)),Object(u.b)().getState().user||this.getUserInfo(),this.writeAuthInfo(t)))},e.prototype.getSessionByUrl=function(e){if(this._sessions){var t=this._getSessionKeyFromUrl(e),n=this._sessions[t];if(!n&&Object(d.isAGOLDomain)(e)&&!this._getStandardAGOLSessionKey(e)){var r=void 0,o=void 0,i=this._getHostname(e).split(".");r=i[0],i.splice(0,1),o=i.join(".");var a="www.arcgis.com";r.indexOf("dev")>-1||o.indexOf("dev")>-1?a="devext.arcgis.com":(r.indexOf("qa")>-1||o.indexOf("qa")>-1)&&(a="qaext.arcgis.com"),n=this._sessions[a]}return n}},e.prototype.getSessionKeyFromUrl=function(e){return this._getSessionKeyFromUrl(e)},e.prototype._getSessionKeyFromUrl=function(e){var t,n;if(!e)return null;if(Object(d.isAGOLDomain)(e))return this._getStandardAGOLSessionKey(e);var r=this._getPortalUrlInfo(e),o=r.customBaseUrl,i=r.urlKey;if(null===(t=this._mainPortalInfo)||void 0===t?void 0:t.portalUrl){var a=this._getPortalUrlInfo(null===(n=this._mainPortalInfo)||void 0===n?void 0:n.portalUrl);if(i===a.urlKey&&0===o.indexOf(a.customBaseUrl))return a.urlKey+"."+a.customBaseUrl}return i+"."+o},e.prototype._getPortalUrlInfo=function(e){if(!e)return null;var t=e.toLowerCase(),n="",r=t.indexOf("https://");0===r?n="https://":0===(r=t.indexOf("http://"))&&(n="http://"),r=n.length;var o,i=t.indexOf("/sharing/rest",r);i=i<0?t.length:i;var a=(t=t.substring(r,i)).split(".");return o=a[0],a.splice(0,1),{urlKey:o,customBaseUrl:a.join("."),schema:n}},e.prototype._getSessionFromAuthInfo=function(e){var t;if(!this._checkAuthInfo(e))return null;var n=this.getPortalFromAuthInfo(e);return new o.a({clientId:null===(t=this._mainPortalInfo)||void 0===t?void 0:t.clientId,token:e.token,tokenExpires:new Date(e.expires),portal:n,username:e.email})},e.prototype._readLocalStorage=function(e){return JSON.parse(localStorage.getItem(e))},e.prototype._getSessionFromLocalStorage=function(){var e=this._readLocalStorage("exb_auth");return this._getSessionFromAuthInfo(e)},e.prototype.getPortalFromAuthInfo=function(e){var t;if(window.jimuConfig.isInPortal)return(null===(t=this._mainPortalInfo)||void 0===t?void 0:t.portalUrl)+"/sharing/rest/";var n=e.urlKey?e.urlKey+".":"",r=e.schema,o=""+(r=r||"https://")+n+e.customBaseUrl+"/sharing/rest/";return"maps.arcgis.com"===e.customBaseUrl?o=r+"www.arcgis.com/sharing/rest/":"mapsdevext.arcgis.com"===e.customBaseUrl?o=r+"devext.arcgis.com/sharing/rest/":"mapsqa.arcgis.com"===e.customBaseUrl&&(o=r+"qaext.arcgis.com/sharing/rest/"),o},e.prototype._checkAuthInfo=function(e){return!!e&&!(new Date(e.expires)<new Date)},e.prototype._checkSession=function(e){return!!e&&!(new Date(e.tokenExpires)<new Date)},e.prototype.readCookie=function(e){return(document&&document.cookie?document.cookie.split("; "):[]).filter((function(t){return t.split("=")[0]===e})).map((function(e){return decodeURIComponent(e.split("=")[1])}))||[]},e.prototype.writeAuthInfo=function(e){localStorage.setItem("exb_auth",JSON.stringify(this._getAuthInfoFromSession(e))),window.jimuConfig.isDevEdition?s.set("exb_de_signed_in","signedIn",{secure:!0}):s.set("exb_online_signed_in","signedIn",{secure:!0})},e.prototype._getAuthInfoFromSession=function(e){var t=this._getPortalUrlInfo(e.portal),n=t.urlKey,r=t.customBaseUrl,o=t.schema;return{portalApp:!1,email:e.username,token:e.token,expires:e.tokenExpires,urlKey:n,customBaseUrl:r,schema:o}},e.prototype.removeAuthInfo=function(){localStorage.removeItem("exb_auth"),s.remove("exb_de_signed_in"),s.remove("exb_online_signed_in")},e.prototype.addFromArcGisJSCredential=function(e){var t=o.a.fromCredential(e);return!!this._addOrReplaceSession(t)&&(this._syncToOtherWindowSessionManager(),this._onSessionChanged(r.ArcGISJSSync),!0)},e.prototype._getHostname=function(e){if(!e)return null;var t=e.toLowerCase();return Object(l.getUrlHost)(t)},e.prototype._getStandardAGOLSessionKey=function(e){var t,n,r,o=this._getHostname(e).split(".");return t=o[0],o.splice(0,1),n=o.join("."),"devext"===t||"mapsdevext.arcgis.com"===n?r="devext.arcgis.com":"qaext"===t||"mapsqa.arcgis.com"===n?r="qaext.arcgis.com":"www"!==t&&"maps.arcgis.com"!==n||(r="www.arcgis.com"),r},e.prototype.getOrgUrl=function(e,t){var n;return"www.arcgis.com"===e?n=t+".maps.arcgis.com":"devext.arcgis.com"===e?n=t+".mapsdevext.arcgis.com":"qaext.arcgis.com"===e?n=t+".mapsqa.arcgis.com":(n=e,console.error("Bad params.",e,t)),Object(l.setProtocol)(n,f.l.Https)},e.prototype._getHostedService=function(e){var t=e.split(/\/rest(\/admin)?\/services\//)[0];return t?Object(i.d)(t+"/rest/info",{httpMethod:"GET"}).then((function(e){return e.owningSystemUrl?(/https?:\/\/(www|services)\.arcgis\.com/.test(e.owningSystemUrl)?t="www.arcgis.com":/https?:\/\/(devext|servicesdev)\.arcgis\.com/.test(e.owningSystemUrl)&&/mapsdevext\.arcgis\.com\/?$/.test(Object(u.b)().getState().portalUrl)?t="devext.arcgis.com":/https?:\/\/(qaext|servicesqa)\.arcgis\.com/.test(e.owningSystemUrl)&&/mapsqa\.arcgis\.com\/?$/.test(Object(u.b)().getState().portalUrl)&&(t="qaext.arcgis.com"),Promise.resolve(t)):Promise.resolve(null);var t})):Promise.resolve(null)},e.prototype._getHostedServiceArcgisKey=function(e){var t,n=this._getHostname(e).split("."),r=n[0];return n.splice(0,1),r.indexOf("servicesdev")>-1?t="devext.arcgis.com":r.indexOf("servicesqa")>-1?t="qaext.arcgis.com":r.indexOf("services")>-1&&(t="www.arcgis.com"),t?Promise.resolve(t):this._getHostedService(e)},e.prototype.getLoginDomain=function(e,t){return g(this,void 0,void 0,(function(){var n,r,o,i;return m(this,(function(a){switch(a.label){case 0:return e?Object(d.isAGOLDomain)(e)?(n=this._getStandardAGOLSessionKey(e))?[3,2]:[4,this._getHostedServiceArcgisKey(e)]:[3,3]:[2,null];case 1:n=(n=a.sent())||this._getHostname(e),a.label=2;case 2:return t?[2,this.getOrgUrl(n,t)]:[2,"https://"+n];case 3:return r=this._getPortalUrlInfo(e),o=r.customBaseUrl,i=r.urlKey,[2,""+(r.schema||"https://")+i+"."+o];case 4:return[2]}}))}))},e.prototype.signIn=function(e,t,n){var r,i;return void 0===e&&(e="/"),void 0===t&&(t=!0),void 0===n&&(n=null===(r=this._mainPortalInfo)||void 0===r?void 0:r.portalUrl),g(this,void 0,void 0,(function(){var r,a,s,f,h,g,v,y,b,w,O,S=this;return m(this,(function(m){switch(m.label){case 0:return"/"==e&&window.jimuConfig.isInPortal&&(e=window.location.pathname),(r=this.getSessionByUrl(n))?(this._executSignIn(),t||(a=0===e.indexOf("/"),window.location.href=location.protocol+"//"+location.host+(a?"":"/")+e),[2,Promise.resolve(r)]):(s=Object(u.b)().getState(),(f=s.queryObject)&&f.host_auth?(Object(p.d)({signIn:!0}),this._waitingForHostAuth=!0,[2,Object(p.c)(p.a.HostAuth).then((function(e){S._waitingForHostAuth=!1;var t=o.a.deserialize(e.serializedSession);return S._setSession(S._getSessionKeyFromUrl(t.portal),t),S._executSignIn(),Promise.resolve(t)}))]):this._isSigning?(h=this.defer(),this._signInQueue.push({desUrl:n,fromUrl:e,popup:t,sessionDefer:h}),[2,h.promise]):(g=s.clientId,[4,this.getLoginDomain(n,null==f?void 0:f.org)]));case 1:return v=m.sent(),y=Object(d.getPortalRestUrl)(v),b=Object(l.getFolder)(Object(c.resolveModuleFullPath)("jimu-core")),w=""+window.location.origin+b+"/oauth-callback.html?clientId="+g+"&portal="+y+"&popup="+t+"&isInPortal="+window.jimuConfig.isInPortal+"&fromUrl="+e,w=new URL(w).toString(),O={portal:y,clientId:g,redirectUri:w,popup:t,params:{showSignupOption:!0,signupType:"esri"}},this._isSigning=!0,[2,null===(i=o.a.beginOAuth2(O))||void 0===i?void 0:i.then((function(e){return S.addOrReplaceSession(e),S._isSigning=!1,S._executSignIn(),Promise.resolve(e)}))]}}))}))},e.prototype.addSessionChangeListener=function(e){if("function"!=typeof e)throw new Error("callback must be a function");this._onSessionChangedCallbacks.indexOf(e)<0&&this._onSessionChangedCallbacks.push(e)},e.prototype._executSignIn=function(){if(!this._isSigning&&this._signInQueue){var e=this._signInQueue.pop();e&&this.signIn(e.fromUrl,e.popup,e.desUrl).then((function(t){e.sessionDefer.resolve(t)}))}},e.prototype.signOut=function(){var e,t,n=this.getMainSession(),r=null==n?void 0:n.portal;r||(r=(r=null===(e=this._mainPortalInfo)||void 0===e?void 0:e.portalUrl)&&Object(d.getPortalRestUrl)(r));var o=(null==n?void 0:n.clientId)||(null===(t=this._mainPortalInfo)||void 0===t?void 0:t.clientId);this.clearSessions(),Object(u.b)().dispatch(Object(a.userSignOut)());var i,s=window&&window.location;i=window.jimuConfig.isDevEdition?s.protocol+"//"+s.host+"/page/set-portalurl":window.jimuConfig.isInPortal?window.location.href:s.protocol+"//"+s.host+"/page/landing";var c=Object(u.b)().getState().queryObject;if((null==c?void 0:c.host_auth)&&Object(p.d)({signOut:!0}),this.removeAuthInfo(),this._arcgisJSIM&&this._arcgisJSIM.destroyCredentials(),r&&o){var l=r+"/oauth2/signout?client_id="+o+"&redirect_uri="+(i=encodeURIComponent(i));s.href=l}else s.href="/"},e.prototype.switchAccount=function(){var e=this.getMainPortal(),t=(null==e?void 0:e.portalUrl)+"/home/pages/Account/manage_accounts.html#client_id="+(null==e?void 0:e.clientId)+"&redirect_uri="+window.location.href+"#";this.removeAuthInfo(),window.location.href=t},e.prototype.syncHostAuth=function(e){if(e.serializedSession){if(!this._waitingForHostAuth){var t=o.a.deserialize(e.serializedSession);this._addOrReplaceSession(t)}}else this.clearSessions()},e.prototype.defer=function(){var e={promise:null,resolve:null,reject:null};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},e.prototype._generateToken=function(e,t){var n=Object(l.setProtocol)(Object(d.getPortalRestUrl)(e)+"generateToken?f=json",f.l.Https);return fetch(n+"&"+(t||""),{cache:"no-cache",credentials:"include"}).then((function(e){return e.json()})).then((function(e){return e}),(function(e){return null}))},e.prototype._getPortalSelfInfo=function(e){var t=Object(l.setProtocol)(Object(d.getPortalRestUrl)(e)+"portals/self?f=json",f.l.Https);return fetch(t,{cache:"no-cache",credentials:"include"}).then((function(e){return e.json()}))},e.prototype.getSessionFromWebTierPortal=function(e,t,n){var r,i=this;return(n?Promise.resolve(n):this._getPortalSelfInfo(e)).then((function(n){return r=n,i._generateToken(e,t)})).then((function(t){if(t&&t.token){var n={token:t.token,expires:t.expires,userId:r.user?r.user.username:"",ssl:t.ssl,server:Object(d.getPortalRestUrl)(e)};return o.a.fromCredential(n)}return null})).catch((function(){return null}))},e.prototype.getSessionFromTrustedServer=function(e){var t=this,n=(e||"").trim().replace(/rest(.*)/gi,"").replace(/\/*$/g,""),r=this.getSessionByUrl(n);if(r)return Promise.resolve(r);var i=Object(l.setProtocol)(Object(l.getUrlHost)(window.location.href),f.l.Https);return fetch(n+"/rest/info?f=json",{cache:"no-cache",credentials:"include"}).then((function(e){return e.json()})).then((function(e){var r=e.owningSystemUrl;if(r){var a="request=getToken&serverUrl="+n+"&referer="+i;return t.getSessionFromWebTierPortal(r,a).then((function(e){var r=e,i=e.toJSON();i.portal=n;var a=new o.a(i);return t.addOrReplaceSession(r),t.addOrReplaceSession(a),e}))}return null})).catch((function(e){return console.warn("Failed to get session from trusted server."),null}))},e}();Object(p.b)(p.a.HostAuth,v.getInstance().syncHostAuth.bind(v.getInstance())),t.b=v},function(e,t,n){"use strict";t.a={loading:"Loading",apply:"Apply",ok:"OK",publish:"Publish",cancel:"Cancel",yes:"Yes",no:"No",open:"Open",close:"Close",widgetLoadError:"Fail to load",notPublishError:"This item is not published. Please open this item in Experience Builder, then click <b>&nbsp;Publish&nbsp;</b> to publish it.",versionUpdateMsg:"New updates are available. Click Reload to get the latest updates.",userLocaleChangeMsg:"The user locale has changed. Click Reload to refresh the page.",doUpdate:"Reload",search:"Search",delete:"Delete",about:"About",neverUnsupportedBrowserTitle:"Unsupported browser",neverUnsupportedBrowserOnlineContent:"You are using a browser that is not supported by [ArcGIS Experience Builder]. Please use the latest version of <chrome-link>Google Chrome</chrome-link>, <firefox-link>Mozilla Firefox</firefox-link>, <safari-link>Apple Safari</safari-link>, or <edge-link>Microsoft Edge</edge-link>. Provide your feedback through <feedback-link>GeoNet, the Esri Community</feedback-link>.",neverUnsupportedBrowserEnterpriseContent:"You are using a browser that is not supported [ArcGIS Experience Builder]. Please use the latest version of <chrome-link>Google Chrome</chrome-link>, <firefox-link>Mozilla Firefox</firefox-link>, <safari-link>Apple Safari</safari-link>, or <edge-link>Microsoft Edge</edge-link>.",message_StringSelectionChange:"String Selection Changes",message_ExtentChange:"Extent Changes",message_DataRecordsSelectionChange:"Record Selection Changes",message_DataRecordSetCreate:"Record Set Created",message_DataRecordSetUpdate:"Record Set Updated",message_SelectDataRecord:"Select Data Record",dataAction_ExportJson:"Export JSON",messageAction_SelectDataRecord:"Select Data Records",messageAction_FilterDataRecord:"Filter Data Records",icon:"Icon",small:"Small",medium:"Medium",large:"Large",experience:"Experience",template:"Template",widget:"Widget",section:"Section",view:"View",page:"Page",dialog:"Window",layout:"Layout",theme:"Theme",dataSource:"Datasource",block:"Block",screenGroup:"Screen group",screen:"Screen",dialogConfirmationDefaultText:"I agree to the above terms and conditions",dialogPreventDisplayAgainDefaultText:"Do not show again",noEditPrivilegesError:"Your account does not have permission to create or modify data.",noEditContentPrivilegesError:"Your account does not have permission to create or modify content.",essentialAppsLicenseErrorForApp:"Your account is not licensed to use an app that is not public. Please ask your organization administrator to assign you a user type that includes Essential Apps or an add-on Essential Apps license.",essentialAppsLicenseErrorForBuilder:"Your account is not licensed for Experience Builder. Please ask your organization administrator to assign you a user type that includes Essential Apps or an add-on Essential Apps license.",roleError:"Experience Builder Developer Edition requires a level 2 ArcGIS account to work. Please login with an account that has level 2 privileges.",roleError2:"Experience Builder Developer Edition requires an ArcGIS organization account with a user type that includes privileges to create content.",invalidResourceExperience:"This is not a supported item.",invalidResourceItem:"Item does not exist or is inaccessible.",invalidResourcePermission:"You do not have permissions to access this resource.",dataSourceCreateError:"Data is inaccessible.",blockedByAdminErrorForApp:"Your organization has blocked access to this application. Please contact your administrator for details.",blockedByAdminErrorForBuilder:"Your organization has blocked access to Experience Builder. Please contact your administrator for details.",upgradedFrom:"Upgraded from previous config",versionIsHigh:"Oops.. It seems this experience is built with a higher version of ArcGIS Experience Builder. Please upgrade to the latest version to view."}},function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return h}));var r=n(0),o=n(69),i=n(54),a=n(199),s=n(29);function u(e,t,n){return void 0===n&&(n={}),t.reduce((function(t,r){return r in e?t[r]=e[r]:r in n&&(t[r]=n[r]),t}),{})}function c(e){Object(a.a)(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var l={formats:{},messages:{},timeZone:void 0,textComponent:r.Fragment,defaultLocale:"en",defaultFormats:{},onError:function(e){0}};function d(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function f(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames;return{getDateTimeFormat:Object(i.a)(Intl.DateTimeFormat,e.dateTime),getNumberFormat:Object(i.a)(Intl.NumberFormat,e.number),getMessageFormat:Object(i.a)(o.a,e.message),getRelativeTimeFormat:Object(i.a)(t,e.relativeTime),getPluralRules:Object(i.a)(Intl.PluralRules,e.pluralRules),getListFormat:Object(i.a)(n,e.list),getDisplayNames:Object(i.a)(r,e.displayNames)}}function p(e,t,n,r){var o,i=e&&e[t];if(i&&(o=i[n]),o)return o;r(new s.f("No "+t+" format named: "+n))}function h(e){return function(t){return e(r.Children.toArray(t))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"apply",(function(){return Ee})),n.d(t,"config",(function(){return F})),n.d(t,"update",(function(){return M})),n.d(t,"animated",(function(){return Ae})),n.d(t,"a",(function(){return Ae})),n.d(t,"interpolate",(function(){return U})),n.d(t,"Globals",(function(){return P})),n.d(t,"useSpring",(function(){return H})),n.d(t,"useTrail",(function(){return K})),n.d(t,"useTransition",(function(){return X})),n.d(t,"useChain",(function(){return V})),n.d(t,"useSprings",(function(){return q}));var r=n(11),o=n(43),i=n(0),a=n.n(i);const s={arr:Array.isArray,obj:e=>"[object Object]"===Object.prototype.toString.call(e),fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e,nul:e=>null===e,set:e=>e instanceof Set,map:e=>e instanceof Map,equ(e,t){if(typeof e!=typeof t)return!1;if(s.str(e)||s.num(e))return e===t;if(s.obj(e)&&s.obj(t)&&Object.keys(e).length+Object.keys(t).length===0)return!0;let n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!s.und(n)||e===t}};function u(){const e=Object(i.useState)(!1)[1];return Object(i.useCallback)(()=>e(e=>!e),[])}function c(e,t){return s.und(e)||s.nul(e)?t:e}function l(e){return s.und(e)?[]:s.arr(e)?e:[e]}function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.fun(e)?e(...n):e}function f(e){const t=function(e){return e.to,e.from,e.config,e.onStart,e.onRest,e.onFrame,e.children,e.reset,e.reverse,e.force,e.immediate,e.delay,e.attach,e.destroyed,e.interpolateTo,e.ref,e.lazy,Object(o.a)(e,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}(e);if(s.und(t))return Object(r.a)({to:t},e);const n=Object.keys(e).reduce((n,o)=>s.und(t[o])?Object(r.a)({},n,{[o]:e[o]}):n,{});return Object(r.a)({to:t},n)}class p{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(e){0===this.children.length&&this.attach(),this.children.push(e)}removeChild(e){const t=this.children.indexOf(e);this.children.splice(t,1),0===this.children.length&&this.detach()}}class h extends p{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach(e=>e instanceof p&&e.addChild(this)),this.detach=()=>this.payload.forEach(e=>e instanceof p&&e.removeChild(this))}}class g extends p{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach(e=>e instanceof p&&e.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(e=>e instanceof p&&e.removeChild(this))}getValue(e){void 0===e&&(e=!1);const t={};for(const n in this.payload){const r=this.payload[n];(!e||r instanceof p)&&(t[n]=r instanceof p?r[e?"getAnimatedValue":"getValue"]():r)}return t}getAnimatedValue(){return this.getValue(!0)}}let m,v;function y(e,t){m={fn:e,transform:t}}function b(e){v=e}let w,O=e=>"undefined"!=typeof window?window.requestAnimationFrame(e):-1,S=e=>{"undefined"!=typeof window&&window.cancelAnimationFrame(e)};function I(e){w=e}let j,E=()=>Date.now();function C(e){j=e}let T,A,_=e=>e.current;function x(e){T=e}var P=Object.freeze({get applyAnimatedValues(){return m},injectApplyAnimatedValues:y,get colorNames(){return v},injectColorNames:b,get requestFrame(){return O},get cancelFrame(){return S},injectFrame:function(e,t){O=e,S=t},get interpolation(){return w},injectStringInterpolator:I,get now(){return E},injectNow:function(e){E=e},get defaultElement(){return j},injectDefaultElement:C,get animatedApi(){return _},injectAnimatedApi:function(e){_=e},get createAnimatedStyle(){return T},injectCreateAnimatedStyle:x,get manualFrameloop(){return A},injectManualFrameloop:function(e){A=e}});class D extends g{constructor(e,t){super(),this.update=void 0,this.payload=e.style?Object(r.a)({},e,{style:T(e.style)}):e,this.update=t,this.attach()}}let R=!1;const k=new Set,M=()=>{if(!R)return!1;let e=E();for(let t of k){let n=!1;for(let r=0;r<t.configs.length;r++){let o,i,a=t.configs[r];for(let t=0;t<a.animatedValues.length;t++){let r=a.animatedValues[t];if(r.done)continue;let s=a.fromValues[t],u=a.toValues[t],c=r.lastPosition,l=u instanceof p,d=Array.isArray(a.initialVelocity)?a.initialVelocity[t]:a.initialVelocity;if(l&&(u=u.getValue()),a.immediate)r.setValue(u),r.done=!0;else if("string"!=typeof s&&"string"!=typeof u){if(void 0!==a.duration)c=s+a.easing((e-r.startTime)/a.duration)*(u-s),o=e>=r.startTime+a.duration;else if(a.decay)c=s+d/(1-.998)*(1-Math.exp(-(1-.998)*(e-r.startTime))),o=Math.abs(r.lastPosition-c)<.1,o&&(u=c);else{i=void 0!==r.lastTime?r.lastTime:e,d=void 0!==r.lastVelocity?r.lastVelocity:a.initialVelocity,e>i+64&&(i=e);let t=Math.floor(e-i);for(let e=0;e<t;++e){d+=1*((-a.tension*(c-u)+-a.friction*d)/a.mass)/1e3,c+=1*d/1e3}let n=!(!a.clamp||0===a.tension)&&(s<u?c>u:c<u),l=Math.abs(d)<=a.precision,f=0===a.tension||Math.abs(u-c)<=a.precision;o=n||l&&f,r.lastVelocity=d,r.lastTime=e}l&&!a.toValues[t].done&&(o=!1),o?(r.value!==u&&(c=u),r.done=!0):n=!0,r.setValue(c),r.lastPosition=c}else r.setValue(u),r.done=!0}t.props.onFrame&&(t.values[a.name]=a.interpolation.getValue())}t.props.onFrame&&t.props.onFrame(t.values),n||(k.delete(t),t.stop(!0))}return k.size?A?A():O(M):R=!1,R};function N(e,t,n){if("function"==typeof e)return e;if(Array.isArray(e))return N({range:e,output:t,extrapolate:n});if(w&&"string"==typeof e.output[0])return w(e);const r=e,o=r.output,i=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",u=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,i);return function(e,t,n,r,o,i,a,s,u){let c=u?u(e):e;if(c<t){if("identity"===a)return c;"clamp"===a&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===o)return r;if(t===n)return e<=t?r:o;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=i(c),r===-1/0?c=-c:o===1/0?c+=r:c=c*(o-r)+r;return c}(e,i[t],i[t+1],o[t],o[t+1],u,a,s,r.map)}}class L extends h{constructor(e,t,n,r){super(),this.calc=void 0,this.payload=e instanceof h&&!(e instanceof L)?e.getPayload():Array.isArray(e)?e:[e],this.calc=N(t,n,r)}getValue(){return this.calc(...this.payload.map(e=>e.getValue()))}updateConfig(e,t,n){this.calc=N(e,t,n)}interpolate(e,t,n){return new L(this,e,t,n)}}const U=(e,t,n)=>e&&new L(e,t,n),F={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}};function V(e,t,n){void 0===n&&(n=1e3);const o=Object(i.useRef)();Object(i.useEffect)(()=>{s.equ(e,o.current)?e.forEach(e=>{let t=e.current;return t&&t.start()}):t?e.forEach((e,o)=>{let i=e.current;if(i){const e=i.controllers;if(e.length){const i=n*t[o];e.forEach(e=>{e.queue=e.queue.map(e=>Object(r.a)({},e,{delay:e.delay+i})),e.start()})}}}):e.reduce((e,t,n)=>{let r=t.current;return e.then(()=>r.start())},Promise.resolve()),o.current=e})}class B extends p{constructor(e){var t;super(),t=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(e,n){void 0===n&&(n=!0),t.value=e,n&&t.flush()},this.value=e,this.startPosition=e,this.lastPosition=e}flush(){0===this.animatedStyles.size&&function e(t,n){"update"in t?n.add(t):t.getChildren().forEach(t=>e(t,n))}(this,this.animatedStyles),this.animatedStyles.forEach(e=>e.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(e,t,n){return new L(this,e,t,n)}}class W extends h{constructor(e){super(),this.payload=e.map(e=>new B(e))}setValue(e,t){void 0===t&&(t=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach((e,n)=>this.payload[n].setValue(e,t)):this.payload.forEach(n=>n.setValue(e,t))}getValue(){return this.payload.map(e=>e.getValue())}interpolate(e,t){return new L(this,e,t)}}let z=0;class G{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=z++}update(e){if(!e)return this;const t=f(e),n=t.delay,i=void 0===n?0:n,a=t.to,u=Object(o.a)(t,["delay","to"]);if(s.arr(a)||s.fun(a))this.queue.push(Object(r.a)({},u,{delay:i,to:a}));else if(a){let e={};Object.entries(a).forEach(t=>{let n=t[0],o=t[1];const a=Object(r.a)({to:{[n]:o},delay:d(i,n)},u),s=e[a.delay]&&e[a.delay].to;e[a.delay]=Object(r.a)({},e[a.delay],a,{to:Object(r.a)({},s,a.to)})}),this.queue=Object.values(e)}return this.queue=this.queue.sort((e,t)=>e.delay-t.delay),this.diff(u),this}start(e){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(e=>{let t=e.from,n=void 0===t?{}:t,o=e.to,i=void 0===o?{}:o;s.obj(n)&&(this.merged=Object(r.a)({},n,this.merged)),s.obj(i)&&(this.merged=Object(r.a)({},this.merged,i))});const t=this.local=++this.guid,n=this.localQueue=this.queue;this.queue=[],n.forEach((r,i)=>{let a=r.delay,u=Object(o.a)(r,["delay"]);const c=r=>{i===n.length-1&&t===this.guid&&r&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),e&&e()};let l=s.arr(u.to)||s.fun(u.to);a?setTimeout(()=>{t===this.guid&&(l?this.runAsync(u,c):this.diff(u).start(c))},a):l?this.runAsync(u,c):this.diff(u).start(c)})}else s.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),t=this,k.has(t)||k.add(t),R||(R=!0,O(A||M));var t;return this}stop(e){return this.listeners.forEach(t=>t(e)),this.listeners=[],this}pause(e){var t;return this.stop(!0),e&&(t=this,k.has(t)&&k.delete(t)),this}runAsync(e,t){var n=this;e.delay;let i=Object(o.a)(e,["delay"]);const a=this.local;let u=Promise.resolve(void 0);if(s.arr(i.to))for(let e=0;e<i.to.length;e++){const t=e,n=Object(r.a)({},i,f(i.to[t]));s.arr(n.config)&&(n.config=n.config[t]),u=u.then(()=>{if(a===this.guid)return new Promise(e=>this.diff(n).start(e))})}else if(s.fun(i.to)){let e,t=0;u=u.then(()=>i.to(n=>{const o=Object(r.a)({},i,f(n));if(s.arr(o.config)&&(o.config=o.config[t]),t++,a===this.guid)return e=new Promise(e=>this.diff(o).start(e))},(function(e){return void 0===e&&(e=!0),n.stop(e)})).then(()=>e))}u.then(t)}diff(e){this.props=Object(r.a)({},this.props,e);let t=this.props,n=t.from,o=void 0===n?{}:n,i=t.to,a=void 0===i?{}:i,u=t.config,f=void 0===u?{}:u,p=t.reverse,h=t.attach,g=t.reset,m=t.immediate;if(p){var y=[a,o];o=y[0],a=y[1]}this.merged=Object(r.a)({},o,this.merged,a),this.hasChanged=!1;let b=h&&h(this);if(this.animations=Object.entries(this.merged).reduce((e,t)=>{let n=t[0],i=t[1],a=e[n]||{};const u=s.num(i),p=s.str(i)&&!i.startsWith("#")&&!/\d/.test(i)&&!v[i],h=s.arr(i),y=!u&&!h&&!p;let O=s.und(o[n])?i:o[n],S=u||h||p?i:1,I=d(f,n);b&&(S=b.animations[n].parent);let j,C=a.parent,T=a.interpolation,A=l(b?S.getPayload():S),_=i;y&&(_=w({range:[0,1],output:[i,i]})(1));let x=T&&T.getValue();const P=!s.und(C)&&a.animatedValues.some(e=>!e.done),D=!s.equ(_,x),R=!s.equ(_,a.previous),k=!s.equ(I,a.config);if(g||R&&D||k){if(u||p)C=T=a.parent||new B(O);else if(h)C=T=a.parent||new W(O);else if(y){let e=a.interpolation&&a.interpolation.calc(a.parent.value);e=void 0===e||g?O:e,a.parent?(C=a.parent,C.setValue(0,!1)):C=new B(0);const t={output:[e,i]};a.interpolation?(T=a.interpolation,a.interpolation.updateConfig(t)):T=C.interpolate(t)}return A=l(b?S.getPayload():S),j=l(C.getPayload()),g&&!y&&C.setValue(O,!1),this.hasChanged=!0,j.forEach(e=>{e.startPosition=e.value,e.lastPosition=e.value,e.lastVelocity=P?e.lastVelocity:void 0,e.lastTime=P?e.lastTime:void 0,e.startTime=E(),e.done=!1,e.animatedStyles.clear()}),d(m,n)&&C.setValue(y?S:i,!1),Object(r.a)({},e,{[n]:Object(r.a)({},a,{name:n,parent:C,interpolation:T,animatedValues:j,toValues:A,previous:_,config:I,fromValues:l(C.getValue()),immediate:d(m,n),initialVelocity:c(I.velocity,0),clamp:c(I.clamp,!1),precision:c(I.precision,.01),tension:c(I.tension,170),friction:c(I.friction,26),mass:c(I.mass,1),duration:I.duration,easing:c(I.easing,e=>e),decay:I.decay})})}return D?e:(y&&(C.setValue(1,!1),T.updateConfig({output:[_,_]})),C.done=!0,this.hasChanged=!0,Object(r.a)({},e,{[n]:Object(r.a)({},e[n],{previous:_})}))},this.animations),this.hasChanged){this.configs=Object.values(this.animations),this.values={},this.interpolations={};for(let e in this.animations)this.interpolations[e]=this.animations[e].interpolation,this.values[e]=this.animations[e].interpolation.getValue()}return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}}const q=(e,t)=>{const n=Object(i.useRef)(!1),r=Object(i.useRef)(),o=s.fun(t),a=Object(i.useMemo)(()=>{let n;return r.current&&(r.current.map(e=>e.destroy()),r.current=void 0),[new Array(e).fill().map((e,r)=>{const i=new G,a=o?d(t,r,i):t[r];return 0===r&&(n=a.ref),i.update(a),n||i.start(),i}),n]},[e]),u=a[0],c=a[1];r.current=u;Object(i.useImperativeHandle)(c,()=>({start:()=>Promise.all(r.current.map(e=>new Promise(t=>e.start(t)))),stop:e=>r.current.forEach(t=>t.stop(e)),get controllers(){return r.current}}));const l=Object(i.useMemo)(()=>e=>r.current.map((t,n)=>{t.update(o?d(e,n,t):e[n]),c||t.start()}),[e]);Object(i.useEffect)(()=>{n.current?o||l(t):c||r.current.forEach(e=>e.start())}),Object(i.useEffect)(()=>(n.current=!0,()=>r.current.forEach(e=>e.destroy())),[]);const f=r.current.map(e=>e.getValues());return o?[f,l,e=>r.current.forEach(t=>t.pause(e))]:f},H=e=>{const t=s.fun(e),n=q(1,t?e:[e]),r=n[0],o=n[1],i=n[2];return t?[r[0],o,i]:r},K=(e,t)=>{const n=Object(i.useRef)(!1),o=s.fun(t),a=d(t),u=Object(i.useRef)(),c=q(e,(e,t)=>(0===e&&(u.current=[]),u.current.push(t),Object(r.a)({},a,{config:d(a.config,e),attach:e>0&&(()=>u.current[e-1])}))),l=c[0],f=c[1],p=c[2],h=Object(i.useMemo)(()=>e=>f((t,n)=>{e.reverse;const o=e.reverse?t+1:t-1,i=u.current[o];return Object(r.a)({},e,{config:d(e.config||a.config,t),attach:i&&(()=>i)})}),[e,a.reverse]);return Object(i.useEffect)(()=>{n.current&&!o&&h(t)}),Object(i.useEffect)(()=>{n.current=!0},[]),o?[l,h,p]:l};let $=0;const Y=(e,t)=>("function"==typeof t?e.map(t):l(t)).map(String),J=e=>{let t=e.items,n=e.keys,i=void 0===n?e=>e:n,a=Object(o.a)(e,["items","keys"]);return t=l(void 0!==t?t:null),Object(r.a)({items:t,keys:Y(t,i)},a)};function X(e,t,n){const a=Object(r.a)({items:e,keys:t||(e=>e)},n),s=J(a),c=s.lazy,l=void 0!==c&&c,f=(s.unique,s.reset),p=void 0!==f&&f,h=(s.enter,s.leave,s.update,s.onDestroyed),g=(s.keys,s.items,s.onFrame),m=s.onRest,v=s.onStart,y=s.ref,b=Object(o.a)(s,["lazy","unique","reset","enter","leave","update","onDestroyed","keys","items","onFrame","onRest","onStart","ref"]),w=u(),O=Object(i.useRef)(!1),S=Object(i.useRef)({mounted:!1,first:!0,deleted:[],current:{},transitions:[],prevProps:{},paused:!!a.ref,instances:!O.current&&new Map,forceUpdate:w});return Object(i.useImperativeHandle)(a.ref,()=>({start:()=>Promise.all(Array.from(S.current.instances).map(e=>{let t=e[1];return new Promise(e=>t.start(e))})),stop:e=>Array.from(S.current.instances).forEach(t=>t[1].stop(e)),get controllers(){return Array.from(S.current.instances).map(e=>e[1])}})),S.current=function(e,t){let n=e.first,i=e.prevProps,a=Object(o.a)(e,["first","prevProps"]),s=J(t),u=s.items,c=s.keys,l=s.initial,f=s.from,p=s.enter,h=s.leave,g=s.update,m=s.trail,v=void 0===m?0:m,y=s.unique,b=s.config,w=s.order,O=void 0===w?["enter","leave","update"]:w,S=J(i),I=S.keys,j=S.items,E=Object(r.a)({},a.current),C=[...a.deleted],T=Object.keys(E),A=new Set(T),_=new Set(c),x=c.filter(e=>!A.has(e)),P=a.transitions.filter(e=>!e.destroyed&&!_.has(e.originalKey)).map(e=>e.originalKey),D=c.filter(e=>A.has(e)),R=-v;for(;O.length;){switch(O.shift()){case"enter":x.forEach((e,t)=>{y&&C.find(t=>t.originalKey===e)&&(C=C.filter(t=>t.originalKey!==e));const r=c.indexOf(e),o=u[r],i=n&&void 0!==l?"initial":"enter";E[e]={slot:i,originalKey:e,key:y?String(e):$++,item:o,trail:R+=v,config:d(b,o,i),from:d(n&&void 0!==l?l||{}:f,o),to:d(p,o)}});break;case"leave":P.forEach(e=>{const t=I.indexOf(e),n=j[t];C.unshift(Object(r.a)({},E[e],{slot:"leave",destroyed:!0,left:I[Math.max(0,t-1)],right:I[Math.min(I.length,t+1)],trail:R+=v,config:d(b,n,"leave"),to:d(h,n)})),delete E[e]});break;case"update":D.forEach(e=>{const t=c.indexOf(e),n=u[t];E[e]=Object(r.a)({},E[e],{item:n,slot:"update",trail:R+=v,config:d(b,n,"update"),to:d(g,n)})})}}let k=c.map(e=>E[e]);return C.forEach(e=>{let t,n=e.left,r=(e.right,Object(o.a)(e,["left","right"]));-1!==(t=k.findIndex(e=>e.originalKey===n))&&(t+=1),t=Math.max(0,t),k=[...k.slice(0,t),r,...k.slice(t)]}),Object(r.a)({},a,{changed:x.length||P.length||D.length,first:n&&0===x.length,transitions:k,current:E,deleted:C,prevProps:t})}(S.current,a),S.current.changed&&S.current.transitions.forEach(e=>{const t=e.slot,n=e.from,o=e.to,i=e.config,a=e.trail,s=e.key,u=e.item;S.current.instances.has(s)||S.current.instances.set(s,new G);const c=S.current.instances.get(s),d=Object(r.a)({},b,{to:o,from:n,config:i,ref:y,onRest:n=>{if(S.current.mounted){e.destroyed&&(y||l||Q(S,s),h&&h(u));!Array.from(S.current.instances).some(e=>!e[1].idle)&&(y||l)&&S.current.deleted.length>0&&Q(S),m&&m(u,t,n)}},onStart:v&&(()=>v(u,t)),onFrame:g&&(e=>g(u,t,e)),delay:a,reset:p&&"enter"===t});c.update(d),S.current.paused||c.start()}),Object(i.useEffect)(()=>(S.current.mounted=O.current=!0,()=>{S.current.mounted=O.current=!1,Array.from(S.current.instances).map(e=>e[1].destroy()),S.current.instances.clear()}),[]),S.current.transitions.map(e=>{let t=e.item,n=e.slot,r=e.key;return{item:t,key:r,state:n,props:S.current.instances.get(r).getValues()}})}function Q(e,t){const n=e.current.deleted;for(let r of n){let n=r.key;const o=e=>e.key!==n;(s.und(t)||t===n)&&(e.current.instances.delete(n),e.current.transitions=e.current.transitions.filter(o),e.current.deleted=e.current.deleted.filter(o))}e.current.forceUpdate()}class Z extends g{constructor(e){void 0===e&&(e={}),super(),!e.transform||e.transform instanceof p||(e=m.transform(e)),this.payload=e}}const ee={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},te="[-+]?\\d*\\.?\\d+";function ne(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const re=new RegExp("rgb"+ne(te,te,te)),oe=new RegExp("rgba"+ne(te,te,te,te)),ie=new RegExp("hsl"+ne(te,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%")),ae=new RegExp("hsla"+ne(te,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%",te)),se=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ue=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ce=/^#([0-9a-fA-F]{6})$/,le=/^#([0-9a-fA-F]{8})$/;function de(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function fe(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r,i=de(o,r,e+1/3),a=de(o,r,e),s=de(o,r,e-1/3);return Math.round(255*i)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function pe(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function he(e){return(parseFloat(e)%360+360)%360/360}function ge(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function me(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function ve(e){let t=function(e){let t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=ce.exec(e))?parseInt(t[1]+"ff",16)>>>0:ee.hasOwnProperty(e)?ee[e]:(t=re.exec(e))?(pe(t[1])<<24|pe(t[2])<<16|pe(t[3])<<8|255)>>>0:(t=oe.exec(e))?(pe(t[1])<<24|pe(t[2])<<16|pe(t[3])<<8|ge(t[4]))>>>0:(t=se.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=le.exec(e))?parseInt(t[1],16)>>>0:(t=ue.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ie.exec(e))?(255|fe(he(t[1]),me(t[2]),me(t[3])))>>>0:(t=ae.exec(e))?(fe(he(t[1]),me(t[2]),me(t[3]))|ge(t[4]))>>>0:null}(e);return null===t?e:(t=t||0,`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`)}const ye=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,be=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,we=new RegExp(`(${Object.keys(ee).join("|")})`,"g");let Oe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const Se=["Webkit","Ms","Moz","O"];function Ie(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Oe.hasOwnProperty(e)&&Oe[e]?(""+t).trim():t+"px"}Oe=Object.keys(Oe).reduce((e,t)=>(Se.forEach(n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t]),e),Oe);const je={};x(e=>new Z(e)),C("div"),I(e=>{const t=e.output.map(e=>e.replace(be,ve)).map(e=>e.replace(we,ve)),n=t[0].match(ye).map(()=>[]);t.forEach(e=>{e.match(ye).forEach((e,t)=>n[t].push(+e))});const o=t[0].match(ye).map((t,o)=>N(Object(r.a)({},e,{output:n[o]})));return e=>{let n=0;return t[0].replace(ye,()=>o[n++](e)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(e,t,n,r,o)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${o})`)}}),b(ee),y((e,t)=>{if(!e.nodeType||void 0===e.setAttribute)return!1;{const i=t.style,a=t.children,s=t.scrollTop,u=t.scrollLeft,c=Object(o.a)(t,["style","children","scrollTop","scrollLeft"]),l="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName;void 0!==s&&(e.scrollTop=s),void 0!==u&&(e.scrollLeft=u),void 0!==a&&(e.textContent=a);for(let t in i)if(i.hasOwnProperty(t)){var n=0===t.indexOf("--"),r=Ie(t,i[t],n);"float"===t&&(t="cssFloat"),n?e.style.setProperty(t,r):e.style[t]=r}for(let t in c){const n=l?t:je[t]||(je[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase()));void 0!==e.getAttribute(n)&&e.setAttribute(n,c[t])}}},e=>e);const Ee=(Ce=e=>Object(i.forwardRef)((t,n)=>{const c=u(),l=Object(i.useRef)(!0),d=Object(i.useRef)(null),f=Object(i.useRef)(null),p=Object(i.useCallback)(e=>{const t=d.current;d.current=new D(e,()=>{let e=!1;f.current&&(e=m.fn(f.current,d.current.getAnimatedValue())),f.current&&!1!==e||c()}),t&&t.detach()},[]);Object(i.useEffect)(()=>()=>{l.current=!1,d.current&&d.current.detach()},[]),Object(i.useImperativeHandle)(n,()=>_(f,l,c)),p(t);const h=d.current.getValue(),g=(h.scrollTop,h.scrollLeft,Object(o.a)(h,["scrollTop","scrollLeft"])),v=(y=e,!s.fun(y)||y.prototype instanceof a.a.Component?e=>f.current=function(e,t){return t&&(s.fun(t)?t(e):s.obj(t)&&(t.current=e)),e}(e,n):void 0);var y;return a.a.createElement(e,Object(r.a)({},g,{ref:v}))}),void 0===(Te=!1)&&(Te=!0),e=>(s.arr(e)?e:Object.keys(e)).reduce((e,t)=>{const n=Te?t[0].toLowerCase()+t.substring(1):t;return e[n]=Ce(n),e},Ce));var Ce,Te;const Ae=Ee(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"])},function(e,t,n){"use strict";function r(e){var t=JSON.parse(JSON.stringify(e));return t.data&&("undefined"!=typeof Blob&&e.data instanceof Blob||"ReadStream"===e.data.constructor.name?t.file=e.data:t.text=e.data,delete t.data),t}function o(e){return e.owner?Promise.resolve(e.owner):e.item&&e.item.owner?Promise.resolve(e.item.owner):e.authentication&&e.authentication.getUsername?e.authentication.getUsername():Promise.reject(new Error("Could not determine the owner of this item. Pass the `owner`, `item.owner`, or `authentication` option."))}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";n.r(t),n.d(t,"getWidgetContext",(function(){return d})),n.d(t,"addWidgetManifestProperties",(function(){return f})),n.d(t,"addWidgetDefaultLabelAndIcon",(function(){return p})),n.d(t,"addLayoutLabel",(function(){return h})),n.d(t,"getUniqueId",(function(){return g})),n.d(t,"getUniqueLabel",(function(){return m})),n.d(t,"getAllWidgets",(function(){return v})),n.d(t,"getWidgetMessageActionJsons",(function(){return y})),n.d(t,"isTwoViewsInSaveSection",(function(){return b})),n.d(t,"fixLayoutIds",(function(){return w})),n.d(t,"updateStateWhenAppConfigChange",(function(){return O})),n.d(t,"getRealAppResourceUrl",(function(){return s})),n.d(t,"appendPortalInfoToResource",(function(){return u})),n.d(t,"cleanPortalInfoFromResource",(function(){return c})),n.d(t,"replaceAppConfigNodeValue",(function(){return l}));var r=n(14),o=n(9),i=n(2),a=n(27);function s(){if(window.jimuConfig.packagesInAppFolder)return"./resources";var e=null,t=(e=window.jimuConfig.isBuilder?Object(i.b)().getState().appStateInBuilder:Object(i.b)().getState())&&e.appId;return window.jimuConfig.isDevEdition?window.location.origin+"/apps/"+t+"/resources":Object(a.getHostUrlByOrgUrl)(Object(i.b)().getState().portalUrl)+"/sharing/rest/content/items/"+t+"/resources"}function u(e,t){var n=s(),r=new RegExp("^"+n),o=new RegExp("^\\$\\{appResourceUrl\\}+(.)");return l(e,{matchFunction:function(e){return o.test(e)||r.test(e)},matchHandle:function(e){var r=e.obj,o=e.key,i=null;i=(i=t?e.value+"?token="+t:e.value).replace("${appResourceUrl}",n),r=e.obj,o=e.key,"number"==typeof e.i?r[o][e.i]=i:r[o]=i}})}function c(e){var t=s(),n=new RegExp("^"+t),r=new RegExp("^(.)+?token=");return l(e,{matchFunction:function(e){return r.test(e)||n.test(e)},matchHandle:function(e){var n=e.obj,r=e.key,o=e.value.split("?")[0];o=o.replace(t,"${appResourceUrl}"),"number"==typeof e.i?n[r][e.i]=o:n[r]=o}}),e}function l(e,t){var n,r=[],o=[];function i(e){var t=e.obj,n=e.key,r={obj:t,key:n};return"number"==typeof e.i?(r.i=e.i,r.value=t[n][e.i]):r.value=t[n],r}function a(e){for(var t in e)"object"==typeof e[t]?Array.isArray(e[t])?u(e,t):a(e[t]):"string"==typeof e[t]&&s(e,t)}function s(e,a,s){"number"==typeof s?t.matchFunction(e[a][s])&&((n=t.matchHandle(i({obj:e,key:a,i:s})))&&"function"==typeof n.then?o.push(n):r.push(n),r.push(n)):t.matchFunction(e[a])&&((n=t.matchHandle(i({obj:e,key:a})))&&"function"==typeof n.then?o.push(n):r.push(n),r.push(n))}function u(e,t){for(var n=0;n<e[t].length;n++)"string"==typeof e[t][n]?s(e,t,n):"object"==typeof e[t][n]&&a(e[t][n])}return a(e),o.length>0?Promise.all(o).then((function(){return Promise.resolve(e)})).catch((function(e){return Promise.reject(null)})):Promise.resolve(e)}function d(e){var t={};return/^http(s)?:\/\//.test(e)||/^\/\//.test(e)?(t.isRemote=!0,t.folderUrl=e):(t.isRemote=!1,t.folderUrl=window.location.protocol+"//"+window.location.host+Object(r.getFixedRootPath)()+e),t}function f(e){var t=o(e).asMutable({deep:!0});void 0===e.properties&&(t.properties={});["hasVersionManager","supportInlineEditing","supportRepeat","hasBuilderSupportModule","hasEmbeddedLayout","lockChildren","flipIcon","coverLayoutBackground","canCrossLayoutBoundary","needActiveState"].forEach((function(e){void 0===t.properties[e]&&(t.properties[e]=!1)}));return["hasMainClass","hasConfig","hasSettingPage","hasConfigInSettingPage","passDataSourceToChildren","deactivateOtherWidgets"].forEach((function(e){void 0===t.properties[e]&&(t.properties[e]=!0)})),t}function p(e,t){t.icon=t.icon?t.icon:t.context.folderUrl+"icon.svg",t.label=t.label?t.label:m(e,"widget",t.manifest?t.manifest.i18nMessages._widgetLabel||t.manifest.label||t.manifest.name:"")}function h(e){e.widgets&&Object.keys(e.widgets).forEach((function(t){var n=e.widgets[t];n.layouts&&Object.keys(n.layouts).forEach((function(t){Object.keys(n.layouts[t]).forEach((function(r){var o,i=n.layouts[t][r];if(e.layouts[i]&&!e.layouts[i].label){var a=null===(o=n.manifest.layouts)||void 0===o?void 0:o.find((function(e){return e.name===t}));e.layouts[i].label=n.manifest.i18nMessages["_layout_"+t+"_label"]||(null==a?void 0:a.label)||(null==a?void 0:a.name)}}))}))}))}function g(e,t){var n=0,r="y"===t.charAt(t.length-1)?t.slice(0,t.length-1)+"ies":t+"s";return e[r]?(Object.keys(e[r]).forEach((function(e){var r=e.substring((t+"_").length,e.length);/^\d+$/.test(r)&&(n=Math.max(n,parseInt(r)))})),t+"_"+(n+1)):t+"_"+(n+1)}function m(e,t,n){var r,o=0,i=n.lastIndexOf(" "),a=n.substr(i+1);return/^\d+$/.test(a)?(o=Math.max(parseInt(a),o),r=n.substr(0,i)):r=n,e[t+"s"]?(Object.keys(e[t+"s"]).filter((function(n){var o=e[t+"s"][n].label;return o&&new RegExp("^"+r).test(o)})).forEach((function(n){var i=e[t+"s"][n].label,a=i.substring((r+" ").length,i.length);/^\d+$/.test(a)&&(o=Math.max(o,parseInt(a)))})),r+" "+(o+1)):n+" "+(o+1)}function v(e){var t=[];return Object.keys(e.widgets).forEach((function(n){t.push(e.widgets[n])})),t}function y(e,t,n){var r=[];return e.messageConfigs&&Object.entries(e.messageConfigs).forEach((function(e){e[0];var o=e[1];r=r.concat(o.actions&&o.actions.filter((function(e){return e.widgetId===t&&e.actionName===n})))})),r}function b(e,t,n){return e.sections&&Object.keys(e.sections).some((function(r){var o=e.sections[r].views;return(null==o?void 0:o.indexOf(t))>-1&&(null==o?void 0:o.indexOf(n))>-1}))}function w(e){(null==e?void 0:e.layouts)&&Object.keys(e.layouts).forEach((function(t){var n=e.layouts[t];return n.content&&Object.keys(n.content).forEach((function(e){isNaN(parseInt(e))?console.error("Layout item MUST be integer string"):n.content[e].id=e})),n.id=t,n}))}function O(e,t){var n,r,o,i,a=e.appConfig,s=t,u=Object.keys(a.widgets||{}).filter((function(e){return!s.widgets[e]}));if(e=e.set("widgetsRuntimeInfo",e.widgetsRuntimeInfo.without.apply(e.widgetsRuntimeInfo,u)).set("widgetsState",e.widgetsState.without.apply(e.widgetsState,u)).set("widgetsMutableStateVersion",e.widgetsMutableStateVersion.without.apply(e.widgetsMutableStateVersion,u)),Object.keys(s.widgets||{}).filter((function(e){return!a.widgets[e]})).forEach((function(t){var n=s.widgets[t];e.widgetsClassStatus[n.uri]&&(e=e.setIn(["widgetsRuntimeInfo",t,"isClassLoaded"],!0))})),Object.keys(a.views).filter((function(e){return!s.views[e]})).forEach((function(t){var n,r,o,i,s,u,c=Object.keys(a.sections||{}).find((function(e){return a.sections[e].views.indexOf(t)>-1}));(null===(n=e.appRuntimeInfo.sectionNavInfos)||void 0===n?void 0:n[c])&&((null===(r=e.appRuntimeInfo.sectionNavInfos)||void 0===r?void 0:r[c].currentViewId)===t&&(e=e.setIn(["appRuntimeInfo","sectionNavInfos",c,"currentViewId"],null)),(null===(o=e.appRuntimeInfo.sectionNavInfos)||void 0===o?void 0:o[c].previousViewId)===t&&(e=e.setIn(["appRuntimeInfo","sectionNavInfos",c,"previousViewId"],null)),(null===(s=null===(i=e.appRuntimeInfo.sectionNavInfos)||void 0===i?void 0:i[c].visibleViews)||void 0===s?void 0:s.find((function(e){return e===t})))&&(e=e.setIn(["appRuntimeInfo","sectionNavInfos",c,"visibleViews"],null===(u=e.appRuntimeInfo.sectionNavInfos)||void 0===u?void 0:u[c].visibleViews.filter((function(e){return e!==t})))))})),Object.keys(a.sections||{}).filter((function(e){return!s.sections[e]})).forEach((function(t){var n;(null===(n=e.appRuntimeInfo.sectionNavInfos)||void 0===n?void 0:n[t])&&(e=e.setIn(["appRuntimeInfo","sectionNavInfos"],e.appRuntimeInfo.sectionNavInfos.without(t)))})),e.appRuntimeInfo.currentPageId&&!s.pages[e.appRuntimeInfo.currentPageId]){var c=Object.keys(s.pages).find((function(e){return s.pages[e].isDefault}));e=e.setIn(["appRuntimeInfo","currentPageId"],c)}if(e.appRuntimeInfo.currentDialogId&&!s.dialogs[e.appRuntimeInfo.currentDialogId]&&(e=e.setIn(["appRuntimeInfo","currentDialogId"],null)),e.appRuntimeInfo.clipboard){var l=e.appRuntimeInfo.clipboard,d=l.layoutId,f=l.layoutItemId;(null===(r=null===(n=s.layouts[d])||void 0===n?void 0:n.content)||void 0===r?void 0:r[f])||(e=e.set("appRuntimeInfo",e.appRuntimeInfo.without("clipboard")))}if(e.appRuntimeInfo.selection){var p=e.appRuntimeInfo.selection;d=p.layoutId,f=p.layoutItemId;(null===(i=null===(o=s.layouts[d])||void 0===o?void 0:o.content)||void 0===i?void 0:i[f])||(e=e.set("appRuntimeInfo",e.appRuntimeInfo.without("selection")))}return e=e.set("appConfig",s)}},function(e,t,n){"use strict";n.r(t),n.d(t,"getPortalSelfInfoUrl",(function(){return i})),n.d(t,"getPortalUrlFromLocation",(function(){return a})),n.d(t,"getPortalRestUrl",(function(){return s})),n.d(t,"getPortalUrlFromRestUrl",(function(){return u})),n.d(t,"isSamePortalUrl",(function(){return c})),n.d(t,"getRootDomain",(function(){return l})),n.d(t,"isAGOLDomain",(function(){return d})),n.d(t,"isAGOLProduction",(function(){return f})),n.d(t,"getStandardPortalUrl",(function(){return p})),n.d(t,"getBaseItemUrl",(function(){return h})),n.d(t,"getItemUrl",(function(){return g})),n.d(t,"getBaseUserUrl",(function(){return m})),n.d(t,"getUserUrl",(function(){return v})),n.d(t,"getContentUrl",(function(){return y})),n.d(t,"getUserContentUrl",(function(){return b})),n.d(t,"getUserItemsUrl",(function(){return w})),n.d(t,"shareItemUrl",(function(){return O})),n.d(t,"getHomeIndexUrl",(function(){return S})),n.d(t,"getHomeMapViewerUrl",(function(){return I})),n.d(t,"fixPortalUrlProtocol",(function(){return j})),n.d(t,"getPortalProxyUrl",(function(){return E})),n.d(t,"getHostUrlByOrgUrl",(function(){return C}));var r=n(14),o=n(8);function i(e){var t="",n=e||"";return(n=p(n))&&(t=n+"/sharing/rest/portals/self"),t}function a(){var e=window.location.protocol+"//"+window.location.host+function(){var e=window.location.href.split("?")[0],t=e.indexOf("/home/");t<0&&(t=e.indexOf("/apps/"));var n=e.substring(e.indexOf(window.location.host)+window.location.host.length+1,t);"/"!==n&&(n="/"+n+"/");return n}();return e.substr(0,e.length-1)}function s(e){return/\/$/.test(e)?e+"sharing/rest/":e+"/sharing/rest/"}function u(e){var t=/\/$/.test(e)?"/sharing/rest/":"/sharing/rest";return e.substr(0,e.length-t.length)}function c(e,t){var n=/^http(s?):\/\//gi,r=/^\/\//gi;return(e=p(e).toLowerCase().replace(n,"").replace(r,""))===(t=p(t).toLowerCase().replace(n,"").replace(r,""))}function l(e){var t,n,o="";return(t=r.getUrlHost(e))&&null!==(n=(t=t.replace(/:\d+$/,"")).match(/[^.]\w+\.\w+$/))&&(o=n[0],/^\d+\.\d+$/.test(o)&&(o="")),o}function d(e){return r.getUrlHost(e).toLowerCase().indexOf(".arcgis.com")>=0}function f(e){var t=r.getUrlHost(e).toLowerCase();return"www.arcgis.com"===t||"arcgis.com"===t}function p(e){var t=r.getUrlHost(e);return""===t?"":d(t)?(f(t)&&(t="www.arcgis.com"),r.setLocationProtocal(t)):(e=(e||"").trim().replace(/sharing(.*)/gi,"").replace(/\/*$/g,""),r.setLocationProtocal(e))}function h(e){var t="",n=p(e);return n&&(t=n+"/sharing/rest/content/items"),t}function g(e,t){var n="",r=h(e);return r&&t&&(n=r+"/"+t),n}function m(e){var t="",n=p(e);return n&&(t=n+"/sharing/rest/community/users"),t}function v(e,t){var n="",r=m(e);return e&&t&&(n=r+"/"+t),n}function y(e){var t="";return e&&(t=(e=p(e))+"/sharing/rest/content"),t}function b(e,t,n){var r="",o="";return e&&t&&(r=y(e),o=n?r+"/users/"+t+"/"+n:r+"/users/"+t),o}function w(e,t,n){var r="";return e&&t&&(r=b(e,t,n)+"/items"),r}function O(e,t,n,r){var o="";return e&&t&&(o=w(e,t,r)+"/"+n+"/share"),o}function S(e){var t="",n=p(e);return n&&(t=n+"/home/index.html"),t}function I(e,t){var n="",r=p(e);return r&&(n=r+"/home/webmap/viewer.html",n+=t?"?webmap="+t:"?useExisting=1"),n}function j(e){var t=window.location.protocol,n=r.getProtocol(e);return r.getProtocol(e)?t!==n&&t===o.l.Https?r.setProtocol(e,o.l.Https):e:r.setProtocol(e,t)}function E(e){return e+"/sharing/proxy"}function C(e){if(!e)return e;if(e.indexOf("arcgis.com")>-1){var t=e.toLowerCase(),n=r.getUrlHost(t),o=r.getProtocol(e),i=n.split("."),a=i[0];i.splice(0,1);var s=i.join("."),u=void 0;return"devext"===a||"mapsdevext.arcgis.com"===s?u="devext.arcgis.com":"qaext"===a||"mapsqa.arcgis.com"===s?u="qaext.arcgis.com":"www"!==a&&"maps.arcgis.com"!==s||(u="www.arcgis.com"),u=u&&(o?o+"//":"")+u}return e}},function(e,t,n){"use strict";var r,o;function i(e){return e.type===r.literal}function a(e){return e.type===r.argument}function s(e){return e.type===r.number}function u(e){return e.type===r.date}function c(e){return e.type===r.time}function l(e){return e.type===r.select}function d(e){return e.type===r.plural}function f(e){return e.type===r.pound}function p(e){return e.type===r.tag}function h(e){return!(!e||"object"!=typeof e||0!==e.type)}function g(e){return!(!e||"object"!=typeof e||1!==e.type)}n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"l",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return g})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(r||(r={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(o||(o={}))},function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d}));var r,o,i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}(o||(o={}));var a=function(e){function t(n,r,o){var i=e.call(this,"[React Intl Error "+n+"] "+r+" \n"+(o?"\n"+o.message+"\n"+o.stack:""))||this;return i.code=n,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return i(t,e),t}(Error),s=function(e){function t(t,n){return e.call(this,"UNSUPPORTED_FORMATTER",t,n)||this}return i(t,e),t}(a),u=function(e){function t(t,n){return e.call(this,"INVALID_CONFIG",t,n)||this}return i(t,e),t}(a),c=function(e){function t(t,n){return e.call(this,"MISSING_DATA",t,n)||this}return i(t,e),t}(a),l=function(e){function t(t,n,r,o){var i=e.call(this,"FORMAT_ERROR",t+" \nLocale: "+n+"\nMessageID: "+(null==r?void 0:r.id)+"\nDefault Message: "+(null==r?void 0:r.defaultMessage)+"\nDescription: "+(null==r?void 0:r.description)+" \n",o)||this;return i.descriptor=r,i}return i(t,e),t}(a),d=function(e){function t(t,n){var r=e.call(this,"MISSING_TRANSLATION",'Missing message: "'+t.id+'" for locale "'+n+'", using '+(t.defaultMessage?"default message":"id")+" as fallback.")||this;return r.descriptor=t,r}return i(t,e),t}(a)},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return h}));var r=n(193),o=n.n(r),i=n(0),a=n(61),s=n(65),u=n(64),c=n(129);var l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(u.a)(t)},d=Object(i.createContext)("undefined"!=typeof HTMLElement?Object(a.a)():null),f=Object(i.createContext)({}),p=d.Provider,h=function(e){return Object(i.forwardRef)((function(t,n){return Object(i.createElement)(d.Consumer,null,(function(r){return e(t,r,n)}))}))},g="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",m=Object.prototype.hasOwnProperty,v=function(e,t,n,r){var o=null===n?t.css:t.css(n);"string"==typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var a=t[g],c=[o],l="";"string"==typeof t.className?l=Object(s.a)(e.registered,c,t.className):null!=t.className&&(l=t.className+" ");var d=Object(u.a)(c);Object(s.b)(e,d,"string"==typeof a);l+=e.key+"-"+d.name;var f={};for(var p in t)m.call(t,p)&&"css"!==p&&p!==g&&(f[p]=t[p]);return f.ref=r,f.className=l,Object(i.createElement)(a,f)},y=h((function(e,t,n){return"function"==typeof e.css?Object(i.createElement)(f.Consumer,null,(function(r){return v(t,e,r,n)})):v(t,e,null,n)}));var b=function(e,t){var n=arguments;if(null==t||!m.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=y;var a={};for(var s in t)m.call(t,s)&&(a[s]=t[s]);a[g]=e,o[1]=a;for(var u=2;u<r;u++)o[u]=n[u];return i.createElement.apply(null,o)},w=h((function(e,t){var n=e.styles;if("function"==typeof n)return Object(i.createElement)(f.Consumer,null,(function(e){var r=Object(u.a)([n(e)]);return Object(i.createElement)(O,{serialized:r,cache:t})}));var r=Object(u.a)([n]);return Object(i.createElement)(O,{serialized:r,cache:t})})),O=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}o()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.sheet=new c.a({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},n.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},n.insertStyles=function(){if(void 0!==this.props.serialized.next&&Object(s.b)(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},n.componentWillUnmount=function(){this.sheet.flush()},n.render=function(){return null},t}(i.Component),S=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o};function I(e,t,n){var r=[],o=Object(s.a)(e,r,n);return r.length<2?n:o+t(r)}h((function(e,t){return Object(i.createElement)(f.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=Object(u.a)(n,t.registered);return Object(s.b)(t,o,!1),t.key+"-"+o.name},o={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return I(t.registered,r,S(n))},theme:n},i=e.children(o);return!0,i}))}))},function(e,t,n){"use strict";n.r(t),n.d(t,"getWidgetCallbackNamesFromWidgetState",(function(){return l})),n.d(t,"getPanelCallbackNamesFromPanelState",(function(){return d})),n.d(t,"isTouchDevice",(function(){return f})),n.d(t,"getBrowserSizeMode",(function(){return p})),n.d(t,"findViewportSize",(function(){return h})),n.d(t,"getSizeModeWidth",(function(){return g})),n.d(t,"loadstyle",(function(){return v})),n.d(t,"applyMixins",(function(){return y})),n.d(t,"isArrayContainSameItems",(function(){return b})),n.d(t,"hyphenateStyleName",(function(){return S})),n.d(t,"styleObjectToString",(function(){return I})),n.d(t,"tryGet",(function(){return j})),n.d(t,"getLocalStorageAppKey",(function(){return E})),n.d(t,"getUID",(function(){return C})),n.d(t,"getUUID",(function(){return T})),n.d(t,"calculateDigits",(function(){return A})),n.d(t,"getOverlayUniqueId",(function(){return _})),n.d(t,"replaceI18nPlaceholdersInObject",(function(){return x})),n.d(t,"checkUpdate",(function(){return P})),n.d(t,"showApp",(function(){return D})),n.d(t,"getIntlOption",(function(){return R})),n.d(t,"memoize",(function(){return k}));var r=n(62);n.d(t,"getValue",(function(){return r.a}));var o=n(110);n.d(t,"isDeepEqual",(function(){return o.a}));var i=n(8),a=n(12),s=n(9),u=n(2),c=n(34);function l(e,t){return m(e,t)}function d(e,t){return m(e,t)}function f(){return"undefined"!=typeof window&&Boolean("ontouchstart"in window||window.navigator&&window.navigator.maxTouchPoints>0||window.navigator&&window.navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch)}function p(e){return e.width<=a.BREAK_POINTS[0]?i.d.Small:e.width<=a.BREAK_POINTS[1]?i.d.Medium:i.d.Large}function h(e,t){var n=Object(r.a)(e,"forBuilderAttributes.viewPortSize."+t);return n||(n=Object(r.a)(a.SCREEN_RESOLUTIONS[t],"[1]")),n||{width:0,height:0}}function g(e){return e===i.d.Small?a.BREAK_POINTS[0]:e===i.d.Medium?a.BREAK_POINTS[1]:1e5}function m(e,t){switch(e){case"opened":switch(t){case"opened":return null;case"closed":return"onOpen";case"active":return"onDeActive"}case"closed":switch(t){case"opened":return"onClose";case"closed":return null;case"active":return["onDeActive","onClose"]}case"active":switch(t){case"opened":return"onDeActive";case"closed":return["onOpen","onActive"];case"active":return null}}}function v(e,t){return new Promise((function(n){var r;r=t?document.getElementById(t):document.getElementsByTagName("head")[0];var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",e),o.onload=function(){n()},r.appendChild(o)}))}function y(e,t){t.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(n){e.prototype[n]=t.prototype[n]}))}))}function b(e,t){return e.length===t.length&&(e=e.sort((function(e,t){return e>t?-1:1})),t=t.sort((function(e,t){return e>t?-1:1})),Object(o.a)(e,t))}var w=/([A-Z])/g,O=/^ms-/;function S(e){return e.replace(w,"-$1").toLowerCase().replace(O,"-ms-")}function I(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(t?t+=";"+S(n)+":"+r:t=S(n)+":"+r)}return t||""}function j(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=100);var r=(new Date).getDate();return new Promise((function(o,i){!function o(i){var a=(new Date).getDate(),s=e();if(s)i(null,s);else{if(r+t>=a)return void i("Timeout",null);setTimeout((function(){o(i)}),n)}}((function(e,t){e?i(e):o(t)}))}))}function E(){return window.jimuConfig.isBuilder?"exb-"+(Object(u.b)().getState().appStateInBuilder.appId||Object(u.b)().getState().appStateInBuilder.appPath):"exb-"+(Object(u.b)().getState().appId||Object(u.b)().getState().appPath)}var C=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},T=function(){return C()+C()+"_"+C()+"_"+C()+"_"+C()+"_"+C()+C()+C()},A=function(e){return e.toString().indexOf(".")<0?0:e.toString().split(".")[1].length},_=function(e,t){void 0===t&&(t=s([]));var n=new RegExp("^"+e+"\\_(\\d+)$"),r=-1;return t.forEach((function(e){var t=e.match(n);t&&(r=Math.max(r,parseInt(t[1],10)))})),e+"_"+(r+1)};function x(e,t,n){var r=/\$\{\w*\}/g,o=function(o){if("string"==typeof e[o]){var i=e[o].match(r);if(i&&i.length>0){var a=e[o];i.forEach((function(e){var r=e.substring(2,e.length-1);if("appResourceUrl"!==r){var o=t.formatMessage({id:r,defaultMessage:n&&n[r]});a=a.replace(e,o)}})),e[o]=a}}else"object"==typeof e[o]&&x(e[o],t,n)};for(var i in e)o(i);return e}function P(){return Promise.resolve(!1)}function D(){document.getElementById("loading").style.display="none",document.getElementById("app").style.display="block"}var R=function(e){if(null==e?void 0:e.format){if(e.type===i.g.Date)return Object(c.getIntlOptions)(e.format.dateFormat);if(e.type===i.g.Number){var t=e.format.places,n=e.format.digitSeparator,r={style:"decimal",notation:"standard"};return"number"==typeof t&&(r.minimumFractionDigits=t,r.maximumFractionDigits=t),"boolean"==typeof n&&(r.useGrouping=n),r}}};function k(e){var t={props:null,result:null};return function(n){if("object"!=typeof n)return console.error("Memorize object param only."),n;if(Object.keys(n).find((function(e){var r;return n[e]!==(null===(r=t.props)||void 0===r?void 0:r[e])}))){var r=e.call(this,n);return t.props=n,t.result=r,r}return t.result}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return se})),n.d(t,"b",(function(){return Z})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return re})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return ie})),n.d(t,"h",(function(){return U})),n.d(t,"i",(function(){return ae})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return $})),n.d(t,"l",(function(){return w}));var r=n(11);function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e,t,n){return(s=a()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&i(o,n.prototype),o}).apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,o(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i(r,e)})(e)}function c(){var e;return(e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]}var l={symbols:{"!":{postfix:{symbol:"!",f:function e(t){return t%1||!(+t>=0)?NaN:t>170?1/0:0===t?1:t*e(t-1)},notation:"postfix",precedence:6,rightToLeft:0,argCount:1},symbol:"!",regSymbol:"!"},"^":{infix:{symbol:"^",f:function(e,t){return Math.pow(e,t)},notation:"infix",precedence:5,rightToLeft:1,argCount:2},symbol:"^",regSymbol:"\\^"},"*":{infix:{symbol:"*",f:function(e,t){return e*t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function(e,t){return e/t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function(e,t){return e+t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:c,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function(e,t){return e-t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function(e){return-e},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:c,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"},sqrt:{func:{symbol:"sqrt",f:function(e){return Math.sqrt(e)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"sqrt",regSymbol:"sqrt\\b"}}};var d=function(e){var t,n;function r(t){return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/master/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(u(Error)),f=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function p(e,t){var n,r=e.pop();return t.push(r.f.apply(r,(n=[]).concat.apply(n,t.splice(-r.argCount)))),r.precedence}function h(e,t){var n,o=function(e){var t={};return t.symbols=e?Object(r.a)({},l.symbols,{},e.symbols):Object(r.a)({},l.symbols),t}(t),i=[o.symbols["("].prefix],a=[],s=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(o.symbols).map((function(e){return o.symbols[e]})).sort((function(e,t){return t.symbol.length-e.symbol.length})).map((function(e){return e.regSymbol})).join("|")+"|(\\S)","g");s.lastIndex=0;var u=!1;do{var c=(n=s.exec(e))||[")",void 0],f=c[0],h=c[1],g=o.symbols[f],m=g&&!g.prefix&&!g.func,v=!g||!g.postfix&&!g.infix;if(h||(u?v:m))throw new d(37,n?n.index:e.length,e);if(u){var y=g.postfix||g.infix;do{var b=i[i.length-1];if((y.precedence-b.precedence||b.rightToLeft)>0)break}while(p(i,a));u="postfix"===y.notation,")"!==y.symbol&&(i.push(y),u&&p(i,a))}else if(g){if(i.push(g.prefix||g.func),g.func&&(!(n=s.exec(e))||"("!==n[0]))throw new d(38,n?n.index:e.length,e)}else a.push(+f),u=!0}while(n&&i.length);if(i.length)throw new d(39,n?n.index:e.length,e);if(n)throw new d(40,n?n.index:e.length,e);return a.pop()}function g(e){return e.split("").reverse().join("")}function m(e,t){var n=g(e),r=n.match(f);if(r&&!r.every((function(e){return e===r[0]})))throw new d(41);return""+h(g(n.replace(f,"")),t)+(r?g(r[0]):"")}function v(e){return e.charAt(0).toUpperCase()+e.slice(1)}function y(e,t){return e.substr(-t.length)===t}var b=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function w(e,t){if("string"!=typeof e)return t?[e,void 0]:e;var n=e.match(b);return t?(console.warn("stripUnit's unitReturn functionality has been marked for deprecation in polished 4.0. It's functionality has been been moved to getValueAndUnit."),n?[parseFloat(e),n[2]]:[e,void 0]):n?parseFloat(e):e}var O=function(e){return function(t,n){void 0===n&&(n="16px");var r=t,o=n;if("string"==typeof t){if(!y(t,"px"))throw new d(69,e,t);r=w(t)}if("string"==typeof n){if(!y(n,"px"))throw new d(70,e,n);o=w(n)}if("string"==typeof r)throw new d(71,t,e);if("string"==typeof o)throw new d(72,n,e);return""+r/o+e}},S=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function I(e){if("string"!=typeof e)return[e,""];var t=e.match(S);return t?[parseFloat(e),t[2]]:[e,void 0]}var j=O("rem");function E(e){return void 0===e&&(e="100%"),{display:"inline-block",maxWidth:e,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"}}function C(e){return Math.round(255*e)}function T(e,t,n){return C(e)+","+C(t)+","+C(n)}function A(e,t,n,r){if(void 0===r&&(r=T),0===t)return r(n,n,n);var o=(e%360+360)%360/60,i=(1-Math.abs(2*n-1))*t,a=i*(1-Math.abs(o%2-1)),s=0,u=0,c=0;o>=0&&o<1?(s=i,u=a):o>=1&&o<2?(s=a,u=i):o>=2&&o<3?(u=i,c=a):o>=3&&o<4?(u=a,c=i):o>=4&&o<5?(s=a,c=i):o>=5&&o<6&&(s=i,c=a);var l=n-i/2;return r(s+l,u+l,c+l)}var _={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var x=/^#[a-fA-F0-9]{6}$/,P=/^#[a-fA-F0-9]{8}$/,D=/^#[a-fA-F0-9]{3}$/,R=/^#[a-fA-F0-9]{4}$/,k=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,M=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,N=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,L=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function U(e){if("string"!=typeof e)throw new d(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return _[t]?"#"+_[t]:e}(e);if(t.match(x))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(P)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(D))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(R)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var o=k.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var i=M.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])};var a=N.exec(t);if(a){var s="rgb("+A(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",u=k.exec(s);if(!u)throw new d(4,t,s);return{red:parseInt(""+u[1],10),green:parseInt(""+u[2],10),blue:parseInt(""+u[3],10)}}var c=L.exec(t);if(c){var l="rgb("+A(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",f=k.exec(l);if(!f)throw new d(4,t,l);return{red:parseInt(""+f[1],10),green:parseInt(""+f[2],10),blue:parseInt(""+f[3],10),alpha:parseFloat(""+c[4])}}throw new d(5)}function F(e){return function(e){var t,n=e.red/255,r=e.green/255,o=e.blue/255,i=Math.max(n,r,o),a=Math.min(n,r,o),s=(i+a)/2;if(i===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var u=i-a,c=s>.5?u/(2-i-a):u/(i+a);switch(i){case n:t=(r-o)/u+(r<o?6:0);break;case r:t=(o-n)/u+2;break;default:t=(n-r)/u+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:c,lightness:s,alpha:e.alpha}:{hue:t,saturation:c,lightness:s}}(U(e))}var V=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function B(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function W(e){return B(Math.round(255*e))}function z(e,t,n){return V("#"+W(e)+W(t)+W(n))}function G(e,t,n){return A(e,t,n,z)}function q(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return G(e,t,n);if("object"==typeof e&&void 0===t&&void 0===n)return G(e.hue,e.saturation,e.lightness);throw new d(1)}function H(e,t,n,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?G(e,t,n):"rgba("+A(e,t,n)+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?G(e.hue,e.saturation,e.lightness):"rgba("+A(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new d(2)}function K(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return V("#"+B(e)+B(t)+B(n));if("object"==typeof e&&void 0===t&&void 0===n)return V("#"+B(e.red)+B(e.green)+B(e.blue));throw new d(6)}function $(e,t,n,r){if("string"==typeof e&&"number"==typeof t){var o=U(e);return"rgba("+o.red+","+o.green+","+o.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof n&&"number"==typeof r)return r>=1?K(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"==typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?K(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new d(7)}function Y(e){if("object"!=typeof e)throw new d(8);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha}(e))return $(e);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return K(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha}(e))return H(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return q(e);throw new d(8)}function J(e){return function e(t,n,r){return function(){var o=r.concat(Array.prototype.slice.call(arguments));return o.length>=n?t.apply(this,o):e(t,n,o)}}(e,e.length,[])}function X(e,t,n){return Math.max(e,Math.min(t,n))}function Q(e,t){if("transparent"===t)return t;var n=F(t);return Y(Object(r.a)({},n,{lightness:X(0,1,n.lightness-parseFloat(e))}))}var Z=J(Q);function ee(e){if("transparent"===e)return 0;var t=U(e),n=Object.keys(t).map((function(e){var n=t[e]/255;return n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)})),r=n[0],o=n[1],i=n[2];return parseFloat((.2126*r+.7152*o+.0722*i).toFixed(3))}function te(e,t){var n=ee(e),r=ee(t);return parseFloat((n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)).toFixed(2))}function ne(e,t){if("transparent"===t)return t;var n=F(t);return Y(Object(r.a)({},n,{lightness:X(0,1,n.lightness+parseFloat(e))}))}var re=J(ne);function oe(e,t,n){if("transparent"===t)return n;if("transparent"===n)return t;if(0===e)return n;var o=U(t),i=Object(r.a)({},o,{alpha:"number"==typeof o.alpha?o.alpha:1}),a=U(n),s=Object(r.a)({},a,{alpha:"number"==typeof a.alpha?a.alpha:1}),u=i.alpha-s.alpha,c=2*parseFloat(e)-1,l=((c*u==-1?c:c+u)/(1+c*u)+1)/2,d=1-l;return $({red:Math.floor(i.red*l+s.red*d),green:Math.floor(i.green*l+s.green*d),blue:Math.floor(i.blue*l+s.blue*d),alpha:i.alpha*(parseFloat(e)/1)+s.alpha*(1-parseFloat(e)/1)})}var ie=J(oe);function ae(e,t,n,r){void 0===t&&(t="#000"),void 0===n&&(n="#fff"),void 0===r&&(r=!1);var o=ee(e)>.179,i=o?t:n;return!r||te(e,i)>=4.5?i:o?"#000":"#fff"}function se(e,t){var n,r,o=v(e);if(!t&&0!==t)throw new d(62);if("Top"===o||"Bottom"===o)return(n={})["border"+o+"RightRadius"]=t,n["border"+o+"LeftRadius"]=t,n;if("Left"===o||"Right"===o)return(r={})["borderTop"+o+"Radius"]=t,r["borderBottom"+o+"Radius"]=t,r;throw new d(63)}},function(e,t,n){"use strict";n.r(t),n.d(t,"getLocaleToLoad",(function(){return s})),n.d(t,"getBrowserLanguage",(function(){return u})),n.d(t,"getTranslatedLocale",(function(){return c})),n.d(t,"isSameLanguage",(function(){return l})),n.d(t,"loadLocaleMessages",(function(){return d})),n.d(t,"isRTLLocale",(function(){return f})),n.d(t,"getIntl",(function(){return h})),n.d(t,"getDecimalSeparator",(function(){return g})),n.d(t,"findLocale",(function(){return m}));var r=n(15),o=n(23),i=n(71),a=n(2);function s(e,t){var n=c(e=e.toLowerCase(),t);return n?n===(t&&t[0])?void 0:n:void 0}function u(e){if(e){var t,n,r=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(e.languages)&&e.languages.length>0&&(n=e.languages[0])&&n.length)return n;for(t=0;t<r.length;t++)if((n=e[r[t]])&&n.length)return n}}function c(e,t){if(void 0===t&&(t=[]),e)return m(e,t)}function l(e,t){return e.split("-")[0]===t.split("-")[0]}function d(e,t){return Object(r.loadModule)(e+"/"+t)}function f(e){for(var t=!1,n=["ar","he"],r=0;r<n.length;r++)l(n[r],e)&&(t=!0);return t}var p={};function h(e,t){var n,r,s,u,c,l,d,f;void 0===e&&(e="_jimu"),void 0===t&&(t="runtime");var h=e+"-"+t;if(p[h])return p[h];var g,m=Object(o.d)(),v=Object(a.b)().getState();if(!v)return null;if("_jimu"===e)g=Object(i.a)({locale:v.appContext.locale,defaultLocale:v.appContext.locale,messages:v.appI18nMessages},m);else if("runtime"===t){var y=window.jimuConfig.isBuilder?null===(n=v.appStateInBuilder)||void 0===n?void 0:n.appConfig:v.appConfig,b=null===(s=null===(r=null==y?void 0:y.widgets)||void 0===r?void 0:r[e])||void 0===s?void 0:s.manifest.i18nMessages,w=Object.assign({},b,v.appI18nMessages);g=Object(i.a)({locale:v.appContext.locale,defaultLocale:v.appContext.locale,messages:w},m)}else{var O=void 0;if(window.jimuConfig.isBuilder){var S=null===(d=null===(l=null===(c=null===(u=v.appStateInBuilder)||void 0===u?void 0:u.appConfig)||void 0===c?void 0:c.widgets)||void 0===l?void 0:l[e])||void 0===d?void 0:d.manifest.name;O=null===(f=v.builder.widgetSettingI18nMessages)||void 0===f?void 0:f[S]}else O={};w=Object.assign({},O,v.appI18nMessages);g=Object(i.a)({locale:v.appContext.locale,defaultLocale:v.appContext.locale,messages:w},m)}return p[h]=g,g}function g(e){return m(e,["ar","en","he","ja","ko","es-mx","th","zh","it-ch","de-ch"])?".":","}function m(e,t){var n;if(void 0===t&&(t=[]),e=e.toLowerCase(),t.indexOf(e)>-1)n=e;else{var r=e.split("-")[0];if(t.indexOf(r)>-1)n=r;else{var o=t.find((function(t){return t.split("-")[0]===e}));o&&(n=o)}}return n}},function(e,t,n){"use strict";n.r(t),n.d(t,"VirtualDateType",(function(){return r})),n.d(t,"TimeUnit",(function(){return o})),n.d(t,"ESRI_DATE_FORMAT_MAP",(function(){return s})),n.d(t,"DATE_TIME_CONNECTOR",(function(){return u})),n.d(t,"DATE_TIME_DEFAULT_FORMAT",(function(){return c})),n.d(t,"getEsriDateFormat",(function(){return l})),n.d(t,"getDateTimeFormat",(function(){return d})),n.d(t,"formatDateField",(function(){return f})),n.d(t,"formatDateLocally",(function(){return p})),n.d(t,"getIntlOptions",(function(){return h})),n.d(t,"getDateOptions",(function(){return g})),n.d(t,"getTimeOption",(function(){return m})),n.d(t,"formatDate",(function(){return v})),n.d(t,"formatTime",(function(){return y}));var r,o,i=n(8),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};!function(e){e.Today="TODAY",e.Tomorrow="TOMORROW",e.Yesterday="YESTERDAY",e.ThisWeek="THIS_WEEK",e.ThisMonth="THIS_MONTH",e.ThisQuarter="THIS_QUARTER",e.ThisYear="THIS_YEAR"}(r||(r={})),function(e){e.Minute="MINUTE",e.Hour="HOUR",e.Day="DAY",e.Week="WEEK",e.Month="MONTH",e.Year="YEAR"}(o||(o={}));var s={shortDate:{datePattern:"M/d/y",selector:"date"},shortDateShortTime:{datePattern:"M/d/y",timePattern:"h:mm a",selector:"date and time"},shortDateShortTime24:{datePattern:"M/d/y",timePattern:"H:mm",selector:"date and time"},shortDateLongTime:{datePattern:"M/d/y",timePattern:"h:mm:ss a",selector:"date and time"},shortDateLongTime24:{datePattern:"M/d/y",timePattern:"H:mm:ss",selector:"date and time"},shortDateLE:{datePattern:"d/M/y",selector:"date"},shortDateLEShortTime:{datePattern:"d/M/y",timePattern:"h:mm a",selector:"date and time"},shortDateLEShortTime24:{datePattern:"d/M/y",timePattern:"H:mm",selector:"date and time"},shortDateLELongTime:{datePattern:"d/M/y",timePattern:"h:mm:ss a",selector:"date and time"},shortDateLELongTime24:{datePattern:"d/M/y",timePattern:"H:mm:ss",selector:"date and time"},longMonthDayYear:{datePattern:"MMMM d, y",selector:"date"},longMonthDayYearShortTime:{datePattern:"MMMM d, y",timePattern:"h:mm a",selector:"date and time"},longMonthDayYearShortTime24:{datePattern:"MMMM d, y",timePattern:"H:mm",selector:"date and time"},longMonthDayYearLongTime:{datePattern:"MMMM d, y",timePattern:"h:mm:ss a",selector:"date and time"},longMonthDayYearLongTime24:{datePattern:"MMMM d, y",timePattern:"H:mm:ss",selector:"date and time"},dayShortMonthYear:{datePattern:"d MMM y",selector:"date"},dayShortMonthYearShortTime:{datePattern:"d MMM y",timePattern:"h:mm a",selector:"date and time"},dayShortMonthYearShortTime24:{datePattern:"d MMM y",timePattern:"H:mm",selector:"date and time"},dayShortMonthYearLongTime:{datePattern:"d MMM y",timePattern:"h:mm:ss a",selector:"date and time"},dayShortMonthYearLongTime24:{datePattern:"d MMM y",timePattern:"H:mm:ss",selector:"date and time"},longDate:{datePattern:"EEEE, MMMM d, y",selector:"date"},longDateShortTime:{datePattern:"EEEE, MMMM d, y",timePattern:"h:mm a",selector:"date and time"},longDateShortTime24:{datePattern:"EEEE, MMMM d, y",timePattern:"H:mm",selector:"date and time"},longDateLongTime:{datePattern:"EEEE, MMMM d, y",timePattern:"h:mm:ss a",selector:"date and time"},longDateLongTime24:{datePattern:"EEEE, MMMM d, y",timePattern:"H:mm:ss",selector:"date and time"},longMonthYear:{datePattern:"MMMM y",selector:"date"},shortMonthYear:{datePattern:"MMM y",selector:"date"},year:{datePattern:"y",selector:"date"}},u={common:" ",de:" , ",el:" , ",fi:" klo ",fr:"  ",he:" , ",hi:" , ",it:" , ",nb:" , ",pl:" , ",ro:" , ",ru:" , ",vi:" , "},c={date:"yyyy/MM/dd",time:"H:mm",dateTime:"yyyy/MM/dd H:mm"};function l(e){var t=s[e];return t||(console.warn("Invalid data format "+e),null)}function d(e,t,n){if(!t&&!n)return c.date;var r="";if(t){if(i.e.indexOf(t)>=0){var o=l(t);t=o.datePattern,n=n||o.timePattern}r=t}if(n){var a=e.locale||"en";r=r+(t?u[a]||u.common:"")+n}return r}function f(e,t,n){if(!e)return"";"number"==typeof e&&(e=new Date(e));var r=l(t);return p(e,n,r.datePattern,r.timePattern)}function p(e,t,n,r){if(!e)return"";if("number"==typeof e&&(e=new Date(e)),!n&&!r)return t.formatDate(e);var o=v(e,n,t);if(r){var i=y(e,r,t),a=t.locale||"en";o=o+(u[a]||u.common)+i}return o}var h=function(e){var t=l(e);if(t){var n=g(t.datePattern),r=g(t.timePattern);return a(a({},n),r)}},g=function(e){var t={};if(e.indexOf("y")>=0&&(t.year="numeric"),e.indexOf("MMMM")>=0?t.month="long":e.indexOf("MMM")>=0?t.month="short":e.indexOf("MM")>=0?t.month="2-digit":e.indexOf("M")>=0&&(t.month="numeric"),e.indexOf("d")>=0&&(t.day="numeric"),e.indexOf("EEEE")>=0&&(t.weekday="long"),0!==Object.keys(t).length)return t;console.warn("Invalid date pattern "+e)},m=function(e,t){var n={};if(e.toLowerCase().indexOf("h")>=0&&(n.hour="numeric"),e.indexOf("mm")>=0&&(n.minute="2-digit"),e.indexOf("ss")>=0&&(n.second="2-digit"),t&&e.indexOf("a")>=0&&(n.hour12=!0),0!==Object.keys(n).length)return n;console.warn("Not support time pattern "+e)};function v(e,t,n){if(!e)return null;var r=g(t);return n.formatDate(e,r)}function y(e,t,n){if(!e)return null;var r=m(t,!1);return n.formatDate(e,r)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p}));var r=n(0),o=n(78),i=n.n(o),a=n(23),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=i.a||o;var c=r.createContext(null),l=c.Consumer,d=c.Provider,f=c;function p(e,t){var n,o=t||{},i=o.intlPropName,c=void 0===i?"intl":i,d=o.forwardRef,f=void 0!==d&&d,p=o.enforceContext,h=void 0===p||p,g=function(t){return r.createElement(l,null,(function(n){var o;h&&Object(a.g)(n);var i=((o={})[c]=n,o);return r.createElement(e,s({},t,i,{ref:f?t.forwardedRef:null}))}))};return g.displayName="injectIntl("+(((n=e).displayName||n.name||"Component")+")"),g.WrappedComponent=e,u(f?r.forwardRef((function(e,t){return r.createElement(g,s({},e,{forwardedRef:t}))})):g,e)}},function(e,t,n){"use strict";var r=n(133),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"ExtensionPoints",(function(){return r})),n.d(t,"EP_SUPPORT_MULTIPLE_EXTENTIONS",(function(){return o})),n.d(t,"DummyExtension",(function(){return i})),function(e){e.AppConfigProcessor="APP_CONFIG_PROCESSOR",e.WidgetClassWrapper="WIDGET_CLASS_WRAPPER",e.AppConfigService="APP_CONFIG_SERVICE",e.ReduxStore="REDUX_STORE",e.DependencyDefine="DEPENDENCY_DEFINE",e.DataSourceFactoryUri="DATA_SOURCE_FACTORY_URI",e.ContextTool="CONTEXT_TOOL",e.LayoutTransformer="LAYOUT_TRANSFORMER"}(r||(r={}));var o=[r.ReduxStore,r.DataSourceFactoryUri,r.DependencyDefine,r.ContextTool,r.LayoutTransformer],i=function(){}},function(e,t,n){"use strict";var r,o=n(30),i=n(15),a=n(14),s=n(9),u=n(2),c=n(62),l=n(67),d=n(31),f=n(3),p=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},g=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},m=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},v=function(){function e(){this.jimuThemeStyleModule={},this.jimuComponentStyles={},this.jimuThemeVariablesGenerators={},this.themeLoadPromises={},this.themeModules={},Object(u.c)(this.onThemeChange.bind(this),["appConfig","theme"]),Object(u.c)(this.onCustomThemeChange.bind(this),["appConfig","customTheme"]),Object(u.c)(this.onPortalSelfChange.bind(this),["portalSelf"])}return e.getInstance=function(){return e.instance||(e.instance=new e,window._themeManager=e.instance),e.instance},e.getInAppInstance=function(){var e;return(null===(e=null===window||void 0===window?void 0:window._appWindow)||void 0===e?void 0:e._themeManager)?window._appWindow._themeManager:this.getInstance()},e.prototype.registerJimuThemeStyleModule=function(e,t){var n=this;this.jimuThemeStyleModule[e]||(this.jimuThemeStyleModule[e]=t,t.variablesGenerator&&(this.jimuThemeVariablesGenerators[e]=t.variablesGenerator),Object.entries(t.componentStyles).forEach((function(e){var t=e[0],r=e[1];n.jimuComponentStyles[t]?console.error("Component name conflicts.",t):n.jimuComponentStyles[t]=r})))},e.prototype.loadTheme=function(e){return g(this,void 0,void 0,(function(){var t,n,r,o,a,c,l;return m(this,(function(d){switch(d.label){case 0:return t=Object(u.b)().getState().appConfig,this.themeModules[e]?(this.updateThemeVariablesInState(t),[2,Promise.resolve(this.themeModules[e])]):(this.themeLoadPromises[e]={},"themes/default/"!==e?[3,1]:(n={manifest:s({}),styleModule:null,variables:{themeVariables:s({}),mergedToJimuVariables:this.mergeThemeVarsToJimuVars(s({})),customVariables:s({})}},[3,8]));case 1:return t.theme===e&&t.themeManifest?(o=t.themeManifest,[3,4]):[3,2];case 2:return[4,this.loadThemeManifest(e)];case 3:o=d.sent(),d.label=4;case 4:return r=o,[4,this.loadThemeVariables(e)];case 5:return a=d.sent(),c={manifest:r},(l=r.styleFiles&&r.styleFiles.js)?[4,Object(i.loadModule)(e+"/style.js")]:[3,7];case 6:l=d.sent(),d.label=7;case 7:c.styleModule=l,c.variables={themeVariables:a,mergedToJimuVariables:this.mergeThemeVarsToJimuVars(a),customVariables:s({})},n=c,d.label=8;case 8:return this.themeModules[e]=n,this.updateThemeVariablesInState(t),[2,Promise.resolve(n)]}}))}))},e.prototype.updateThemeVariablesInState=function(e){e.customTheme&&!Object(d.isDeepEqual)(e.customTheme,{})?this.updateThemeCustomVariables(e.theme,e.customTheme):Object(u.b)().dispatch(Object(f.themeVariablesChanged)(this.getThemeVariables(e.theme)))},e.prototype.isThemeLoaded=function(e){return!!this.themeModules[e]},e.prototype.loadThemeVariables=function(e){return this.themeLoadPromises[e]||(this.themeLoadPromises[e]={}),this.themeLoadPromises[e].variables||(this.themeLoadPromises[e].variables=window.fetch(""+Object(a.getAbsoluteRootUrl)()+e+"/variables.json").then((function(e){return e.json()})).then((function(e){return s(e)}))),this.themeLoadPromises[e].variables},e.prototype.loadThemeManifest=function(e){return this.themeLoadPromises[e]||(this.themeLoadPromises[e]={}),this.themeLoadPromises[e].manifest||(this.themeLoadPromises[e].manifest=fetch(""+Object(a.getAbsoluteRootUrl)()+e+"/manifest.json").then((function(e){return e.json()})).then((function(e){var t=s(e);return Promise.resolve(t)}))),this.themeLoadPromises[e].manifest},e.prototype.refreshSharedTheme=function(){var e,t,n,r=null===(t=null===(e=Object(u.b)().getState())||void 0===e?void 0:e.appConfig)||void 0===t?void 0:t.theme,o=this.getThemeModule(r),i=null===(n=null==o?void 0:o.variables)||void 0===n?void 0:n.themeVariables;r&&i&&!i.sharedThemeVariables&&(o.variables.mergedToJimuVariables=this.mergeThemeVarsToJimuVars(o.variables.themeVariables),Object(u.b)().dispatch(Object(f.themeVariablesChanged)(this.getThemeVariables(r))))},e.prototype.loadSharedTheme=function(e){e&&!Object(d.isDeepEqual)(this.sharedThemeJson,e)&&(this.sharedThemeJson=e)},e.prototype.getSharedThemeJson=function(){return this.sharedThemeJson},e.prototype.updateThemeCustomVariables=function(e,t){this.themeModules[e]&&this.themeModules[e].variables&&(this.themeModules[e].variables.customVariables=t,Object(u.b)().getState().appConfig.theme===e&&Object(u.b)().dispatch(Object(f.themeVariablesChanged)(this.getThemeVariables(e))))},e.prototype.addThemeCustomVariables=function(e,t){if(this.themeModules[e]&&this.themeModules[e].variables){var n=this.themeModules[e].variables.customVariables,r=Object.assign({},h({},function e(t,n){return[].concat.apply([],Object.keys(t).map((function(r){var o;return"object"==typeof t[r]?e(t[r],n?n+"/"+r:r):((o={})[n?n+"/"+r:r]=t[r],o)})))}(t)));return Object.keys(r).some((function(e){var t,o=null===(t=Object.keys(r[e]))||void 0===t?void 0:t[0];return n.getIn(o.split("/"))!==r[e][o]}))?(this.themeModules[e].variables.customVariables=this.themeModules[e].variables.customVariables.merge(t,{deep:!0}),Object(u.b)().getState().appConfig.theme===e&&Object(u.b)().dispatch(Object(f.themeVariablesChanged)(this.getThemeVariables(e))),this.themeModules[e].variables.customVariables):null}},e.prototype.removeThemeCustomVariables=function(e,t){var n=this;this.themeModules[e]&&this.themeModules[e].variables&&(t.forEach((function(t){var r=t.split(".");if(r.length>1){var o=r.concat([]),i=o.pop(),a=n.themeModules[e].variables.customVariables.getIn(o);a&&(n.themeModules[e].variables.customVariables=n.themeModules[e].variables.customVariables.setIn(o,a.without(i)))}else n.themeModules[e].variables.customVariables=n.themeModules[e].variables.customVariables.without(r[0])})),Object(u.b)().getState().appConfig.theme===e&&Object(u.b)().dispatch(Object(f.themeVariablesChanged)(this.getThemeVariables(e))))},e.prototype.clearAllThemeCustomVariables=function(){for(var e in this.themeModules)this.themeModules[e].variables.customVariables=s({})},e.prototype.getGlobalStyles=function(e){return this.getComponentStyles("Global",Object.assign({theme:e}))},e.prototype.getComponentStyles=function(e,t){var n,i,a=Object(u.b)()&&Object(u.b)().getState().appConfig&&Object(u.b)().getState().appConfig.theme;return n=this.jimuComponentStyles[e],i=this.themeModules[a]&&this.themeModules[a].styleModule&&this.themeModules[a].styleModule[e],Object(o.d)(r||(r=p(["\n      ","\n      ","\n    "],["\n      ","\n      ","\n    "])),n&&n(t),i&&i(t))},e.prototype.getThemeVariables=function(e){var t=this.getRawThemeVariables(e);return this.parseVars(t)},e.prototype.getRawThemeVariables=function(e){if(!this.themeModules[e]||!this.themeModules[e].variables)return s({});var t=this.themeModules[e].variables.themeVariables,n=this.themeModules[e].variables.customVariables,r=this.mergeThemeVarsToJimuVars(t,n);return this.themeModules[e].variables.mergedToJimuVariables=r,r},e.prototype.getCustomVariables=function(e){return this.themeModules[e]&&this.themeModules[e].variables&&this.themeModules[e].variables.customVariables},e.prototype.getThemeManifest=function(e){return this.themeModules[e]&&this.themeModules[e].manifest},e.prototype.getThemeModule=function(e){return this.themeModules[e]},e.prototype.mergeThemeVarsToJimuVars=function(e,t){var n=this;if(Object.keys(this.jimuThemeVariablesGenerators).find((function(e){return"jimu-ui"===e}))){var r=this.jimuThemeVariablesGenerators["jimu-ui"].generate(e,t);return Object.keys(this.jimuThemeVariablesGenerators).forEach((function(o){"jimu-ui"!==o&&(r=r.merge(n.jimuThemeVariablesGenerators[o].generate(e,t),{deep:!0}))})),r}console.error("Does not find jimu-ui theme.")},e.prototype.parseVars=function(e,t){if(!e)return s({});t||(t=e.merge({}));var n=/\$\{([^<]+)\}/;for(var r in e){var o=e[r],i=Object.prototype.toString.call(o);if("[object Object]"===i)e=e.setIn([r],this.parseVars(o,t));else if("[object String]"===i&&n.test(o)){var a=o.match(n)[1];e=e.setIn([r],Object(c.a)(t,a))}}return e},e.prototype.onThemeChange=function(e,t){var n=this;Object(l.a)((function(){e&&t&&e!==t&&n.loadTheme(t)}))},e.prototype.onCustomThemeChange=function(e,t){var n=this;Object(l.a)((function(){Object(d.isDeepEqual)(e,t)||n.updateThemeCustomVariables(Object(u.b)().getState().appConfig.theme,t)}))},e.prototype.onPortalSelfChange=function(e,t){var n=this;Object(l.a)((function(){var r,o,i,a,s;if(!Object(d.isDeepEqual)(null===(r=null==e?void 0:e.portalProperties)||void 0===r?void 0:r.sharedTheme,null===(o=null==t?void 0:t.portalProperties)||void 0===o?void 0:o.sharedTheme)){if(window.jimuConfig.isBuilder){var u=null===(i=null===window||void 0===window?void 0:window._appWindow)||void 0===i?void 0:i._themeManager;u&&(u.loadSharedTheme(null===(a=null==t?void 0:t.portalProperties)||void 0===a?void 0:a.sharedTheme),u.refreshSharedTheme())}n.loadSharedTheme(null===(s=null==t?void 0:t.portalProperties)||void 0===s?void 0:s.sharedTheme),n.refreshSharedTheme()}}))},e}();t.a=v},function(e,t,n){"use strict";n.d(t,"f",(function(){return o.d})),n.d(t,"g",(function(){return o.e})),n.d(t,"d",(function(){return o.b})),n.d(t,"c",(function(){return o.a})),n.d(t,"e",(function(){return o.c})),n.d(t,"a",(function(){return U})),n.d(t,"h",(function(){return W})),n.d(t,"i",(function(){return A})),n.d(t,"b",(function(){return _}));var r,o=n(18),i=n(0),a=n(24),s=n(13),u=n(20),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t){return e.call(this,o.e.FadeIn,t)||this}return c(t,e),t.prototype.initProps=function(){return this.generateProps({opacity:0,immediate:!0})},t.prototype.animateProps=function(){return{from:this.generateProps({opacity:0}),to:this.generateProps({opacity:1}),immediate:!1,reset:!0,config:a.config[this.getConfigType()]}},t.prototype.endProps=function(){return this.generateProps({opacity:1,immediate:!0,reset:!1})},t}(s.a),d=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(e){function t(t){return e.call(this,o.e.FadeOut,t)||this}return d(t,e),t.prototype.initProps=function(){return this.generateProps({opacity:1,immediate:!0})},t.prototype.animateProps=function(){return{from:this.generateProps({opacity:1}),to:this.generateProps({opacity:0}),immediate:!0,reset:!0,config:void 0}},t.prototype.endProps=function(){return this.generateProps({opacity:0,immediate:!0,reset:!1})},t}(s.a),p=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},g=function(e){function t(t){var n,r=e.call(this,o.e.FlyIn,t)||this;return r.direction=(null===(n=r.option)||void 0===n?void 0:n.direction)||o.a.Top,r}return p(t,e),t.prototype.from=function(){switch(this.direction){case o.a.Bottom:return{offsetX:0,offsetY:window.innerHeight};case o.a.Left:return{offsetX:-window.innerWidth,offsetY:0};case o.a.Right:return{offsetX:window.innerWidth,offsetY:0};default:return{offsetX:0,offsetY:-window.innerHeight}}},t.prototype.initProps=function(){return this.generateProps({opacity:0,offsetX:0,offsetY:0,immediate:!0})},t.prototype.animateProps=function(){return{from:this.generateProps(h({opacity:0},this.from())),to:this.generateProps({opacity:1,offsetX:0,offsetY:0}),immediate:!1,reset:!0,config:a.config[this.getConfigType()]}},t.prototype.endProps=function(){return this.generateProps({opacity:1,offsetX:0,offsetY:0,immediate:!0,reset:!1})},t}(s.a),m=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(e){function t(t){return e.call(this,o.e.ZoomIn,t)||this}return m(t,e),t.prototype.initProps=function(){return this.generateProps({scaleX:1,scaleY:1,opacity:0,transformOrigin:"center",immediate:!0})},t.prototype.animateProps=function(){return{from:this.generateProps({scaleX:0,scaleY:0,opacity:0}),to:this.generateProps({scaleX:1,scaleY:1,opacity:1}),immediate:!1,reset:!0,config:a.config[this.getConfigType()]}},t.prototype.endProps=function(){return this.generateProps({scaleX:1,scaleY:1,opacity:1,immediate:!0,reset:!1})},t}(s.a),y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(e){function t(t){var n,r=e.call(this,o.e.WipeIn,t)||this;return r.direction=(null===(n=r.option)||void 0===n?void 0:n.direction)||o.a.Top,r}return y(t,e),t.prototype.getClipProp=function(){switch(this.direction){case o.a.Bottom:return"clipTop";case o.a.Left:return"clipRight";case o.a.Right:return"clipLeft";default:return"clipBottom"}},t.prototype.initProps=function(){var e;return this.generateProps(((e={})[this.getClipProp()]=100,e.opacity=0,e.transformOrigin="center",e.immediate=!0,e))},t.prototype.animateProps=function(){var e,t;return{from:this.generateProps((e={},e[this.getClipProp()]=100,e.opacity=0,e)),to:this.generateProps((t={},t[this.getClipProp()]=0,t.opacity=1,t)),immediate:!1,reset:!0,config:a.config[this.getConfigType()]}},t.prototype.endProps=function(){var e;return this.generateProps(((e={})[this.getClipProp()]=0,e.opacity=1,e.immediate=!0,e.reset=!1,e))},t}(s.a),w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(e){function t(t){return e.call(this,o.e.SpinIn,t)||this}return w(t,e),t.prototype.initProps=function(){return this.generateProps({rotateZ:0,opacity:0,immediate:!0})},t.prototype.animateProps=function(){return{from:this.generateProps({rotateZ:720,opacity:0}),to:this.generateProps({rotateZ:0,opacity:1}),immediate:!1,reset:!0,config:a.config[this.getConfigType()]}},t.prototype.endProps=function(){return this.generateProps({rotateZ:0,opacity:1,immediate:!0,reset:!1})},t}(s.a),S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},j=function(e){function t(t){var n,r=e.call(this,o.e.FloatIn,t)||this;return r.direction=(null===(n=r.option)||void 0===n?void 0:n.direction)||o.a.Top,r}return S(t,e),t.prototype.from=function(){switch(this.direction){case o.a.Bottom:return{offsetX:0,offsetY:100};case o.a.Left:return{offsetX:-100,offsetY:0};case o.a.Right:return{offsetX:100,offsetY:0};default:return{offsetX:0,offsetY:-100}}},t.prototype.initProps=function(){return this.generateProps({opacity:0,offsetX:0,offsetY:0,immediate:!0})},t.prototype.animateProps=function(){return{from:this.generateProps(I({opacity:0},this.from())),to:this.generateProps({opacity:1,offsetX:0,offsetY:0}),immediate:!1,reset:!0,config:a.config[this.getConfigType()]}},t.prototype.endProps=function(){return this.generateProps({opacity:1,offsetX:0,offsetY:0,immediate:!0,reset:!1})},t}(s.a);function E(e,t){switch(e){case o.e.FadeIn:return new l(t);case o.e.FadeOut:return new f(t);case o.e.FlyIn:return new g(t);case o.e.ZoomIn:return new v(t);case o.e.WipeIn:return new b(t);case o.e.SpinIn:return new O(t);case o.e.FloatIn:return new j(t);default:return null}}function C(e){if(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;if(t.top<n){var r=e.parentElement.getBoundingClientRect();return t.top<r.bottom}}return!1}function T(){for(var e=[0],t=1;t<=100;t++)e.push(t/100);return e}function A(e,t,n){var r=i.useRef(),o=i.useState(),a=o[0],s=o[1],u=i.useRef(Number.NEGATIVE_INFINITY),c=i.useRef(0);return i.useEffect((function(){var o=function(e){c.current=e.intersectionRatio,u.current=e.boundingClientRect.top};if(t&&e&&"function"==typeof IntersectionObserver){var i=new IntersectionObserver((function(e){!function(e){var t=e.boundingClientRect,n=e.intersectionRect;if(!e.target.classList.contains("playing-animation")){if(function(e,t){return e>t.boundingClientRect.top}(u.current,e)&&function(e,t){return e<t.intersectionRatio}(c.current,e)){if(e.intersectionRatio>=.95||n.height>300)return o(e),void s(!0);if(t.top+1<n.top)return o(e),void s(!0)}if(function(e,t){return e<t.boundingClientRect.top}(u.current,e)&&function(e,t){return e>t.intersectionRatio}(c.current,e)&&e.intersectionRatio<=.05)return o(e),void s(!1);o(e)}}(e[0])}),{threshold:T(),root:n||document.body});return i.observe(e),r.current=i,function(){r.current.disconnect(),r.current=null}}r.current&&(r.current.disconnect(),r.current=null)}),[e,t,n]),a}var _=i.createContext({trigger:"",delay:0,setting:null,inheritedOneByOneSetting:null,playId:null,revert:!1,depth:0}),x=n(8);function P(e){var t,n=e.ref,r=e.enable,s=e.isParentPlaying,c=e.parentAnimationStyle,l=i.useState(!1),d=l[0],p=l[1],h=i.useRef(),g=i.useRef(),m=i.useContext(_)||{},v=m.inheritedOneByOneSetting,y=m.depth,b=v||{},w=b.type,O=b.option,S=i.useMemo((function(){return E(w,O)}),[w,O]),I=i.useMemo((function(){return new f}),[]),j=u.useSelector((function(e){var t;return null===S?null:(null===(t=e.appRuntimeInfo)||void 0===t?void 0:t.appMode)===x.c.Design})),C=i.useMemo((function(){return r&&!s&&w&&w!==o.e.None&&n.current&&!1===j}),[r,s,w,n,j]),T=A(n.current,C,1===y?null:null===(t=n.current)||void 0===t?void 0:t.parentElement),P=Object(a.useSpring)((function(){return{}})),D=P[0],R=P[1],k=P[2],M=function(){S&&(k(),R(I.animateProps()),p(!0))};return i.useEffect((function(){s&&p(!1)}),[s]),i.useEffect((function(){S&&(!g.current&&C?!function(e,t){var n=null==t?void 0:t.parentElement;if(!n)return!0;var r=t.getBoundingClientRect(),o=1===e?{top:0,height:window.innerHeight}:n.getBoundingClientRect();return r.top<o.top+o.height}(y,n.current)?M():h.current=!0:C&&h.current!==T&&(h.current=T,T?S&&(k(),R(S.animateProps()),p(!0)):!1===T&&M()),g.current=C)})),[s||!d?c:D,S]}var D=function(){return(D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var R=function(){return(R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},M=/translateX\(([^)]*)\)/,N=/translateY\(([^)]*)\)/,L=/translate\(([^),]*),\s*([^),]*)\)/;var U=i.forwardRef((function(e,t){var n,r,u,c=e.type,l=e.trigger,d=void 0===l?"":l,p=e.revert,h=e.configType,g=e.direction,m=e.playId,v=e.children,y=e.style,b=e.onAnimationStart,w=e.onAnimationEnd,O=e.parentAnimationStyle,S=e.isParentEnableScroll,I=void 0!==S&&S,j=e.isParentPlaying,T=e.isParentRevert,_=e.parentPlayId,x=k(e,["type","trigger","revert","configType","direction","playId","children","style","onAnimationStart","onAnimationEnd","parentAnimationStyle","isParentEnableScroll","isParentPlaying","isParentRevert","parentPlayId"]),U=i.useRef(),F=t||U,V=function(e){var t=e.type,n=e.ref,r=e.trigger,u=void 0===r?"":r,c=e.revert,l=e.configType,d=e.direction,p=e.playId,h=e.isParentPlaying,g=e.isParentRevert,m=e.parentPlayId,v=e.onAnimationStart,y=e.onAnimationEnd,b=i.useRef(),w=i.useRef(),O=i.useRef(!1),S=i.useRef(!1),I=i.useRef(),j=i.useRef(),T=i.useRef(),_=i.useMemo((function(){return u.indexOf(o.d.ScrollIntoView)>=0}),[u]),x=i.useMemo((function(){return u.indexOf(o.d.Manual)>=0}),[u]),P=i.useMemo((function(){return new f}),[]),R=i.useMemo((function(){return E(t,{configType:l,direction:d})}),[t,l,d]),k=A(n.current,_&&null!=R),M=Object(a.useSpring)((function(){return s.b})),N=M[0],L=M[1],U=M[2],F=function(e){var t,r;void 0===e&&(e=!1),R&&(O.current&&!e||(U(),"function"==typeof v&&v(),O.current=!0,null===(r=null===(t=n.current)||void 0===t?void 0:t.classList)||void 0===r||r.add("playing-animation"),w.current=Date.now(),L(D(D({},R.animateProps()),{onRest:function(){var e,t;O.current=!1,null===(t=null===(e=n.current)||void 0===e?void 0:e.classList)||void 0===t||t.remove("playing-animation"),"function"==typeof y&&y()}}))))},V=function(e){void 0===e&&(e=!1),R&&(O.current&&!e&&Date.now()-w.current<50||(U(),O.current=!0,L(D(D({},P.animateProps()),{onRest:function(){O.current=!1,"function"==typeof y&&x&&y()}}))))};return i.useEffect((function(){R&&(!T.current&&_?C(n.current)?j.current=!0:V():_&&j.current!==k&&(j.current=k,k?F():!1===k&&V()),T.current=_)})),i.useEffect((function(){R&&p&&p!==b.current&&x&&(b.current=p,c?V(!0):F(!0))})),i.useEffect((function(){h&&(S.current!==h||m&&I.current!==m)&&(g?V(!0):F(!0)),S.current=h,I.current=m})),[N,R]}({type:c,ref:t,trigger:d,revert:p,configType:h,direction:g,playId:m,isParentPlaying:j,isParentRevert:T,parentPlayId:_,onAnimationStart:b,onAnimationEnd:w}),B=V[0],W=V[1],z=P({enable:null==W&&I,parentAnimationStyle:O,isParentPlaying:j,ref:t}),G=z[0],q=z[1],H="string"==typeof y?JSON.parse(y):y;if(W&&B?(n=B,r=W.transform,u=W.clippath):I&&q?(n=G,r=null==q?void 0:q.transform,u=null==q?void 0:q.clippath):O&&(n=O,r=s.d,u=s.c),n){var K=void 0;F.current&&(K=getComputedStyle(F.current).getPropertyValue("transform"));var $=function(e){var t="0px",n="0px";if(e){if(e.indexOf("matrix(")>=0){var r=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(",");return[t=parseInt(r[4],10)+"px",n=parseInt(r[5],10)+"px"]}var o=e.match(M),i=e.match(N),a=e.match(L);a?(t=a[1],n=a[2]):(o&&(t=o[1]),i&&(n=i[1]))}return[t,n]}(K),Y=$[0],J=$[1],X=(n.offsetX,n.offsetY,n.rotateX,n.rotateY,n.rotateZ,n.scaleX,n.scaleY,n.clipLeft,n.clipRight,n.clipTop,n.clipBottom,k(n,["offsetX","offsetY","rotateX","rotateY","rotateZ","scaleX","scaleY","clipLeft","clipRight","clipTop","clipBottom"]));(H=Object.assign({},H,X)).transform=r(n,Y,J),H.clipPath=u(n)}return i.createElement(a.animated.div,R({style:H,ref:F},x),v)})),F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},V=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},B=new f;function W(e){e.children;var t,n,r=e.style,u=e.enableScroll,c=void 0!==u&&u,l=V(e,["children","style","enableScroll"]),d=i.useRef(),f=i.useRef(),p=i.useRef(),h=i.useRef(),g=i.useContext(_),m=i.useState(),v=m[0],y=m[1],b=g||{},w=b.trigger,O=void 0===w?"":w,S=b.delay,I=void 0===S?0:S,j=b.setting,T=b.playId,x=b.revert,P=b.onAnimationStart,D=b.onAnimationEnd,R=null==j?void 0:j.type,k=null===(t=null==j?void 0:j.option)||void 0===t?void 0:t.configType,M=null===(n=null==j?void 0:j.option)||void 0===n?void 0:n.direction,N=i.useMemo((function(){return E(R,{configType:k,direction:M})}),[R,k,M]),L=i.Children.count(e.children),U=O.indexOf(o.d.ScrollIntoView)>=0,W=O.indexOf(o.d.Manual)>=0,z=A(p.current,U&&null!=N),G=Object(a.useTrail)(i.Children.count(e.children),(function(){return s.b})),q=G[0],H=G[1],K=G[2],$=i.useCallback((function(){if(N){K(),y(!0);var e=0;"function"==typeof P&&P(),H(F(F({},N.animateProps()),{delay:I,onRest:function(){(e+=1)===L&&("function"==typeof D&&D(),y(!1))}}))}}),[I,N,D,P,L,H,K]),Y=i.useCallback((function(){if(N){K(),y(!0);var e=0;H(F(F({},B.animateProps()),{onRest:function(){(e+=1)===L&&(y(!1),"function"==typeof D&&D())}}))}}),[N,L,D,H,K]);i.useEffect((function(){N&&(!h.current&&U?C(p.current)||Y():U&&f.current!==z&&(f.current=z,z?$():!1===z&&Y()),h.current=U)})),i.useEffect((function(){N&&T&&T!==d.current&&W&&(d.current=T,x?Y():$())}));var J="string"==typeof r?JSON.parse(r):F({},r);return i.createElement("div",F({style:J,ref:p},l),e.children&&i.Children.map(e.children,(function(e,t){return e?i.cloneElement(e,{isPlaying:v,revert:x,playId:T,enableScroll:c,animationStyle:null!=N?q[t]:null}):null})))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h}));var r=n(5),o=n(115),i=n(84),a=n(63),s=n(80),u=n(114),c="@esri/arcgis-rest-js",l={httpMethod:"POST",params:{f:"json"}};function d(e,t){e.authentication&&!t&&Object(u.a)("You should not set `authentication` as a default in a shared environment such as a web server which will process multiple users requests. You can call `setDefaultRequestOptions` with `true` as a second argument to disable this warning."),l=e}var f=function(e){function t(t,n,r,o,i){void 0===t&&(t="AUTHENTICATION_ERROR"),void 0===n&&(n="AUTHENTICATION_ERROR_CODE");var a=e.call(this,t,n,r,o,i)||this;return a.name="ArcGISAuthError",a.message="AUTHENTICATION_ERROR_CODE"===n?t:n+": "+t,a}return r.b(t,e),t.prototype.retry=function(e,t){var n=this;void 0===t&&(t=3);var o=0,i=function(a,s){e(n.url,n.options).then((function(e){var t=r.a({},n.options,{authentication:e});return o+=1,h(n.url,t)})).then((function(e){a(e)})).catch((function(e){"ArcGISAuthError"===e.name&&o<t?i(a,s):"ArcGISAuthError"===e.name&&o>=t?s(n):s(e)}))};return new Promise((function(e,t){i(e,t)}))},t}(s.a);function p(e,t,n,r,o){if(e.code>=400){var i=e.message,a=e.code;throw new s.a(i,a,e,t,r)}if(e.error){var u=e.error,c=(i=u.message,a=u.code,u.messageCode),l=c||a||"UNKNOWN_ERROR_CODE";if(498===a||499===a||"GWM_0003"===c||400===a&&"Unable to generate token."===i)throw o||new f(i,l,e,t,r);throw new s.a(i,l,e,t,r)}if("failed"===e.status||"failure"===e.status){i=void 0,a="UNKNOWN_ERROR_CODE";try{i=JSON.parse(e.statusMessage).message,a=JSON.parse(e.statusMessage).code}catch(t){i=e.statusMessage||e.message}throw new s.a(i,a,e,t,r)}return e}function h(e,t){void 0===t&&(t={params:{f:"json"}});var n=r.a({httpMethod:"POST"},l,t,{params:r.a({},l.params,t.params),headers:r.a({},l.headers,t.headers)}),u=[],d=[];if(n.fetch||"undefined"==typeof fetch?(u.push("`fetch`"),d.push("`node-fetch`")):n.fetch=fetch.bind(Function("return this")()),"undefined"==typeof Promise&&(u.push("`Promise`"),d.push("`es6-promise`")),"undefined"==typeof FormData&&(u.push("`FormData`"),d.push("`isomorphic-form-data`")),!n.fetch||"undefined"==typeof Promise||"undefined"==typeof FormData)throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+u.join(", ")+". We recommend installing the "+d.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var f=n.httpMethod,h=n.authentication,g=n.rawResponse,m=r.a({f:"json"},n.params),v=null,y={method:f,credentials:"same-origin"};return(h?h.getToken(e,{fetch:n.fetch}).catch((function(t){return t.url=e,t.options=n,v=t,Promise.resolve("")})):Promise.resolve("")).then((function(t){t.length&&(m.token=t);var s={};if("GET"===y.method){m.token&&n.hideToken&&"undefined"==typeof window&&(s["X-Esri-Authorization"]="Bearer "+m.token,delete m.token);var u=""===Object(i.b)(m)?e:e+"?"+Object(i.b)(m);n.maxUrlLength&&u.length>n.maxUrlLength||m.token&&n.hideToken?(y.method="POST",t.length&&n.hideToken&&(m.token=t,delete s["X-Esri-Authorization"])):e=u}var l=new RegExp("/items/.+/updateResources").test(e);return"POST"===y.method&&(y.body=Object(o.a)(m,l)),y.headers=r.a({},s,n.headers),"undefined"!=typeof window||y.headers.referer||(y.headers.referer=c),Object(a.b)(m)||l||(y.headers["Content-Type"]="application/x-www-form-urlencoded"),n.fetch(e,y)})).then((function(t){if(!t.ok){var r=t.status,o=t.statusText;throw new s.a(o,"HTTP "+r,t,e,n)}if(g)return t;switch(m.f){case"json":case"geojson":return t.json();case"html":case"text":return t.text();default:return t.blob()}})).then((function(t){if("json"!==m.f&&"geojson"!==m.f||g)return t;var r=p(t,e,0,n,v);if(v){var o=e.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];n.authentication.trustedServers[o]={token:[],expires:new Date(Date.now()+864e5)},v=null}return r}))}},function(e,t,n){(function(n){var r;t=e.exports=K,r="object"==typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var o=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],a=t.src=[],s=0,u=s++;a[u]="0|[1-9]\\d*";var c=s++;a[c]="[0-9]+";var l=s++;a[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=s++;a[d]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var f=s++;a[f]="("+a[c]+")\\.("+a[c]+")\\.("+a[c]+")";var p=s++;a[p]="(?:"+a[u]+"|"+a[l]+")";var h=s++;a[h]="(?:"+a[c]+"|"+a[l]+")";var g=s++;a[g]="(?:-("+a[p]+"(?:\\."+a[p]+")*))";var m=s++;a[m]="(?:-?("+a[h]+"(?:\\."+a[h]+")*))";var v=s++;a[v]="[0-9A-Za-z-]+";var y=s++;a[y]="(?:\\+("+a[v]+"(?:\\."+a[v]+")*))";var b=s++,w="v?"+a[d]+a[g]+"?"+a[y]+"?";a[b]="^"+w+"$";var O="[v=\\s]*"+a[f]+a[m]+"?"+a[y]+"?",S=s++;a[S]="^"+O+"$";var I=s++;a[I]="((?:<|>)?=?)";var j=s++;a[j]=a[c]+"|x|X|\\*";var E=s++;a[E]=a[u]+"|x|X|\\*";var C=s++;a[C]="[v=\\s]*("+a[E]+")(?:\\.("+a[E]+")(?:\\.("+a[E]+")(?:"+a[g]+")?"+a[y]+"?)?)?";var T=s++;a[T]="[v=\\s]*("+a[j]+")(?:\\.("+a[j]+")(?:\\.("+a[j]+")(?:"+a[m]+")?"+a[y]+"?)?)?";var A=s++;a[A]="^"+a[I]+"\\s*"+a[C]+"$";var _=s++;a[_]="^"+a[I]+"\\s*"+a[T]+"$";var x=s++;a[x]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var P=s++;a[P]="(?:~>?)";var D=s++;a[D]="(\\s*)"+a[P]+"\\s+",i[D]=new RegExp(a[D],"g");var R=s++;a[R]="^"+a[P]+a[C]+"$";var k=s++;a[k]="^"+a[P]+a[T]+"$";var M=s++;a[M]="(?:\\^)";var N=s++;a[N]="(\\s*)"+a[M]+"\\s+",i[N]=new RegExp(a[N],"g");var L=s++;a[L]="^"+a[M]+a[C]+"$";var U=s++;a[U]="^"+a[M]+a[T]+"$";var F=s++;a[F]="^"+a[I]+"\\s*("+O+")$|^$";var V=s++;a[V]="^"+a[I]+"\\s*("+w+")$|^$";var B=s++;a[B]="(\\s*)"+a[I]+"\\s*("+O+"|"+a[C]+")",i[B]=new RegExp(a[B],"g");var W=s++;a[W]="^\\s*("+a[C]+")\\s+-\\s+("+a[C]+")\\s*$";var z=s++;a[z]="^\\s*("+a[T]+")\\s+-\\s+("+a[T]+")\\s*$";var G=s++;a[G]="(<|>)?=?\\s*\\*";for(var q=0;q<35;q++)r(q,a[q]),i[q]||(i[q]=new RegExp(a[q]));function H(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof K)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[S]:i[b]).test(e))return null;try{return new K(e,t)}catch(e){return null}}function K(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof K){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof K))return new K(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?i[S]:i[b]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}t.parse=H,t.valid=function(e,t){var n=H(e,t);return n?n.version:null},t.clean=function(e,t){var n=H(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=K,K.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},K.prototype.toString=function(){return this.version},K.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof K||(e=new K(e,this.options)),this.compareMain(e)||this.comparePre(e)},K.prototype.compareMain=function(e){return e instanceof K||(e=new K(e,this.options)),Y(this.major,e.major)||Y(this.minor,e.minor)||Y(this.patch,e.patch)},K.prototype.comparePre=function(e){if(e instanceof K||(e=new K(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return Y(n,o)}while(++t)},K.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new K(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(Z(e,t))return null;var n=H(e),r=H(t),o="";if(n.prerelease.length||r.prerelease.length){o="pre";var i="prerelease"}for(var a in n)if(("major"===a||"minor"===a||"patch"===a)&&n[a]!==r[a])return o+a;return i},t.compareIdentifiers=Y;var $=/^[0-9]+$/;function Y(e,t){var n=$.test(e),r=$.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function J(e,t,n){return new K(e,n).compare(new K(t,n))}function X(e,t,n){return J(e,t,n)>0}function Q(e,t,n){return J(e,t,n)<0}function Z(e,t,n){return 0===J(e,t,n)}function ee(e,t,n){return 0!==J(e,t,n)}function te(e,t,n){return J(e,t,n)>=0}function ne(e,t,n){return J(e,t,n)<=0}function re(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Z(e,n,r);case"!=":return ee(e,n,r);case">":return X(e,n,r);case">=":return te(e,n,r);case"<":return Q(e,n,r);case"<=":return ne(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return Y(t,e)},t.major=function(e,t){return new K(e,t).major},t.minor=function(e,t){return new K(e,t).minor},t.patch=function(e,t){return new K(e,t).patch},t.compare=J,t.compareLoose=function(e,t){return J(e,t,!0)},t.rcompare=function(e,t,n){return J(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compare(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.rcompare(e,r,n)}))},t.gt=X,t.lt=Q,t.eq=Z,t.neq=ee,t.gte=te,t.lte=ne,t.cmp=re,t.Comparator=oe;var ie={};function ae(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ae)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ae(e.raw,t);if(e instanceof oe)return new ae(e.value,t);if(!(this instanceof ae))return new ae(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ue(e,t,n,r,o,i,a,s,u,c,l,d,f){return((t=se(n)?"":se(r)?">="+n+".0.0":se(o)?">="+n+"."+r+".0":">="+t)+" "+(s=se(u)?"":se(c)?"<"+(+u+1)+".0.0":se(l)?"<"+u+"."+(+c+1)+".0":d?"<="+u+"."+c+"."+l+"-"+d:"<="+s)).trim()}function ce(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==ie&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function le(e,t,n){try{t=new ae(t,n)}catch(e){return!1}return t.test(e)}function de(e,t,n,r){var o,i,a,s,u;switch(e=new K(e,r),t=new ae(t,r),n){case">":o=X,i=ne,a=Q,s=">",u=">=";break;case"<":o=Q,i=te,a=X,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],d=null,f=null;if(l.forEach((function(e){e.semver===ie&&(e=new oe(">=0.0.0")),d=d||e,f=f||e,o(e.semver,d.semver,r)?d=e:a(e.semver,f.semver,r)&&(f=e)})),d.operator===s||d.operator===u)return!1;if((!f.operator||f.operator===s)&&i(e,f.semver))return!1;if(f.operator===u&&a(e,f.semver))return!1}return!0}oe.prototype.parse=function(e){var t=this.options.loose?i[F]:i[V],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new K(n[2],this.options.loose):this.semver=ie},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new K(e,this.options)),re(e,this.operator,this.semver,this.options))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new ae(e.value,t),le(this.value,n,t);if(""===e.operator)return n=new ae(this.value,t),le(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||o||i&&a||s||u},t.Range=ae,ae.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ae.prototype.toString=function(){return this.range},ae.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[z]:i[W];e=e.replace(n,ue),r("hyphen replace",e),e=e.replace(i[B],"$1$2$3"),r("comparator trim",e,i[B]),e=(e=(e=e.replace(i[D],"$1~")).replace(i[N],"$1^")).split(/\s+/).join(" ");var o=t?i[F]:i[V],a=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[U]:i[L];return e.replace(n,(function(t,n,o,i,a){var s;return r("caret",e,t,n,o,i,a),se(n)?s="":se(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?s="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":a?(r("replaceCaret pr",a),s="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+a+" <"+(+n+1)+".0.0"):(r("no pr"),s="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",s),s}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[k]:i[R];return e.replace(n,(function(t,n,o,i,a){var s;return r("tilde",e,t,n,o,i,a),se(n)?s="":se(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?s=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":a?(r("replaceTilde pr",a),s=">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+(+o+1)+".0"):s=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[_]:i[A];return e.replace(n,(function(t,n,o,i,a,s){r("xRange",e,t,n,o,i,a,s);var u=se(o),c=u||se(i),l=c||se(a);return"="===n&&l&&(n=""),u?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(c&&(i=0),a=0,">"===n?(n=">=",c?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===n&&(n="<",c?o=+o+1:i=+i+1),t=n+o+"."+i+"."+a):c?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[G],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(e){return!!e.match(o)}))),a=a.map((function(e){return new oe(e,this.options)}),this)},ae.prototype.intersects=function(e,t){if(!(e instanceof ae))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new ae(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ae.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new K(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=le,t.maxSatisfying=function(e,t,n){var r=null,o=null;try{var i=new ae(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(r&&-1!==o.compare(e)||(o=new K(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,o=null;try{var i=new ae(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(r&&1!==o.compare(e)||(o=new K(r=e,n)))})),r},t.minVersion=function(e,t){e=new ae(e,t);var n=new K("0.0.0");if(e.test(n))return n;if(n=new K("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r){e.set[r].forEach((function(e){var t=new K(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!X(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(n&&e.test(n))return n;return null},t.validRange=function(e,t){try{return new ae(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return de(e,t,"<",n)},t.gtr=function(e,t,n){return de(e,t,">",n)},t.outside=de,t.prerelease=function(e,t){var n=H(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new ae(e,n),t=new ae(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof K)return e;if("string"!=typeof e)return null;var t=e.match(i[x]);if(null==t)return null;return H(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}}).call(this,n(214))},function(e,t,n){"use strict";var r=n(15),o=n(37),i=n(2),a=n(3),s=function(){function e(){this.extensions={},this.extensionClasses={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._extensionManager=e.instance),e.instance},e.prototype.getExtensions=function(e){return this.extensions[e]||[]},e.prototype.getAllExtensions=function(){var e=this,t=[];return Object.keys(this.extensions).forEach((function(n){e.extensions[n].forEach((function(e){t.push(e)}))})),t},e.prototype.registerExtension=function(e){if(this.getExtensionById(e.extension.id))console.log("Extension "+e.extension.id+" has been registered.");else{if(this.extensions[e.epName]){if(!(o.EP_SUPPORT_MULTIPLE_EXTENTIONS.indexOf(e.epName)>-1))return;this.extensions[e.epName].push(e.extension),this.extensions[e.epName]=this.extensions[e.epName].sort((function(e,t){return e.index-t.index}))}else this.extensions[e.epName]=[e.extension];e.epName===o.ExtensionPoints.ReduxStore&&Object(i.b)().dispatch(Object(a.initStoreExtensionState)(e.extension.id))}},e.prototype.destryAllExtensions=function(){var e=this;Object.keys(this.extensions).forEach((function(t){e.extensions[t].forEach((function(t){delete e.extensionClasses[t.name],t.destroy&&t.destroy()}))})),this.extensions={}},e.prototype.destryWidgetExtensions=function(e){var t=this;Object.keys(this.extensions).forEach((function(n){t.extensions[n].forEach((function(n){n.widgetId===e&&(delete t.extensionClasses[n.name],n.destroy&&n.destroy())})),t.extensions[n]=t.extensions[n].filter((function(t){return t.widgetId!==e}))}))},e.prototype.registerWidgetExtensions=function(e){var t=this,n=[];return e.manifest.extensions&&e.manifest.extensions.forEach((function(r){(window.jimuConfig.isBuilder||window.jimuConfig.isInBuilder||r.point!==o.ExtensionPoints.ContextTool)&&n.push(t.registerWidgetExtension(e,r))})),Promise.all(n)},e.prototype.registerWidgetExtension=function(e,t){var n=this;if(this.extensions[t.point]){if(!(o.EP_SUPPORT_MULTIPLE_EXTENTIONS.indexOf(t.point)>-1))return Promise.resolve();if(this.extensions[t.point].filter((function(n){return n.name===e.manifest.name+"-"+t.name&&n.widgetId===e.id})).length>0)return Promise.resolve()}return this.loadWidgetExtensionClass(e,t).then((function(r){var o=new r;o.name=e.manifest.name+"-"+t.name,o.widgetId=e.id,o.id=o.widgetId+"-"+t.name,o.label=e.manifest.i18nMessages["_ext_"+t.name+"_label"]||t.label,n.registerExtension({epName:t.point,extension:o})})).catch((function(t){return console.error("Register widget extension error.",e.label),Promise.resolve()}))},e.prototype.loadWidgetExtensionClass=function(e,t){var n=e.manifest.name+"-"+t.name;if(this.extensionClasses[n])return this.extensionClasses[n];var o=e.uri+"dist/"+t.uri;return this.extensionClasses[n]=Object(r.loadModule)(o,["default"]).then((function(e){return e.default})),this.extensionClasses[n]},e.prototype.getExtensionById=function(e){var t=this.getAllExtensions();for(var n in t)if(t[n].id===e)return t[n]},e}();t.a=s},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r,o;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e.Unkown="UNKNOWN",e.Widget="WIDGET",e.Section="SECTION",e.ScreenGroup="SCREEN_GROUP"}(r||(r={})),function(e){e.FixedLayout="FIXED",e.FlowLayout="FLOW",e.GridLayout="GRID",e.ColumnLayout="COLUMN"}(o||(o={}))},function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return g}));var r,o,i=n(22),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function s(e,t){return{STRING_SELECTION_CHANGE:t.formatMessage({id:"message_StringSelectionChange",defaultMessage:i.a.message_StringSelectionChange}),EXTENT_CHANGE:t.formatMessage({id:"message_ExtentChange",defaultMessage:i.a.message_ExtentChange}),DATA_RECORDS_SELECTION_CHANGE:t.formatMessage({id:"message_DataRecordsSelectionChange",defaultMessage:i.a.message_DataRecordsSelectionChange}),DATA_RECORD_SET_CREATE:t.formatMessage({id:"message_DataRecordSetCreate",defaultMessage:i.a.message_DataRecordSetCreate}),DATA_RECORD_SET_UPDATE:t.formatMessage({id:"message_DataRecordSetUpdate",defaultMessage:i.a.message_DataRecordSetUpdate}),SELECT_DATA_RECORD:t.formatMessage({id:"message_SelectDataRecord",defaultMessage:i.a.message_SelectDataRecord})}[e]}!function(e){e.StringSelectionChange="STRING_SELECTION_CHANGE",e.ExtentChange="EXTENT_CHANGE",e.DataRecordsSelectionChange="DATA_RECORDS_SELECTION_CHANGE",e.DataRecordSetCreate="DATA_RECORD_SET_CREATE",e.DataRecordSetUpdate="DATA_RECORD_SET_UPDATE",e.SelectDataRecord="SELECT_DATA_RECORD"}(o||(o={}));var u=function(e,t){this.type=o.StringSelectionChange,this.widgetId=e,this.str=t},c=function(e,t){this.type=o.DataRecordsSelectionChange,this.widgetId=e,this.records=t},l=function(){function e(e,t){this.type=o.ExtentChange,this.widgetId=e,this.extent=t,this.relatedWidgetIds=[]}return e.prototype.setRelatedWidgetIds=function(e){this.relatedWidgetIds=e},e.prototype.getRelatedWidgetIds=function(){return this.relatedWidgetIds},e.prototype.addRelatedWidgetId=function(e){-1===this.relatedWidgetIds.indexOf(e)&&this.relatedWidgetIds.push(e)},e}(),d=function(e,t,n){this.type=o.DataRecordSetCreate,this.widgetId=e,this.dataRecordSetId=t,this.dataRecordSet=n},f=function(e,t,n){this.type=o.DataRecordSetUpdate,this.widgetId=e,this.dataRecordSetId=t,this.dataRecordSet=n},p=function(e,t,n){this.type=o.SelectDataRecord,this.widgetId=e,this.dataSourceId=t,this.recordId=n},h=function(){function e(e){this.id=e.id,e.name&&(this.name=e.name),e.widgetId&&(this.widgetId=e.widgetId),this.label=e.label}return e.prototype.destroy=function(){},e.prototype.onRemoveListen=function(e,t){},e}(),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.filterMessageType=function(e,t){return!0},t.prototype.filterMessage=function(e){return!0},t.prototype.onExecute=function(e,t){return!0},t}(h)},function(e,t,n){"use strict";var r,o=n(134),i=n(36).a["__core-js_shared__"],a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";var s=function(e){return!!a&&a in e},u=n(44),c=n(66),l=/^\[object .+?Constructor\]$/,d=Function.prototype,f=Object.prototype,p=d.toString,h=f.hasOwnProperty,g=RegExp("^"+p.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var m=function(e){return!(!Object(u.a)(e)||s(e))&&(Object(o.a)(e)?g:l).test(Object(c.a)(e))};var v=function(e,t){return null==e?void 0:e[t]};t.a=function(e,t){var n=v(e,t);return m(n)?n:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));var r,o,i=[/\.arcgis\.com$/];function a(e){u({type:r.JimuPageChanged,pageId:e})}function s(e){u({type:r.JimuQueryChanged,queryObject:e})}function u(e){if(window&&window.parent&&window.parent!==window){var t=window.parent;try{if(t.jimuConfig&&t.jimuConfig.isBuilder)return}catch(e){}t.postMessage(e,window.location.origin)}}function c(e,t){return function(n){var r;if((r=n.origin,window&&window.location.origin===r||i.some((function(e){return e.test(r)})))&&(n.data&&!(Object.keys(o).map((function(e){return o[e]})).indexOf(n.data.type)<0))){var a=n.data;a.type===e&&t(a)}}}function l(e,t){if(window&&window.addEventListener){var n=c(e,t);return window.addEventListener("message",n,!1),n}}function d(e){return window?new Promise((function(t){var n=l(e,(function(e){!function(e){if(!window)return;window.removeEventListener("message",e)}(n),t(e)}))})):Promise.resolve(null)}!function(e){e.JimuPageChanged="JIMU_PAGE_CHANGED",e.JimuQueryChanged="JIMU_QUERY_CHANGED"}(r||(r={})),function(e){e.ChangePage="CHANGE_PAGE",e.ChangeQuery="CHANGE_QUERY",e.HostAuth="HOST_AUTH"}(o||(o={}))},function(e,t,n){"use strict";var r=Array.isArray;t.a=r},function(e,t,n){"use strict";n.r(t),n.d(t,"queryAllAttachments",(function(){return $})),n.d(t,"filterAttachments",(function(){return Y})),n.d(t,"convertFieldToJimuField",(function(){return J})),n.d(t,"isNumericalField",(function(){return X})),n.d(t,"getFieldInfoByFieldName",(function(){return Q})),n.d(t,"getDisplayValueForCodedValueOrSubtype",(function(){return Z})),n.d(t,"getDisplayValueForCodedValueOrSubtypeBatch",(function(){return ee})),n.d(t,"getCodedValueListForCodedValueOrSubtypeField",(function(){return te})),n.d(t,"isHostedService",(function(){return le})),n.d(t,"fixLayerId",(function(){return de})),n.d(t,"getFixedLayerIdByLayer",(function(){return fe})),n.d(t,"getFixedLayerIdByLayerDefinition",(function(){return pe})),n.d(t,"getFullServiceUrl",(function(){return ge})),n.d(t,"getSingleDsJsonFromLayerDefinition",(function(){return me})),n.d(t,"getSingleDsJsonFromWholeServiceDefinition",(function(){return ve})),n.d(t,"getDsTypeFromWholeServiceUrl",(function(){return ye})),n.d(t,"fetchSupportedLayerDefinitionsFromUrls",(function(){return be})),n.d(t,"fetchSupportedLayerDefinitions",(function(){return we})),n.d(t,"isSupportedSingleLayerService",(function(){return Oe})),n.d(t,"isSupportedWholeService",(function(){return Se})),n.d(t,"getServiceLabelFromUrl",(function(){return Ie})),n.d(t,"isSupportedService",(function(){return je})),n.d(t,"getSortedArrayByLabel",(function(){return Ee})),n.d(t,"getChildDataSourceId",(function(){return Ce})),n.d(t,"queryFeatureCountByField",(function(){return Ae})),n.d(t,"queryValueLabelsByFieldAndPageSize",(function(){return _e})),n.d(t,"getUrlByLayer",(function(){return xe})),n.d(t,"getRealDataSourceId",(function(){return Pe})),n.d(t,"fetchAssociatedFeatureLayerDefinition",(function(){return De})),n.d(t,"fetchAssociatedFeatureLayerUrl",(function(){return Re})),n.d(t,"getAssumedAssociatedLayerUrl",(function(){return ke})),n.d(t,"fetchAssociatedFeatureServicePortalItem",(function(){return Me})),n.d(t,"findAssociatedFeatureLayerUrl",(function(){return Ne})),n.d(t,"getDataSourceProxyUrl",(function(){return Le})),n.d(t,"getDataSourceSourceUrl",(function(){return Ue})),n.d(t,"getWhetherUseProxy",(function(){return Fe})),n.d(t,"isLayerDataSource",(function(){return Ve})),n.d(t,"getRealDateByVirtualDate",(function(){return _})),n.d(t,"getArcGISSQL",(function(){return x})),n.d(t,"parserSQL",(function(){return P})),n.d(t,"containsNonLatinCharacter",(function(){return L})),n.d(t,"getUTCTimes",(function(){return B})),n.d(t,"getLocalTimes",(function(){return W})),n.d(t,"DateTimeType",(function(){return U})),n.d(t,"getUTCDateValue",(function(){return q}));var r=n(40),o=n(8),i=n(9),a=n(86),s=n(21),u=n(19),c=n(4),l=n(138),d=n(2),f=n(10),p=n(34),h=n(33);function g(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function m(e){g(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function v(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function y(e,t){g(1,arguments);var n=t||{},r=n.locale,o=r&&r.options&&r.options.weekStartsOn,i=null==o?0:v(o),a=null==n.weekStartsOn?i:v(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=m(e),u=s.getDay(),c=(u<a?7:0)+u-a;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function b(e,t){g(1,arguments);var n=t||{},r=n.locale,o=r&&r.options&&r.options.weekStartsOn,i=null==o?0:v(o),a=null==n.weekStartsOn?i:v(n.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=m(e),u=s.getDay(),c=6+(u<a?-7:0)-(u-a);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}function w(e){g(1,arguments);var t=m(e);return t.setDate(1),t.setHours(0,0,0,0),t}function O(e){g(1,arguments);var t=m(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function S(e){g(1,arguments);var t=m(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function I(e){g(1,arguments);var t=m(e),n=t.getMonth(),r=n-n%3+3;return t.setMonth(r,0),t.setHours(23,59,59,999),t}function j(e){g(1,arguments);var t=m(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function E(e){g(1,arguments);var t=m(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}var C={equals:{op:"= ?"},doesNotEqual:{op:"<> ?"},isAtLeast:{op:">= ?"},isAtMost:{op:"<= ?"},isLessThan:{op:"< ?"},isGreaterThan:{op:"> ?"},isBetween:{op:"BETWEEN ?",sep:" AND "},isNotBetween:{op:"NOT BETWEEN ?",sep:" AND "},contains:{op:"LIKE ?",mod:"%{0}%"},doesNotContain:{op:"NOT LIKE ?",mod:"%{0}%"},startsWith:{op:"LIKE ?",mod:"{0}%"},doesNotStartWith:{op:"NOT LIKE ?",mod:"{0}%"},endsWith:{op:"LIKE ?",mod:"%{0}"},doesNotEndWith:{op:"NOT LIKE ?",mod:"%{0}"},isAnyOf:{op:"IN ?",mod:"[{0}]",type:"IN"},isNoneOf:{op:"NOT IN ?",mod:"[{0}]",type:"IN"}};function T(e){var t="";switch(e){case f.e.NumberOperatorIs:case f.e.StringOperatorIs:case f.e.DateOperatorIsOn:case f.e.NumberOperatorIsBlank:case f.e.StringOperatorIsBlank:case f.e.DateOperatorIsBlank:t="equals";break;case f.e.NumberOperatorIsNot:case f.e.StringOperatorIsNot:case f.e.DateOperatorIsNotOn:case f.e.NumberOperatorIsNotBlank:case f.e.StringOperatorIsNotBlank:case f.e.DateOperatorIsNotBlank:t="doesNotEqual";break;case f.e.NumberOperatorIsAtLeast:case f.e.DateOperatorIsOnOrAfter:t="isAtLeast";break;case f.e.NumberOperatorIsAtMost:case f.e.DateOperatorIsOnOrBefore:t="isAtMost";break;case f.e.NumberOperatorIsLessThan:case f.e.DateOperatorIsBefore:t="isLessThan";break;case f.e.DateOperatorIsAfter:case f.e.NumberOperatorIsGreaterThan:t="isGreaterThan";break;case f.e.NumberOperatorIsBetween:case f.e.DateOperatorIsBetween:t="isBetween";break;case f.e.NumberOperatorIsNotBetween:case f.e.DateOperatorIsNotBetween:t="isNotBetween";break;case f.e.NumberOperatorIsAnyOf:case f.e.StringOperatorIsAnyOf:case f.e.DateOperatorIsIn:t="isAnyOf";break;case f.e.NumberOperatorIsNoneOf:case f.e.StringOperatorIsNoneOf:case f.e.DateOperatorIsNotIn:t="isNoneOf";break;case f.e.StringOperatorContains:t="contains";break;case f.e.StringOperatorDoesNotContain:t="doesNotContain";break;case f.e.StringOperatorStartsWith:t="startsWith";break;case f.e.StringOperatorEndsWith:t="endsWith";break;case f.e.StringOperatorDoesNotStartWith:t="doesNotStartWith";break;case f.e.StringOperatorDoesNotEndWith:t="doesNotEndWith"}return t}function A(e,t,n,r,o){if(void 0===r&&(r=!1),void 0===o&&(o=!1),e.indexOf("BLANK")>=0)return n.fieldAlias+(e.indexOf("NOT")<0?" IS NULL":" IS NOT NULL");var i=T(e);if(e.indexOf("DATE")>=0)switch(e){case f.e.DateOperatorIsOn:i=o?"is":r?"isAt":"isOn";break;case f.e.DateOperatorIsNotOn:i=o?"isNot":r?"isNotAt":"isNotOn";break;case f.e.DateOperatorIsIn:i="isIn";break;case f.e.DateOperatorIsNotIn:i="isNotIn";break;case f.e.DateOperatorIsBefore:i="isBefore";break;case f.e.DateOperatorIsAfter:i="isAfter";break;case f.e.DateOperatorIsOnOrBefore:i=r?"isAtOrBefore":"isOnOrBefore";break;case f.e.DateOperatorIsOnOrAfter:i=r?"isAtOrAfter":"isOnOrAfter";break;case f.e.DateOperatorIsInTheLast:i="isInTheLast";break;case f.e.DateOperatorIsNotInTheLast:i="isNotInTheLast"}return t.formatMessage({id:i+"ForDisplaySQL"},n)}function _(e,t){var n=null,r=new Date,o=r.getTime();switch(e){case p.VirtualDateType.Today:n=r;break;case p.VirtualDateType.Yesterday:n=new Date(o-864e5);break;case p.VirtualDateType.Tomorrow:n=new Date(o+864e5);break;case p.VirtualDateType.ThisWeek:n=[y(r,{locale:t.locale}),b(r,{locale:t.locale})];break;case p.VirtualDateType.ThisMonth:n=[w(r),O(r)];break;case p.VirtualDateType.ThisQuarter:n=[S(r),I(r)];break;case p.VirtualDateType.ThisYear:n=[j(r),E(r)]}return n}function x(e,t,n){n=n||Object(h.getIntl)();var r={sql:"",displaySQL:"(1=1)"};if(!e)return r;var i=t.getSchema().fields,a=le(t.url),s=function e(t){if(!t.parts)return r;var s=t.logicalOperator?t.logicalOperator:f.d.And,u=[],c=[];t.parts.forEach((function(t){var r,s,l,d,p,h,g,m,v,y,b,w;if(t.type===f.g.Set){var O=e(t);u.push("("+O.sql+")"),c.push("( "+O.displaySQL+" )")}else{var S=t,I=!1,j=C[T(S.operator)],E=f.f.MultipleSelectFromPredefined===S.valueOptions.sourceType&&[f.e.StringOperatorStartsWith,f.e.StringOperatorDoesNotStartWith,f.e.StringOperatorEndsWith,f.e.StringOperatorDoesNotEndWith,f.e.StringOperatorContains,f.e.StringOperatorDoesNotContain].includes(S.operator),x="",P="",V=S.valueOptions.value?S.valueOptions.value.asMutable({deep:!0}):null,B=i[S.jimuFieldName],W=B?B.type:null;if(!W)return;var H={fieldAlias:B.alias||B.name,value:"?",endValue:"?"};if(W===o.g.Date&&S.valueOptions.sourceType!==f.f.Field){var K=!1,$=!1,Y=S.valueOptions.inputEditor;if(null===V){if(S.operator.indexOf("BLANK")>0){var J=S.operator.indexOf("NOT")>0?"NOT ":"";u.push("("+B.name+" IS "+J+"NULL)")}"SIMPLE_SELECT"===Y?(null===(r=B.format)||void 0===r?void 0:r.dateFormat)&&B.format.dateFormat.indexOf("Time")>=0&&(K=!0):K=Y.indexOf("TIME")>=0}else if("NUMBER_LIST_SELECTOR"===Y&&null===V[0].value)H.endValue=n.formatMessage({id:V[0].label.toLowerCase()});else{var X=a?"":"timestamp ",Q=null===(s=V[0])||void 0===s?void 0:s.value,Z=void 0;if("SIMPLE_SELECT"===Y){var ee=U.Date;Y="DATE_PICKER",(null===(l=B.format)||void 0===l?void 0:l.dateFormat)&&B.format.dateFormat.indexOf("Time")>=0&&(K=!0,Y="DATE_TIME_PICKER",ee=B.format.dateFormat.indexOf("ShortTime")>=0?U.DateTimeShort:U.DateTimeLong),H.value=G(new Date(Q),Y,null===(d=B.format)||void 0===d?void 0:d.dateFormat,n),Z=Q=q(Q,ee)}else if("NUMBER_LIST_SELECTOR"===Y)Q=null,H.value=V[0].value,H.endValue=n.formatMessage({id:V[0].label.toLowerCase()});else{var te=null===(p=V[1])||void 0===p?void 0:p.value;if(null===V[0])Q=null;else if("string"==typeof Q){$=!0,H.value=n.formatMessage({id:R(V[0].value)}),Q=q((ne=_(Q,n))[0]||ne,U.Date),void 0!==ne.length?Z=q(ne[1],U.Date):te||(Z=Q,Y="DATE_PICKER")}else K=Y.indexOf("TIME")>=0,H.value=z(new Date(Q),Y,null===(h=B.format)||void 0===h?void 0:h.dateFormat,n),Z=Q;if(null===V[1])$=!1,Z=null;else if(te){$=!1;var ne,re=void 0;if("string"==typeof te)re=n.formatMessage({id:R(V[1].value)}),Z=q((ne=_(te,n))[0]||ne,U.Date),Y="DATE_PICKER";else re=z(new Date(te),Y,null===(g=B.format)||void 0===g?void 0:g.dateFormat,n),Z=te;H.endValue=re}}var oe=Q?X+"'"+F(Q)+"'":null,ie=Z?X+"'"+function(e,t,n){"number"==typeof e&&(e=new Date(e));var r;"DATE_PICKER"===t||"DOUBLE_DATE_PICKER"===t||"DATE_RANGE_SELECTOR"===t?r=new Date(e.getTime()+864e5):"DATE_TIME_PICKER"!==t&&"DOUBLE_DATE_TIME_PICKER"!==t||(r=n&&n.indexOf("LongTime")>=0?function(e){return new Date(e.getTime()+1e3)}(e):function(e){return new Date(e.getTime()+6e4)}(e));return F(r)}(Z,Y,null===(m=B.format)||void 0===m?void 0:m.dateFormat)+"'":null;switch(S.operator){case f.e.DateOperatorIsOn:x=B.name+" BETWEEN "+oe+" AND "+ie+" AND ("+B.name+" <> "+ie+")";break;case f.e.DateOperatorIsNotOn:x=B.name+" < "+oe+" OR "+B.name+" >= "+ie;break;case f.e.DateOperatorIsBefore:x=B.name+" < "+oe;break;case f.e.DateOperatorIsAfter:x=B.name+" >= "+ie;break;case f.e.DateOperatorIsOnOrBefore:x=B.name+" < "+ie;break;case f.e.DateOperatorIsOnOrAfter:x=B.name+" >= "+oe;break;case f.e.DateOperatorIsInTheLast:x=B.name+" BETWEEN CURRENT_TIMESTAMP - "+D(V[0].value,null===(v=V[0])||void 0===v?void 0:v.label)+" AND CURRENT_TIMESTAMP";break;case f.e.DateOperatorIsNotInTheLast:x=B.name+" NOT BETWEEN CURRENT_TIMESTAMP - "+D(V[0].value,null===(y=V[0])||void 0===y?void 0:y.label)+" AND CURRENT_TIMESTAMP";break;case f.e.DateOperatorIsBetween:case f.e.DateOperatorIsIn:x=oe&&ie?"("+B.name+" BETWEEN "+oe+" AND "+ie+") AND ("+B.name+" <> "+ie+")":"";break;case f.e.DateOperatorIsNotBetween:case f.e.DateOperatorIsNotIn:x=oe&&ie?"("+B.name+" < "+oe+") OR ("+B.name+" >= "+ie+")":""}""!==x&&u.push("("+x+")")}return P=A(S.operator,n,H,K,$),void c.push("("+P+")")}var ae=[],se=[],ue=[f.f.SingleSelectFromPredefined,f.f.MultipleSelectFromPredefined].indexOf(S.valueOptions.sourceType)>=0;if(ue&&V&&(V=(V=V.filter((function(e){return e.selected}))).length>0?V:null),null===V)"IN"===j.type&&(H.value="(?)");else{for(var ce=!1,le=0;le<V.length;le++){null!==V[le]&&V[le].value!==f.h||(ce=!0,V[le]={value:null,label:"?",alias:"?"});var de=V[le].value,fe=ue?V[le].alias:V[le].label;if(S.valueOptions.sourceType===f.f.Field){var pe=i[de];fe=pe.alias?pe.alias:pe.name}else{if(W===o.g.String&&(de=null!==de?M(de):null,I=!(a||S.caseSensitive)),fe=M(fe),j.mod&&"IN"!==j.type&&(de=null!==de?N(j.mod,[de]):null),W===o.g.String&&null!==de)de=(a&&L(de)?"N":"")+"'"+de+"'";fe=W===o.g.String&&null!==de?"'"+fe+"'":fe,I&&(de=null!==de?de.toUpperCase():null,fe=fe.toUpperCase())}null!==de&&ae.push(de),se.push(fe)}if(ce&&(ae=[]),(E=E&&ae.length>1)||!j.sep&&j.mod&&"IN"===j.type){var he=(b=ae.length,w=[],new Array(b).fill(1).map((function(e,t){w.push("{"+t+"}")})),"("+w.join(",")+")");x=E?"predefined":N(he,ae),H.value=N(he,se)}else ae.map((function(e,t){t>0&&(x+=j.sep),x+=e})),H.value=se[0],H.endValue=se[1]||H.endValue}var ge=B.name;if(""!==x){var me=I?"UPPER("+ge+")":ge;if(E){var ve=S.operator.includes("_NOT_")?" AND ":" OR ",ye=ae.map((function(e){return"("+me+" "+k(j.op,e)+")"})).join(ve);u.push(ye)}else{var be=k(j.op,x);u.push("("+me+" "+be+")")}}else if(S.operator.indexOf("BLANK")>0){J=S.operator.indexOf("NOT")>0?"NOT ":"";u.push("("+ge+" IS "+J+"NULL)"),P="Null"}P=A(S.operator,n,H),c.push("("+P+")")}}));var l=n.formatMessage({id:s.toLowerCase()+"LowerCase"});return{sql:u.join(" "+s+" "),displaySQL:c.join(" "+l+" ")}}(e);return{sql:""===s.sql||"()"===s.sql?"":"("+s.sql+")",displaySQL:s.displaySQL}}function P(e){return null}function D(e,t){var n=e;return t===p.TimeUnit.Year?n=365*e:t===p.TimeUnit.Month?n=30*e:t===p.TimeUnit.Week?n=7*e:t===p.TimeUnit.Hour?n=e/24:t===p.TimeUnit.Minute&&(n=e/1440),n=Math.round(1e6*n)/1e6}function R(e){return(e=e.toLowerCase()).replace(/\_(\w)/g,(function(e,t){return t.toUpperCase()}))}function k(e,t){return e.replace("?",(function(){return t}))}function M(e){return e.replace(/[\0\n\r\b\\\'\"]/g,(function(e){switch(e){case"\0":return"\\0";case"\n":return"\\n";case"\r":return"\\r";case"\b":return"\\b";default:return"\\"+e}})).replace(/\t/g,"\\t").replace(/\x1a/g,"\\Z")}function N(e,t){return e.replace(/{([0-9]+)}/g,(function(e,n){return t[parseInt(n)]}))}function L(e){for(var t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return!0;return!1}var U;function F(e){var t=new Date(e);return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)+" "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)}function V(e){var t=e.getTimezoneOffset();return(t<0?1:-1)*(t<0?Math.abs(t)/60:t/60)*60*60*1e3}function B(e){return e.getTime()-V(e)}function W(e){return e.getTime()+V(e)}function z(e,t,n,r){return G(new Date(W(e)),t,n,r)}function G(e,t,n,r){var o="";if(r){var i=p.DATE_TIME_DEFAULT_FORMAT.date,a=p.DATE_TIME_DEFAULT_FORMAT.time;if(n){var s=Object(p.getEsriDateFormat)(n);i=s.datePattern,a=t.indexOf("DATE_TIME_PICKER")>=0?s.timePattern||a:""}else"DATE_PICKER"!==t&&"DOUBLE_DATE_PICKER"!==t||(a="");o=Object(p.formatDateLocally)(e,r,i,a)}else"DATE_PICKER"===t||"DOUBLE_DATE_PICKER"===t?o=e.toLocaleDateString():"DATE_TIME_PICKER"!==t&&"DOUBLE_DATE_TIME_PICKER"!==t||(o=e.toLocaleDateString()+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2));return o}function q(e,t){return"number"!=typeof e&&"string"!=typeof e||(e=new Date(e)),e.setMilliseconds(0),t===U.Date?(e.setHours(0),e.setMinutes(0),e.setSeconds(0)):t===U.DateTimeShort&&e.setSeconds(0),B(e)}!function(e){e.Date="DATE",e.DateTimeShort="DATE_TIME_SHORT",e.DateTimeLong="DATE_TIME_LONG"}(U||(U={}));var H=function(){return(H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},K=["esriFieldTypeOID","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"];function $(e){var t=s.b.getInstance().getMainSession(),n=(null==t?void 0:t.token)?{httpMethod:"GET",params:{token:null==t?void 0:t.token}}:{httpMethod:"GET"};return e.url?Object(r.d)(e.url+"/"+e.featureId+"/attachments",n).then((function(e){return Promise.resolve(e.attachmentInfos)})):Promise.reject(null)}function Y(e,t){var n=s.b.getInstance().getMainSession();if(t&&t.attachmentTypes&&t.attachmentTypes.length>0){for(var r=[],o=0;o<e.length;o++)t.attachmentTypes.indexOf(e[o].contentType)>-1&&(e[o].url=t.url+"/"+t.featureId+"/attachments/"+e[o].id+((null==n?void 0:n.token)?"?token="+(null==n?void 0:n.token):""),r.push(e[o]));return Promise.resolve(r)}for(o=0;o<e.length;o++)e[o].url=t.url+"/"+t.featureId+"/attachments/"+e[o].id+((null==n?void 0:n.token)?"?token="+(null==n?void 0:n.token):"");return Promise.resolve(e)}function J(e,t){var n;return n=K.indexOf(e.type)>-1?o.g.Number:"esriFieldTypeDate"===e.type?o.g.Date:o.g.String,{jimuName:e.name,name:e.name,type:n,esriType:e.type,alias:e.alias,format:t&&t.format}}function X(e){return K.indexOf(e)>-1}function Q(e,t){var n=null;return e&&e.length>0&&e.some((function(e){return e.name===t&&(n=e,!0)})),n}function Z(e,t,n){var r,o=n[t],i=e.typeIdField;n.hasOwnProperty(i)&&(r=n[i]);var a=Q(e.fields,t),s=oe(o,null!=r?ie(e,t,r,a):se(e,a));if(e.typeIdField===t){var u=[{value:n[t],label:s.displayValue}];s.displayValue=ue(e,u)[0].label}return s}function ee(e,t,n){if(1===n.length)return[h=Z(e,t,n[0])];var r=e.typeIdField,o=null,i=null,a=[],s=[];for(var u in n){var c=n[u],l=c[t];if(r===t)a=o||ne(e);else{var d=Q(e.fields,t);if(c.hasOwnProperty(r)){if(!i)for(var f in i={},o=ne(e)){var p=o[f].value;i[p]=ie(e,t,p,d)}(a=i[c[r]])||(a=re(d))}else a=se(e,d)}var h=oe(l,a);s.push(h)}return s}function te(e,t,n){var r=null,o=Q(e.fields,t),i=n?n[e.typeIdField]:null,a=n&&null!=i;if(e.typeIdField&&e.typeIdField.toUpperCase()===t.toUpperCase()){if(r=ne(e),a){var s=oe(i,r);r=[{value:s.value,label:s.displayValue}]}}else r=a?ie(e,t,i,o):se(e,o);return r}function ne(e){return ue(e,function(e){var t=null;return e.typeIdField&&e.types&&e.types.length>0&&(t=[],Object.keys(e.types).map((function(n){t.push({value:e.types[n].id,label:e.types[n].name})}))),t}(e))}function re(e){var t=null,n=e.domain;return n&&"codedValue"===n.type&&n.codedValues&&n.codedValues.length>0&&(t=[],n.codedValues.map((function(e){t.push({value:e.code,label:e.name})}))),t}function oe(e,t){var n={isCodedValueOrSubtype:!1,displayValue:e+""};return t&&t.length>0&&t.some((function(t){return t.value===e&&(n={isCodedValueOrSubtype:!0,displayValue:t.label},!0)})),Object.assign(n,{value:e})}function ie(e,t,n,r){var o=null;return r=r||Q(e.fields,t),e.typeIdField&&e.types&&e.types.length>0?(e.types.some((function(i){if(i.id===n){if(t===e.typeIdField)o=[{value:i.id,label:i.name}];else if(i.domains&&i.domains[t]){var a=i.domains[t];"inherited"===a.type?o=re(r):a.codedValues&&a.codedValues.length>0&&(o=[],a.codedValues.map((function(e){o.push({value:e.code,label:e.name})})))}else i.domains&&(o=re(r));return!0}})),o||(o=re(r))):o=re(r),o}function ae(e,t,n){return e[t]?n===e[t]||(e[t]=e[t]+", "+n):e[t]=n,e}function se(e,t){var n=t.name,r={},o=null,i=!0;e.typeIdField&&e.types&&e.types.length>0?(Object.keys(e.types).map((function(o){var a=e.types[o];if(a.domains&&a.domains[n]){var s=a.domains[n];if("inherited"===s.type){if(i)i=!1,re(t).map((function(e){r=ae(r,e.value,e.label)}))}else s.codedValues&&s.codedValues.length>0&&s.codedValues.map((function(e){r=ae(r,e.code,e.name)}))}})),o||(o=re(t))):o=re(t);var a=[];for(var s in r){var u=X(t.type)?parseFloat(s):s;a.push({value:u,label:r[s]})}return a.length>0&&(o=a),o}function ue(e,t){var n=function(e){var t=null,n=null,r=ce(e);if(r)t={},n=r.uniqueValueInfos;else{var o=e;if(o.renderer){var i=ce(o.sourceJSON),a=o.renderer.toJson();"uniqueValue"===a.type&&i&&i.field1===a.field1?(t={},n=a.uniqueValueInfos):i&&(t={},n=i.uniqueValueInfos)}}if(n)for(var s=0;s<n.length;s++){var u=n[s];t[u.value]=u.label}return t}(e);if(n&&t)for(var r=0;r<t.length;r++){var o=t[r];n[o.value]&&(o.label=n[o.value])}return t}function ce(e){var t=null;return e.drawingInfo&&e.drawingInfo.renderer&&"uniqueValue"===e.drawingInfo.renderer.type&&(t=e.drawingInfo.renderer),t}function le(e){if(!e)return!1;var t=-1!==e.indexOf(".arcgis.com/"),n=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features");return t&&n}function de(e){return null==e?void 0:e.replace(/\s/g,"_")}function fe(e){var t,n;if(!e)return null;var r=null!==(n=null!==(t=e.id)&&void 0!==t?t:e.title)&&void 0!==n?n:e.name;return void 0===r?null:de(""+r)}function pe(e){var t;if(!e)return null;var n=null!==(t=e.name)&&void 0!==t?t:e.id;return void 0===n?null:de(""+n)}function he(e){var t=(null==e?void 0:e.layerType)||(null==e?void 0:e.type);return t&&Object.keys(c.f).some((function(e){return c.f[e]===t}))}function ge(e,t,n){if(!e||t&&!n)return null;var r=e.split("?")[0].replace(/^http:/,"https:").replace(/\/$/,"").split("/"),o=r.findIndex((function(e){return Object.values(c.h).some((function(t){return t===e}))}));if(-1===o)return null;var i=r.slice(0,o+1).join("/");return t?!!i.split("/").find((function(e){return e===c.h.SceneService}))?i+"/layers/"+n.id:i+"/"+n.id:i}function me(e,t,n,r){return e&&n&&he(n)?(o=n.type===c.f.GroupLayer?function(e,t,n){return e&&t?i({id:e,type:c.c.GroupLayer,url:ge(n,!0,t),layerId:""+t.id}):null}(e,n,t):n.layerType===c.f.SceneLayer3DObject||n.layerType===c.f.SceneLayerPoint?function(e,t,n){return e&&t?i({id:e,type:c.c.SceneLayer,url:ge(n,!0,t),layerId:""+t.id}):null}(e,n,t):function(e,t,n){return e&&t?i({id:e,type:c.c.FeatureLayer,url:ge(n,!0,t),layerId:""+t.id,geometryType:t.geometryType}):null}(e,n,t),r?o.merge(r.asMutable({deep:!0})):o):null;var o}function ve(e,t,n,r){if(!e||!t||!n)return null;var o=ye(t);if(!o)return null;var a=Ie(t),s=i({id:e,type:o,label:a,url:ge(t,!1)});return r?s.merge(r.asMutable({deep:!0})):s}function ye(e){var t;if(!Se(e))return null;var n=e.split("?")[0].split("/"),r=Object.keys(c.h).find((function(e){return n.some((function(t){return c.h[e]===t}))}));return null!==(t=c.c[r])&&void 0!==t?t:null}function be(e,t,n){return a.a.getInstance().fetchChildLayerDefinitionsFromUrls(e).then((function(e){var t={},n={};return Object.keys(e).forEach((function(r){e[r].layerType===c.f.SceneLayer3DObject||e[r].layerType===c.f.SceneLayerPoint?n[r]=e[r]:he(e[r])&&(t[r]=e[r])})),{sceneLayerDefinitions:n,otherSupportedLayerDefinitions:t}})).then((function(e){var r=e.sceneLayerDefinitions,o=e.otherSupportedLayerDefinitions;return Promise.allSettled(Object.keys(r).map((function(e){var r;return Re(e,null===(r=e.replace(/\/$/,"").match(/\d+$/))||void 0===r?void 0:r[0],t,n).then((function(t){return{associatedLayerUrl:t,sceneLayerUrl:e}}))}))).then((function(e){return{associatedLayerUrls:e.filter((function(e){return"fulfilled"===e.status})).map((function(e){return e.value})),sceneLayerDefinitions:r,otherSupportedLayerDefinitions:o}}))})).then((function(e){var t=e.associatedLayerUrls,n=e.sceneLayerDefinitions,r=e.otherSupportedLayerDefinitions,o={};return t.forEach((function(e){e.associatedLayerUrl&&(o[e.sceneLayerUrl]=n[e.sceneLayerUrl])})),H(H({},r),o)}))}function we(e,t){if(!e||!t)return Promise.resolve({});if(Oe(e)){var n=t;return n.type===c.f.GroupLayer?function(e,t){var n=t.subLayers||[],r=ge(e,!1);return be(n.map((function(e){return r+"/"+e.id})))}(e,n):Promise.resolve({})}return Se(e)?function(e,t){var n=(null==t?void 0:t.layers)||[],r=(null==t?void 0:t.tables)||[];return be(n.concat(r).map((function(t){return""+ge(e,!0,t)})))}(e,t):Promise.resolve({})}function Oe(e){return!!je(e)&&(!!e.split("/").find((function(e){return e===c.h.SceneService}))?/\/layers\/\d+\/?$/.test(e):/\/\d+\/?$/.test(e))}function Se(e){return!(!je(e)||Oe(e))}function Ie(e){if(!je(e))return"";var t=e.split("/"),n=t.findIndex((function(e){return Object.values(c.h).some((function(t){return t===e}))}))-1;return t[n]}function je(e){if(!e||!/^(http(s)?:)?\/\//.test(e))return!1;var t=ge(e,!1),n=null==t?void 0:t.split("/");return!(!n||!Object.values(c.h).some((function(e){return n[n.length-1]===e})))}function Ee(e){return e.sort((function(e,t){return e.getLabel().localeCompare(t.getLabel())}))}function Ce(e,t){return e+"-"+t}function Te(e,t,n,r,o){void 0===r&&(r=c.d.InConfigView);var i={queryParams:{where:n||"(1=1)",returnGeometry:!1,outFields:[e],orderByFields:[e],returnDistinctValues:!0},queryOptions:{scope:r,widgetId:o||"advanced_select_query"}};return o&&(i.queryOptions.excludeQuery={dataSourceId:t,widgetId:o}),i}function Ae(e,t,n,r,o){void 0===r&&(r=c.d.InConfigView);var i=t,a=Te(e.name,i.belongToDataSource.id,n,r,o);return i.loadCount(a.queryParams,a.queryOptions).then((function(e){return e}))}function _e(e,t,n,r,i,a,s){void 0===a&&(a=c.d.InConfigView);var u=["undefined","nan","null",""],l=t,d=[],f=Te(e.name,t.belongToDataSource.id,i,a,s);return f.queryParams.page=1,f.queryParams.pageSize=n,l.load(f.queryParams,f.queryOptions).then((function(t){var n={},i={};return t.map((function(t){var a=t,s=a.feature.attributes[e.jimuName];if(!(s in n)&&(n[s]=!0,0===u.filter((function(e){return(s+"").trim().toLowerCase()===e})).length)){var c=a.getFormattedFieldValue(e.jimuName,r);e.type===o.g.Date?(c in i||d.push({value:s,label:c}),i[c]=!0):d.push({value:s,label:c})}})),d}))}function xe(e){var t,n=null===(t=e)||void 0===t?void 0:t.url;return n?n=(n=null!==e.layerId&&void 0!==e.layerId?e.type===c.g.SceneLayer?e.url+"/layers/"+e.layerId:e.url+"/"+e.layerId:e.url).replace(/^http:/,"https:"):null}function Pe(e,t){var n=u.a.getInstance();return t?e.dataViewId?n.getLocalDataSourceId(n.getDataViewDataSourceId(e.mainDataSourceId,e.dataViewId),t):n.getLocalDataSourceId(e.mainDataSourceId,t):e.dataSourceId}function De(e,t,n,r){return Re(e,t,n,r).then((function(e){return e?a.a.getInstance().fetchServiceInfo(e).then((function(e){return e.definition})).then((function(t){return t?{def:t,url:e}:null})):Promise.resolve(null)}))}function Re(e,t,n,r){return e||n?n?Me(n,r).then((function(n){if(!n)return Ne(ke(e),e,t);var r=Fe(),o=n.url;return r&&(o=Le(o)||o),Ne(o,e,t)})):Ne(ke(e),e,t):Promise.resolve(null)}function ke(e){var t=ge(e,!1),n=Fe();n&&(t=Ue(t));var r=t.replace("/"+c.h.SceneService,"/"+c.h.FeatureService);return n&&(r=Le(r)||r),r}function Me(e,t){if(!e)return Promise.resolve(null);var n={id:e,relationshipType:"Service2Service",direction:"reverse",authentication:s.b.getInstance().getSessionByUrl(t)};return Object(l.g)(n).then((function(e){var t;return(null===(t=null==e?void 0:e.relatedItems)||void 0===t?void 0:t.find((function(e){return e.type===c.e.FeatureService})))||null}))}function Ne(e,t,n){var r=ge(t,!1),o=ge(e,!1);return Promise.all([a.a.getInstance().fetchServiceInfo(r),a.a.getInstance().fetchServiceInfo(o)]).then((function(e){var t,r,i=null===(t=e[0].definition)||void 0===t?void 0:t.layers,a=null===(r=e[1].definition)||void 0===r?void 0:r.layers;if(!Array.isArray(a))return null;var s=parseInt(n);if(Array.isArray(i))for(var u=0;u<Math.min(i.length,a.length);u++){if(i[u].id===s)return o+"/"+a[u].id}else if(s<a.length)return o+"/"+a[s].id;return null})).catch((function(e){return console.error("Can not find associated feature layer, ",t),null}))}function Le(e){var t,n,r,o=null===(n=null===(t=Object(d.b)().getState())||void 0===t?void 0:t.appConfig)||void 0===n?void 0:n.appProxies;if(!e||!o)return null;var i=null===(r=Object.values(o).find((function(t){return t.sourceUrl===ge(e,!1)})))||void 0===r?void 0:r.proxyUrl;if(i){var a=i,s=e.split("/").filter((function(e){return e})),u=parseInt(s[s.length-1]);return isNaN(u)||(a=a+"/"+u),a}return null}function Ue(e){var t,n,r,o=null===(n=null===(t=Object(d.b)().getState())||void 0===t?void 0:t.appConfig)||void 0===n?void 0:n.appProxies;if(!e||!o)return e;var i=null===(r=Object.values(o).find((function(t){return t.proxyUrl===ge(e,!1)})))||void 0===r?void 0:r.sourceUrl;if(i){var a=i,s=e.split("/").filter((function(e){return e})),u=parseInt(s[s.length-1]);return isNaN(u)||(a=a+"/"+u),a}return e}function Fe(){var e,t;return!(null===(t=null===(e=Object(d.b)().getState())||void 0===e?void 0:e.appContext)||void 0===t?void 0:t.isInBuilder)}function Ve(e){var t,n,r;return(null===(t=e)||void 0===t?void 0:t.layer)||(null===(n=e)||void 0===n?void 0:n.layerDefinition)||(null===(r=e)||void 0===r?void 0:r.serviceDefinition)}},function(e,t,n){"use strict";const r=n(207),o=n(208),i=n(209);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?o(e):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function f(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const o="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===n?n:u(n,e);r[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const o of e.split("&")){let[e,a]=i(t.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:u(a,t),n(u(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=d(n[e],t);else r[e]=d(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=l,t.parse=f,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[",o,"]"].join("")]:[...n,[s(t,e),"[",s(o,e),"]=",s(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[s(t,e),"=",s(r,e)].join("")]:[[n,s(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,s(t,e)]:[...n,[s(t,e),"=",s(r,e)].join("")]}}(t),o={};for(const t of Object.keys(e))n(t)||(o[t]=e[t]);const i=Object.keys(o);return!1!==t.sort&&i.sort(t.sort),i.map(n=>{const o=e[n];return void 0===o?"":null===o?s(n,t):Array.isArray(o)?o.reduce(r(n),[]).join("&"):s(n,t)+"="+s(o,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=i(e,"#");return Object.assign({url:n.split("?")[0]||"",query:f(l(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=c(e.url).split("?")[0]||"",o=t.extract(e.url),i=t.parse(o,{sort:!1}),a=Object.assign(i,e.query);let u=t.stringify(a,n);u&&(u="?"+u);let l=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(l="#"+s(e.fragmentIdentifier,n)),`${r}${u}${l}`}},function(e,t,n){"use strict";n.r(t),n.d(t,"initPortalSelf",(function(){return f})),n.d(t,"getAppInfo",(function(){return h}));var r=n(40),o=n(14),i=n(27),a=n(2),s=n(3),u=n(21),c=n(138),l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=null;function f(e){var t=u.b.getInstance(),n=t.handleAuthError.bind(t);return d||(d=Object(r.d)(Object(i.getPortalRestUrl)(e)+"portals/self",{authentication:t.getMainSession(),httpMethod:"GET"}).then((function(t){if(!t.isPortal){var n="https://"+t.urlKey+"."+t.customBaseUrl;t.urlKey&&!Object(i.isSamePortalUrl)(e,n)&&Object(a.b)().dispatch(Object(s.setPortalInfo)(n))}return Object(a.b)().dispatch(Object(s.setPortalSelf)(t)),t})).catch((function(e){n(e,!1)}))),d}var p={};function h(e){return void 0===e&&(e=Object(o.getAppIdPageIdFromUrl)().appId),p[e]||(window.jimuConfig.isDevEdition?p[e]=function(e){return window.fetch("/apps/"+e+"/info.json").then((function(e){return e.json()})).then((function(e){return l(l({},e),{name:e.title})}))}(e):p[e]=function(e){var t=u.b.getInstance(),n=Object(a.b)().getState().portalUrl;return Object(c.a)(e,{portal:Object(i.getPortalRestUrl)(n),authentication:t.getSessionByUrl(n)}).then((function(e){return l(l({},e),{name:e.title})})).catch((function(e){return Promise.reject({})}))}(e)),p[e]}},function(e,t,n){"use strict";var r=n(36).a.Symbol;t.a=r},function(e,t,n){"use strict";var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};function o(e){return JSON.stringify(e.map((function(e){return e&&"object"==typeof e?(t=e,Object.keys(t).sort().map((function(e){var n;return(n={})[e]=t[e],n}))):e;var t})))}t.a=function(e,t){return void 0===t&&(t={}),function(){for(var n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=o(i),u=s&&t[s];return u||(u=new((n=e).bind.apply(n,r([void 0],i))),s&&(t[s]=u)),u}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return m}));var r=n(132),o=n.n(r),i=n(0),a=n(30),s=n(130),u=n(194),c=n.n(u),l=n(78),d=n.n(l);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=function(e,t){return"function"==typeof t?t(e):function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},h=Object(s.a)((function(e){return Object(s.a)((function(t){return p(e,t)}))})),g=function(e){return Object(i.createElement)(a.c.Consumer,null,(function(t){return e.theme!==t&&(t=h(t)(e.theme)),Object(i.createElement)(a.c.Provider,{value:t},e.children)}))};function m(e){var t=e.displayName||e.name||"Component",n=Object(i.forwardRef)((function(t,n){return Object(i.createElement)(a.c.Consumer,null,(function(r){return Object(i.createElement)(e,c()({theme:r,ref:n},t))}))}));return n.displayName="WithTheme("+t+")",d()(n,e)}},function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r=n(53),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r.a?r.a.toStringTag:void 0;var u=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o},c=Object.prototype.toString;var l=function(e){return c.call(e)},d=r.a?r.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?u(e):l(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(5),o=n(154),i=n(84),a=n(40),s=n(97),u=n(75),c=/^https?:\/\/(\S+)\.arcgis\.com.+/;function l(e){return c.test(e)}function d(e){if(!c.test(e))return null;var t=e.match(c)[1].split(".").pop();return t.includes("dev")?"dev":t.includes("qa")?"qa":"production"}function f(e,t){var n=Object(o.a)(function(e){if(!c.test(e))return e;switch(d(e)){case"dev":return"https://devext.arcgis.com/sharing/rest";case"qa":return"https://qaext.arcgis.com/sharing/rest";default:return"https://www.arcgis.com/sharing/rest"}}(t)).replace(/https?:\/\//,""),r=Object(o.a)(e).replace(/https?:\/\//,"");return new RegExp(r,"i").test(n)}var p=function(){function e(e){if(this.clientId=e.clientId,this._refreshToken=e.refreshToken,this._refreshTokenExpires=e.refreshTokenExpires,this.username=e.username,this.password=e.password,this._token=e.token,this._tokenExpires=e.tokenExpires,this.portal=e.portal?Object(o.a)(e.portal):"https://www.arcgis.com/sharing/rest",this.ssl=e.ssl,this.provider=e.provider||"arcgis",this.tokenDuration=e.tokenDuration||20160,this.redirectUri=e.redirectUri,this.refreshTokenTTL=e.refreshTokenTTL||1440,this.trustedServers={},e.server){var t=this.getServerRootUrl(e.server);this.trustedServers[t]={token:e.token,expires:e.tokenExpires}}this._pendingTokenRequests={}}return e.beginOAuth2=function(t,n){void 0===n&&(n=window);var o,s=r.a({portal:"https://www.arcgis.com/sharing/rest",provider:"arcgis",duration:20160,popup:!0,state:t.clientId,locale:""},t),u=s.portal,c=s.provider,l=s.clientId,d=s.duration,f=s.redirectUri,p=s.popup,h=s.state,g=s.locale,m=s.params;if(o="arcgis"===c?u+"/oauth2/authorize?client_id="+l+"&response_type=token&expiration="+d+"&redirect_uri="+encodeURIComponent(f)+"&state="+h+"&locale="+g:u+"/oauth2/social/authorize?client_id="+l+"&socialLoginProviderName="+c+"&autoAccountCreateForSocial=true&response_type=token&expiration="+d+"&redirect_uri="+encodeURIComponent(f)+"&state="+h+"&locale="+g,m&&(o=o+"&"+Object(i.b)(m)),p){var v,y=((v={promise:null,resolve:null,reject:null}).promise=new Promise((function(e,t){v.resolve=e,v.reject=t})),v);return n["__ESRI_REST_AUTH_HANDLER_"+l]=function(t,n){if(t){var r=JSON.parse(t);y.reject(new a.a(r.errorMessage,r.error))}else if(n){var o=JSON.parse(n);y.resolve(new e({clientId:l,portal:u,ssl:o.ssl,token:o.token,tokenExpires:new Date(o.expires),username:o.username}))}},n.open(o,"oauth-window","height=400,width=600,menubar=no,location=yes,resizable=yes,scrollbars=yes,status=yes"),y.promise}n.location.href=o},e.completeOAuth2=function(t,n){void 0===n&&(n=window);var o=r.a({portal:"https://www.arcgis.com/sharing/rest",popup:!0},t),i=o.portal,s=o.clientId,u=o.popup;function c(t,r){try{var o=void 0,c="__ESRI_REST_AUTH_HANDLER_"+s;if(u&&(n.opener?n.opener.parent&&n.opener.parent[c]?o=n.opener.parent[c]:n.opener&&n.opener[c]&&(o=n.opener[c]):n!==n.parent&&n.parent&&n.parent[c]&&(o=n.parent[c]),o))return o(t?JSON.stringify(t):void 0,JSON.stringify(r)),void n.close()}catch(e){throw new a.a('Unable to complete authentication. It\'s possible you specified popup based oAuth2 but no handler from "beginOAuth2()" present. This generally happens because the "popup" option differs between "beginOAuth2()" and "completeOAuth2()".')}if(t)throw new a.a(t.errorMessage,t.error);return new e({clientId:s,portal:i,ssl:r.ssl,token:r.token,tokenExpires:r.expires,username:r.username})}var l=n.location.href.match(/access_token=(.+)&expires_in=(.+)&username=([^&]+)/);if(!l){var d=n.location.href.match(/error=(.+)&error_description=(.+)/);return c({error:d[1],errorMessage:decodeURIComponent(d[2])})}var f=l[1],p=new Date(Date.now()+1e3*parseInt(l[2],10)-6e4),h=decodeURIComponent(l[3]);return c(void 0,{token:f,expires:p,ssl:n.location.href.indexOf("&ssl=true")>-1||n.location.href.indexOf("#ssl=true")>-1,username:h})},e.authorize=function(e,t){var n=r.a({portal:"https://arcgis.com/sharing/rest",duration:20160},e),o=n.portal,i=n.clientId,a=n.duration,s=n.redirectUri;t.writeHead(301,{Location:o+"/oauth2/authorize?client_id="+i+"&duration="+a+"&response_type=code&redirect_uri="+encodeURIComponent(s)}),t.end()},e.exchangeAuthorizationCode=function(t,n){var o=r.a({portal:"https://www.arcgis.com/sharing/rest",refreshTokenTTL:1440},t),i=o.portal,a=o.clientId,s=o.redirectUri,c=o.refreshTokenTTL;return Object(u.a)(i+"/oauth2/token",{params:{grant_type:"authorization_code",client_id:a,redirect_uri:s,code:n}}).then((function(t){return new e({clientId:a,portal:i,ssl:t.ssl,redirectUri:s,refreshToken:t.refreshToken,refreshTokenTTL:c,refreshTokenExpires:new Date(Date.now()+1e3*(c-1)),token:t.token,tokenExpires:t.expires,username:t.username})}))},e.deserialize=function(t){var n=JSON.parse(t);return new e({clientId:n.clientId,refreshToken:n.refreshToken,refreshTokenExpires:new Date(n.refreshTokenExpires),username:n.username,password:n.password,token:n.token,tokenExpires:new Date(n.tokenExpires),portal:n.portal,ssl:n.ssl,tokenDuration:n.tokenDuration,redirectUri:n.redirectUri,refreshTokenTTL:n.refreshTokenTTL})},e.fromCredential=function(t){return new e({portal:t.server.includes("sharing/rest")?t.server:t.server+"/sharing/rest",ssl:t.ssl,token:t.token,username:t.userId,tokenExpires:new Date(t.expires)})},Object.defineProperty(e.prototype,"token",{get:function(){return this._token},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenExpires",{get:function(){return this._tokenExpires},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshToken",{get:function(){return this._refreshToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshTokenExpires",{get:function(){return this._refreshTokenExpires},enumerable:!0,configurable:!0}),e.prototype.toCredential=function(){return{expires:this.tokenExpires.getTime(),server:this.portal,ssl:this.ssl,token:this.token,userId:this.username}},e.prototype.getUser=function(e){var t=this;if(this._pendingUserRequest)return this._pendingUserRequest;if(this._user)return Promise.resolve(this._user);var n=this.portal+"/community/self",o=r.a({httpMethod:"GET",authentication:this},e,{rawResponse:!1});return this._pendingUserRequest=Object(a.d)(n,o).then((function(e){return t._user=e,t._pendingUserRequest=null,e})),this._pendingUserRequest},e.prototype.getUsername=function(){return this.username?Promise.resolve(this.username):this._user?Promise.resolve(this._user.username):this.getUser().then((function(e){return e.username}))},e.prototype.getToken=function(e,t){return n=this.portal,r=e,o=l(n),i=l(r),a=d(n),s=d(r),o&&i&&a===s||new RegExp(this.portal,"i").test(e)?this.getFreshToken(t):this.getTokenForServer(e,t);var n,r,o,i,a,s},e.prototype.toJSON=function(){return{clientId:this.clientId,refreshToken:this.refreshToken,refreshTokenExpires:this.refreshTokenExpires,username:this.username,password:this.password,token:this.token,tokenExpires:this.tokenExpires,portal:this.portal,ssl:this.ssl,tokenDuration:this.tokenDuration,redirectUri:this.redirectUri,refreshTokenTTL:this.refreshTokenTTL}},e.prototype.serialize=function(){return JSON.stringify(this)},e.prototype.refreshSession=function(e){return this._user=null,this.username&&this.password?this.refreshWithUsernameAndPassword(e):this.clientId&&this.refreshToken?this.refreshWithRefreshToken():Promise.reject(new a.a("Unable to refresh token."))},e.prototype.getServerRootUrl=function(e){var t=Object(o.a)(e).split(/\/rest(\/admin)?\/services(?:\/|#|\?|$)/)[0].match(/(https?:\/\/)(.+)/),n=(t[0],t[1]),r=t[2].split("/"),i=r[0],a=r.slice(1);return""+n+i.toLowerCase()+"/"+a.join("/")},e.prototype.getTokenForServer=function(e,t){var n=this,r=this.getServerRootUrl(e),o=this.trustedServers[r];return o&&o.expires&&o.expires.getTime()>Date.now()?Promise.resolve(o.token):(this._pendingTokenRequests[r]||(this._pendingTokenRequests[r]=Object(a.d)(r+"/rest/info").then((function(o){if(o.owningSystemUrl){if(f(o.owningSystemUrl,n.portal))return Object(a.d)(o.owningSystemUrl+"/sharing/rest/info",t);throw new a.a(e+" is not federated with "+n.portal+".","NOT_FEDERATED")}if(o.authInfo&&void 0!==n.trustedServers[r])return Promise.resolve({authInfo:o.authInfo});throw new a.a(e+" is not federated with any portal and is not explicitly trusted.","NOT_FEDERATED")})).then((function(e){return e.authInfo.tokenServicesUrl})).then((function(t){return n.token&&n.tokenExpires.getTime()>Date.now()?Object(s.a)(t,{params:{token:n.token,serverUrl:e,expiration:n.tokenDuration,client:"referer"}}):Object(s.a)(t,{params:{username:n.username,password:n.password,expiration:n.tokenDuration,client:"referer"}}).then((function(e){return n._token=e.token,n._tokenExpires=new Date(e.expires),e}))})).then((function(e){return n.trustedServers[r]={expires:new Date(e.expires),token:e.token},delete n._pendingTokenRequests[r],e.token}))),this._pendingTokenRequests[r])},e.prototype.getFreshToken=function(e){var t=this;return this.token&&!this.tokenExpires||this.token&&this.tokenExpires&&this.tokenExpires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequests[this.portal]||(this._pendingTokenRequests[this.portal]=this.refreshSession(e).then((function(e){return t._pendingTokenRequests[t.portal]=null,e.token}))),this._pendingTokenRequests[this.portal])},e.prototype.refreshWithUsernameAndPassword=function(e){var t=this,n=r.a({params:{username:this.username,password:this.password,expiration:this.tokenDuration}},e);return Object(s.a)(this.portal+"/generateToken",n).then((function(e){return t._token=e.token,t._tokenExpires=new Date(e.expires),t}))},e.prototype.refreshWithRefreshToken=function(e){var t=this;if(this.refreshToken&&this.refreshTokenExpires&&this.refreshTokenExpires.getTime()<Date.now())return this.refreshRefreshToken(e);var n=r.a({params:{client_id:this.clientId,refresh_token:this.refreshToken,grant_type:"refresh_token"}},e);return Object(u.a)(this.portal+"/oauth2/token",n).then((function(e){return t._token=e.token,t._tokenExpires=e.expires,t}))},e.prototype.refreshRefreshToken=function(e){var t=this,n=r.a({params:{client_id:this.clientId,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,grant_type:"exchange_refresh_token"}},e);return Object(u.a)(this.portal+"/oauth2/token",n).then((function(e){return t._token=e.token,t._tokenExpires=e.expires,t._refreshToken=e.refreshToken,t._refreshTokenExpires=new Date(Date.now()+60*(t.refreshTokenTTL-1)*1e3),t}))},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return p}));var r,o,i=n(0),a=n(23),s=n(35),u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(r||(r={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(o||(o={}));function c(e){var t=function(t){return i.createElement(s.a.Consumer,null,(function(n){Object(a.g)(n);var r=t.value,o=t.children,i=u(t,["value","children"]),s="string"==typeof r?new Date(r||0):r;return o("formatDate"===e?n.formatDateToParts(s,i):n.formatTimeToParts(s,i))}))};return t.displayName=o[e],t}function l(e){var t=function(t){return i.createElement(s.a.Consumer,null,(function(n){Object(a.g)(n);var r=t.value,o=t.children,s=u(t,["value","children"]),c=n[e](r,s);if("function"==typeof o)return o(c);var l=n.textComponent||i.Fragment;return i.createElement(l,null,c)}))};return t.displayName=r[e],t}var d=l("formatDate"),f=l("formatTime"),p=l("formatNumber");l("formatList"),l("formatDisplayName"),c("formatDate"),c("formatTime")},function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),function(e){e.Count="count",e.Sum="sum",e.Min="min",e.Max="max",e.Avg="avg"}(r||(r={}));var o="esriFieldTypeOID"},function(e,t,n){"use strict";var r=n(129);var o=function(e){function t(e,t,r){var o=t.trim().split(h);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=n(e,t[s],r).trim();break;default:var u=s=0;for(t=[];s<i;++s)for(var c=0;c<a;++c)t[u++]=n(e[c]+" ",o[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,i){var a=e+";",s=2*t+3*n+4*i;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===_||2===_&&o(u,1)?"-webkit-"+u+u:u}if(0===_||2===_&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(E,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return f.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===j.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,i).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+i&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(I,"$1"),n,t)}function i(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(O," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,o,i,a,s,c,l){for(var d,f=0,p=t;f<D;++f)switch(d=P[f].call(u,e,p,n,r,o,i,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:p=d}if(p!==t)return p}function s(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!=typeof e?_=1:(_=2,R=e):_=0),s}function u(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<D){var u=a(-1,n,s,s,T,C,0,0,0,0);void 0!==u&&"string"==typeof u&&(n=u)}var d=function e(n,s,u,d,f){for(var p,h,g,b,O,S=0,I=0,j=0,E=0,P=0,R=0,M=g=p=0,N=0,L=0,U=0,F=0,V=u.length,B=V-1,W="",z="",G="",q="";N<V;){if(h=u.charCodeAt(N),N===B&&0!==I+E+j+S&&(0!==I&&(h=47===I?10:47),E=j=S=0,V++,B++),0===I+E+j+S){if(N===B&&(0<L&&(W=W.replace(l,"")),0<W.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:W+=u.charAt(N)}h=59}switch(h){case 123:for(p=(W=W.trim()).charCodeAt(0),g=1,F=++N;N<V;){switch(h=u.charCodeAt(N)){case 123:g++;break;case 125:g--;break;case 47:switch(h=u.charCodeAt(N+1)){case 42:case 47:e:{for(M=N+1;M<B;++M)switch(u.charCodeAt(M)){case 47:if(42===h&&42===u.charCodeAt(M-1)&&N+2!==M){N=M+1;break e}break;case 10:if(47===h){N=M+1;break e}}N=M}}break;case 91:h++;case 40:h++;case 34:case 39:for(;N++<B&&u.charCodeAt(N)!==h;);}if(0===g)break;N++}switch(g=u.substring(F,N),0===p&&(p=(W=W.replace(c,"").trim()).charCodeAt(0)),p){case 64:switch(0<L&&(W=W.replace(l,"")),h=W.charCodeAt(1)){case 100:case 109:case 115:case 45:L=s;break;default:L=x}if(F=(g=e(s,L,g,h,f+1)).length,0<D&&(O=a(3,g,L=t(x,W,U),s,T,C,F,h,f,d),W=L.join(""),void 0!==O&&0===(F=(g=O.trim()).length)&&(h=0,g="")),0<F)switch(h){case 115:W=W.replace(w,i);case 100:case 109:case 45:g=W+"{"+g+"}";break;case 107:g=(W=W.replace(m,"$1 $2"))+"{"+g+"}",g=1===_||2===_&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=W+g,112===d&&(z+=g,g="")}else g="";break;default:g=e(s,t(s,W,U),g,d,f+1)}G+=g,g=U=L=M=p=0,W="",h=u.charCodeAt(++N);break;case 125:case 59:if(1<(F=(W=(0<L?W.replace(l,""):W).trim()).length))switch(0===M&&(p=W.charCodeAt(0),45===p||96<p&&123>p)&&(F=(W=W.replace(" ",":")).length),0<D&&void 0!==(O=a(1,W,s,n,T,C,z.length,d,f,d))&&0===(F=(W=O.trim()).length)&&(W="\0\0"),p=W.charCodeAt(0),h=W.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){q+=W+u.charAt(N);break}default:58!==W.charCodeAt(F-1)&&(z+=r(W,p,h,W.charCodeAt(2)))}U=L=M=p=0,W="",h=u.charCodeAt(++N)}}switch(h){case 13:case 10:47===I?I=0:0===1+p&&107!==d&&0<W.length&&(L=1,W+="\0"),0<D*k&&a(0,W,s,n,T,C,z.length,d,f,d),C=1,T++;break;case 59:case 125:if(0===I+E+j+S){C++;break}default:switch(C++,b=u.charAt(N),h){case 9:case 32:if(0===E+S+I)switch(P){case 44:case 58:case 9:case 32:b="";break;default:32!==h&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===E+I+S&&(L=U=1,b="\f"+b);break;case 108:if(0===E+I+S+A&&0<M)switch(N-M){case 2:112===P&&58===u.charCodeAt(N-3)&&(A=P);case 8:111===R&&(A=R)}break;case 58:0===E+I+S&&(M=N);break;case 44:0===I+j+E+S&&(L=1,b+="\r");break;case 34:case 39:0===I&&(E=E===h?0:0===E?h:E);break;case 91:0===E+I+j&&S++;break;case 93:0===E+I+j&&S--;break;case 41:0===E+I+S&&j--;break;case 40:if(0===E+I+S){if(0===p)switch(2*P+3*R){case 533:break;default:p=1}j++}break;case 64:0===I+j+E+S+M+g&&(g=1);break;case 42:case 47:if(!(0<E+S+j))switch(I){case 0:switch(2*h+3*u.charCodeAt(N+1)){case 235:I=47;break;case 220:F=N,I=42}break;case 42:47===h&&42===P&&F+2!==N&&(33===u.charCodeAt(F+2)&&(z+=u.substring(F,N+1)),b="",I=0)}}0===I&&(W+=b)}R=P,P=h,N++}if(0<(F=z.length)){if(L=s,0<D&&(void 0!==(O=a(2,z,L,n,T,C,F,d,f,d))&&0===(z=O).length))return q+z+G;if(z=L.join(",")+"{"+z+"}",0!=_*A){switch(2!==_||o(z,2)||(A=0),A){case 111:z=z.replace(y,":-moz-$1")+z;break;case 112:z=z.replace(v,"::-webkit-input-$1")+z.replace(v,"::-moz-$1")+z.replace(v,":-ms-input-$1")+z}A=0}}return q+z+G}(x,s,n,0,0);return 0<D&&(void 0!==(u=a(-2,d,s,s,T,C,d.length,0,0,0))&&(d=u)),"",A=0,C=T=1,d}var c=/^\0+/g,l=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,h=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,O=/([\s\S]*?);/g,S=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,j=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,C=1,T=1,A=0,_=1,x=[],P=[],D=0,R=null,k=0;return u.use=function e(t){switch(t){case void 0:case null:D=P.length=0;break;default:if("function"==typeof t)P[D++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else k=0|!!t}return e},u.set=s,void 0!==e&&s(e),u};n(130);function i(e){e&&a.current.insert(e+"}")}var a={current:null},s=function(e,t,n,r,o,s,u,c,l,d){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return a.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===c)return t+"/*|*/";break;case 3:switch(c){case 102:case 112:return a.current.insert(n[0]+t),"";default:return t+(0===d?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(i)}};t.a=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var i=new o(t);var u,c={};u=e.container||document.head;var l,d=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(d,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){c[e]=!0})),e.parentNode!==u&&u.appendChild(e)})),i.use(e.stylisPlugins)(s),l=function(e,t,n,r){var o=t.name;a.current=n,i(e,t.styles),r&&(f.inserted[o]=!0)};var f={key:n,sheet:new r.a({key:n,container:u,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:c,registered:{},insert:l};return f}},function(e,t,n){"use strict";var r=n(142),o=n(135);var i=function(e,t){for(var n=0,i=(t=Object(r.a)(t,e)).length;null!=e&&n<i;)e=e[Object(o.a)(t[n++])];return n&&n==i?e:void 0};t.a=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},function(e,t,n){"use strict";function r(e){return Object.keys(e).some((function(t){var n=e[t];if(!n)return!1;switch(n&&n.toParam&&(n=n.toParam()),n.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}}))}function o(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(r&&r.toParam&&(r=r.toParam()),r||0===r||"boolean"==typeof r||"string"==typeof r){var o;switch(r.constructor.name){case"Array":o=r[0]&&r[0].constructor&&"Object"===r[0].constructor.name?JSON.stringify(r):r.join(",");break;case"Object":o=JSON.stringify(r);break;case"Date":o=r.valueOf();break;case"Function":o=null;break;case"Boolean":o=r+"";break;default:o=r}(o||0===o||"string"==typeof o)&&(t[n]=o)}})),t}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},o={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(131),a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},l=Object(i.a)((function(e){return u(e)?e:e.replace(a,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(s,(function(e,t,n){return p={name:t,styles:n,next:p},t}))}return 1===o[e]||u(e)||"number"!=typeof t||0===t?t:t+"px"};function f(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return p={name:n.name,styles:n.styles,next:p},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)p={name:o.name,styles:o.styles,next:p},o=o.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=f(e,t,n[o],!1);else for(var i in n){var a=n[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":c(a)&&(r+=l(i)+":"+d(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=f(e,t,a,!1);switch(i){case"animation":case"animationName":r+=l(i)+":"+s+";";break;default:r+=i+"{"+s+"}"}}else for(var u=0;u<a.length;u++)c(a[u])&&(r+=l(i)+":"+d(i,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=p,a=n(e);return p=i,f(e,t,a,r)}break;case"string":}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var p,h=/label:\s*([^\s;\n{]+)\s*;/g;var g=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,i="";p=void 0;var a=e[0];null==a||void 0===a.raw?(o=!1,i+=f(n,t,a,!1)):i+=a[0];for(var s=1;s<e.length;s++)i+=f(n,t,e[s],46===i.charCodeAt(i.length-1)),o&&(i+=a[s]);h.lastIndex=0;for(var u,c="";null!==(u=h.exec(i));)c+="-"+u[1];return{name:r(i)+c,styles:i,next:p}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var o=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert("."+r,o,e.sheet,!0);o=o.next}while(void 0!==o)}}},function(e,t,n){"use strict";var r=Function.prototype.toString;t.a=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){"use strict";var r=function(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout((function(){e.apply(void 0,n)}),t)},o=n(143),i=Object(o.a)((function(e,t){return r(e,1,t)}));t.a=i},,function(e,t,n){"use strict";var r=n(157),o=n(54),i=n(116),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){return t?Object.keys(e).reduce((function(n,r){var o,i;return n[r]=(o=e[r],(i=t[r])?a(a(a({},o||{}),i||{}),Object.keys(o).reduce((function(e,t){return e[t]=a(a({},o[t]),i[t]||{}),e}),{})):o),n}),a({},e)):e}var u=function(){function e(t,n,r,a){var u,c=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=c.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&0===t.type&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return Object(i.a)(c.ast,c.locales,c.formatters,c.formats,e,void 0,c.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(c.locales)[0]}},this.getAst=function(){return c.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{normalizeHashtagInPlural:!1,ignoreTag:null==a?void 0:a.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=s(e.formats,r),this.locales=n,this.formatters=a&&a.formatters||(void 0===(u=this.formatterCache)&&(u={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Object(o.a)(Intl.NumberFormat,u.number),getDateTimeFormat:Object(o.a)(Intl.DateTimeFormat,u.dateTime),getPluralRules:Object(o.a)(Intl.PluralRules,u.pluralRules)})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!0,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=r.a,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();t.a=u},function(e,t,n){"use strict";n.d(t,"d",(function(){return i}));var r=n(82);n.d(t,"c",(function(){return r.f}));var o=n(60);function i(e,t,n,o){var i=e&&e.parts&&e.parts.slice();if(!i)return Promise.resolve("");var a=Object(r.f)(i),s=a&&1===Object.keys(a).filter((function(e){return!/^\s*$/.test(a[e].exp)})).length;return Promise.all(Object(r.g)(a,t,n,s,o)).then((function(e){var t,n=Object(r.e)(e);return""+(null!==(t=Object(r.b)(n,s))&&void 0!==t?t:"")}))}n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return o.b}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var r=n(0),o=n(35),i=n(23),a=n(29),s=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay"];function u(e,t,n){var r=e.locale,o=e.formats,a=e.onError;void 0===n&&(n={});var u=n.format,c=u&&Object(i.f)(o,"number",u,a)||{};return t(r,Object(i.e)(n,s,c))}function c(e,t,n,r){void 0===r&&(r={});try{return u(e,t,r).format(n)}catch(t){e.onError(new a.e("FORMAT_ERROR","Error formatting number.",t))}return String(n)}function l(e,t,n,r){void 0===r&&(r={});try{return u(e,t,r).formatToParts(n)}catch(t){e.onError(new a.e("FORMAT_ERROR","Error formatting number.",t))}return[]}var d=n(81),f=["numeric","style"];function p(e,t,n,r,o){void 0===o&&(o={}),r||(r="second"),Intl.RelativeTimeFormat||e.onError(new d.a('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',"MISSING_INTL_API"));try{return function(e,t,n){var r=e.locale,o=e.formats,a=e.onError;void 0===n&&(n={});var s=n.format,u=!!s&&Object(i.f)(o,"relative",s,a)||{};return t(r,Object(i.e)(n,f,u))}(e,t,o).format(n,r)}catch(t){e.onError(new a.b("Error formatting relative time.",t))}return String(n)}var h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},g=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","fractionalSecondDigits","calendar","numberingSystem"];function m(e,t,n,r){var o=e.locale,a=e.formats,s=e.onError,u=e.timeZone;void 0===r&&(r={});var c=r.format,l=h(h({},u&&{timeZone:u}),c&&Object(i.f)(a,t,c,s)),d=Object(i.e)(r,g,l);return"time"!==t||d.hour||d.minute||d.second||(d=h(h({},d),{hour:"numeric",minute:"numeric"})),n(o,d)}function v(e,t,n,r){void 0===r&&(r={});var o="string"==typeof n?new Date(n||0):n;try{return m(e,"date",t,r).format(o)}catch(t){e.onError(new a.e("FORMAT_ERROR","Error formatting date.",t))}return String(o)}function y(e,t,n,r){void 0===r&&(r={});var o="string"==typeof n?new Date(n||0):n;try{return m(e,"time",t,r).format(o)}catch(t){e.onError(new a.e("FORMAT_ERROR","Error formatting time.",t))}return String(o)}function b(e,t,n,r){void 0===r&&(r={});var o="string"==typeof n?new Date(n||0):n;try{return m(e,"date",t,r).formatToParts(o)}catch(t){e.onError(new a.e("FORMAT_ERROR","Error formatting date.",t))}return[]}function w(e,t,n,r){void 0===r&&(r={});var o="string"==typeof n?new Date(n||0):n;try{return m(e,"time",t,r).formatToParts(o)}catch(t){e.onError(new a.e("FORMAT_ERROR","Error formatting time.",t))}return[]}var O=["localeMatcher","type"];function S(e,t,n,r){var o=e.locale,s=e.onError;void 0===r&&(r={}),Intl.PluralRules||s(new d.a('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',"MISSING_INTL_API"));var u=Object(i.e)(r,O);try{return t(o,u).select(n)}catch(e){s(new a.b("Error formatting plural.",e))}return"other"}var I=n(199),j=n(69),E=n(116),C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},T=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};function A(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=C({timeZone:t},e[r]),n}),{})}function _(e,t){return Object.keys(C(C({},e),t)).reduce((function(n,r){return n[r]=C(C({},e[r]||{}),t[r]||{}),n}),{})}function x(e,t){if(!t)return e;var n=j.a.formats;return C(C(C({},n),e),{date:_(A(n.date,t),A(e.date||{},t)),time:_(A(n.time,t),A(e.time||{},t))})}function P(e,t){return Array.isArray(e)&&t?r.createElement.apply(r,T([r.Fragment,null],e)):e}function D(e,t,n,r){var o=e.locale,s=e.formats,u=e.messages,c=e.defaultLocale,l=e.defaultFormats,d=e.onError,f=e.timeZone,p=e.wrapRichTextChunksInFragment;void 0===n&&(n={id:""});var h=n.id,g=n.defaultMessage;Object(I.a)(!!h,"[React Intl] An `id` must be provided to format a message.");var m=u&&u[String(h)];if(!r&&m&&"string"==typeof m)return m.replace(/'\{(.*?)\}'/gi,"{$1}");var v=r&&function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return t[n]=Object(E.b)(r)?Object(i.b)(r):r,t}),{})}(r);if(s=x(s,f),l=x(l,f),!m){if((!g||o&&o.toLowerCase()!==c.toLowerCase())&&d(new a.d(n,o)),g)try{return P(t.getMessageFormat(g,c,l).format(v),p)}catch(e){return d(new a.b('Error formatting default message for: "'+h+'", rendering default message verbatim',o,n,e)),g}return h}try{return P(t.getMessageFormat(m,o,s,{formatters:t}).format(v),p)}catch(e){d(new a.b('Error formatting message: "'+h+'", using '+(g?"default message":"id")+" as fallback.",o,n,e))}if(g)try{return P(t.getMessageFormat(g,c,l).format(v),p)}catch(e){d(new a.b('Error formatting the default message for: "'+h+'", rendering message verbatim',o,n,e))}return m||g||h}var R=n(100),k=n.n(R),M=["localeMatcher","type","style"],N=Date.now();function L(e,t,n,r){var o=e.locale,s=e.onError;void 0===r&&(r={}),Intl.ListFormat||s(new d.a('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',"MISSING_INTL_API"));var u=Object(i.e)(r,M);try{var c={},l=n.map((function(e,t){if("object"==typeof e){var n=function(e){return N+"_"+e+"_"+N}(t);return c[n]=e,n}return String(e)}));return Object.keys(c).length?t(o,u).formatToParts(l).reduce((function(e,t){var n=t.value;return c[n]?e.push(c[n]):"string"==typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e}),[]):t(o,u).format(l)}catch(e){s(new a.e("FORMAT_ERROR","Error formatting list.",e))}return n}var U=["localeMatcher","style","type","fallback"];function F(e,t,n,r){var o=e.locale,s=e.onError;void 0===r&&(r={}),Intl.DisplayNames||s(new d.a('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',"MISSING_INTL_API"));var u=Object(i.e)(r,U);try{return t(o,u).of(n)}catch(e){s(new a.e("FORMAT_ERROR","Error formatting display name.",e))}}var V,B=(V=function(e,t){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),W=function(){return(W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},z=k.a||R;function G(e){return{locale:e.locale,timeZone:e.timeZone,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment}}function q(e,t){var n=Object(i.c)(t),r=W(W({},i.a),e),o=r.locale,s=r.defaultLocale,u=r.onError;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&u?u(new a.c('Missing locale data for locale: "'+o+'" in Intl.NumberFormat. Using default locale: "'+s+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&u&&u(new a.c('Missing locale data for locale: "'+o+'" in Intl.DateTimeFormat. Using default locale: "'+s+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):(u&&u(new a.a('"locale" was not configured, using "'+s+'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details')),r.locale=r.defaultLocale||"en"),W(W({},r),{formatters:n,formatNumber:c.bind(null,r,n.getNumberFormat),formatNumberToParts:l.bind(null,r,n.getNumberFormat),formatRelativeTime:p.bind(null,r,n.getRelativeTimeFormat),formatDate:v.bind(null,r,n.getDateTimeFormat),formatDateToParts:b.bind(null,r,n.getDateTimeFormat),formatTime:y.bind(null,r,n.getDateTimeFormat),formatTimeToParts:w.bind(null,r,n.getDateTimeFormat),formatPlural:S.bind(null,r,n.getPluralRules),formatMessage:D.bind(null,r,n),formatList:L.bind(null,r,n.getListFormat),formatDisplayName:F.bind(null,r,n.getDisplayNames)})}var H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache=Object(i.d)(),t.state={cache:t.cache,intl:q(G(t.props),t.cache),prevConfig:G(t.props)},t}return B(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.prevConfig,r=t.cache,o=G(e);return z(n,o)?null:{intl:q(o,r),prevConfig:o}},t.prototype.render=function(){return Object(i.g)(this.state.intl),r.createElement(o.b,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=i.a,t}(r.PureComponent);t.b=H},function(e,t,n){"use strict";var r=n(0),o=n(20);function i(e,t){return e===t}function a(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}function s(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=0,a=r.pop(),u=s(r),c=e.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(n)),l=e((function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return c.apply(null,e)}));return l.resultFunc=a,l.dependencies=u,l.recomputations=function(){return i},l.resetRecomputations=function(){return i=0},l}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=null,r=null;return function(){return a(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));var c,l=n(26),d=n(2),f=n(3),p=n(42),h=n(15),g=n(37),m=n(19),v=n(33),y=n(35),b=n(71),w=n(91),O=n(55),S=n(92),I=n(83),j=n(76),E=n(93),C=n(45),T=n(41),A=n(31),_=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},P=function(){function e(){this.widgets={},Object(d.c)(this.onStoreChange.bind(this),["appConfig","widgets"]),this.dsManager=m.a.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e,window._widgetManager=e.instance),e.instance},e.prototype.updateWidgetCache=function(e,t){for(var n in this.widgets[e]||(this.widgets[e]={}),t)this.widgets[e][n]=t[n]},e.prototype.getWidgetListInfo=function(){var e=this;return this.widgetListInfo&&this.widgetListInfo.length>0?Promise.resolve(this.widgetListInfo):fetch(Object(h.resolveModuleFullPath)("widgets/")+"widgets-info.json").then((function(e){return e.json()})).then((function(t){return e.widgetListInfo=t.map((function(e){e.manifest=Object(l.addWidgetManifestProperties)(e.manifest);var t=Object(v.findLocale)(Object(d.b)().getState().appContext.locale,e.manifest.translatedLocales);return{itemType:C.a.Widget,name:e.name,label:e.i18nLabel[t]||e.manifest.label||e.name,uri:e.uri,manifest:e.manifest,icon:Object(h.resolveModuleFullPath)("widgets/")+"../"+e.icon}})),e.widgetListInfo}))},e.prototype.getWidgetClass=function(e){var t,n,r,o=null===(n=null===(t=Object(d.b)().getState().appConfig)||void 0===t?void 0:t.widgets)||void 0===n?void 0:n[e];if(o)return null===(r=this.widgets[o.uri])||void 0===r?void 0:r.clazz},e.prototype.getWidgetClassByUri=function(e){var t;return null===(t=this.widgets[e])||void 0===t?void 0:t.clazz},e.prototype.destroyWidget=function(e){var t,n,r=null===(n=null===(t=Object(d.b)().getState().appConfig)||void 0===t?void 0:t.widgets)||void 0===n?void 0:n[e];r&&delete this.widgets[r.uri]},e.prototype.destroyAllWidgets=function(){this.widgets={}},e.prototype.checkWidgetUriInConfig=function(e){var t=Object(d.b)().getState().appConfig.widgets||{};return!!Object.keys(t).find((function(n){return t[n].uri===e}))},e.prototype.loadWidgetClass=function(e){var t,n,r=null===(n=null===(t=Object(d.b)().getState().appConfig)||void 0===t?void 0:t.widgets)||void 0===n?void 0:n[e];return r?this.loadWidgetClassByUri(r.uri):Promise.resolve(null)},e.prototype.loadWidgetClassByUri=function(e){var t,n,r=this;if(!this.checkWidgetUriInConfig(e))return Promise.resolve(null);if(null===(t=this.widgets[e])||void 0===t?void 0:t.clazzPromise)return this.widgets[e].clazzPromise;if(!(null===(n=this.widgets[e])||void 0===n?void 0:n.manifest))return console.error(e,"Should load manifest firstly."),Promise.reject(null);var o=this.widgets[e].manifest;return o.properties.hasMainClass?(this.widgets[e].clazzPromise=this.loadRawClass(e).then((function(){return r.injectWidgetProps(e)})).then((function(e){return e?r.appWidgetClassWrapperExtension(e,o):e})).then((function(t){return t?(r.widgets[e].clazz=t,Object(d.b)().dispatch(f.widgetClassLoaded(e)),t):t})),this.widgets[e].clazzPromise):Promise.resolve(null)},e.prototype.loadRawClass=function(e){var t=this;return this.loadWidgetDependency(e).then((function(){return Object(h.loadModule)(e+"dist/runtime/widget",[])})).then((function(n){var r=n.default?n.default:n;return t.widgets[e].rawClazz=r,r}))},e.prototype.loadWidgetTranslation=function(e,t){var n=Object(d.b)().getState().appContext.locale;return(n=Object(v.getLocaleToLoad)(n,t.translatedLocales))?Object(v.loadLocaleMessages)(e+"dist/runtime/translations",n).catch((function(e){return console.error("Load widget translation error",e),Promise.resolve({})})):Promise.resolve({})},e.prototype.openWidget=function(e){Object(d.b)().dispatch(f.openWidget(e))},e.prototype.closeWidget=function(e){Object(d.b)().dispatch(f.closeWidget(e))},e.prototype.appWidgetClassWrapperExtension=function(e,t){var n=p.a.getInstance().getExtensions(g.ExtensionPoints.WidgetClassWrapper)[0];return n?n.wrap(e,t):e},e.prototype.handleNewWidgetJson=function(e){var t=this;return e.context=Object(l.getWidgetContext)(e.uri),this.loadWidgetManifest(e.uri).then((function(n){return e._originManifest=n,t.processWidgetManifest(e)})).then((function(n){e.manifest=n,e.version=n.version;var r=Object(d.b)().getState().appStateInBuilder?Object(d.b)().getState().appStateInBuilder.appConfig:Object(d.b)().getState().appConfig;return Object(l.addWidgetDefaultLabelAndIcon)(r,e),t.loadWidgetDefaultConfig(e.uri)})).then((function(t){return e.config=t,e}))},e.prototype.isAllowLoad=function(e){return/^http(s)?:\/\//.test(e)||/^\/\//.test(e)?Promise.resolve(!1):Promise.resolve(!0)},e.prototype.loadWidgetManifest=function(e){var t=this;return this.widgets[e]||(this.widgets[e]={}),this.widgets[e].manifestPromise||(this.widgets[e].manifestPromise=this.isAllowLoad(e).then((function(t){if(!t)return Promise.reject("Not allow."+e);var n=Object(l.getWidgetContext)(e).folderUrl+"manifest.json";return window.fetch(n).then((function(e){return 404===e.status?Object(A.checkUpdate)().then((function(e){return e&&Object(d.b)().dispatch(f.setHasNewVersion(!0)),Promise.reject(new Error("404, widget not found."))})):e.json()}))})).then((function(n){if(n.error&&n.error.code)return Promise.reject(n.error);var r=n;return!r.widgetType&&r.properties&&r.properties.type&&(r.widgetType=r.properties.type,delete r.properties.type),!r.layouts&&r.properties&&r.properties.layouts&&(r.layouts=r.properties.layouts,delete r.properties.layouts),!r.translatedLocales&&r.supportedLocales&&(r.translatedLocales=r.supportedLocales),t.widgets[e].rawManifest=r,Promise.resolve(r)}))),this.widgets[e].manifestPromise},e.prototype.processWidgetManifest=function(e){var t=this,n=Object(l.addWidgetManifestProperties)(e._originManifest);return e.manifest=n,this.loadWidgetTranslation(e.uri,n).then((function(r){return n.i18nMessages=r,e.manifest=n,t.widgets[e.uri]?t.widgets[e.uri].manifest=n:t.widgets[e.uri]={rawManifest:e._originManifest,manifest:n,manifestPromise:Promise.resolve(n)},n}))},e.prototype.registerManifestProps=function(e,t){var n=e.manifest,r=[];return n.extensions&&n.extensions.length>0&&r.push(p.a.getInstance().registerWidgetExtensions(e)),n.messageActions&&n.messageActions.length>0&&r.push(j.a.getInstance().registerWidgetActions(e,t)),Promise.all(r).then((function(){}))},e.prototype.unRegisterManifestProps=function(e){p.a.getInstance().destryWidgetExtensions(e),j.a.getInstance().destroyWidgetActions(e),E.a.getInstance().destroyWidgetActions(e)},e.prototype.loadWidgetDefaultConfig=function(e){var t;if(!this.widgets[e].manifest.properties.hasConfig)return Promise.resolve(null);if(null===(t=this.widgets[e])||void 0===t?void 0:t.defaultConfigPromise)return this.widgets[e].defaultConfigPromise;var n=Object(l.getWidgetContext)(e).folderUrl;return this.widgets[e].defaultConfigPromise=window.fetch(n+"config.json").then((function(e){return 404===e.status?Object(A.checkUpdate)().then((function(e){return e&&Object(d.b)().dispatch(f.setHasNewVersion(!0)),Promise.reject(new Error("404, widget not found."))})):e.json()})).then((function(e){return e})),this.widgets[e].defaultConfigPromise},e.prototype.loadWidgetDependency=function(e){var t=this.widgets[e].manifest;if(!t.dependency)return Promise.resolve();var n="string"==typeof t.dependency?[t.dependency]:t.dependency;return Object(w.a)(n)},e.prototype.injectWidgetProps=function(e){var t=this,n=this.widgets[e].manifest,i=n.name,a=this.widgets[e].rawClazz,s=Object(y.c)(a),c=Object(O.b)(s),l=Object(I.b)(c);if(!this.checkWidgetUriInConfig(e))return Promise.resolve(null);var p=u((function(e){return e.appI18nMessages}),(function(e){var t=n.i18nMessages;return Object.assign({},t,e)})),h=function(n,r){var o,i=r.widgetId;if(!n.appConfig.widgets[i])return{};var s=n.widgetsRuntimeInfo[i],u=Object.assign({portalUrl:n.portalUrl,portalSelf:n.portalSelf,user:n.user,token:n.token,locale:n.appContext.locale,appI18nMessages:n.appI18nMessages,i18nMessages:p(n)},r);n.widgetsState[i]&&(u.stateProps=n.widgetsState[i]),n.widgetsMutableStateVersion[i]&&(u.mutableStatePropsVersion=n.widgetsMutableStateVersion[i],u.mutableStateProps=S.a.getInstance().getStateValue([i])),(null===(o=t.widgets[e])||void 0===o?void 0:o.widgetBuilderSupportModules)&&(u.builderSupportModules=t.widgets[e].widgetBuilderSupportModules),n.widgetsPreloadProps&&n.widgetsPreloadProps[i]&&Object.assign(u,n.widgetsPreloadProps[i]);var c=Object.assign(u,n.appConfig.widgets[i],s);return Object.assign(c,a.mapExtraStateProps?a.mapExtraStateProps(n,c):{})},g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.prototype.upgradeWidgetConfig=function(){var e=this.props,t=a.versionManager,n=e.manifest.version,r=e.version,o=e.config;if(n===r)return Promise.resolve(o);if(!t)return Object(d.b)().dispatch(f.widgetConfigUpgraded(e.id,o)),Promise.resolve(o);if(!T.valid(r)||!T.valid(n))return Promise.reject("Bad widget version number, "+e.manifest.name+","+r+","+n);if(T.lt(r,n))try{return t.upgrade(o,r,n,e.id).then((function(t){return Object(d.b)().dispatch(f.widgetConfigUpgraded(e.id,t)),t}))}catch(t){return console.log("Upgrade widget ["+e.manifest.name+"] old config error,"+t.stack),o}},t.prototype.componentDidMount=function(){this.upgradeWidgetConfig()},t.prototype.componentDidUpdate=function(){this.upgradeWidgetConfig()},t.prototype.render=function(){var e=this.props,t=e.id,n=e.manifest,o=e.version,i=e.i18nMessages;return t?a.versionManager&&n.version!==o?null:r.createElement(b.b,{locale:this.props.locale,defaultLocale:this.props.locale,messages:i},r.createElement(l,x({},this.props))):null},t.displayName="WidgetWrapper("+i+")",t}(r.PureComponent);return this.loadWidgetBuilderSupportModules(e,n).then((function(){return t.checkWidgetUriInConfig(e)?Promise.resolve(Object(o.connect)(h)(g)):Promise.resolve(null)}))},e.prototype.loadWidgetBuilderSupportModules=function(e,t){var n,r=this,o=[];if(window.jimuConfig.isInBuilder){if(null===(n=this.widgets[e])||void 0===n?void 0:n.widgetBuilderSupportModulesPromise)return this.widgets[e].widgetBuilderSupportModulesPromise;if(t.properties.hasEmbeddedLayout?o.push(Object(h.loadModule)("jimu-layouts/layout-builder",["LayoutEntry"]).then((function(e){return e.LayoutEntry}))):o.push(Promise.resolve(null)),t.properties.hasBuilderSupportModule){var i=e+"dist/runtime/builder-support";o.push(Object(h.loadModule)(i,["default"]).then((function(e){return e.default})))}else o.push(Promise.resolve(null));return this.widgets[e].widgetBuilderSupportModulesPromise=Promise.all(o).then((function(t){return r.widgets[e].widgetBuilderSupportModules={jimuForBuilderLib:Object(h.getJimuForBuilderModules)(),LayoutEntry:t[0],widgetModules:t[1]},r.widgets[e].widgetBuilderSupportModules})),this.widgets[e].widgetBuilderSupportModulesPromise}return Promise.resolve({jimuForBuilderLib:null})},e.prototype.onStoreChange=function(e,t){var n=this;e&&t&&Object.keys(e).forEach((function(e){t[e]||(n.destroyWidget(e),n.unRegisterManifestProps(e))})),e&&t&&Object.keys(t).forEach((function(r){e[r]||n.registerManifestProps(t[r])}))},e}();t.a=P},function(e,t,n){"use strict";var r=n(57),o=n(56);t.a=function(e){return"symbol"==typeof e||Object(o.a)(e)&&"[object Symbol]"==Object(r.a)(e)}},function(e,t,n){"use strict";t.a=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(40);function o(e,t){var n=t;return n.rawResponse=!1,Object(r.d)(e,n).then((function(e){var t={token:e.access_token,username:e.username,expires:new Date(Date.now()+(1e3*e.expires_in-1e3)),ssl:!0===e.ssl};return e.refresh_token&&(t.refreshToken=e.refresh_token),t}))}},function(e,t,n){"use strict";var r=n(2),o=n(15),i=n(41),a=n(26),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=function(){function e(){this.actions=[],this.actionClassPromises={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._messageManager=e.instance),e.instance},e.prototype.getActions=function(){return this.actions},e.prototype.getWidgetActions=function(e){return this.actions.filter((function(t){return t.widgetId===e}))},e.prototype.getAction=function(e,t){return this.actions.find((function(n){return n.widgetId===e&&n.name===t}))},e.prototype.destroyWidgetActions=function(e){this.actions=this.actions.filter((function(t){return t.destroy(),t.widgetId!==e}))},e.prototype.registerWidgetActions=function(e,t){var n=this;if(e.context.isRemote)return Promise.resolve();var r=[];return e.manifest.messageActions&&e.manifest.messageActions.forEach((function(o){var i;i=e.context.isRemote?e.context.folderUrl+"dist/"+o.uri+".js":e.uri+"dist/"+o.uri,r.push(n.registerAction({id:e.id+"-"+o.name,name:o.name,uri:i,widgetId:e.id,appConfig:t,label:e.manifest.i18nMessages["_action_"+o.name+"_label"]||o.label}))})),Promise.all(r)},e.prototype.registerAction=function(e){var t=this,n=this.actions.find((function(t){return t.id===e.id}));if(n)return Promise.resolve(n);return(e.ActionClass?Promise.resolve(e.ActionClass):t.loadActionClass(e.uri)).then((function(r){n=new r({id:e.id,name:e.name,widgetId:e.widgetId,label:e.label});var o=[];r.versionManager&&e.appConfig&&(o=Object(a.getWidgetMessageActionJsons)(e.appConfig,e.widgetId,e.name).map((function(n){return t.upgradeActionConfig(n,r.versionManager,e.appConfig.widgets[e.widgetId].manifest.version)})));return Promise.all(o).then((function(){return t.actions.push(n),n}))}))},e.prototype.upgradeActionConfig=function(e,t,n){var r=e.version,o=e.widgetId,a=e.config;return r||(e.version="1.0.0-beta2"),n===r?a:t?i.valid(r)&&i.valid(n)?t.upgrade(a,r,n,e.actionId).then((function(t){e.config=t,e.version=n})):(console.error("Bad widget action config version number, "+o+","+r+","+n),a):a},e.prototype.loadActionClass=function(e){return this.actionClassPromises[e]||(this.actionClassPromises[e]=Object(o.loadModule)(e,["default"]).then((function(e){return e.default}))),this.actionClassPromises[e]},e.prototype.publishMessage=function(e){return s(this,void 0,void 0,(function(){var t,n,o,i,a,s,c;return u(this,(function(l){switch(l.label){case 0:for(t=Object(r.b)().getState().appConfig.messageConfigs,n=Object.keys(t),o=null,s=0;s<n.length;s++)if(t[n[s]].messageType===e.type&&t[n[s]].widgetId===e.widgetId){o=t[n[s]];break}if(!o)return[2];i=function(t){var n,r;return u(this,(function(i){switch(i.label){case 0:return n=o.actions[t],(r=a.actions.filter((function(e){return e.widgetId===n.widgetId&&e.name===n.actionName}))[0])?r.filterMessage(e)?[4,a.exeAction(r,e,n.config)]:[2,"break"]:(console.error("Not find action: "+n.actionName),[2,"break"]);case 1:return i.sent()?[2]:[2,{value:void 0}]}}))},a=this,s=0,l.label=1;case 1:return s<o.actions.length?[5,i(s)]:[3,4];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];if("break"===c)return[3,4];l.label=3;case 3:return s++,[3,1];case 4:return[2]}}))}))},e.prototype.exeAction=function(e,t,n){var r=e.onExecute(t,n);return r&&r instanceof Promise?r.then((function(e){return e}),(function(e){return console.error(e),Promise.resolve(!1)})):Promise.resolve(r)},e}();t.a=c},function(e,t,n){"use strict";var r=function(){this.__data__=[],this.size=0},o=n(74);var i=function(e,t){for(var n=e.length;n--;)if(Object(o.a)(e[n][0],t))return n;return-1},a=Array.prototype.splice;var s=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)};var u=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]};var c=function(e){return i(this.__data__,e)>-1};var l=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function d(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}d.prototype.clear=r,d.prototype.delete=s,d.prototype.get=u,d.prototype.has=c,d.prototype.set=l;t.a=d},function(e,t,n){"use strict";var r=n(153),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=u(t),g=u(n),m=0;m<a.length;++m){var v=a[m];if(!(i[v]||r&&r[v]||g&&g[v]||s&&s[v])){var y=f(n,v);try{c(t,v,y)}catch(e){}}}}return t}},function(e,t,n){"use strict";var r=n(47),o=n(36),i=Object(r.a)(o.a,"Map");t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n,r,o){e=e||"UNKNOWN_ERROR",t=t||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===t?e:t+": "+e,this.originalMessage=e,this.code=t,this.response=n,this.url=r,this.options=o};r.prototype=Object.create(Error.prototype),r.prototype.constructor=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return c}));var r,o,i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(o||(o={}));var a=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return i(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),s=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'+t+'": "'+n+'". Options are "'+Object.keys(r).join('", "')+'"',"INVALID_VALUE",o)||this}return i(t,e),t}(a),u=function(e){function t(t,n,r){return e.call(this,'Value for "'+t+'" must be of type '+n,"INVALID_VALUE",r)||this}return i(t,e),t}(a),c=function(e){function t(t,n){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+n+'"',"MISSING_VALUE",n)||this}return i(t,e),t}(a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return j})),n.d(t,"b",(function(){return T})),n.d(t,"e",(function(){return A}));var r=n(6),o=n(8),i=n(4),a=n(19),s=n(87),u=n(70),c=n(60);var l,d=n(12),f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=[i.c.FeatureSet],h="EXPRESSION_RESOLVER";function g(e,t,n){if(!e||0===e.length)return Promise.reject(l.ParamNumber);var i=e.filter((function(e){return e.type!==r.b.Operator&&e.type!==r.b.Unknown}));if(0===i.length)return Promise.reject(l.ParamNumber);if(1===i.length&&Object(s.getWhetherFunctionIncludeFieldParam)(i)){var u=function(e){return!!(e&&e.length>0&&e.some((function(e){return e.type===r.b.Field&&function(e){if(!e)return!0;var t=e.dataSourceId,n=a.a.getInstance().getDataSource(t);return n&&n.type&&p.some((function(e){return e===n.type}))}(e)})))}(i),c=function(e){return!!(e&&e.length>0&&e.some((function(e){return e.isFromRepeatedDataSourceContext})))}(i);return u?function(e,t){var n,i,s;if(!e||e.type!==r.b.Field)return Promise.reject(l.ParamType);var u=a.a.getInstance().getDataSource(e.dataSourceId);(null==u?void 0:u.isDataView)&&u.dataViewId===d.SELECTION_DATA_VIEW_ID&&0===(null===(n=u.getRecords())||void 0===n?void 0:n.length)&&(u=u.getMainDataSource().getDataView(d.DATA_VIEW_ID_FOR_NO_SELECTION)||u);if(e.dataSourceId.split("-").reverse()[0]===d.SELECTION_DATA_VIEW_ID){var c=a.a.getInstance().getDataSource(e.dataSourceId);if(!((null==c?void 0:c.getMainDataSource().getDataView(d.DATA_VIEW_ID_FOR_NO_SELECTION))||c&&0!==(null===(i=c.getRecords())||void 0===i?void 0:i.length))){var h=null===(s=e.dataSourceId)||void 0===s?void 0:s.replace("-"+d.SELECTION_DATA_VIEW_ID,""),g=a.a.getInstance().getDataSource(h);null==g||g.makeSureSelectedRecords()}}if(!u)return Promise.reject(l.NeedDataSource);if(!p.some((function(e){return e===u.type}))){return m([f(f({},e),{dataSourceId:u.id})],t)}var v=u&&u.getSchema(),y=e.jimuFieldName,b=v&&v.fields&&v.fields[y];if(!b||b.type!==o.g.Number)return Promise.reject(l.ParamType);var w=u.getRecords();if(!w||0===w.length)return Promise.reject(l.NeedRecord);var S=w.map((function(e){return e.getData()[y]||0}));return Promise.resolve(O(S,t,!1))}(i[0],t):c?function(e,t,n){if(!e||e.type!==r.b.Field)return Promise.reject(l.ParamType);if(t===r.a.Count)return Promise.resolve(1);var o=E(e,n);if(!o)return Promise.reject(l.NeedRecord);var i=x(e.jimuFieldName,o,!1);return"number"==typeof i?Promise.resolve(i):Promise.reject(l.ParamType)}(i[0],t,n):m(i,t)}return Promise.reject(l.ParamNumber)}function m(e,t){if(!e||0===e.length)return Promise.reject(l.ParamNumber);var n=e.filter((function(e){return e.type!==r.b.Operator&&e.type!==r.b.Unknown}));if(n.length>0&&b(n)){var o=function(e){if(!e)return{};var t={};return e.forEach((function(e){t[e.dataSourceId]?t[e.dataSourceId].push(e):t[e.dataSourceId]=[e]})),t}(n);return Promise.all(Object.keys(o).map((function(e){return function(e,t){if(!e||0===e.length)return Promise.resolve(0);var n=a.a.getInstance().getDataSource(e[0].dataSourceId),o=function(e,t){var n=h+"-"+t;return e&&e.forEach((function(e){n=n+"-"+e.jimuFieldName})),n}(e,t),i=a.a.getInstance().createLocalDataSource(n,o);if(n&&n.load){var s=function(e,t){if(!e)return null;var n=[];return e.forEach((function(e,r){var o=a.a.getInstance().getDataSource(e.dataSourceId),i=o&&o.getSchema(),s=i&&i.fields&&i.fields[e.jimuFieldName],u=function(e,t,n){return(t||"")+"_"+(v(n)?n:"")+"_"+e}(t,s&&s.jimuName,r);n.push({onStatisticField:s&&s.name,outStatisticFieldName:u,statisticType:y(t)})})),{returnGeometry:!0,where:"1=1",outStatistics:n}}(e,t);return i.load(s,{widgetId:o}).then((function(e){var o,i,a,s,u,c=e&&e[0]&&e[0].getData()||{},l=Object.keys(c).map((function(e,t){return c[e]}));if(t===r.a.Count){var d=n.isDataView?(null===(i=null===(o=n.getMainDataSource())||void 0===o?void 0:o.getDataSourceJson())||void 0===i?void 0:i.dataViews)&&(null===(a=n.getMainDataSource().getDataSourceJson().dataViews[n.dataViewId])||void 0===a?void 0:a.maximum):null===(u=null===(s=n.getDataSourceJson())||void 0===s?void 0:s.query)||void 0===u?void 0:u.maximum;"number"==typeof d&&(l[0]=Math.min(l[0],d))}return O(l,t,!0)}))}}(o[e],t)}))).then((function(e){var n=e.length>0?O(e,t,!0):null;if(null!==n)return n;throw new Error(l.ParamType)}))}if(!(n.length>0&&w(n))){if(n.length>0&&n.every((function(e){return w([e])||b([e])}))){var i=n.filter((function(e){return w([e])}));return m(n.filter((function(e){return b([e])})),t).then((function(e){return m(i.concat({type:r.b.Number,exp:""+e}),t)}))}return Promise.reject(l.ParamType)}switch(t){case r.a.Average:return Promise.resolve(S(n)/n.length);case r.a.Sum:return Promise.resolve(S(n));case r.a.Count:return Promise.resolve(n.length);case r.a.Max:return Promise.resolve(function(e){var t=e.map((function(e){return parseFloat(e.exp)}));return t.length>0&&t.every((function(e){return v(e)}))?Math.max.apply(null,t):0}(n));case r.a.Min:return Promise.resolve(function(e){var t=e.map((function(e){return parseFloat(e.exp)}));return t.length>0&&t.every((function(e){return v(e)}))?Math.min.apply(null,t):0}(n));default:return Promise.reject(l.FuncType)}}function v(e){return!isNaN(parseFloat(e))&&isFinite(e)&&"[object Number]"===Object.prototype.toString.call(e)}function y(e){switch(e){case r.a.Average:return c.b.Avg;case r.a.Count:return c.b.Count;case r.a.Sum:return c.b.Sum;case r.a.Max:return c.b.Max;case r.a.Min:return c.b.Min;default:return null}}function b(e){return!!e&&e.every((function(e){if(e.type===r.b.Field&&e.jimuFieldName&&e.dataSourceId){var t=a.a.getInstance().getDataSource(e.dataSourceId),n=t&&t.getSchema(),i=n&&n.fields&&n.fields[e.jimuFieldName];return i&&i.type===o.g.Number}return!1}))}function w(e){return!!e&&e.every((function(e){return e.type===r.b.Number}))}function O(e,t,n){if(!e||0===e.length||e.some((function(e){return!v(e)})))return 0;switch(t){case r.a.Average:return e.reduce((function(e,t){return e+t}),0)/e.length;case r.a.Sum:return e.reduce((function(e,t){return e+t}),0);case r.a.Count:return n?e[0]:e.length;case r.a.Max:return Math.max.apply(null,e);case r.a.Min:return Math.min.apply(null,e);default:return 0}}function S(e){var t=e.map((function(e){return parseFloat(e.exp)}));return t.length>0&&t.every((function(e){return v(e)}))?t.reduce((function(e,t){return e+t}),0):0}function I(e){var t=[],n=[];return e&&e.forEach((function(o,i){if(o&&!n.some((function(e){return e===i})))if(o.type!==r.b.Function)t=t.concat(o);else if(n.push(i),e[i+1]&&e[i+1].type===r.b.Operator&&"("===e[i+1].exp){for(var a=e.slice(i+2),s=0,u=0,c=0;c<a.length;c++){if(0===u&&a[c].type===r.b.Operator&&")"===a[c].exp){s=c;break}u>0&&a[c].type===r.b.Operator&&")"===a[c].exp?u--:a[c].type===r.b.Operator&&"("===a[c].exp&&u++}var l=s+i+2;if(l>=i+2){var d=e.slice(i+2,l);for(c=i+1;c<=l;c++)n.push(c);t=t.concat(f(f({},o),{parts:I(d)}))}else console.warn("Can not martch parentheses")}else t=t.concat(o)})),t}function j(e,t,n,o,i){return void 0===e&&(e=[]),e.map((function(e,a){if(e.type===r.b.Field){var c=E(e,n);if(!c)return Promise.reject(l.NeedRecord);var d=x(e.jimuFieldName,c,o,i);return Promise.resolve(_(d,o,i))}return e.type===r.b.Function?function(e,t,n){if(Object(s.getWhetherFunctionIncludeChildExpression)(e&&e.parts)){var r=Object(s.getChildExpression)(e.parts);return Promise.all(Object.keys(r).sort((function(e,t){return parseInt(e)-parseInt(t)})).map((function(e){return Object(u.d)(r[e],t,n)}))).then((function(e){return e.map((function(e){return _((t=e,!isNaN(parseFloat(t))&&isFinite(t)?parseFloat(e):e),!1);var t}))})).then((function(t){return C(f(f({},e),{parts:t}),n)}))}return C(e,n)}(e,t,n).then((function(e){return _(e,o,i)})):Promise.resolve(e)}))}function E(e,t){var n,r,o,i,s=e.dataSourceId.split("-").reverse()[0]===d.SELECTION_DATA_VIEW_ID;if(e.isFromRepeatedDataSourceContext)i=Array.isArray(t)?null===(n=t[0])||void 0===n?void 0:n.record:null===(r=t)||void 0===r?void 0:r.record;else if(s){if(!(i=null==(f=a.a.getInstance().getDataSource(e.dataSourceId))?void 0:f.getRecords()[0])){var u=null===(o=e.dataSourceId)||void 0===o?void 0:o.replace("-"+d.SELECTION_DATA_VIEW_ID,""),c=a.a.getInstance().getDataSource(u);null==c||c.makeSureSelectedRecords();var l=null==f?void 0:f.getMainDataSource().getDataView(d.DATA_VIEW_ID_FOR_NO_SELECTION);i=null==l?void 0:l.getRecords()[0]}}else{var f;i=null==(f=a.a.getInstance().getDataSource(e.dataSourceId))?void 0:f.getRecords()[0]}return i}function C(e,t){return e.exp===r.a.Average?function(e,t){return g(e,r.a.Average,t)}(e.parts,t):e.exp===r.a.Count?function(e,t,n){if(!e||0===e.length){var o=null,i=a.a.getInstance().getDataSource(t);if(i){var s=i&&i.getSchema(),u=s&&s.fields&&Object.keys(s.fields).find((function(e){return s.fields[e].esriType===c.a})),d=s&&s.fields&&s.fields[u];if(d)o=[{type:r.b.Field,jimuFieldName:d.jimuName,dataSourceId:t,exp:"{"+(d.alias||d.name)+"}"}];else if(s&&s.fields&&Object.keys(s.fields).length>0){var f=Object.keys(s.fields)[0],p=s.fields[f];p&&(o=[{type:r.b.Field,jimuFieldName:p.jimuName,dataSourceId:t,exp:"{"+(p.alias||p.name)+"}"}])}return o?g(o,r.a.Count,n):Promise.reject(l.ParamNumber)}return Promise.reject(l.ParamNumber)}}(e.parts,e.dataSourceId,t):e.exp===r.a.Sum?function(e,t){return g(e,r.a.Sum,t)}(e.parts,t):e.exp===r.a.Max?function(e,t){return g(e,r.a.Max,t)}(e.parts,t):e.exp===r.a.Min?function(e,t){return g(e,r.a.Min,t)}(e.parts,t):(console.warn("Unknown function: ",e),Promise.resolve(""))}function T(e,t){var n=[];return e.forEach((function(e){if(e.type===r.b.Number)n.push(t?e.exp:parseFloat(e.exp));else if(e.type===r.b.String)n.push(e.exp.replace(/^"/,"").replace(/"$/,""));else if(e.type===r.b.Operator){var o=n.pop(),i=function(e,t,n){switch(n){case"*":return v(e)&&v(t)?parseFloat(e)*parseFloat(t):"";case"/":return v(e)&&v(t)?parseFloat(e)/parseFloat(t):"";case"-":return v(e)&&v(t)?parseFloat(e)-parseFloat(t):"";default:return v(e)&&v(t)?parseFloat(e)+parseFloat(t):""+e+t}}(n.pop(),o,e.exp);n.push(i)}})),n.pop()}function A(e){var t=[],n=[];for(e.forEach((function(e,o){if(e.type===r.b.Number||e.type===r.b.String)t.push(e);else if(e.type===r.b.Operator)if("("===e.exp)n.push(e);else if(")"===e.exp)for(var i=n.pop();"("!=i.exp;)t.push(i),i=n.pop();else if("+"===e.exp||"-"===e.exp){for(;n.length>0&&("+"===n[n.length-1].exp||"-"===n[n.length-1].exp||"*"===n[n.length-1].exp||"/"===n[n.length-1].exp);)t.push(n.pop());n.push(e)}else if("*"===e.exp||"/"===e.exp){for(;n.length>0&&("*"===n[n.length-1].exp||"/"===n[n.length-1].exp);)t.push(n.pop());n.push(e)}}));n.length>0;)t.push(n.pop());return t}function _(e,t,n){return v(e)?{exp:t&&n?n.formatNumber(e):e,type:r.b.Number}:{exp:'"'+e.replace(/^"/,"").replace(/"$/,"")+'"',type:r.b.String}}function x(e,t,n,r){var o,i="";if(!(o=t)||!o.getData||"function"!=typeof o.getData)return i;var a=n&&r?t.getFormattedData(r):t.getData();return a&&null!==a[e]&&void 0!==a[e]&&(i=a[e]),i}!function(e){e.ParamType="INVALID_PARAM_TYPE",e.ParamNumber="INVALID_NUMBER_OF_PARAMS",e.FuncType="INVALID_FUNCTION_TYPE",e.NeedRecord="NEED_RECORD",e.NeedDataSource="NEED_DATA_SOURCE"}(l||(l={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(0),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=r.createContext(null);function a(e){var t=e.data,n=e.children;return r.createElement(i.Consumer,null,(function(e){var o=t;return e&&(o=Array.isArray(e)?e.concat(t):[e].concat(t)),r.createElement(i.Provider,{value:o},n)}))}i.Consumer;function s(e){function t(t){return r.createElement(i.Consumer,null,(function(n){return r.createElement(e,o({},t,{repeatedDataSource:n}))}))}return t.displayName="RepeatedDataSourceContextConsumerWrapper",t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(63);function o(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}function i(e){var t=Object(r.a)(e);return Object.keys(t).map((function(e){return o(e,t[e])})).join("&")}},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(40),o=n(117),i=n(21),a=n(2),s=n(27),u=n(4),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d=function(){function e(){this.servicesInfo={},this.servicesInfoPromise={},this.arcGISServersInfo={},this.arcGISServersInfoPromise={}}return e.getInstance=function(){if(window.jimuConfig&&window.jimuConfig.isBuilder){if(window._appWindow&&window._appWindow._serviceManager)return window._appWindow._serviceManager;console.error("No window._appWindow._serviceDefinitionManager.")}return e.instance||(e.instance=new e),e.instance},e.prototype.getServiceInfo=function(e){return this.servicesInfo[e]},e.prototype.setServiceInfo=function(e,t){this.servicesInfo[e]=t},e.prototype.getServerInfo=function(e){return this.arcGISServersInfo[e]},e.prototype.getServerInfoByServiceUrl=function(e){return this.arcGISServersInfo[this.getArcGISServerUrlFromServiceUrl(e)]},e.prototype.fetchServiceInfo=function(e){var t=this;return this.getServiceInfo(e)?Promise.resolve(this.getServiceInfo(e)):(this.servicesInfoPromise[e]||(this.servicesInfoPromise[e]=this.isHostedServiceInSamePortal(e).then((function(n){var i,a=t.getArcGISServerUrlFromServiceUrl(e),s=null===(i=t.arcGISServersInfo[a])||void 0===i?void 0:i.owningSystemUrl;return Object(o.requestWrapper)(e,(function(t){return Object(r.d)(e,{authentication:t,httpMethod:"GET"}).then((function(e){return{definition:e,isHostedInSamePortal:n}}))}),1,s)})).then((function(n){return t.servicesInfo[e]=n,n}))),this.servicesInfoPromise[e])},e.prototype.isHostedServiceInSamePortal=function(e){return this.fetchArcGISServerInfo(e).then((function(t){return(null==t?void 0:t.owningSystemUrl)?!(!/https?:\/\/(www|services)\.arcgis\.com/.test(t.owningSystemUrl)||!/maps\.arcgis\.com\/?$/.test(Object(a.b)().getState().portalUrl))||(!(!/https?:\/\/(devext|servicesdev)\.arcgis\.com/.test(t.owningSystemUrl)||!/mapsdevext\.arcgis\.com\/?$/.test(Object(a.b)().getState().portalUrl))||(!(!/https?:\/\/(qaext|servicesqa)\.arcgis\.com/.test(t.owningSystemUrl)||!/mapsqa\.arcgis\.com\/?$/.test(Object(a.b)().getState().portalUrl))||Object(s.isSamePortalUrl)(Object(a.b)().getState().portalUrl,t.owningSystemUrl))):!!i.b.getInstance().getSessionByUrl(e)}))},e.prototype.fetchArcGISServerInfo=function(e){return c(this,void 0,void 0,(function(){var t,n=this;return l(this,(function(o){return(t=this.getArcGISServerUrlFromServiceUrl(e))?(this.arcGISServersInfoPromise[t]||(this.arcGISServersInfoPromise[t]=Object(r.d)(t,{httpMethod:"GET"}).then((function(e){return n.arcGISServersInfo[t]=e,e})).catch((function(e){return console.warn("Failed to fetch ArcGIS server info."),Promise.resolve(null)}))),[2,this.arcGISServersInfoPromise[t]]):[2,Promise.resolve(null)]}))}))},e.prototype.getArcGISServerUrlFromServiceUrl=function(e){var t=e.split(/\/rest(\/admin)?\/services\/|\/appservices\//)[0];return t?t+"/rest/info":null},e.prototype.isHostedService=function(e){var t=e.split(/\/rest(\/admin)?\/services\//)[0];return t?Object(r.d)(t+"/rest/info",{httpMethod:"GET"}).then((function(e){return!!e.owningSystemUrl})):Promise.resolve(!1)},e.prototype.fetchChildLayerDefinitionsFromUrls=function(e){var t=this;return Promise.allSettled(e.map((function(e){return t.fetchServiceInfo(e).then((function(e){return e.definition}))}))).then((function(t){var n,r={};return t.forEach((function(t,o){var i="fulfilled"===t.status?t.value:null;i&&(n=e[o],r[n]=i)})),r})).then((function(e){var n=Object.keys(e).map((function(t){return e[t]})),r=t._getAllChildLayerIdsOfGroupLayer(n),o={};return Object.keys(e).forEach((function(t){r.some((function(n){var r;return n===""+(null===(r=e[t])||void 0===r?void 0:r.id)}))||(o[t]=e[t])})),o}))},e.prototype._getAllChildLayerIdsOfGroupLayer=function(e){if(!e||0===e.length)return[];var t=e.filter((function(e){return e.type===u.f.GroupLayer}));return this._getChildLayerIdsFromGroupLayerDefinitions(t)},e.prototype._getChildLayerIdsFromGroupLayerDefinitions=function(e){return 0===e.length?[]:Array.prototype.concat.apply([],e.map((function(e){return(null==e?void 0:e.subLayers.map((function(e){return""+e.id})))||[]})))},e}();t.a=d,window.jimuConfig&&!window.jimuConfig.isBuilder&&(window._serviceManager=d.getInstance())},function(e,t,n){"use strict";n.r(t),n.d(t,"getUseDataSourceFromExpParts",(function(){return l})),n.d(t,"mergeUseDataSources",(function(){return d})),n.d(t,"getWhetherExpressionValid",(function(){return f})),n.d(t,"getWhetherFunctionIncludeChildExpression",(function(){return p})),n.d(t,"getWhetherFunctionIncludeFieldParam",(function(){return h})),n.d(t,"getWhetherFieldInDs",(function(){return m})),n.d(t,"getChildExpression",(function(){return v})),n.d(t,"isSingleStringExpression",(function(){return y})),n.d(t,"getSingleStringExpressionText",(function(){return b})),n.d(t,"getUseDataSourcesWithoutFields",(function(){return w})),n.d(t,"whetherHasFieldsInUseDataSources",(function(){return O}));var r=n(6),o=n(8),i=n(19),a=n(70),s=n(9),u=n(12),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e,t){if(!e||!e.length)return w(t);var n={};return e.filter((function(e){return!!e})).forEach((function(e){if(e.dataSourceId){var r=void 0,o=void 0,a=i.a.getInstance().getDataSource(e.dataSourceId),s=a&&a.getMainDataSource(),l=s&&s.id,d=t&&l&&t.asMutable({deep:!0}).find((function(e){return e.mainDataSourceId===l})),f=e.dataSourceId.split("-").reverse()[0]===u.SELECTION_DATA_VIEW_ID;if(f&&d?r=d.dataSourceId:f||(r=e.dataSourceId),!r)return;if(!n[r]){if(f&&d)delete(o=c({},d)).fields;else if(!f){var p=a&&a.dataViewId,h=a&&a.getRootDataSource(),g=h&&h.id;o={dataSourceId:r,mainDataSourceId:l,fields:[]},p&&(o.dataViewId=p),g&&(o.rootDataSourceId=g)}r&&o&&(n[r]=o)}e.jimuFieldName&&n[r]&&(n[r].fields&&n[r].fields.every((function(t){return t!==e.jimuFieldName}))?n[r].fields=n[r].fields.concat(e.jimuFieldName):n[r].fields||(n[r].fields=[e.jimuFieldName]))}})),s(Object.values(n))}function d(e,t){void 0===e&&(e=s([])),void 0===t&&(t=s([]));var n=s([]),r=s({}),o=s(e.concat(t)),i={};return o.forEach((function(e){i[e.dataSourceId]||(i[e.dataSourceId]=o.filter((function(t){return e.dataSourceId===t.dataSourceId})))})),Object.keys(i).forEach((function(e){r=s({}),i[e].forEach((function(e){r=function(e,t){if(!e||!t)return e||t;if(e.dataSourceId&&t.dataSourceId&&e.dataSourceId!==t.dataSourceId)return console.warn("can not merge data sources with different id"),null;if(!e.dataSourceId&&!t.dataSourceId)return e;if(e.fields&&t.fields){var n=Array.from(new Set(e.fields.asMutable().concat(t.fields.asMutable())));return e.merge(t.asMutable({deep:!0})).set("fields",n)}return e.merge(t.asMutable({deep:!0}))}(r,e)})),n=s(n.concat(r))})),n}function f(e){if(!e||!e.parts)return!0;var t=e.parts.filter((function(e){return!!e})),n=t.some((function(e){return e.type===r.b.Unknown}));if(n)return!1;var s=t.filter((function(e){return e.type===r.b.Operator&&"("===e.exp})).length===t.filter((function(e){return e.type===r.b.Operator&&")"===e.exp})).length;if(!s)return!1;for(var u=t.filter((function(e){return!(e.type===r.b.Operator&&("("===e.exp||")"===e.exp||/^\s*$/.test(e.exp))||e.type===r.b.Function&&e.exp!==r.a.Count)})),c=!0,l=0;l<u.length;l++)if((l%2==0||l===u.length-1)&&u[l].type===r.b.Operator||l%2==1&&u[l].type!==r.b.Operator){c=!1;break}if(!c)return!1;var d=!0;for(l=0;l<t.length;l++)if(t[l].type===r.b.Function&&!g(t[l])||t[l].type===r.b.Field&&!m(t[l].dataSourceId,t[l].jimuFieldName,t[l].exp.replace(/^\{/,"").replace(/\}$/,""))){d=!1;break}if(!d)return!1;var f=Object(a.c)(t),p=!f.some((function(e){return e.type===r.b.Operator&&","===e.exp}));if(!p)return!1;var h=f.every((function(e){if(e.type===r.b.Function){if(e.exp===r.a.Count)return e.parts&&0===e.parts.length;if(Object.keys(r.a).some((function(t){return e.exp===r.a[t]}))){if(e.parts&&1===e.parts.length&&e.parts[0].type===r.b.Field){var t=i.a.getInstance().getDataSource(e.parts[0].dataSourceId),n=t&&t.getSchema(),a=e.parts[0].jimuFieldName,s=n&&n.fields&&n.fields[a];return s&&s.type===o.g.Number}return!1}return!1}return!0}));return!n&&s&&c&&d&&p&&h}function p(e){return!!(e&&e.length>1&&e.some((function(e){return e.type===r.b.Operator&&/^[\+\-\*\/\(\)]$/.test(e.exp)})))||!(!e||1!==e.length||e[0].type!==r.b.Function)}function h(e){var t=v(e);return!!(t&&Object.keys(t).length>0&&Object.keys(t).some((function(e){return t[e].parts&&1===t[e].parts.length&&t[e].parts[0].type===r.b.Field})))}function g(e){return!(!e||e.type!==r.b.Function)&&Object.keys(r.a).some((function(t){return r.a[t]===e.exp}))}function m(e,t,n){if(!e||!t)return!1;var r=i.a.getInstance().getDataSource(e),o=r&&r.getSchema&&r.getSchema(),a=o&&o.fields;return!!a&&!(!a[t]||n!==(a[t].alias||a[t].name))}function v(e){var t,n={},o=!0;return e.filter((function(e){return!/^\s*$/.test(e.exp)})).forEach((function(e,i){e.type===r.b.Operator&&","===e.exp?o=!0:(o?(t=i,n[i]={name:"default",parts:[e]}):n[t].parts=n[t].parts.concat(e),o=!1)})),n}var y=function(e){var t,n,o;if(e)return 1===(null===(t=e.parts)||void 0===t?void 0:t.length)&&(null===(o=null===(n=e.parts)||void 0===n?void 0:n[0])||void 0===o?void 0:o.type)===r.b.String},b=function(e){var t,n,r;return y(e)?null===(r=null===(n=null===(t=e.parts)||void 0===t?void 0:t[0])||void 0===n?void 0:n.exp)||void 0===r?void 0:r.replace(/(^\"|\"$)/g,""):""},w=function(e){return null==e?void 0:e.map((function(e){return null==e?void 0:e.without("fields").asMutable({deep:!0})}))},O=function(e){return null==e?void 0:e.some((function(e){var t;return!!(null===(t=e.fields)||void 0===t?void 0:t.length)}))}},function(e,t,n){"use strict";var r=n(47),o=Object(r.a)(Object,"create");var i=function(){this.__data__=o?o(null):{},this.size=0};var a=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},s=Object.prototype.hasOwnProperty;var u=function(e){var t=this.__data__;if(o){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return s.call(t,e)?t[e]:void 0},c=Object.prototype.hasOwnProperty;var l=function(e){var t=this.__data__;return o?void 0!==t[e]:c.call(t,e)};var d=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?"__lodash_hash_undefined__":t,this};function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}f.prototype.clear=i,f.prototype.delete=a,f.prototype.get=u,f.prototype.has=l,f.prototype.set=d;var p=f,h=n(77),g=n(79);var m=function(){this.size=0,this.__data__={hash:new p,map:new(g.a||h.a),string:new p}};var v=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var y=function(e,t){var n=e.__data__;return v(t)?n["string"==typeof t?"string":"hash"]:n.map};var b=function(e){var t=y(this,e).delete(e);return this.size-=t?1:0,t};var w=function(e){return y(this,e).get(e)};var O=function(e){return y(this,e).has(e)};var S=function(e,t){var n=y(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function I(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}I.prototype.clear=m,I.prototype.delete=b,I.prototype.get=w,I.prototype.has=O,I.prototype.set=S;t.a=I},function(e,t,n){"use strict";t.a={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"escape",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"}},function(e,t){e.exports=n},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n(42),o=n(37),i=n(15),a={},s={};function u(e){if(s[e])return s[e];var t=[],n=r.a.getInstance().getExtensions(o.ExtensionPoints.DependencyDefine).filter((function(t){return t.getDependencyKey()===e}))[0];n?t=t.concat(n.getResources()):/^http/.test(e)?t.push({url:e}):console.error("Unknown dependency.",e);var u=[];return t.forEach((function(e){a[e.url]?u.push(a[e.url]):u.push(function e(t){if(t.dependencies&&t.dependencies.length>0)return Promise.all(t.dependencies.map((function(t){return e(t)}))).then((function(){return delete t.dependencies,e(t)}));return a[t.url]=Object(i.loadModule)(t.url),a[t.url]}(e))})),s[e]=Promise.all(u).then((function(e){}))}function c(e){return e.reduce((function(e,t){return e.then((function(){return u(t)}))}),u(e[0]))}},function(e,t,n){"use strict";var r=n(200),o=n(62),i=n(2),a=n(3),s=function(){function e(){this.state={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._mutableStoreManager=e.instance),e.instance},e.prototype.updateStateValue=function(e,t,n){var o,s=null!==(o=null==t?void 0:t.split("."))&&void 0!==o?o:[],u=[e].concat(s);Object(r.a)(this.state,u,n),Object(i.b)().dispatch(Object(a.widgetMutableStatePropChange)(e,t))},e.prototype.getStateValue=function(e){return Object(o.a)(this.state,e)},e.prototype.getState=function(){return this.state},e}();t.a=s},function(e,t,n){"use strict";var r=n(15),o=function(){function e(){this.actions=[],this.actionClassPromises={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._dataActionManager=e.instance),e.instance},e.prototype.getActions=function(){return this.actions},e.prototype.getSupportedActions=function(e,t){var n=this;void 0===t&&(t=[]);var r=this.actions.map((function(r){return n.testActionSupportData(r,e,t).then((function(e){return{action:r,result:e}}))}));return Promise.all(r).then((function(e){return e.filter((function(e){return e.result})).map((function(e){return e.action}))}))},e.prototype.testActionSupportData=function(e,t,n){var r=e.isSupported(t,n);return r&&r instanceof Promise?r.then((function(e){return e}),(function(e){return console.error(e),Promise.resolve(!1)})):Promise.resolve(r)},e.prototype.registerAction=function(e){var t=this,n=this.actions.find((function(t){return t.id===e.id}));if(n)return Promise.resolve(n);return(e.ActionClass?Promise.resolve(e.ActionClass):t.loadActionClass(e.uri)).then((function(n){var r=new n({id:e.id,name:e.name,widgetId:e.widgetId});return t.actions.push(r),r}))},e.prototype.registerWidgetActions=function(e){var t=this;return e.uri&&e.manifest.dataActions&&0!==e.manifest.dataActions.length&&!e.context.isRemote?Promise.all(e.manifest.dataActions.asMutable().map((function(n){var r;r=e.context.isRemote?e.context.folderUrl+"dist/"+n.uri+".js":e.uri+"dist/"+n.uri;var o=e.id+"-"+n.name;return t.registerAction({id:o,name:n.name,uri:r,widgetId:e.id,label:e.manifest.i18nMessages["_action_"+n.name+"_label"]||n.label})}))):Promise.resolve([])},e.prototype.destroyWidgetActions=function(e){this.actions=this.actions.filter((function(t){return t.destroy(),t.widgetId!==e}))},e.prototype.getActionsByWidgetId=function(e){return this.actions.filter((function(t){return t.widgetId===e}))},e.prototype.loadActionClass=function(e){return this.actionClassPromises[e]||(this.actionClassPromises[e]=Object(r.loadModule)(e,["default"]).then((function(e){return e.default}))),this.actionClassPromises[e]},e}();t.a=o},function(e,t,n){"use strict";n.r(t),n.d(t,"browserHistory",(function(){return I})),n.d(t,"HistoryProvider",(function(){return E})),n.d(t,"withHistory",(function(){return C})),n.d(t,"changeQueryObject",(function(){return T})),n.d(t,"replaceQueryObject",(function(){return A})),n.d(t,"changePage",(function(){return _})),n.d(t,"changeView",(function(){return x})),n.d(t,"changeDialog",(function(){return P})),n.d(t,"changeQueryObjectByDataRecordIds",(function(){return D})),n.d(t,"changeQueryObjectByDataRecordIndexes",(function(){return R}));var r,o=n(0),i=n(11),a=r||(r={});a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE";var s=function(e){return e};function u(e){e.preventDefault(),e.returnValue=""}function c(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function l(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname,n=e.search;return(void 0===t?"/":t)+(void 0===n?"":n)+(void 0===(e=e.hash)?"":e)}function f(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var p,h=n(3),g=n(2),m=n(51),v=n(110),y=n(14),b=n(48),w=n(9),O=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),S=function(){return(S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},I=document&&function(e){function t(){var e=h.location,t=g.state||{};return[t.idx,s({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"==typeof e?e:d(e)}function o(e,t){return void 0===t&&(t=null),s(Object(i.a)({},b,{},"string"==typeof e?f(e):e,{state:t,key:l()}))}function a(e){v=e,e=t(),y=e[0],b=e[1],w.call({action:v,location:b})}function p(e){g.go(e)}void 0===e&&(e={});var h=void 0===(e=e.window)?document.defaultView:e,g=h.history,m=null;h.addEventListener("popstate",(function(){if(m)O.call(m),m=null;else{var e=r.Pop,n=t(),o=n[0];if(n=n[1],O.length){if(null!=o){var i=y-o;i&&(m={action:e,location:n,retry:function(){p(-1*i)}},p(i))}}else a(e)}}));var v=r.Pop,y=(e=t())[0],b=e[1],w=c(),O=c();return null==y&&(y=0,g.replaceState(Object(i.a)({},g.state,{idx:y}),"")),{get action(){return v},get location(){return b},createHref:n,push:function e(t,i){var s=r.Push,u=o(t,i);if(!O.length||(O.call({action:s,location:u,retry:function(){e(t,i)}}),0)){var c=[{usr:u.state,key:u.key,idx:y+1},n(u)];u=c[0],c=c[1];try{g.pushState(u,"",c)}catch(e){h.location.assign(c)}a(s)}},replace:function e(t,i){var s=r.Replace,u=o(t,i);O.length&&(O.call({action:s,location:u,retry:function(){e(t,i)}}),1)||(u=[{usr:u.state,key:u.key,idx:y},n(u)],g.replaceState(u[0],"",u[1]),a(s))},go:p,back:function(){p(-1)},forward:function(){p(1)},listen:function(e){return w.push(e)},block:function(e){var t=O.push(e);return 1===O.length&&h.addEventListener("beforeunload",u),function(){t(),O.length||h.removeEventListener("beforeunload",u)}}}}();Object(b.b)(b.a.ChangePage,(function(e){_(e.pageId)})),Object(b.b)(b.a.ChangeQuery,(function(e){T(e.queryObject)})),I&&I.listen((function(e){e.action;var t=e.location,n=Object(g.b)().getState().queryObject.asMutable();if(t.pathname!==Object(g.b)().getState().appPath){Object(g.b)().dispatch(Object(h.appPathChanged)(t.pathname));var r=Object(y.parseAppPath)(t.pathname).pageId;Object(b.e)(r)}var o=m.parse(t.search);Object(v.a)(n,o)||(Object(g.b)().dispatch(Object(h.queryObjectChanged)(o)),Object(b.f)(o))}));var j=o.createContext(I),E=function(e){return o.createElement(j.Provider,{value:I},e.children)};function C(e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return O(n,t),n.prototype.render=function(){var t=this;return o.createElement(j.Consumer,null,(function(n){return o.createElement(e,S({},t.props,{history:n}))}))},n.displayName="HistoryComponent("+e.displayName+")",n}(o.PureComponent)}function T(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),!Object(v.a)(e,Object(g.b)().getState().queryObject)){var r=n?w(e):Object(g.b)().getState().queryObject.merge(e);r=r.without.apply(r,Object.keys(r).filter((function(e){return null===r[e]})));var o=Object(y.createLocation)(I.location,"?"+m.stringify(r));t?I.replace(o):I.push(o)}}function A(e,t){void 0===t&&(t=!1);var n=Object(y.createLocation)(I.location,"?"+m.stringify(e));t?I.replace(n):I.push(n)}function _(e){Object(y.parseAppPath)().pageId!==e&&I.push(Object(y.getPageLinkUrl)(e,Object(g.b)().getState().queryObject))}function x(e,t){var n=Object(g.b)().getState().queryObject.views?Object(g.b)().getState().queryObject.views.split(","):[],r=n.length,o=Object.keys(Object(g.b)().getState().appConfig.views),i=(n=n.filter((function(e){return o.indexOf(e)>=0}))).length;if(n.indexOf(t)>-1){if(r===i)return;return T({views:n.join(",")})}return(n=n.filter((function(t){return Object(g.b)().getState().appConfig.sections[e].views.indexOf(t)<0}))).push(t),T({views:n.join(",")})}function P(e){return T({dlg:e})}function D(e,t){k(e,{indexes:null,ids:t})}function R(e,t){k(e,{indexes:t,ids:null})}function k(e,t){var n=t.indexes,r=t.ids,o=function(e,t){var n=t.indexes,r=t.ids;if(n)return 1===n.length?e+":"+n[0]:e+":"+n.join("+");if(r)return 0===(r=r.filter((function(e){return!!e}))).length?null:1===r.length?e+":"+r[0]:e+":"+r.join("+")}(e,{indexes:n,ids:r}),i=n?Object(g.b)().getState().queryObject.data_index:Object(g.b)().getState().queryObject.data_id,a=[];i&&(a=i.split(","));var s=[],u=!1;a.forEach((function(t){t.split(":")[0]===e?o&&(s.push(o),u=!0):s.push(t)})),!u&&o&&s.push(o),T({data_index:n&&s.length>0?s.join(","):null,data_id:r&&s.length>0?s.join(","):null},!0)}},function(e,t,n){"use strict";var r=n(134),o=n(136);t.a=function(e){return null!=e&&Object(o.a)(e.length)&&!Object(r.a)(e)}},function(e,t,n){"use strict";var r=/^(?:0|[1-9]\d*)$/;t.a=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(40);function o(e,t){var n=t;return"undefined"!=typeof window&&window.location&&window.location.host?n.params.referer=window.location.host:n.params.referer=r.b,Object(r.d)(e,n)}},function(e,t,n){"use strict";var r=n(140),o=n(74),i=Object.prototype.hasOwnProperty;t.a=function(e,t,n){var a=e[t];i.call(e,t)&&Object(o.a)(a,n)&&(void 0!==n||t in e)||Object(r.a)(e,t,n)}},function(e,t,n){"use strict";var r=n(47),o=function(){try{var e=Object(r.a)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.a=o},function(e,t,n){"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),o=n.length;if(r.length!==o)return!1;for(var i=0;i<o;i++){var a=n[i];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}},,function(e,t,n){"use strict";n.r(t),n.d(t,"addItemData",(function(){return f})),n.d(t,"addItemRelationship",(function(){return p})),n.d(t,"addItemResource",(function(){return h})),n.d(t,"addItemPart",(function(){return g})),n.d(t,"getUserContent",(function(){return m})),n.d(t,"createFolder",(function(){return v})),n.d(t,"createItemInFolder",(function(){return y})),n.d(t,"createItem",(function(){return b})),n.d(t,"exportItem",(function(){return w})),n.d(t,"getItem",(function(){return O.a})),n.d(t,"getItemData",(function(){return O.b})),n.d(t,"getRelatedItems",(function(){return O.g})),n.d(t,"getItemResources",(function(){return O.e})),n.d(t,"getItemGroups",(function(){return O.c})),n.d(t,"getItemStatus",(function(){return O.f})),n.d(t,"getItemParts",(function(){return O.d})),n.d(t,"protectItem",(function(){return S})),n.d(t,"unprotectItem",(function(){return I})),n.d(t,"reassignItem",(function(){return R})),n.d(t,"removeItem",(function(){return k})),n.d(t,"removeItemRelationship",(function(){return M})),n.d(t,"removeItemResource",(function(){return N})),n.d(t,"removeFolder",(function(){return L})),n.d(t,"searchItems",(function(){return B})),n.d(t,"updateItem",(function(){return u})),n.d(t,"updateItemInfo",(function(){return c})),n.d(t,"updateItemResource",(function(){return l})),n.d(t,"moveItem",(function(){return d})),n.d(t,"serializeItem",(function(){return s.b})),n.d(t,"determineOwner",(function(){return s.a})),n.d(t,"commitItemUpload",(function(){return W})),n.d(t,"cancelItemUpload",(function(){return z})),n.d(t,"addGroupUsers",(function(){return G})),n.d(t,"createGroup",(function(){return K})),n.d(t,"getGroup",(function(){return j})),n.d(t,"getGroupCategorySchema",(function(){return E})),n.d(t,"getGroupContent",(function(){return C})),n.d(t,"getGroupUsers",(function(){return T})),n.d(t,"searchGroupUsers",(function(){return A})),n.d(t,"createGroupNotification",(function(){return $})),n.d(t,"protectGroup",(function(){return Y})),n.d(t,"unprotectGroup",(function(){return J})),n.d(t,"removeGroup",(function(){return X})),n.d(t,"searchGroups",(function(){return Q})),n.d(t,"searchGroupContent",(function(){return Z})),n.d(t,"updateGroup",(function(){return ee})),n.d(t,"updateUserMemberships",(function(){return te})),n.d(t,"joinGroup",(function(){return ne})),n.d(t,"leaveGroup",(function(){return re})),n.d(t,"getUser",(function(){return oe})),n.d(t,"getUserTags",(function(){return ie})),n.d(t,"getUserUrl",(function(){return ae})),n.d(t,"getUserInvitations",(function(){return se})),n.d(t,"getUserInvitation",(function(){return ue})),n.d(t,"acceptInvitation",(function(){return ce})),n.d(t,"declineInvitation",(function(){return le})),n.d(t,"getUserNotifications",(function(){return de})),n.d(t,"removeNotification",(function(){return fe})),n.d(t,"searchUsers",(function(){return pe})),n.d(t,"updateUser",(function(){return he})),n.d(t,"setItemAccess",(function(){return ge})),n.d(t,"shareItemWithGroup",(function(){return ve})),n.d(t,"unshareItemWithGroup",(function(){return ye})),n.d(t,"isItemSharedWithGroup",(function(){return Oe})),n.d(t,"getSharingUrl",(function(){return _})),n.d(t,"isItemOwner",(function(){return x})),n.d(t,"isOrgAdmin",(function(){return P})),n.d(t,"getUserMembership",(function(){return D})),n.d(t,"getSelf",(function(){return Se})),n.d(t,"getPortal",(function(){return Ie})),n.d(t,"getPortalSettings",(function(){return je})),n.d(t,"getPortalUrl",(function(){return a.a})),n.d(t,"SearchQueryBuilder",(function(){return F}));var r=n(5),o=n(155),i=n(40),a=n(7),s=n(25);function u(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.item.id+"/update";return e.params=r.a({},e.params,Object(s.b)(e.item)),Object(i.d)(n,e)}))}function c(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/updateinfo";return e.params=r.a({folderName:e.folderName,file:e.file},e.params),Object(i.d)(n,e)}))}function l(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/updateResources";return e.params=r.a({file:e.resource,fileName:e.name,text:e.content},e.params),void 0!==e.private&&(e.params.access=e.private?"private":"inherit"),Object(i.d)(n,e)}))}function d(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.itemId+"/move",o=e.folderId;return o||(o="/"),e.params=r.a({folder:o},e.params),Object(i.d)(n,e)}))}function f(e){var t=r.a({item:{id:e.id,data:e.data}},e);return delete t.id,delete t.data,u(t)}function p(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/addRelationship",s=Object(o.a)(e,["originItemId","destinationItemId","relationshipType"],{params:r.a({},e.params)});return Object(i.d)(n,s)}))}function h(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/addResources";return e.params=r.a({file:e.resource,fileName:e.name,resourcesPrefix:e.prefix,text:e.content,access:e.private?"private":"inherit"},e.params),Object(i.d)(n,e)}))}function g(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/addPart",s=Object(o.a)(e,["file","partNum"],{params:r.a({},e.params)});return Object(i.d)(n,s)}))}var m=function(e){var t=e.folderId,n=e.start,r=void 0===n?1:n,o=e.num,u=void 0===o?10:o,c=e.authentication,l=t?"/"+t:"";return Object(s.a)(e).then((function(t){return Object(a.a)(e)+"/content/users/"+t+l})).then((function(e){return Object(i.d)(e,{httpMethod:"GET",authentication:c,params:{start:r,num:u}})}))};function v(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/createFolder";return e.params=r.a({title:e.title},e.params),Object(i.d)(n,e)}))}function y(e){return e.file&&!e.multipart?Promise.reject(new Error("The request must be a multipart request for file uploading.")):e.multipart&&!e.filename?Promise.reject(new Error("The file name is required for a multipart request.")):Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t,u=n+"/addItem";e.folderId&&(u=n+"/"+e.folderId+"/addItem"),e.params=r.a({},e.params,Object(s.b)(e.item));var c=Object(o.a)(e,["owner","folderId","file","dataUrl","text","async","multipart","filename","overwrite"],{params:r.a({},e.params)});return Object(i.d)(u,c)}))}function b(e){return y(r.a({folderId:null},e))}var w=function(e){var t=e.authentication,n=e.id,r=e.title,o=e.exportFormat,u=e.exportParameters;return Object(s.a)(e).then((function(t){return Object(a.a)(e)+"/content/users/"+t+"/export"})).then((function(e){return Object(i.d)(e,{httpMethod:"POST",authentication:t,params:{itemId:n,title:r,exportFormat:o,exportParameters:u}})}))},O=n(138);function S(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/protect";return Object(i.d)(n,e)}))}function I(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/unprotect";return Object(i.d)(n,e)}))}function j(e,t){var n=Object(a.a)(t)+"/community/groups/"+e,o=r.a({httpMethod:"GET"},t);return Object(i.d)(n,o)}function E(e,t){var n=Object(a.a)(t)+"/community/groups/"+e+"/categorySchema",o=r.a({httpMethod:"GET"},t);return Object(i.d)(n,o)}function C(e,t){var n=Object(a.a)(t)+"/content/groups/"+e,o=r.a({httpMethod:"GET"},{params:{start:1,num:100}},t);return t&&t.paging&&(o.params=r.a({},t.paging)),Object(i.d)(n,o)}function T(e,t){var n=Object(a.a)(t)+"/community/groups/"+e+"/users",o=r.a({httpMethod:"GET"},t);return Object(i.d)(n,o)}function A(e,t){var n=Object(a.a)(t)+"/community/groups/"+e+"/userlist",r=Object(o.a)(t||{},["name","num","start","sortField","sortOrder","joined","memberType"],{httpMethod:"GET"});return Object(i.d)(n,r)}function _(e){var t=e.authentication.username,n=e.owner||t;return Object(a.a)(e)+"/content/users/"+encodeURIComponent(n)+"/items/"+e.id+"/share"}function x(e){var t=e.authentication.username;return(e.owner||t)===t}function P(e){return e.authentication.getUser(e).then((function(e){return!(!e||"org_admin"!==e.role)}))}function D(e){return j(e.groupId,e).then((function(e){return e.userMembership.memberType})).catch((function(){return"none"}))}function R(e){return P(e).then((function(t){if(!t)throw Error("Item "+e.id+" can not be reassigned because current user is not an organization administrator.");var n=Object(a.a)(e)+"/content/users/"+e.currentOwner+"/items/"+e.id+"/reassign",r={params:{targetUsername:e.targetUsername,targetFolderName:e.targetFolderName},authentication:e.authentication};return Object(i.d)(n,r)}))}function k(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/delete";return Object(i.d)(n,e)}))}function M(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/removeRelationship",s=Object(o.a)(e,["originItemId","destinationItemId","relationshipType"],{params:r.a({},e.params)});return Object(i.d)(n,s)}))}function N(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/removeResources";return e.params=r.a({},e.params,{resource:e.resource}),Object(i.d)(n,e)}))}function L(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+encodeURIComponent(t)+"/"+e.folderId+"/delete";return Object(i.d)(n,e)}))}var U=n(114),F=function(){function e(e){void 0===e&&(e=""),this.termStack=[],this.rangeStack=[],this.openGroups=0,this.q=e}return e.prototype.match=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.termStack=this.termStack.concat(e),this},e.prototype.in=function(e){var t="`in("+(e?'"'+e+'"':"")+")`";return this.hasRange||this.hasTerms?(e&&"*"!==e&&(this.q+=e+":"),this.commit()):(Object(U.a)(t+" was called with no call to `match(...)` or `from(...)`/`to(...)`. Your query was not modified."),this)},e.prototype.startGroup=function(){return this.commit(),this.openGroups>0&&(this.q+=" "),this.openGroups++,this.q+="(",this},e.prototype.endGroup=function(){return this.openGroups<=0?(Object(U.a)("`endGroup(...)` was called without calling `startGroup(...)` first. Your query was not modified."),this):(this.commit(),this.openGroups--,this.q+=")",this)},e.prototype.and=function(){return this.addModifier("and")},e.prototype.or=function(){return this.addModifier("or")},e.prototype.not=function(){return this.addModifier("not")},e.prototype.from=function(e){return this.hasTerms?(Object(U.a)("`from(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[0]=e,this)},e.prototype.to=function(e){return this.hasTerms?(Object(U.a)("`to(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[1]=e,this)},e.prototype.boost=function(e){return this.commit(),this.q+="^"+e,this},e.prototype.toParam=function(){return this.commit(),this.cleanup(),this.q},e.prototype.clone=function(){return this.commit(),this.cleanup(),new e(this.q+"")},e.prototype.addModifier=function(e){return this.currentModifer?(Object(U.a)("You have called `"+this.currentModifer+"()` after `"+e+"()`. Your current query was not modified."),this):(this.commit(),""===this.q&&"not"!==e?(Object(U.a)("You have called `"+e+"()` without calling another method to modify your query first. Try calling `match()` first."),this):(this.currentModifer=e,this.q+=""===this.q?"":" ",this.q+=e.toUpperCase()+" ",this))},e.prototype.hasWhiteSpace=function(e){return/\s/g.test(e)},e.prototype.formatTerm=function(e){return e instanceof Date?e.getTime():"string"==typeof e&&this.hasWhiteSpace(e)?'"'+e+'"':e},e.prototype.commit=function(){var e=this;return this.currentModifer=void 0,this.hasRange&&(this.q+="["+this.formatTerm(this.rangeStack[0])+" TO "+this.formatTerm(this.rangeStack[1])+"]",this.rangeStack=[void 0,void 0]),this.hasTerms&&(this.q+=this.termStack.map((function(t){return e.formatTerm(t)})).join(" "),this.termStack=[]),this},Object.defineProperty(e.prototype,"hasTerms",{get:function(){return this.termStack.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasRange",{get:function(){return this.rangeStack.length&&this.rangeStack[0]&&this.rangeStack[1]},enumerable:!0,configurable:!0}),e.prototype.cleanup=function(){if(this.openGroups>0)for(Object(U.a)("Automatically closing "+this.openGroups+" group(s). You can use `endGroup(...)` to remove this warning.");this.openGroups>0;)this.q+=")",this.openGroups--;var e=this.q;this.q=e.replace(/( AND ?| NOT ?| OR ?)*$/,""),e!==this.q&&Object(U.a)("`startGroup(...)` was called without calling `endGroup(...)` first. Your query was not modified."),this.q=this.q.replace(/(\(\))*/,"")},e}();function V(e,t){var n,r,s;switch(r="string"==typeof e||e instanceof F?{httpMethod:"GET",params:{q:e}}:Object(o.a)(e,["q","num","start","sortField","sortOrder"],{httpMethod:"GET"}),t){case"item":s="/search";break;case"group":s="/community/groups";break;case"groupContent":if("string"==typeof e||e instanceof F||!e.groupId)return Promise.reject(new Error("you must pass a `groupId` option to `searchGroupContent`"));s="/content/groups/"+e.groupId+"/search";break;default:s="/portals/self/users/search"}return n=Object(a.a)(r)+s,Object(i.d)(n,r).then((function(n){return n.nextStart&&-1!==n.nextStart&&(n.nextPage=function(){var r;return"string"==typeof e||e instanceof F?r={q:e,start:n.nextStart}:(r=e).start=n.nextStart,V(r,t)}),n}))}function B(e){return V(e,"item")}function W(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/commit";return Object(i.d)(n,e)}))}function z(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/cancel";return Object(i.d)(n,e)}))}function G(e){var t=e.id,n=Object(a.a)(e)+"/community/groups/"+t+"/addUsers",r=Object.assign({},e,{admins:void 0,users:void 0}),o=q("users",e.users,r).concat(q("admins",e.admins,r)).map((function(e){return function(e,t){return Object(i.d)(e,t).catch((function(e){return{errors:[e]}}))}(n,e)}));return Promise.all(o).then(H)}function q(e,t,n){return!t||t.length<1?[]:function(e,t){if(0===e.length)return[];for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}(t,25).map((function(t){return function(e,t,n){var o,i;return Object.assign({},n,((o={})[e]=t,o.params=r.a({},n.params,((i={})[e]=t,i)),o))}(e,t,n)}))}function H(e){var t=e.filter((function(e){return e.notAdded})).reduce((function(e,t){return e.concat(t.notAdded)}),[]),n=e.filter((function(e){return e.errors})).reduce((function(e,t){return e.concat(t.errors)}),[]),r={notAdded:t};return n.length>0&&(r.errors=n),r}function K(e){var t=Object(a.a)(e)+"/community/createGroup";return e.params=r.a({},e.params,e.group),Object(i.d)(t,e)}function $(e){var t=Object(a.a)(e)+"/community/groups/"+e.id+"/createNotification",n=r.a({params:r.a({subject:e.subject,message:e.message,users:e.users,notificationChannelType:e.notificationChannelType||"email",clientId:e.clientId,silentNotification:e.silentNotification,notifyAll:!e.users||0===e.users.length},e.params)},e);return Object(i.d)(t,n)}function Y(e){var t=Object(a.a)(e)+"/community/groups/"+e.id+"/protect";return Object(i.d)(t,e)}function J(e){var t=Object(a.a)(e)+"/community/groups/"+e.id+"/unprotect";return Object(i.d)(t,e)}function X(e){var t=Object(a.a)(e)+"/community/groups/"+e.id+"/delete",n=r.a({},e);return Object(i.d)(t,n)}function Q(e){return V(e,"group")}function Z(e){return V(e,"groupContent")}function ee(e){var t=Object(a.a)(e)+"/community/groups/"+e.group.id+"/update";return e.params=r.a({},e.params,e.group),Object(i.d)(t,e)}function te(e){var t=Object(a.a)(e)+"/community/groups/"+e.id+"/updateUsers",n={authentication:e.authentication,params:{}};return"admin"===e.newMemberType?n.params.admins=e.users:n.params.users=e.users,Object(i.d)(t,n)}function ne(e){var t=Object(a.a)(e)+"/community/groups/"+e.id+"/join";return Object(i.d)(t,e)}function re(e){var t=Object(a.a)(e)+"/community/groups/"+e.id+"/leave";return Object(i.d)(t,e)}function oe(e){var t,n={httpMethod:"GET"};if("string"==typeof e)t="https://www.arcgis.com/sharing/rest/community/users/"+e;else{var o=e.username||e.authentication.username;t=Object(a.a)(e)+"/community/users/"+encodeURIComponent(o),n=r.a({},e,n)}return Object(i.d)(t,n)}function ie(e){var t=e.username||e.authentication.username,n=Object(a.a)(e)+"/community/users/"+encodeURIComponent(t)+"/tags";return Object(i.d)(n,e)}function ae(e){return Object(a.a)(e)+"/community/users/"+encodeURIComponent(e.username)}function se(e){var t={httpMethod:"GET"},n=encodeURIComponent(e.authentication.username),o=Object(a.a)(e)+"/community/users/"+n+"/invitations";return t=r.a({},e,t),Object(i.d)(o,t)}function ue(e){var t=encodeURIComponent(e.authentication.username),n=Object(a.a)(e)+"/community/users/"+t+"/invitations/"+e.invitationId,o={httpMethod:"GET"};return o=r.a({},e,o),Object(i.d)(n,o)}function ce(e){var t=encodeURIComponent(e.authentication.username),n=Object(a.a)(e)+"/community/users/"+t+"/invitations/"+e.invitationId+"/accept",o=r.a({},e);return Object(i.d)(n,o)}function le(e){var t=encodeURIComponent(e.authentication.username),n=Object(a.a)(e)+"/community/users/"+t+"/invitations/"+e.invitationId+"/decline",o=r.a({},e);return Object(i.d)(n,o)}function de(e){var t={httpMethod:"GET"},n=encodeURIComponent(e.authentication.username),o=Object(a.a)(e)+"/community/users/"+n+"/notifications";return t=r.a({},e,t),Object(i.d)(o,t)}function fe(e){var t=encodeURIComponent(e.authentication.username),n=Object(a.a)(e)+"/community/users/"+t+"/notifications/"+e.id+"/delete";return Object(i.d)(n,e)}function pe(e){return V(e,"user")}function he(e){var t=e.user.username||e.authentication.username,n=Object(a.a)(e)+"/community/users/"+encodeURIComponent(t)+"/update";return e.params=r.a({},e.user,e.params),delete e.user,Object(i.d)(n,e)}function ge(e){var t=_(e);return x(e)?me(t,e):P(e).then((function(n){if(n)return me(t,e);throw Error("This item can not be shared by "+e.authentication.username+". They are neither the item owner nor an organization admin.")}))}function me(e,t){return t.params=r.a({org:!1,everyone:!1},t.params),"private"===t.access&&(t.params.groups=" "),"org"===t.access&&(t.params.org=!0),"public"===t.access&&(t.params.account=!0,t.params.everyone=!0),Object(i.d)(e,t)}function ve(e){return be(r.a({action:"share"},e))}function ye(e){return be(r.a({action:"unshare"},e))}function be(e){var t=e.authentication.username,n=e.owner||t,r=e.confirmItemControl||!1;return oe({username:t,authentication:e.authentication}).then((function(o){var i="org_admin"===o.role,a="share"===e.action?"notSharedWith":"notUnsharedFrom";return Oe(e).then((function(s){if("share"===e.action&&!0===s||"unshare"===e.action&&!1===s){var u={itemId:e.id,shortcut:!0};return u[a]=[],u}return D(e).then((function(a){if("none"===a&&!i)throw Error("This item can not be "+e.action+"d by "+t+" as they are not a member of the specified group "+e.groupId+".");if(r&&n!==t&&!i)throw Error("This item can not be "+e.action+"d to shared editing group "+e.groupId+" by "+t+" as they not the item owner.");if("unshare"===e.action&&n!==t&&"admin"!==a&&"owner"!==a)throw Error("This item can not be "+e.action+"d from group "+e.groupId+" by "+t+" as they not the item owner, group admin or group owner.");if("share"===e.action&&r&&n!==t&&i)return function(e,t){var n=t.owner;return oe({username:n,authentication:t.authentication}).then((function(r){if(e.orgId!==r.orgId)throw Error("User "+n+" is not a member of the same org as "+e.username+". Consequently they can not be added added to group "+t.groupId+" nor can item "+t.id+" be shared to the group.");var o=r.groups||[],i=o.find((function(e){return e.id===t.groupId}));if(!i&&o.length>511)throw Error("User "+n+" already has 512 groups, and can not be added to group "+t.groupId+". Consequently item "+t.id+" can not be shared to the group.");return i?"member"===i.userMembership.memberType?te({id:t.groupId,users:[n],newMemberType:"admin",authentication:t.authentication}).then((function(e){return{notAdded:e.results.reduce((function(e,t){return t.success||e.push(t.username),e}),[])}})):{notAdded:[]}:G({id:t.groupId,admins:[n],authentication:t.authentication})})).then((function(e){if(e.notAdded.length)throw Error("Error adding user "+n+" to group "+t.groupId+". Consequently item "+t.id+" was not shared to the group.");return we(t)}))}(o,e);if("none"!==a)return we(e);throw Error("This item can not be "+e.action+"d by "+t+" as they are not a member of the specified group "+e.groupId+".")})).then((function(t){if(t[a].length)throw Error("Item "+e.id+" could not be "+e.action+"d to group "+e.groupId+".");return t}))}))}))}function we(e){var t=e.authentication.username,n=e.owner||t,r=Object(a.a)(e)+"/content/items/"+e.id+"/"+e.action;return n===t&&(r=Object(a.a)(e)+"/content/users/"+n+"/items/"+e.id+"/"+e.action),e.params={groups:e.groupId,confirmItemControl:e.confirmItemControl},Object(i.d)(r,e)}function Oe(e){return B({q:"id: "+e.id+" AND group: "+e.groupId,start:1,num:10,sortField:"title",authentication:e.authentication,httpMethod:"POST"}).then((function(t){if(t.total>0)return t.results.some((function(t){return t.id===e.id}))}))}function Se(e){return Ie(null,e)}function Ie(e,t){var n=e||"self",o=Object(a.a)(t)+"/portals/"+n,s=r.a({httpMethod:"GET"},t);return Object(i.d)(o,s)}function je(e,t){var n=e||"self",o=Object(a.a)(t)+"/portals/"+n+"/settings",s=r.a({httpMethod:"GET"},t);return Object(i.d)(o,s)}},function(e,t,n){"use strict";var r,o,i,a,s,u;n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c})),function(e){e.Display1="display1",e.Display2="display2",e.Display3="display3",e.Display4="display4",e.Display5="display5",e.Display6="display6",e.Body1="body1",e.Body2="body2",e.Caption1="caption1",e.Caption2="caption2"}(r||(r={})),function(e){e.White="white",e.Black="black",e.Transparent="transparent"}(o||(o={})),function(e){e.Success="success",e.Info="info",e.Warning="warning",e.Danger="danger"}(i||(i={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Light="light",e.Dark="dark"}(a||(a={})),function(e){e.Primary="primary",e.Secondary="secondary",e.Light="light",e.Dark="dark",e.Success="success",e.Info="info",e.Warning="warning",e.Danger="danger"}(s||(s={})),function(e){e.Color="color",e.Background="bg",e.Border="border",e.BorderRadius="borderRadius",e.Shadow="shadow"}(u||(u={}));var c={navigation:["nav","pagination","slider","navButtonGroup"]}},function(e,t,n){"use strict";var r=n(0),o=function(e){return!(!e||!e.tagName)&&("BUTTON"===e.tagName||"INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"DIV"===e.tagName&&"true"===e.contentEditable||"SPAN"===e.tagName&&"true"===e.contentEditable)},i=function(e){return o(e.target||e.nativeEvent.target)},a=n(139),s=n(89),u=function(e){var t="",n=[];if(-1!==navigator.userAgent.indexOf("Edge")&&-1!==e.key.indexOf("-manual"))t=e.key.replace("-manual","");else if("code"in e)t=s.a[e.code]?s.a[e.code]:e.code;else{var r=e.which;t=String.fromCharCode(r).toLowerCase(),s.a[r]&&(t=s.a[r])}return e.metaKey&&n.push("command"),e.ctrlKey&&n.push("Ctrl"),e.shiftKey&&n.push("Shift"),e.altKey&&n.push("Alt"),n.push(t),n.join("+")},c=function(e){console.log(":keyboard event:",e)};var l,d=function(e,t){if(void 0===e&&(e="keydown"),void 0===t&&(t=null),"undefined"==typeof window)return!1;var n={},r=null,s=null;null===t&&(t=window.document);var l=!o(t);function d(e){if(!(Object(a.a)(e)||l&&i(e))){s&&s(e);var t=u(e),o=n[t.toLowerCase()]||[];if("function"==typeof r){var c=o.length>0;r(t,c,e)}o.length&&e.preventDefault();for(var d=!0,f=o.length-1;f>=0&&(o[f]&&(d=o[f](e)),!1!==d);f--);return!!d&&void 0}}function f(){t.addEventListener(e,d)}return f(),{subscribe:function(e,t){return(e=e.toLowerCase()).replace(/\s/,""),void 0===n[e]&&(n[e]=[]),n[e].push(t),{unsubscribe:function(){var r=n[e].indexOf(t);n[e].splice(r,1)}}},setMonitor:function(e){void 0===e&&(e=null),r=!0===e?c:e},startListening:f,stopListening:function(){t.removeEventListener(e,d)},setKeyboardTriggerFunction:function(e){s=e}}},f=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e){function t(t){var n=e.call(this,t)||this;return n.subs=[],n.keyboardListener=d(t.eventName,n.props.element),n.props.onKeyboardTrigger&&n.keyboardListener.setKeyboardTriggerFunction(n.props.onKeyboardTrigger),n}return f(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.bindings,r=t.monitor;Object.keys(n).forEach((function(t){var r=n[t],o=e.keyboardListener.subscribe(t,r);e.subs.push(o)})),r&&this.keyboardListener.setMonitor(r)},t.prototype.componentWillUnmount=function(){this.subs.forEach((function(e){return e.unsubscribe()}))},t.prototype.render=function(){return null},t.defaultProps={eventName:"keydown",bindings:{},monitor:null},t}(r.PureComponent);t.a=p},function(e,t,n){"use strict";var r=n(132),o=n.n(r),i=n(0),a=n(131),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u=Object(a.a)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),c=n(30),l=n(65),d=n(64),f=u,p=function(e){return"theme"!==e&&"innerRef"!==e},h=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?f:p};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function e(t,n){var r,o,a;void 0!==n&&(r=n.label,a=n.target,o=t.__emotion_forwardProp&&n.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&n.shouldForwardProp(e)}:n.shouldForwardProp);var s=t.__emotion_real===t,u=s&&t.__emotion_base||t;"function"!=typeof o&&s&&(o=t.__emotion_forwardProp);var f=o||h(u),p=!f("as");return function(){var g=arguments,v=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&v.push("label:"+r+";"),null==g[0]||void 0===g[0].raw)v.push.apply(v,g);else{0,v.push(g[0][0]);for(var y=g.length,b=1;b<y;b++)v.push(g[b],g[0][b])}var w=Object(c.f)((function(e,t,n){return Object(i.createElement)(c.c.Consumer,null,(function(r){var s=p&&e.as||u,c="",g=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=r}"string"==typeof e.className?c=Object(l.a)(t.registered,g,e.className):null!=e.className&&(c=e.className+" ");var b=Object(d.a)(v.concat(g),t.registered,m);Object(l.b)(t,b,"string"==typeof s);c+=t.key+"-"+b.name,void 0!==a&&(c+=" "+a);var w=p&&void 0===o?h(s):f,O={};for(var S in e)p&&"as"===S||w(S)&&(O[S]=e[S]);return O.className=c,O.ref=n||e.innerRef,Object(i.createElement)(s,O)}))}));return w.displayName=void 0!==r?r:"Styled("+("string"==typeof u?u:u.displayName||u.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=u,w.__emotion_styles=v,w.__emotion_forwardProp=o,Object.defineProperty(w,"toString",{value:function(){return"."+a}}),w.withComponent=function(t,r){return e(t,void 0!==r?m({},n||{},{},r):n).apply(void 0,v)},w}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));t.a=v},function(e,t,n){"use strict";(function(e){var r=n(36),o=n(196),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.a.Buffer:void 0,u=(s?s.isBuffer:void 0)||o.a;t.a=u}).call(this,n(145)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STYLIS_PROPERTY_CONTEXT=void 0;var r,o=n(213),i=(r=o)&&r.__esModule?r:{default:r};var a=t.STYLIS_PROPERTY_CONTEXT=1;t.default=function(e,t){if(e===a)return i.default.transform(t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return d}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function i(e){var t={};return e.replace(o,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) pattenrs are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) pattenrs are not supported, use `z` instead")}return""})),t}var a=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,s=/^(@+)?(\+|#+)?$/g;function u(e){var t={};return e.replace(s,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function c(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":return{currencySign:"accounting"};case"sign-always":return{signDisplay:"always"};case"sign-accounting-always":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":return{signDisplay:"never"}}}function l(e){var t=c(e);return t||{}}function d(e){for(var t={},n=0,o=e;n<o.length;n++){var i=o[n];switch(i.stem){case"percent":t.style="percent";continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=r(r(r({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return r(r({},e),l(t))}),{}));continue;case"engineering":t=r(r(r({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return r(r({},e),l(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue}if(a.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(a,(function(e,n,r,o,i,a){return"*"===r?t.minimumFractionDigits=n.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:i&&a?(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""})),i.options.length&&(t=r(r({},t),u(i.options[0])))}else if(s.test(i.stem))t=r(r({},t),u(i.stem));else{var d=c(i.stem);d&&(t=r(r({},t),d))}}return t}},function(e,t,n){var r,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(s[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(o[c]=u,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},function(e,t,n){"use strict";var r=n(77);var o=function(){this.__data__=new r.a,this.size=0};var i=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var a=function(e){return this.__data__.get(e)};var s=function(e){return this.__data__.has(e)},u=n(79),c=n(88);var l=function(e,t){var n=this.__data__;if(n instanceof r.a){var o=n.__data__;if(!u.a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new c.a(o)}return n.set(e,t),this.size=n.size,this};function d(e){var t=this.__data__=new r.a(e);this.size=t.size}d.prototype.clear=o,d.prototype.delete=i,d.prototype.get=a,d.prototype.has=s,d.prototype.set=l;var f=d;var p=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var h=function(e){return this.__data__.has(e)};function g(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new c.a;++t<n;)this.add(e[t])}g.prototype.add=g.prototype.push=p,g.prototype.has=h;var m=g;var v=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var y=function(e,t){return e.has(t)};var b=function(e,t,n,r,o,i){var a=1&n,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,d=!0,f=2&n?new m:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var p=e[l],h=t[l];if(r)var g=a?r(h,p,l,t,e,i):r(p,h,l,e,t,i);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!v(t,(function(e,t){if(!y(f,t)&&(p===e||o(p,e,n,r,i)))return f.push(t)}))){d=!1;break}}else if(p!==h&&!o(p,h,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d},w=n(53),O=n(36),S=O.a.Uint8Array,I=n(74);var j=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var E=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},C=w.a?w.a.prototype:void 0,T=C?C.valueOf:void 0;var A=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new S(e),new S(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(I.a)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=j;case"[object Set]":var u=1&r;if(s||(s=E),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=b(s(e),s(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(T)return T.call(e)==T.call(t)}return!1};var _=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},x=n(49);var P=function(e,t,n){var r=t(e);return Object(x.a)(e)?r:_(r,n(e))};var D=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var R=function(){return[]},k=Object.prototype.propertyIsEnumerable,M=Object.getOwnPropertySymbols,N=M?function(e){return null==e?[]:(e=Object(e),D(M(e),(function(t){return k.call(e,t)})))}:R,L=n(141);var U=function(e){return P(e,L.a,N)},F=Object.prototype.hasOwnProperty;var V=function(e,t,n,r,o,i){var a=1&n,s=U(e),u=s.length;if(u!=U(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:F.call(t,l)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var f=!0;i.set(e,t),i.set(t,e);for(var p=a;++c<u;){var h=e[l=s[c]],g=t[l];if(r)var m=a?r(g,h,l,t,e,i):r(h,g,l,e,t,i);if(!(void 0===m?h===g||o(h,g,n,r,i):m)){f=!1;break}p||(p="constructor"==l)}if(f&&!p){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(f=!1)}return i.delete(e),i.delete(t),f},B=n(47),W=Object(B.a)(O.a,"DataView"),z=Object(B.a)(O.a,"Promise"),G=Object(B.a)(O.a,"Set"),q=Object(B.a)(O.a,"WeakMap"),H=n(57),K=n(66),$=Object(K.a)(W),Y=Object(K.a)(u.a),J=Object(K.a)(z),X=Object(K.a)(G),Q=Object(K.a)(q),Z=H.a;(W&&"[object DataView]"!=Z(new W(new ArrayBuffer(1)))||u.a&&"[object Map]"!=Z(new u.a)||z&&"[object Promise]"!=Z(z.resolve())||G&&"[object Set]"!=Z(new G)||q&&"[object WeakMap]"!=Z(new q))&&(Z=function(e){var t=Object(H.a)(e),n="[object Object]"==t?e.constructor:void 0,r=n?Object(K.a)(n):"";if(r)switch(r){case $:return"[object DataView]";case Y:return"[object Map]";case J:return"[object Promise]";case X:return"[object Set]";case Q:return"[object WeakMap]"}return t});var ee=Z,te=n(106),ne=n(144),re=Object.prototype.hasOwnProperty;var oe=function(e,t,n,r,o,i){var a=Object(x.a)(e),s=Object(x.a)(t),u=a?"[object Array]":ee(e),c=s?"[object Array]":ee(t),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),d="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),p=u==c;if(p&&Object(te.a)(e)){if(!Object(te.a)(t))return!1;a=!0,l=!1}if(p&&!l)return i||(i=new f),a||Object(ne.a)(e)?b(e,t,n,r,o,i):A(e,t,u,n,r,o,i);if(!(1&n)){var h=l&&re.call(e,"__wrapped__"),g=d&&re.call(t,"__wrapped__");if(h||g){var m=h?e.value():e,v=g?t.value():t;return i||(i=new f),o(m,v,n,r,i)}}return!!p&&(i||(i=new f),V(e,t,n,r,o,i))},ie=n(56);var ae=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Object(ie.a)(t)&&!Object(ie.a)(n)?t!=t&&n!=n:oe(t,n,r,o,e,i))};t.a=function(e,t){return ae(e,t)}},function(e,t,n){"use strict";var r=n(44),o=n(36),i=function(){return o.a.Date.now()},a=n(73),s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;var f=function(e){if("number"==typeof e)return e;if(Object(a.a)(e))return NaN;if(Object(r.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(r.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=c.test(e);return n||l.test(e)?d(e.slice(2),n?2:8):u.test(e)?NaN:+e},p=Math.max,h=Math.min;t.a=function(e,t,n){var o,a,s,u,c,l,d=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=o,r=a;return o=a=void 0,d=t,u=e.apply(r,n)}function b(e){return d=e,c=setTimeout(O,t),g?y(e):u}function w(e){var n=e-l;return void 0===l||n>=t||n<0||m&&e-d>=s}function O(){var e=i();if(w(e))return S(e);c=setTimeout(O,function(e){var n=t-(e-l);return m?h(n,s-(e-d)):n}(e))}function S(e){return c=void 0,v&&o?y(e):(o=a=void 0,u)}function I(){var e=i(),n=w(e);if(o=arguments,a=this,l=e,n){if(void 0===c)return b(l);if(m)return clearTimeout(c),c=setTimeout(O,t),y(l)}return void 0===c&&(c=setTimeout(O,t)),u}return t=f(t)||0,Object(r.a)(n)&&(g=!!n.leading,s=(m="maxWait"in n)?p(f(n.maxWait)||0,t):s,v="trailing"in n?!!n.trailing:v),I.cancel=function(){void 0!==c&&clearTimeout(c),d=0,o=l=a=c=void 0},I.flush=function(){return void 0===c?u:S(i())},I}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&u()}function s(){i(a)}function u(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=v(0,0,0,0);function f(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function h(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=l(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=f(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=f(r.width),u=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=p(r,"left","right")+i),Math.round(u+a)!==n&&(u-=p(r,"top","bottom")+a)),!function(e){return e===l(e).document.documentElement}(e)){var c=Math.round(s+i)-t,h=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(h)&&(u-=h)}return v(o.left,o.top,s,u)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function m(e){return r?g(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):h(e):d}function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n,r,o,i,a,s,u,l=(r=(n=t).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),c(u,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),u);c(this,{target:e,contentRect:l})},w=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),O="undefined"!=typeof WeakMap?new WeakMap:new n,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new w(t,n,this);O.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=O.get(this))[e].apply(t,arguments)}}));var I=void 0!==o.ResizeObserver?o.ResizeObserver:S;t.a=I}).call(this,n(112))},function(e,t,n){"use strict";function r(e){console&&console.warn&&console.warn.apply(console,[e])}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(63),o=n(84);function i(e,t){var n=Object(r.b)(e)||t,i=Object(r.a)(e);if(n){var a=new FormData;return Object.keys(i).forEach((function(e){if("undefined"!=typeof Blob&&i[e]instanceof Blob){var t=i.fileName||i[e].name||e;a.append(e,i[e],t)}else a.append(e,i[e])})),a}return Object(o.b)(e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r,o=n(28),i=n(108),a=n(81);function s(e){return"function"==typeof e}function u(e,t,n,r,c,l,d){if(1===e.length&&Object(o.e)(e[0]))return[{type:0,value:e[0].value}];for(var f=[],p=0,h=e;p<h.length;p++){var g=h[p];if(Object(o.e)(g))f.push({type:0,value:g.value});else if(Object(o.i)(g))"number"==typeof l&&f.push({type:0,value:n.getNumberFormat(t).format(l)});else{var m=g.value;if(!c||!(m in c))throw new a.d(m,d);var v=c[m];if(Object(o.b)(g))v&&"string"!=typeof v&&"number"!=typeof v||(v="string"==typeof v||"number"==typeof v?String(v):""),f.push({type:"string"==typeof v?0:1,value:v});else if(Object(o.c)(g)){var y="string"==typeof g.style?r.date[g.style]:Object(o.d)(g.style)?Object(i.b)(g.style.pattern):void 0;f.push({type:0,value:n.getDateTimeFormat(t,y).format(v)})}else if(Object(o.l)(g)){y="string"==typeof g.style?r.time[g.style]:Object(o.d)(g.style)?Object(i.b)(g.style.pattern):void 0;f.push({type:0,value:n.getDateTimeFormat(t,y).format(v)})}else if(Object(o.f)(g)){y="string"==typeof g.style?r.number[g.style]:Object(o.g)(g.style)?Object(i.a)(g.style.tokens):void 0;f.push({type:0,value:n.getNumberFormat(t,y).format(v)})}else{if(Object(o.k)(g)){var b=g.children,w=g.value,O=c[w];if(!s(O))throw new a.c(w,"function",d);var S=O(u(b,t,n,r,c,l).map((function(e){return e.value})));Array.isArray(S)||(S=[S]),f.push.apply(f,S.map((function(e){return{type:"string"==typeof e?0:1,value:e}})))}if(Object(o.j)(g)){if(!(I=g.options[v]||g.options.other))throw new a.b(g.value,v,Object.keys(g.options),d);f.push.apply(f,u(I.value,t,n,r,c))}else if(Object(o.h)(g)){var I;if(!(I=g.options["="+v])){if(!Intl.PluralRules)throw new a.a('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',"MISSING_INTL_API",d);var j=n.getPluralRules(t,{type:g.pluralType}).select(v-(g.offset||0));I=g.options[j]||g.options.other}if(!I)throw new a.b(g.value,v,Object.keys(g.options),d);f.push.apply(f,u(I.value,t,n,r,c,v-(g.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&0===n.type&&0===t.type?n.value+=t.value:e.push(t),e}),[])}(f)}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(r||(r={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"requestWrapper",(function(){return o}));var r=n(21);function o(e,t,n,o){void 0===n&&(n=1),void 0===o&&(o=null);var i=function(e,a){return void 0===a&&(a=0),t(e).catch((function(t){if(a>=n)return Promise.reject(t);var s=t.options;return"ArcGISAuthError"!==t.name||!s||s.authentication&&498!==t.code&&"AUTHENTICATION_ERROR_CODE"!==t.code&&"GWM_0003"!==t.code?i(e,a+1):r.b.getInstance().signIn(window.location&&window.location.href,!0,o||t.url).then((function(e){return i(e,a+1)}))}))};return i(r.b.getInstance().getSessionByUrl(o||e))}},function(e,t,n){"use strict";var r=n(9),o=n(2),i=n(26),a=n(72),s=n(42),u=n(21),c=n(37),l=n(138),d=n(14),f=n(27),p=n(119),h=n(40),g=n(3),m=n(52),v=n(22),y=n(41),b=n(120),w=n(45),O=n(172);window.jimuConfig.exbVersion=O.exbVersion;var S=function(){function e(e){this.intl=e.intl}return e.getInstance=function(t){return e.instance||(e.instance=new e(t)),e.instance},e.prototype.loadAppConfig=function(){var e=this;return this._loadAndProcessAppConifg().then((function(t){e.setDocumentTitle(t.attributes);var n=r(t);return e.initTrackingManager(n)}))},e.prototype.initTrackingManager=function(e){var t=e.analytics;return t?p.a.getInstance().initialize(t).then((function(){return e}),(function(t){return console.error(t.message||t),e})):Promise.resolve(e)},e.prototype._loadAndProcessAppConifg=function(){var e=this,t=window.jimuConfig.isDevEdition&&!1===window.jimuConfig.isInBuilder||window.jimuConfig.packagesInAppFolder,n=!1;return Object(o.b)().getState().appConfig?Promise.resolve(Object(o.b)().getState().appConfig.asMutable({deep:!0})):this.loadRawAppConfig().then((function(t){return t.__not_publish?Promise.reject(new Error(e.intl.formatMessage({id:"notPublishError",defaultMessage:v.a.notPublishError}))):y.lt(t.exbVersion,O.exbVersion)?(new b.a).upgrade(t,t.exbVersion,O.exbVersion,"app").then((function(e){return e.exbVersion=O.exbVersion,e})):t})).then((function(t){return e.processRawConfig(t)})).then((function(r){var i,a;if(t&&(null===(i=r.attributes)||void 0===i?void 0:i.portalUrl)){var s=u.b.getInstance().getMainPortal();return s&&!s.isWebTier?(n=s.isWebTier,Object(m.initPortalSelf)(r.attributes.portalUrl),r):e.processWebTierPortalConfig(r).then((function(e){return Object(m.initPortalSelf)(r.attributes.portalUrl),n=e,r}))}return"template"!==window.jimuConfig.appFolderName||(null===(a=r.attributes)||void 0===a?void 0:a.portalUrl)||Object(m.initPortalSelf)(Object(o.b)().getState().portalUrl),r})).then((function(e){var r,i=Object(o.b)().getState(),a=u.b.getInstance().getMainPortal();if(t&&(null===(r=e.attributes)||void 0===r?void 0:r.portalUrl)&&!a){var s=Object(f.fixPortalUrlProtocol)(e.attributes.portalUrl),c={portalUrl:e.attributes.portalUrl,isWebTier:n};return e.attributes.clientId&&(c.clientId=e.attributes.clientId),u.b.getInstance().setMainPortal(c),i.portalUrl||Object(o.b)().dispatch(Object(g.setPortalInfo)(s,e.attributes.clientId)),e}return e})).then((function(t){return e.handlePortalResourceInConfig(t)}))},e.prototype.processWebTierPortalConfig=function(e){var t=u.b.getInstance(),n=!1;return t.getSessionFromWebTierPortal(e.attributes.portalUrl).then((function(r){return r?(n=!0,t.tryToSignIn({portalUrl:e.attributes.portalUrl,clientId:e.attributes.clientId,isWebTier:n}),t.getMainSession()||(t.writeAuthInfo(r),t.tryToSignIn({portalUrl:e.attributes.portalUrl,clientId:e.attributes.clientId,isWebTier:n}))):(n=!1,t.tryToSignIn({portalUrl:e.attributes.portalUrl,clientId:e.attributes.clientId,isWebTier:n})),n}))},e.prototype.processRawConfig=function(e){var t=this;return this.processAppConfigAfterLoad(e),this.loadAllWidgetsManifest(e).then((function(e){return t.applyAppConfigProcessorExtension(e)})).then((function(e){return t.addDefaultLabelAndIcon(e),e}))},e.prototype.loadAppInfo=function(e){var t=Object(o.b)().getState();return Promise.resolve(t.appInfo)},e.prototype.setDocumentTitle=function(e){if(e.title){document.title=e.title;var t={name:e.title,description:e.description};Object(o.b)().dispatch(Object(g.appInfoChanged)(t))}else{var n=Object(d.getAppIdPageIdFromUrl)().appId;n&&this.loadAppInfo(n).then((function(e){document&&(document.title=e.name)}))}},e.prototype.loadRawAppConfig=function(){var e=s.a.getInstance().getExtensions(c.ExtensionPoints.AppConfigService)[0];return e?e.loadAppConfig():this.loadAppConfigWithDefault()},e.prototype.loadAppConfigWithDefault=function(){var e=Object(o.b)().getState();if(!e.appContext.isBuilder){var t=Object(d.getAppIdPageIdFromUrl)().appId;if(t)return window.jimuConfig.isDevEdition?this.loadAppConfigFromLocalServer(t):this.loadAppConfigFromPortal(t)}var n=e.queryObject.config;n||(n="config.json");var r=n.split(":");if(2===r.length&&"item"===r[0])return this.loadAppConfigFromPortal(r[1]);if(Object(d.isAbsoluteUrl)(n)&&!/^https:\/\/(.)+\.arcgis\.com/.test(n.trim())){return console.error("Only *.arcgis.com is allowed."),Promise.reject({message:"Only *.arcgis.com is allowed."})}return window.fetch(n).then((function(e){return e.json()}))},e.prototype.loadAppConfigFromLocalServer=function(e){var t=Object(o.b)().getState().queryObject.draft;return"true"===t||"1"===t?window.fetch("/apps/"+e+"/resources/config/config.json").then((function(e){return e.json()})):window.fetch("/apps/"+e+"/config.json").then((function(e){return e.json()}))},e.prototype.loadAppConfigFromPortal=function(e){var t=this,n=u.b.getInstance(),r=(new Date).getTime(),i=Object(o.b)().getState().queryObject.draft;return"true"===i||"1"===i?Object(h.d)(Object(f.getPortalRestUrl)(Object(o.b)().getState().portalUrl)+"/content/items/"+e+"/resources/config/config.json",{authentication:n.getSessionByUrl(Object(o.b)().getState().portalUrl),httpMethod:"GET",params:{timestamp:r}}).catch((function(e){return t._handleAuthError(e)})):Object(l.b)(e,{portal:Object(f.getPortalRestUrl)(Object(o.b)().getState().portalUrl),authentication:n.getSessionByUrl(Object(o.b)().getState().portalUrl)}).catch((function(e){return t._handleAuthError(e)}))},e.prototype._handleAuthError=function(e){var t=!!(window!==window.top&&!window.jimuConfig.isInBuilder);return u.b.getInstance().handleAuthError(e,t).then((function(){t&&window.location.reload()})),Promise.reject({})},e.prototype.applyAppConfigProcessorExtension=function(e){var t=s.a.getInstance().getExtensions(c.ExtensionPoints.AppConfigProcessor)[0];return t?t.process(e):Promise.resolve(e)},e.prototype.loadAllWidgetsManifest=function(e){var t=[],n=a.a.getInstance();return Object(i.getAllWidgets)(e).forEach((function(r,o){var i=r,a=i.uri;if(a)return e.useCachedManifest&&e.widgetsManifest[a]?(i._originManifest=e.widgetsManifest[a],void t.push(n.processWidgetManifest(i).then((function(){return n.registerManifestProps(r)})))):void t.push(n.loadWidgetManifest(i.uri).then((function(e){return i._originManifest=e,n.processWidgetManifest(i).then((function(){return n.registerManifestProps(i)}))}),(function(e){return console.error(e),Promise.resolve()})))})),Promise.all(t).then((function(t){return e}))},e.prototype.processAppConfigAfterLoad=function(e){this.handleEmbedMode(e),this.addDefaultValues(e),this.fixAllIds(e),this.fixWidgetUri(e),this.fixThemeUri(e),this.addWidgetContext(e),this.addDefaultPageStructure(e)},e.prototype.handlePortalResourceInConfig=function(e){if(window.jimuConfig.isBuilder&&!window.jimuConfig.isInBuilder)return Promise.resolve(e);var t=u.b.getInstance().getMainSession();if(t&&t.token){var n=t.token;return Object(i.appendPortalInfoToResource)(e,n)}return Object(i.appendPortalInfoToResource)(e,null)},e.prototype.handleEmbedMode=function(e){var t=Object(o.b)().getState().queryObject.embedded;"true"!==t&&"1"!==t||Object.keys(e.pages).forEach((function(t){e.pages[t].header=!1,e.pages[t].footer=!1}))},e.prototype.addDefaultPageStructure=function(e){e.pageStructure||(e.pageStructure=[],Object.keys(e.pages).forEach((function(t){var n;e.pageStructure.push(((n={})[t]=[],n))})))},e.prototype.fixAllIds=function(e){this.fixId(e.pages),this.fixId(e.widgets),this.fixId(e.sections),this.fixId(e.views),this.fixId(e.dialogs),this.fixId(e.messageConfigs),this.fixId(e.dataSources),Object(i.fixLayoutIds)(e)},e.prototype.fixId=function(e){e&&Object.keys(e).forEach((function(t){"string"!=typeof e[t]&&(e[t].id=t)}))},e.prototype.fixWidgetUri=function(e){Object(i.getAllWidgets)(e).forEach((function(e){/\/$/.test(e.uri)||(e.uri=e.uri+"/")}))},e.prototype.fixThemeUri=function(e){/\/$/.test(e.theme)||(e.theme=e.theme+"/")},e.prototype.addWidgetContext=function(e){Object(i.getAllWidgets)(e).forEach((function(e){var t=Object(i.getWidgetContext)(e.uri);e.context=t}))},e.prototype.addDefaultValues=function(e){return e.attributes||(e.attributes={}),e.widgets||(e.widgets={}),e.widgetsManifest||(e.widgetsManifest={}),e.views||(e.views={}),e.sections||(e.sections={}),e.dialogs||(e.dialogs={}),e.pages||(e.pages={}),e.layouts||(e.layouts={}),e.dataSources||(e.dataSources={}),e.messageConfigs||(e.messageConfigs={}),this.addDefaultPageVisible(e),e},e.prototype.addDefaultPageVisible=function(e){Object.keys(e.pages).forEach((function(t){void 0===e.pages[t].isVisible&&(e.pages[t].isVisible=!0)}))},e.prototype.addDefaultLabelAndIcon=function(e){var t=this;Object.keys(e.pages).forEach((function(n){e.pages[n].label||(e.pages[n].label=Object(i.getUniqueLabel)(e,"page",t.intl.formatMessage({id:"page",defaultMessage:v.a.page})))})),Object.keys(e.dialogs||{}).forEach((function(n){e.dialogs[n].label||(e.dialogs[n].label=Object(i.getUniqueLabel)(e,"dialog",t.intl.formatMessage({id:"dialog",defaultMessage:v.a.dialog})))})),e.layouts&&Object.keys(e.layouts).filter((function(t){return e.layouts[t].type===w.b.FlowLayout})).forEach((function(n){var r=e.layouts[n];Object.keys(r.content||{}).filter((function(e){return r.content[e].type===w.a.Widget})).map((function(e){return r.content[e].widgetId})).forEach((function(n){var r=e.widgets[n];if(r&&!r.label&&"widgets/layout/row/"===r.uri){var o=t.intl.formatMessage({id:"block",defaultMessage:v.a.block});r.label=Object(i.getUniqueLabel)(e,"widget",o)}}))})),Object(i.getAllWidgets)(e).forEach((function(t){Object(i.addWidgetDefaultLabelAndIcon)(e,t)})),Object.keys(e.sections||{}).forEach((function(n){var r=e.sections[n];r.label||(r.label=Object(i.getUniqueLabel)(e,"section",t.intl.formatMessage({id:"section",defaultMessage:v.a.section})))})),Object.keys(e.views||{}).forEach((function(n){var r=e.views[n];r.label||(r.label=Object(i.getUniqueLabel)(e,"view",t.intl.formatMessage({id:"view",defaultMessage:v.a.view})))})),Object(i.addLayoutLabel)(e)},e}();t.a=S},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),o=n(15),i=n(9),a=function(){function e(){var e=this;this.initialize=function(t){var n=!(!t||!t.enable);return n?Promise.all([e.initializeGtag(),e.createTracker(t)]).then((function(){e.enable=n}),function(e){throw this.enable=!1,new Error(e)}.bind(e)):(e.enable=n,Promise.resolve())},this.initializeGtag=function(){return e.gtag?Promise.resolve():Object(o.loadModule)("gtm").then((function(){var t=window;t.dataLayer=t.dataLayer||[],e.gtag=function(){t.dataLayer.push(arguments)},e.gtag("js",new Date)}))},this.compareGoogleAnalytics=function(t){if(void 0===t&&(t=i({})),e.enable){var n=e.googleAnalytics||i({});t!==n&&(t.trackId!==n.trackId&&(n.trackId&&e.disableGaTrackForGtag(n.trackId,!0),t.trackId&&e.addGaTrackIdToGtag(t.trackId,t.anonymizeip)),t.dimensions!==n.dimensions&&e.updateGgTrackerDimensions(e.track,t.dimensions),t.metrics!==n.metrics&&e.updateGgTrackerMetrics(e.track,t.metrics),t.anonymizeip!==n.anonymizeip&&e.updateGgTrackerAnonymizeip(t.trackId,t.anonymizeip),e.googleAnalytics=t)}},this.disableGaTrackForGtag=function(e,t){void 0===t&&(t=!0),e&&(window["ga-disable-"+e]=t)},this.addGaTrackIdToGtag=function(t,n){void 0===n&&(n=!0),e.gtag&&(e.disableGaTrackForGtag(t,!1),e.gtag("config",t,{anonymize_ip:n}))},this.updateGgTrackerDimensions=function(t,n){var r=e.getGgTracker(t);r&&(r.dimensions=n)},this.updateGgTrackerMetrics=function(t,n){var r=e.getGgTracker(t);r&&(r.metrics=n)},this.updateGgTrackerAnonymizeip=function(t,n){void 0===n&&(n=!0),e.gtag&&e.gtag("config",t,{anonymize_ip:n})},this.getGgTracker=function(e){return e&&e.trackers&&e.trackers.find((function(e){return"google"===e.name}))},this.mutablePortalUser=function(){var e=Object(r.b)().getState().portalSelf.asMutable();return e.user=e.user.asMutable(),e},this.isTrackAvailable=function(){return e.enable,!!e.enable},Object(r.c)(this.onStoreChange.bind(this),["appConfig","analytics"])}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.onStoreChange=function(e,t){var n=this;void 0===e&&(e=i({})),void 0===t&&(t=i({})),t.enable!==e.enable?this.initialize(t).then((function(){return n.compareGoogleAnalytics(t&&t.google)})):this.compareGoogleAnalytics(t&&t.google)},e.prototype.createTracker=function(e){var t=this;if(this.track)return Promise.resolve(this.track);var n={google:e&&e.google,portal:this.mutablePortalUser()};return Object(o.loadModule)("jimu-core/telemetry").then((function(e){return t.track=new e(n),t.track}))},e.prototype.logPageView=function(e){if(this.isTrackAvailable())return this.track.logPageView(e)},e.prototype.logEvent=function(e){if(this.isTrackAvailable())return this.track.logEvent(e)},e.prototype.logError=function(e){if(this.isTrackAvailable())return this.track.logError(e)},e}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var r,o=n(41),i=n(17),a=n(4),s=n(33),u=n(45),c=n(15),l=n(6),d=n(12),f=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(){function e(){}return e.prototype.upgrade=function(e,t,n,r){if(!o.valid(t)||!o.valid(n))return Promise.resolve();if(!this.checkVersion())return Promise.resolve();var i=this.getVersionIndex(t),a=this.getVersionIndex(n);if(i>a)return Promise.reject("New version should higher than old version.");if(i===a)return this.versions[a]?Promise.resolve(this.versions[a].upgrader(e,r)):Promise.resolve(e);var s=e;return this.versions.slice(i+1,a+1).filter((function(e){return null==e?void 0:e.upgrader})).reduce((function(e,t){return e.then((function(e){return Promise.resolve(t.upgrader(e,r))}))}),Promise.resolve(s))},e.prototype.getVersionIndex=function(e){var t=this.versions.findIndex((function(t){return o.eq(e,t.version)}));if(t>-1)return t;for(var n=0;n<this.versions.length-1;n++)if(o.gt(e,this.versions[n].version)&&o.lt(e,this.versions[n+1].version))return n;return o.lt(e,this.versions[0].version)?-1:o.gt(e,this.versions[this.versions.length-1].version)?this.versions.length:void 0},e.prototype.checkVersion=function(){for(var e=0;e<this.versions.length-1;e++){if(!o.valid(this.versions[e].version))return console.error("Invalid version.",this.versions[e].version),!1;if(o.gt(this.versions[e].version,this.versions[e+1].version))return console.error("Version order error.",this.versions[e].version,this.versions[e+1]),!1}return!0},e}(),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.versions=[{version:"1.0.0",description:"First release.",upgrader:function(e){var t,n=e;return delete n.widgetsManifest,(t=n).widgets&&Object.keys(t.widgets).forEach((function(e){var n,r=t.widgets[e];"widgets/common/controller/"===r.uri&&(null===(n=r.layouts)||void 0===n?void 0:n.openwidget)&&(r.layouts._openwidget=r.layouts.openwidget,delete r.layouts.openwidget)})),n=function(e){var t;return Object.keys(null!==(t=e.layouts)&&void 0!==t?t:{}).forEach((function(t){var n,r;Object.keys(null!==(r=null===(n=e.layouts[t])||void 0===n?void 0:n.content)&&void 0!==r?r:{}).forEach((function(n){var r,o,i,a,s=e.layouts[t].content[n];(null===(r=null==s?void 0:s.setting)||void 0===r?void 0:r.fitContainer)&&(s.setting.heightMode="fit",(u=null!==(o=s.setting.autoProps)&&void 0!==o?o:{}).height="STRETCH",s.setting.autoProps=u,delete s.setting.fitContainer);if(null===(i=null==s?void 0:s.setting)||void 0===i?void 0:i.autoHeight){var u=null!==(a=s.setting.autoProps)&&void 0!==a?a:{},c=s.bbox;null!=c.top&&null!=c.bottom?u.height="STRETCH":u.height="AUTO",s.setting.autoProps=u,delete s.setting.autoHeight}}))})),e}(n=t)}},{version:"1.1.0",description:"1.1.0",upgrader:function(e){var t=function(e){var t;return Object.keys(null!==(t=e.messageConfigs)&&void 0!==t?t:{}).forEach((function(t){var n,r=null===(n=e.messageConfigs[t])||void 0===n?void 0:n.actions,o=e.widgets||{};r&&r.forEach((function(e){var t,n,r,i,a,s;if("widgets/common/list/"===(null===(t=o[null==e?void 0:e.widgetId])||void 0===t?void 0:t.uri)){if(e.config=e.config||{},e.config.actionUseDataSource&&e.config.actionUseDataSource.dataSourceId){var u=null===(n=e.config.actionUseDataSource)||void 0===n?void 0:n.fields;e.config.actionUseDataSource=null===(r=o[e.widgetId])||void 0===r?void 0:r.useDataSources[0],e.config.actionUseDataSource.fields=u}if(e.config.messageUseDataSource&&e.config.messageUseDataSource.dataSourceId)if("widgets/common/list/"===(null===(i=o[null==e?void 0:e.messageWidgetId])||void 0===i?void 0:i.uri)){var c=null===(a=e.config.messageUseDataSource)||void 0===a?void 0:a.fields;e.config.messageUseDataSource=null===(s=o[e.messageWidgetId])||void 0===s?void 0:s.useDataSources[0],e.config.messageUseDataSource.fields=c}else e.config.messageUseDataSource.mainDataSourceId=e.config.messageUseDataSource.dataSourceId;e.actionId=e.actionId.replace(e.widgetId+"-filter","filter-data-record-action"),e.actionName=e.actionName.replace("filter","filter data record action"),e.version="1.1.0",delete e.widgetId}}))})),e},n=function(e,t,n,r){var o;return Object.keys(null!==(o=e.widgets)&&void 0!==o?o:{}).forEach((function(o){var i=function(e,t,n){var o=(null==t?void 0:t.parts)&&(null==t?void 0:t.parts[e]);if(!o)return null;if(o.type===l.b.Field){var i=e>0?t.parts[e-1]:null,a=e>1?t.parts[e-2]:null,s=t.parts[e+1];if((null==a?void 0:a.type)===l.b.Function&&"("===(null==i?void 0:i.exp)&&")"===(null==s?void 0:s.exp))return o;if(n&&o.dataSourceId===n)o.isFromRepeatedDataSourceContext=!0;else if(o.dataSourceId&&!o.isFromRepeatedDataSourceContext){var u=0===o.dataSourceId.split("-").reverse()[0].indexOf(r)?o.dataSourceId.split("-").reverse().slice(1).reverse().join("-"):o.dataSourceId;o.dataSourceId=u+"-"+d.SELECTION_DATA_VIEW_ID}}return o},a=function(e,t){var r,o,a,s;if("widgets/common/image/"===e.uri||"widgets/common/button/"===e.uri){("widgets/common/image/"===e.uri?["altTextExpression","srcExpression","toolTipExpression","linkParam.expression"]:["textExpression","toolTipExpression","linkParam.expression"]).forEach((function(n){var r,o,a,s=n.split("."),u=1===s.length?(null===(r=null==e?void 0:e.config)||void 0===r?void 0:r.functionConfig)&&e.config.functionConfig[s[0]]:(null===(o=null==e?void 0:e.config)||void 0===o?void 0:o.functionConfig)&&e.config.functionConfig[s[0]]&&e.config.functionConfig[s[0]][s[1]];null===(a=null==u?void 0:u.parts)||void 0===a||a.forEach((function(e,n){i(n,u,t)}))}))}else"widgets/common/embed/"===e.uri?null===(a=null===(o=null===(r=null==e?void 0:e.config)||void 0===r?void 0:r.expression)||void 0===o?void 0:o.parts)||void 0===a||a.forEach((function(n,r){i(r,e.config.expression,t)})):"widgets/common/text/"===e.uri&&(null===(s=e.config)||void 0===s?void 0:s.text)&&(e.config.text=n.editExpressionPart(e.config.text,(function(e,n){return i(e,n,t)})));return e},s=e.widgets[o];d.PROVIDE_REPEATED_DATA_SOURCE_CONTEXT_WIDGET_URI.some((function(e){return e===s.uri}))?t.getChildrenContents(e,o,u.a.Widget,!0).forEach((function(t){var n=(null==s?void 0:s.useDataSources)&&s.useDataSources[0]&&s.useDataSources[0].dataSourceId;e.widgets[t]=a(e.widgets[t],n)})):s=a(s)})),e};return Promise.all([Object(c.loadModule)("jimu-layouts/layout-runtime",["searchUtils"]),Object(c.loadModule)("jimu-ui",["richTextUtils"])]).then((function(r){var o,i,c=r[0],l=r[1],d=e;return o=d,Object.keys(null!==(i=o.dataSources)&&void 0!==i?i:{}).forEach((function(e){var t,n=o.dataSources[e];"FEATURE_QUERY"===n.type?n.type=a.c.FeatureLayer:n.isOutputFromWidget&&(null===(t=null==n?void 0:n.originDataSources)||void 0===t||t.forEach((function(e){e.mainDataSourceId=e.dataSourceId})))})),d=function(e){var t;return Object.keys(null!==(t=e.layouts)&&void 0!==t?t:{}).forEach((function(t){var n,r=e.layouts[t],o=null==r?void 0:r.type;Object.keys(null!==(n=null==r?void 0:r.content)&&void 0!==n?n:{}).forEach((function(e){var t,n,i,a,s,c,l=r.content[e],d=null!==(n=null===(t=l.setting)||void 0===t?void 0:t.autoProps)&&void 0!==n?n:{};!0===d.width?(o===u.b.FixedLayout?d.left||d.right?d.width="AUTO":d.width="STRETCH":d.width="AUTO",l.setting.autoProps=d):!1===d.width&&(d.width="CUSTOM",l.setting.autoProps=d),!0===(null===(i=l.setting)||void 0===i?void 0:i.fitContainer)?d.height="STRETCH":!1===(null===(a=l.setting)||void 0===a?void 0:a.fitContainer)&&(null===(s=l.bbox)||void 0===s?void 0:s.height)?d.height="CUSTOM":!0===d.height?(o===u.b.FixedLayout?d.top||d.bottom?d.height="AUTO":d.height="STRETCH":d.height="AUTO",l.setting.autoProps=d):!1===d.height&&(d.height="CUSTOM",l.setting.autoProps=d),(null===(c=l.setting)||void 0===c?void 0:c.heightMode)&&null==d.height&&("auto"===l.setting.heightMode?(d.height="AUTO",l.setting.autoProps=d):"fit"===l.setting.heightMode?(d.height="STRETCH",l.setting.autoProps=d):"fixed"===l.setting.heightMode&&(d.height="CUSTOM",l.setting.autoProps=d))}))})),e}(d=function(e,r,o){var i,a=Object(s.getIntl)().formatMessage({id:"upgradedFrom"});return Object.keys(null!==(i=e.widgets)&&void 0!==i?i:{}).forEach((function(t){var n,o=e.widgets[t];(null!==(n=o.useDataSources)&&void 0!==n?n:[]).forEach((function(n,i){var s,c,l,d,f,p,h,g,m,v,y;if(n.query||"widgets/arcgis/feature-info/"===o.uri&&(null===(p=o.config)||void 0===p?void 0:p.limitGraphics)||"widgets/common/list/"===o.uri){var b="_from_10_"+t+"_"+i,w=e.dataSources||{},O={id:b,label:a,where:null===(h=n.query)||void 0===h?void 0:h.where,orderBy:null===(m=null===(g=n.query)||void 0===g?void 0:g.orderBy)||void 0===m?void 0:m.filter((function(e){return!!(null==e?void 0:e.jimuFieldName)})),maximum:"widgets/arcgis/feature-info/"===o.uri?null===(v=o.config)||void 0===v?void 0:v.maxGraphics:"widgets/common/list/"===o.uri&&(null===(y=o.config)||void 0===y?void 0:y.maxItems)},S=n.dataSourceId,I=n.rootDataSourceId,j=S+"-"+b;if(n.dataSourceId=j,n.mainDataSourceId=S,n.dataViewId=b,r.getChildrenContents(e,t,u.a.Widget,!0).forEach((function(t){var n,r=e.widgets[t];if((null!==(n=r.useDataSources)&&void 0!==n?n:[]).forEach((function(e,t){e.dataSourceId===S&&(e.dataSourceId=j,e.mainDataSourceId=S,e.dataViewId=b)})),"widgets/common/image/"===r.uri||"widgets/common/button/"===r.uri){("widgets/common/image/"===r.uri?["altTextExpression","srcExpression","toolTipExpression","linkParam.expression"]:["textExpression","toolTipExpression","linkParam.expression"]).forEach((function(e){var t,n,o,i=e.split("."),a=1===i.length?(null===(t=null==r?void 0:r.config)||void 0===t?void 0:t.functionConfig)&&r.config.functionConfig[i[0]]:(null===(n=null==r?void 0:r.config)||void 0===n?void 0:n.functionConfig)&&r.config.functionConfig[i[0]]&&r.config.functionConfig[i[0]][i[1]];null===(o=null==a?void 0:a.parts)||void 0===o||o.forEach((function(e){e.dataSourceId===S&&(e.dataSourceId=j)}))}))}else"widgets/common/text/"===r.uri&&(r.config.text=r.config.text.replace(new RegExp(S,"g"),j))})),w[S])w[S].dataViews?w[S].dataViews[b]=O:w[S].dataViews=((s={})[b]=O,s);else if(w[I]){var E=S.substr(I.length+1);w[I].childDataSourceJsons?w[I].childDataSourceJsons[E]?w[I].childDataSourceJsons[E].dataViews?w[I].childDataSourceJsons[E].dataViews[b]=O:w[I].childDataSourceJsons[E].dataViews=((c={})[b]=O,c):w[I].childDataSourceJsons[E]={id:S,dataViews:(l={},l[b]=O,l)}:w[I].childDataSourceJsons=((d={})[E]={id:S,dataViews:(f={},f[b]=O,f)},d)}else console.error("bad config ds.",n);Object.keys(w).forEach((function(e){w[e].originDataSources&&w[e].originDataSources.forEach((function(e){e.dataSourceId===S&&(e.dataSourceId=j,e.mainDataSourceId=S,e.dataViewId=b)}))})),delete n.query}else n.mainDataSourceId||(n.mainDataSourceId=n.dataSourceId)}))})),t(n(e,r,o,"_from_10_"))}(d=o,c.searchUtils,l.richTextUtils))}))}},{version:"1.2.0",description:"1.2.0",upgrader:function(e){var t,n=e;return t=n,Object.keys(t.pages).forEach((function(e){t.pages[e].icon&&(t.pages[e].icon.properties.color=null)})),n=function(e){return Object.keys(e.layouts).forEach((function(t){var n=e.layouts[t];Object.keys(n.content||{}).forEach((function(t){var r,o,i=n.content[t];if(i.type===u.a.Widget){var a=e.widgets[i.widgetId];if(0===(null===(r=null==a?void 0:a.uri)||void 0===r?void 0:r.indexOf("widgets/layout/column"))){var s=null===(o=a.layouts)||void 0===o?void 0:o.DEFAULT;s&&Object.keys(s).forEach((function(t){var n,r,o,i,u,c,l,d,f=s[t],p=e.layouts[f];p.setting||(p.setting={}),p.setting.space=(null===(r=null===(n=a.config)||void 0===n?void 0:n.space)||void 0===r?void 0:r.distance)||(null===(o=a.config)||void 0===o?void 0:o.space),p.setting.padding=null===(u=null===(i=a.config)||void 0===i?void 0:i.style)||void 0===u?void 0:u.padding,p.setting.justifyContent=null===(l=null===(c=a.config)||void 0===c?void 0:c.style)||void 0===l?void 0:l.justifyContent,p.setting.overflowY=null===(d=a.config)||void 0===d?void 0:d.style.overflowY}))}}}))})),e}(n=function(e){return Object.keys(e.layouts).forEach((function(t){var n=e.layouts[t];Object.keys(n.content||{}).forEach((function(t){var r,o,i,a,s,c=n.content[t];if(c.type===u.a.Widget){var l=e.widgets[c.widgetId];0===(null===(r=null==l?void 0:l.uri)||void 0===r?void 0:r.indexOf("widgets/common/card"))&&("AUTO"===(null===(i=null===(o=c.setting)||void 0===o?void 0:o.autoProps)||void 0===i?void 0:i.width)&&(c.setting.autoProps.width="CUSTOM",c.bbox||(c.bbox={}),c.bbox.width=l.config.widgetWidth+"px"),"AUTO"===(null===(s=null===(a=c.setting)||void 0===a?void 0:a.autoProps)||void 0===s?void 0:s.height)&&(c.setting.autoProps.height="CUSTOM",c.bbox||(c.bbox={}),c.bbox.height=l.config.widgetHeight+"px"))}}))})),e}(n=function(e){return Object.keys(e.layouts).forEach((function(t){var n=e.layouts[t];(null==n?void 0:n.type)===u.b.FlowLayout&&Object.keys(n.content||{}).forEach((function(e){var t,r,o,i=n.content[e];!0===(null===(t=i.setting)||void 0===t?void 0:t.isFloating)&&(+(null===(r=i.bbox)||void 0===r?void 0:r.width)>0&&(i.bbox.width=i.bbox.width+"px"),+(null===(o=i.bbox)||void 0===o?void 0:o.height)>0&&(i.bbox.height=i.bbox.height+"px"))}))})),e}(n=function(e){return Object.keys(e.layouts).forEach((function(t){var n=e.layouts[t];(null==n?void 0:n.type)===u.b.FixedLayout&&Object.keys(n.content||{}).forEach((function(e){var t,r,o=n.content[e];!0===(null===(t=o.setting)||void 0===t?void 0:t.hCenter)&&(o.bbox||(o.bbox={}),o.bbox.left="50%",o.setting?o.setting.autoProps?(o.setting.autoProps.left=!1,o.setting.autoProps.right=!0):o.setting.autoProps={left:!1,right:!0}:o.setting={autoProps:{left:!1,right:!0}}),!0===(null===(r=o.setting)||void 0===r?void 0:r.vCenter)&&(o.bbox||(o.bbox={}),o.bbox.top="50%",o.setting?o.setting.autoProps?(o.setting.autoProps.top=!1,o.setting.autoProps.bottom=!0):o.setting.autoProps={top:!1,bottom:!0}:o.setting={autoProps:{top:!1,bottom:!0}})}))})),e}(n=function(e){if(!e.dialogs)return e;var t=0,n=0;Object.keys(e.dialogs).forEach((function(r){var o=e.dialogs[r];o.mode===i.c.Fixed?o.index=t++:o.index=n++,o.dialogBackground?""===o.dialogBackground.color&&(o.dialogBackground.color="rgba(0,0,0,0)"):o.dialogBackground={color:"rgba(0,0,0,0)",fillType:"fit",image:{url:""}},o.mode===i.c.Fixed&&o.confirmBeforeClose?(o.interactionType=i.b.ButtonInline,o.interactionStyles=o.confirmationStyle,o.alwaysShowConfirmation=!1):(o.interactionType=null,o.interactionStyles=null),delete o.confirmationStyle}));var r={};return Object.keys(e.dialogs).sort().map((function(t){r[t]=e.dialogs[t]})),e.dialogs=r,e}(n=t)))))}}],t}return f(t,e),t}(p)},function(e,t,n){"use strict";var r,o=n(0),i=n(104),a=n(15),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onKeyboardTrigger=function(e){-1===e.key.indexOf("-manual")&&a.getJimuForBuilderModules().appBuilderSync.letBuilderResponseToKeyboard(e)},t.isMac=function(){return/macintosh|mac os x/i.test(navigator.userAgent)},t}return s(t,e),t.prototype.render=function(){return this.isMac()?o.createElement(i.a,{onKeyboardTrigger:this.onKeyboardTrigger,bindings:{"command+keys":function(){return!1}}}):o.createElement(i.a,{onKeyboardTrigger:this.onKeyboardTrigger,bindings:{"ctrl+keys":function(){return!1}}})},t}(o.PureComponent);t.a=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,o=n(0),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:null},n}return i(t,e),t.prototype.componentDidCatch=function(e,t){this.setState({error:e})},t.prototype.render=function(){return this.state.error?o.createElement("h1",null,this.state.error.message):this.props.children},t}(o.Component)},function(e,t,n){"use strict";var r,o=n(0),i=n(20),a=n(4),s=n(19),u=n(8),c=n(50),l=n(33),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.componentDidMount=function(){this.createDataSource(),this.props.dataSource&&this.props.onDataSourceCreated&&this.props.onDataSourceCreated(this.props.dataSource),this.props.dataSourceInfo&&this.props.onDataSourceInfoChange&&this.props.onDataSourceInfoChange(this.props.dataSourceInfo),this.doQuery()},t.prototype.componentDidUpdate=function(e){this.createDataSource(),(!e.dataSource&&this.props.dataSource||e.dataSource&&this.props.dataSource&&e.dataSource.id!==this.props.dataSource.id)&&this.props.onDataSourceCreated&&this.props.onDataSourceCreated(this.props.dataSource),e.dataSourceInfo!==this.props.dataSourceInfo&&this.props.onDataSourceInfoChange&&this.props.onDataSourceInfoChange(this.props.dataSourceInfo),this.doQuery(),this.handleAutoRefresh()},t.prototype.render=function(){var e=this.props,t=e.useDataSource,n=e.dataSource,r=e.dataSourceInfo,o=e.children,i=e.query;return t?r?r.instanceStatus===a.b.CreateError?Object(l.getIntl)().formatMessage({id:"dataSourceCreateError"}):n&&o?"function"==typeof o?o(n,r,i):o:null:null:(console.log("No data source configured."),null)},t.prototype.doQuery=function(){if(this.props.dataSource){var e=this.props,t=e.dataSource,n=e.query,r=e.queryCount,o=e.widgetId,i=e.localId,a=e.queryScope,s=t;if(s.load&&s.query&&n){var u={widgetId:o||i,refresh:this.props.refresh,scope:a};if(s.load(n,u),r){var c=Object.assign({},n);s.loadCount(c,u)}}}},t.prototype.handleAutoRefresh=function(){if(this.props.dataSource){var e=this.props.dataSource;e.stopAutoRefresh&&e.startAutoRefresh&&(window.jimuConfig.isInBuilder&&this.props.appMode===u.c.Design?e.stopAutoRefresh():e.startAutoRefresh())}},t.prototype.createDataSource=function(){var e=this,t=this.props,n=t.dataSourceManager,r=t.useDataSource,o=t.localId;r&&n.createDataSourceByUseDataSource(r,o).then((function(e){})).catch((function(t){t.dataSourceId!==r.dataSourceId&&t.dataSourceId!==r.rootDataSourceId||e.props.onCreateDataSourceFailed&&e.props.onCreateDataSourceFailed(t)}))},t}(o.PureComponent),p=Object(i.connect)((function(e,t){var n=s.a.getInstance(),r=window.jimuConfig.isBuilder?e.appStateInBuilder:e;if(!r||!t.useDataSource)return{dataSourceInfo:null,dataSourceJson:null,rootDataSourceJson:null,dataSource:null,dataSourceManager:n,belongToDataSourceInfo:null,appMode:null};var o=t.useDataSource,i=Object(c.getRealDataSourceId)(o,t.localId),a=n.getDataSource(o.rootDataSourceId),u=n.getDataSource(i);return o.rootDataSourceId&&!a&&(u=null),{dataSourceInfo:r.dataSourcesInfo[i],dataSourceJson:r.appConfig.dataSources[o.mainDataSourceId],rootDataSourceJson:r.appConfig.dataSources[o.rootDataSourceId],dataSource:u,dataSourceManager:n,belongToDataSourceInfo:(null==u?void 0:u.isDataView)||(null==u?void 0:u.isLocal)?r.dataSourcesInfo[u.belongToDataSource.id]:null,appMode:r.appRuntimeInfo.appMode}}))(f);t.a=p},function(e,t,n){"use strict";var r,o=n(0),i=n(19),a=n(123),s=n(20),u=n(50),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDataSourceCreated=function(){var e=t.props.onDataSourceCreated;(void 0===e?function(){}:e)(t.getDataSources())},t.handleDataSourceInfoChange=function(){var e=t.props.onDataSourceInfoChange;(void 0===e?function(){}:e)(t.getDataSourcesInfo())},t.getDataSources=function(){var e=t.props.useDataSources,n=void 0===e?[]:e,r={},o=i.a.getInstance();return n.forEach((function(e){return r[e.dataSourceId]=o.getDataSource(e.dataSourceId)})),r},t.getDataSourcesInfo=function(){var e=t.props.useDataSources,n={};return(void 0===e?[]:e).forEach((function(e){n[e.dataSourceId]=t.props[e.dataSourceId]})),n},t.hasLoadedDataSources=function(){var e=t.props.useDataSources,n=void 0===e?[]:e,r=t.getDataSources();return n.every((function(e){return!!r[e.dataSourceId]}))},t.MemoDataSourceComponents=o.memo((function(e){var n=e.useDataSources,r=e.queries,i=e.widgetId,s=e.localId;return n?o.createElement(o.Fragment,null,n.asMutable().map((function(e,n){return o.createElement(a.a,{key:n,useDataSource:e,query:null==r?void 0:r[e.dataSourceId],widgetId:i,localId:s,onDataSourceCreated:t.handleDataSourceCreated,onDataSourceInfoChange:t.handleDataSourceInfoChange})}))):null})),t}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.useDataSources,n=e.queries,r=e.widgetId,i=e.localId,a=e.children,s=this.MemoDataSourceComponents,u=o.createElement(s,{useDataSources:t,queries:n,widgetId:r,localId:i});return a?o.createElement(o.Fragment,null,u,"function"==typeof a?a(this.getDataSources(),this.getDataSourcesInfo()):a):u},t}(o.PureComponent);t.a=Object(s.connect)((function(e,t){var n={},r=window.jimuConfig.isBuilder?e.appStateInBuilder:e;return t.useDataSources&&t.useDataSources.forEach((function(e){var o=Object(u.getRealDataSourceId)(e,t.localId);i.a.getInstance().getDataSource(o)&&(n[o]=r.dataSourcesInfo[o])})),n}))(l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(35),i=n(23);function a(){var e=r.useContext(o.a);return Object(i.g)(e),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r,o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(){function e(e){e.id&&(this.id=e.id),e.name&&(this.name=e.name),e.index&&(this.index=e.index),e.widgetId&&(this.widgetId=e.widgetId)}return e.prototype.destroy=function(){},e}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.isSupported=function(e,t){return!0},t.prototype.onExecute=function(e,t){return Promise.resolve(!0)},t}(i)},function(e,t,n){"use strict";var r,o=n(46),i=n(19),a=n(50),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="filter data record action",t}return s(t,e),t.prototype.filterMessageType=function(e,t){return e==o.g.DataRecordsSelectionChange||e==o.g.SelectDataRecord||e==o.g.ExtentChange},t.prototype.filterMessage=function(e){return!0},t.prototype.getSettingComponentUri=function(e,t){return"filter-data-record-action"},t.prototype.onRemoveListen=function(e,t){if(this.lastMessage&&this.lastMessage.type===e&&this.lastMessage.widgetId===t){if(this.lastActionConfig&&this.lastActionConfig.actionUseDataSource&&this.lastActionConfig.actionUseDataSource.dataSourceId){var n=i.a.getInstance().getDataSource(this.lastActionConfig.actionUseDataSource.dataSourceId);n&&this.lastMessage.type===o.g.DataRecordsSelectionChange&&n.updateQueryParams(null,this.id),n&&this.lastMessage.type===o.g.ExtentChange&&n.updateQueryParams(null,this.id),this.lastActionConfig=null}this.lastMessage=null}},t.prototype.onExecute=function(e,t){var n;return u(this,void 0,void 0,(function(){var r,s,u,l,d,f,p,h,g,m,v,y,b,w,O,S,I,j,E,C,T;return c(this,(function(c){switch(c.label){case 0:switch(this.lastMessage=e,this.lastActionConfig=t,e.type){case o.g.DataRecordsSelectionChange:return[3,1];case o.g.ExtentChange:return[3,5]}return[3,9];case 1:return r=null,t?t.messageUseDataSource&&t.actionUseDataSource?e.records.length>0&&e.records[0].dataSource.getMainDataSource().id!==t.messageUseDataSource.mainDataSourceId?[2,Promise.resolve(!0)]:(O=i.a.getInstance(),s=O.getDataSource(t.messageUseDataSource.mainDataSourceId),(S=O.getDataSource(t.actionUseDataSource.dataSourceId))?[3,3]:[4,O.createDataSourceByUseDataSource(t.actionUseDataSource)]):[3,4]:[3,4];case 2:S=c.sent(),c.label=3;case 3:if(s&&S){if(t.enabledDataRelationShip){if(u=null,l=null,t.messageUseDataSource.mainDataSourceId===t.actionUseDataSource.mainDataSourceId?(d=s.getSchema(),f=d&&d.fields&&Object.keys(d.fields).find((function(e){return"esriFieldTypeOID"===d.fields[e].esriType})),u=d&&d.fields&&d.fields[f],l=u):(p=t.messageUseDataSource.fields[0],h=t.actionUseDataSource.fields[0],u=s.getSchema().fields[p],l=S.getSchema().fields[h]),E="",u&&l){for(g=u.name,m=u.type,v=e,y=[],b=0;b<v.records.length;b++)w=v.records[b].getData()[g],y.indexOf(""+this.formatValue(w,m))>-1||y.push(""+this.formatValue(v.records[b].getData()[g],m));E=l.name+" IN ",E=y.length>0?E+"("+y.join(", ")+")":""}e.records.length>0?(C=t.sqlExprObj?Object(a.getArcGISSQL)(t.sqlExprObj,S).sql:null)&&(E=E?E+" AND "+C:C):E="",r={outFields:["*"],where:E,returnGeometry:!0}}else E="",e.records.length>0?(C=t.sqlExprObj?Object(a.getArcGISSQL)(t.sqlExprObj,S).sql:null)&&(E=C):E="",r={outFields:["*"],where:E,returnGeometry:!0};S.updateQueryParams(r,this.id)}c.label=4;case 4:return[2,Promise.resolve(!0)];case 5:return t&&t.actionUseDataSource?(O=i.a.getInstance(),(S=O.getDataSource(t.actionUseDataSource.dataSourceId))?[3,7]:[4,O.createDataSourceByUseDataSource(t.actionUseDataSource)]):[3,8];case 6:S=c.sent(),c.label=7;case 7:I=null,S&&(j=null===(n=e)||void 0===n?void 0:n.extent,E="",(C=t.sqlExprObj?Object(a.getArcGISSQL)(t.sqlExprObj,S).sql:null)&&(E=C),T=t.enableQueryWithCurrentExtent?j.toJSON():{},I={geometry:T,outFields:["*"],where:E,returnGeometry:!0},S.updateQueryParams(I,this.id)),c.label=8;case 8:return[2,Promise.resolve(!0)];case 9:return[3,10];case 10:return[2]}}))}))},t.prototype.formatValue=function(e,t){return"STRING"===t?"'"+e+"'":"NUMBER"===t?""+e:"DATE"===t?"'"+e+"'":void 0},t}(o.a);t.a=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(159),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function a(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,l=[],d=l,f=!1;function p(){d===l&&(d=l.slice())}function h(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function g(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return p(),d.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,p();var n=d.indexOf(e);d.splice(n,1),l=null}}}function m(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,c=u(c,e)}finally{f=!1}for(var t=l=d,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,m({type:i.REPLACE})}function y(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return m({type:i.INIT}),(o={dispatch:m,subscribe:g,getState:h,replaceReducer:v})[r.a]=y,o}function u(e,t){return function(){return t(e.apply(this,arguments))}}function c(e,t){if("function"==typeof e)return u(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=u(o,t))}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(e){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},function(e,t,n){"use strict";t.a=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},function(e,t,n){"use strict";t.a=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(112))},function(e,t,n){"use strict";var r=n(57),o=n(44);t.a=function(e){if(!Object(o.a)(e))return!1;var t=Object(r.a)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){"use strict";var r=n(73);t.a=function(e){if("string"==typeof e||Object(r.a)(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";t.a=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){"use strict";var r=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return h}));var r=n(5),o=n(40),i=n(155),a=n(7),s=n(25);function u(e,t){var n=Object(a.a)(t)+"/content/items/"+e,i=r.a({httpMethod:"GET"},t);return Object(o.d)(n,i)}function c(e,t){var n=Object(a.a)(t)+"/content/items/"+e+"/data",i=r.a({httpMethod:"GET",params:{}},t);return i.file&&(i.params.f=null),Object(o.d)(n,i).catch((function(e){if(!RegExp(/The string did not match the expected pattern|(Unexpected end of (JSON input|data at line 1 column 1))/i).test(e.message))throw e}))}function l(e){var t=Object(a.a)(e)+"/content/items/"+e.id+"/relatedItems",n=r.a({httpMethod:"GET",params:{direction:e.direction}},e);return"string"==typeof e.relationshipType?n.params.relationshipType=e.relationshipType:n.params.relationshipTypes=e.relationshipType,delete n.direction,delete n.relationshipType,Object(o.d)(t,n)}function d(e,t){var n=Object(a.a)(t)+"/content/items/"+e+"/resources",i=r.a({},t);return i.params=r.a({num:1e3},i.params),Object(o.d)(n,i)}function f(e,t){var n=Object(a.a)(t)+"/content/items/"+e+"/groups";return Object(o.d)(n,t)}function p(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/status",s=Object(i.a)(e,["jobId","jobType"],{params:r.a({},e.params)});return Object(o.d)(n,s)}))}function h(e){return Object(s.a)(e).then((function(t){var n=Object(a.a)(e)+"/content/users/"+t+"/items/"+e.id+"/parts";return Object(o.d)(n,e)}))}},function(e,t,n){"use strict";var r={ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",ControlLeft:"control",ControlRight:"control"};t.a=function(e){return"code"in e?!!r[e.code]:16===e.which||17===e.which||18===e.which||91===e.which}},function(e,t,n){"use strict";var r=n(99);t.a=function(e,t,n){"__proto__"==t&&r.a?Object(r.a)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){"use strict";var r=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},o=n(57),i=n(56);var a=function(e){return Object(i.a)(e)&&"[object Arguments]"==Object(o.a)(e)},s=Object.prototype,u=s.hasOwnProperty,c=s.propertyIsEnumerable,l=a(function(){return arguments}())?a:function(e){return Object(i.a)(e)&&u.call(e,"callee")&&!c.call(e,"callee")},d=n(49),f=n(106),p=n(96),h=n(144),g=Object.prototype.hasOwnProperty;var m=function(e,t){var n=Object(d.a)(e),o=!n&&l(e),i=!n&&!o&&Object(f.a)(e),a=!n&&!o&&!i&&Object(h.a)(e),s=n||o||i||a,u=s?r(e.length,String):[],c=u.length;for(var m in e)!t&&!g.call(e,m)||s&&("length"==m||i&&("offset"==m||"parent"==m)||a&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||Object(p.a)(m,c))||u.push(m);return u},v=n(137);var y=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),b=Object.prototype.hasOwnProperty;var w=function(e){if(!Object(v.a)(e))return y(e);var t=[];for(var n in Object(e))b.call(e,n)&&"constructor"!=n&&t.push(n);return t},O=n(95);t.a=function(e){return Object(O.a)(e)?m(e):w(e)}},function(e,t,n){"use strict";var r=n(49),o=n(73),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;var s=function(e,t){if(Object(r.a)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Object(o.a)(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))},u=n(88);function c(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(c.Cache||u.a),n}c.Cache=u.a;var l=c;var d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,p=function(e){var t=l(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(d,(function(e,n,r,o){t.push(r?o.replace(f,"$1"):n||e)})),t})),h=n(53);var g=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},m=h.a?h.a.prototype:void 0,v=m?m.toString:void 0;var y=function e(t){if("string"==typeof t)return t;if(Object(r.a)(t))return g(t,e)+"";if(Object(o.a)(t))return v?v.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var b=function(e){return null==e?"":y(e)};t.a=function(e,t){return Object(r.a)(e)?e:s(e,t)?[e]:p(b(e))}},function(e,t,n){"use strict";var r=function(e){return e};var o=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},i=Math.max;var a=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=i(r.length-t,0),u=Array(s);++a<s;)u[a]=r[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=r[a];return c[t]=n(u),o(e,this,c)}};var s=function(e){return function(){return e}},u=n(99),c=u.a?function(e,t){return Object(u.a)(e,"toString",{configurable:!0,enumerable:!1,value:s(t),writable:!0})}:r,l=Date.now;var d=function(e){var t=0,n=0;return function(){var r=l(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(c);t.a=function(e,t){return d(a(e,t,r),e+"")}},function(e,t,n){"use strict";var r=n(57),o=n(136),i=n(56),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var s=function(e){return Object(i.a)(e)&&Object(o.a)(e.length)&&!!a[Object(r.a)(e)]};var u=function(e){return function(t){return e(t)}},c=n(160),l=c.a&&c.a.isTypedArray,d=l?u(l):s;t.a=d},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){var r=n(164),o=n(210);for(var i in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,r)t[i]=r[i];"undefined"!=typeof window&&(window.filterCSS=e.exports)},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},function(e,t,n){"use strict";var r,o=n(0),i=n(35),a=n(23),s=n(100),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},l=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},d=n.n(s).a||s,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=t.values,r=c(t,["values"]),o=e.values,i=c(e,["values"]);return!d(o,n)||!d(r,i)},t.prototype.render=function(){var e=this;return o.createElement(i.a.Consumer,null,(function(t){Object(a.g)(t);var n=t.formatMessage,r=t.textComponent,i=void 0===r?o.Fragment:r,s=e.props,u=s.id,c=s.description,d=s.defaultMessage,f=s.values,p=s.children,h=s.tagName,g=void 0===h?i:h,m=n({id:u,description:c,defaultMessage:d},f);return Array.isArray(m)||(m=[m]),"function"==typeof p?p(m):g?o.createElement.apply(o,l([g,null],m)):m}))},t.displayName="FormattedMessage",t}(o.Component);t.a=f},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return y}));var r,o,i=n(0),a=n(9),s=n(35),u=n(6),c=n(70),l=n(82),d=n(124),f=n(83),p=n(12),h=n(19),g=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};!function(e){e.Failed="RESOLVE_FAILED",e.NotMatched="DATA_SOURCES_IN_EXPRESSION_CANNOT_MATCH_DATA_SOURCES_IN_USE"}(o||(o={}));var v=function(e){function t(t){var n=e.call(this,t)||this;return n.dataSources=null,n.__unmount=!1,n.__resolveCount=1,n.getWhetherExpressionsAreSame=function(e,t){var r=n.getWhetherIsMultipleExpression(e),o=n.getWhetherIsMultipleExpression(t);return r&&o?n.shallowEquals(e,t):!r&&!o&&e===t},n.shallowEquals=function(e,t){return!e&&!t||!(!e||!t)&&(Object.keys(e).length===Object.keys(t).length&&!Object.keys(e).some((function(n){return e[n]!==t[n]})))},n.getWhetherIsMultipleExpression=function(e){return!!e&&!(2===Object.keys(e).length&&Object.keys(e).indexOf("name")>-1&&Object.keys(e).indexOf("parts")>-1&&Array.isArray(e.parts))},n.resolveExpressions=function(e,t,r){if(!e)return Promise.resolve("");if(n.getWhetherIsMultipleExpression(e)){var o=e;Object.keys(o).forEach((function(e){n.resolveSingleExpression(o[e]).then((function(t){var o,i=n.resultsCache;n.__unmount||r!==n.__resolveCount||(n.resultsCache=m(m({},i),((o={})[e]={isSuccessful:!0,value:t},o)),n.setState({results:n.resultsCache}))})).catch((function(t){var o,i=n.resultsCache;n.__unmount||r!==n.__resolveCount||(n.resultsCache=m(m({},i),((o={})[e]={isSuccessful:!1,value:t},o)),n.setState({results:n.resultsCache}))}))}))}else n.resolveSingleExpression(e).then((function(e){n.__unmount||r!==n.__resolveCount||(n.resultsCache={isSuccessful:!0,value:e},n.setState({results:n.resultsCache}))})).catch((function(e){n.__unmount||r!==n.__resolveCount||(n.resultsCache={isSuccessful:!1,value:e},n.setState({results:n.resultsCache}))}))},n.resolveSingleExpression=function(e){return n.getWhetherExpressionDssInUseDss(e)?Object(c.d)(e,n.props.useDataSources,n.props.repeatedDataSource,n.props.intl).catch((function(e){return Promise.reject(o.Failed)})):Promise.reject(o.NotMatched)},n.onDataSourceCreated=function(e){if(n.dataSources=e,e){var t={};Object.keys(e).forEach((function(n){n&&e[n]&&(t[n]=e[n].getInfo())})),n.setState({infos:t})}},n.onDataSourceInfoChange=function(e){n.setState({infos:e})},n.getWhetherExpressionDssInUseDss=function(e){return!e||!e.parts||!e.parts.some((function(e){return e&&e.dataSourceId&&!n.getWhetherDsIdInUseDss(e.dataSourceId)}))},n.getWhetherDsIdInUseDss=function(e){if(!e)return!1;var t=n.props.useDataSources||[];if(e.split("-").reverse()[0]===p.SELECTION_DATA_VIEW_ID){var r=e.replace(/-dataView_\d{1,}/,"").replace("-"+p.SELECTION_DATA_VIEW_ID,"");return t.some((function(e){return e.mainDataSourceId===r}))}return t.some((function(t){return t.dataSourceId===e}))},n.addDataViewForNoSelection=function(e){var t=a([]);return e?(e.forEach((function(e){if(e.mainDataSourceId&&!t.some((function(t){return t.mainDataSourceId===e.mainDataSourceId}))){var n=h.a.getInstance().getDataSource(e.mainDataSourceId),r=n&&n.getDataSourceJson();(null==r?void 0:r.dataViews)&&(null==r?void 0:r.dataViews[p.DATA_VIEW_ID_FOR_NO_SELECTION])&&(t=t.concat(e.set("dataSourceId",h.a.getInstance().getDataViewDataSourceId(e.mainDataSourceId,p.DATA_VIEW_ID_FOR_NO_SELECTION)).set("dataViewId",p.DATA_VIEW_ID_FOR_NO_SELECTION)))}})),t.concat(e)):t},n.getLocalDataSource=function(){var e=a([]),t=h.a.getInstance().getDataSources();return Object.values(t).forEach((function(t){var n=null==t?void 0:t.id;if((null==t?void 0:t.isLocal)&&n&&n.indexOf(l.a)>-1){var r=t.getRootDataSource(),o=t.getMainDataSource();e=e.concat({dataSourceId:t.id,rootDataSourceId:r&&r.id,mainDataSourceId:o&&o.id})}})),e},n.getQueries=function(e,t){var r={};if(!e||!t)return r;var o=n.getWhetherIsMultipleExpression(t)?Object.values(t):[t],i=[];return o.forEach((function(e){(null==e?void 0:e.parts)&&(i=i.concat(e.parts.asMutable()))})),e.filter((function(e){return!!e})).filter((function(e){return e.dataViewId===p.DATA_VIEW_ID_FOR_NO_SELECTION&&i.some((function(t){return t.dataSourceId===h.a.getInstance().getDataViewDataSourceId(e.mainDataSourceId,p.SELECTION_DATA_VIEW_ID)&&t.type===u.b.Field&&!t.isFromRepeatedDataSourceContext}))||e.dataViewId!==p.SELECTION_DATA_VIEW_ID&&i.some((function(t){return t.dataSourceId===e.dataSourceId&&t.type===u.b.Field&&!t.isFromRepeatedDataSourceContext}))})).forEach((function(e){r[e.dataSourceId]={}})),r},n.state={results:null,infos:null},n}return g(t,e),t.prototype.componentDidMount=function(){this.__unmount=!1,this.resolveExpressions(this.props.expression,this.props.useDataSources,this.__resolveCount)},t.prototype.componentWillUnmount=function(){this.__unmount=!0},t.prototype.componentDidUpdate=function(e,t){this.getWhetherExpressionsAreSame(this.props.expression,e.expression)&&this.props.useDataSources===e.useDataSources&&this.shallowEquals(this.state.infos,t.infos)||(this.__resolveCount++,this.resolveExpressions(this.props.expression,this.props.useDataSources,this.__resolveCount)),t.results!==this.state.results&&null!==this.state.results&&this.props.onChange&&this.props.onChange(this.state.results)},t.prototype.getLocalLoadId=function(){return"EXPRESSION_RESOLVER-"+this.props.widgetId},t.prototype.render=function(){var e=this;if(!this.props.expression)return null;var t=this.getLocalDataSource(),n=this.addDataViewForNoSelection(this.props.useDataSources).concat(t);return i.createElement(d.a,{useDataSources:n,onDataSourceCreated:this.onDataSourceCreated,onDataSourceInfoChange:this.onDataSourceInfoChange,queries:this.getQueries(n,this.props.expression),widgetId:this.getLocalLoadId()},(function(){return"function"==typeof e.props.children?e.props.children(e.state.results):e.props.children}))},t}(i.PureComponent),y=Object(s.c)(Object(f.b)(v))},function(e,t,n){"use strict";var r=n(0),o=n(35),i=function(e){var t=e.value,n=e.other,o=e.children,i=e.intl,a=i.formatPlural,s=i.textComponent,u=e[a(t,e)]||n;return"function"==typeof o?o(u):s?r.createElement(s,null,u):u};i.defaultProps={type:"cardinal"},i.displayName="FormattedPlural";var a=Object(o.c)(i);t.a=a},function(e,t,n){"use strict";var r,o=n(0),i=n(35),a=n(23),s=n(199),u=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e){var t=Math.abs(e);return t<60?"second":t<3600?"minute":t<86400?"hour":"day"}function d(e){switch(e){case"second":return 1;case"minute":return 60;case"hour":return 3600;default:return 86400}}function f(e,t){if(!e)return 0;switch(t){case"second":return e;case"minute":return 60*e;default:return 3600*e}}var p=["second","minute","hour"];function h(e){return void 0===e&&(e="second"),p.includes(e)}var g=function(e){function t(t){var n=e.call(this,t)||this;return n._updateTimer=null,n.state={prevUnit:n.props.unit,prevValue:n.props.value,currentValueInSeconds:h(n.props.unit)?f(n.props.value,n.props.unit):0},Object(s.a)(!t.updateIntervalInSeconds||!(!t.updateIntervalInSeconds||!h(t.unit)),"Cannot schedule update with unit longer than hour"),n}return u(t,e),t.prototype.scheduleNextUpdate=function(e,t){var n=this,r=e.updateIntervalInSeconds,o=e.unit,i=t.currentValueInSeconds;if(clearTimeout(this._updateTimer),this._updateTimer=null,r&&h(o)){var a=i-r,s=l(a);if("day"!==s){var u=d(s),c=a-a%u,f=c>=i?c-u:c,p=Math.abs(f-i);this._updateTimer=setTimeout((function(){return n.setState({currentValueInSeconds:f})}),1e3*p)}}},t.prototype.componentDidMount=function(){this.scheduleNextUpdate(this.props,this.state)},t.prototype.componentDidUpdate=function(){this.scheduleNextUpdate(this.props,this.state)},t.prototype.componentWillUnmount=function(){clearTimeout(this._updateTimer),this._updateTimer=null},t.getDerivedStateFromProps=function(e,t){return e.unit!==t.prevUnit||e.value!==t.prevValue?{prevValue:e.value,prevUnit:e.unit,currentValueInSeconds:h(e.unit)?f(e.value,e.unit):0}:null},t.prototype.render=function(){var e=this;return o.createElement(i.a.Consumer,null,(function(t){Object(a.g)(t);var n=t.formatRelativeTime,r=t.textComponent,i=e.props,s=i.children,u=i.value,f=i.unit,p=i.updateIntervalInSeconds,g=e.state.currentValueInSeconds,m=u||0,v=f;if(h(f)&&"number"==typeof g&&p){var y=d(v=l(g));m=Math.round(g/y)}var b=n(m,v,c({},e.props));return"function"==typeof s?s(b):r?o.createElement(r,null,b):b}))},t.displayName="FormattedRelativeTime",t.defaultProps={value:0,unit:"second"},t}(o.PureComponent);t.a=g},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";e.exports=n(206)},function(e,t,n){"use strict";function r(e){return"/"===(e=e.trim())[e.length-1]&&(e=e.slice(0,-1)),e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(5);function o(e,t,n){var o=r.a({params:{}},n,e);return o.params=t.reduce((function(t,n){return(e[n]||"boolean"==typeof e[n])&&(t[n]=e[n]),t}),o.params),["params","httpMethod","rawResponse","authentication","portal","fetch","maxUrlLength","headers"].reduce((function(e,t){return o[t]&&(e[t]=o[t]),e}),{})}},function(e,t,n){var r=n(152),o=n(215),i=n(217),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,d,f,p,h=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,h=t,d=e.apply(r,n)}function b(e){return h=e,f=setTimeout(O,t),g?y(e):d}function w(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-h>=l}function O(){var e=o();if(w(e))return S(e);f=setTimeout(O,function(e){var n=t-(e-p);return m?s(n,l-(e-h)):n}(e))}function S(e){return f=void 0,v&&u?y(e):(u=c=void 0,d)}function I(){var e=o(),n=w(e);if(u=arguments,c=this,p=e,n){if(void 0===f)return b(p);if(m)return clearTimeout(f),f=setTimeout(O,t),y(p)}return void 0===f&&(f=setTimeout(O,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,l=(m="maxWait"in n)?a(i(n.maxWait)||0,t):l,v="trailing"in n?!!n.trailing:v),I.cancel=function(){void 0!==f&&clearTimeout(f),h=0,u=p=c=f=void 0},I.flush=function(){return void 0===f?d:S(o())},I}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,o=n(28),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e){function t(n,r,o,i){var a=e.call(this)||this;return a.message=n,a.expected=r,a.found=o,a.location=i,a.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,t),a}return i(t,e),t.buildMessage=function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){switch(e.type){case"literal":return'"'+r(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,n,r=e.map(i);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+(((a=t)?'"'+r(a)+'"':"end of input")+" found.");var a},t}(Error);var u=function(e,t){t=void 0!==t?t:{};var n,r={},i={start:xe},u=xe,c=Ie("<",!1),l=function(e){return e.join("")},d=Ie("#",!1),f=Ee("tagElement"),p=Ie("/>",!1),h=Ie(">",!1),g=Ie("</",!1),m=Ee("argumentElement"),v=Ie("{",!1),y=Ie("}",!1),b=Ee("numberSkeletonId"),w=/^['\/{}]/,O=je(["'","/","{","}"],!1,!1),S={type:"any"},I=Ee("numberSkeletonTokenOption"),j=Ie("/",!1),E=Ee("numberSkeletonToken"),C=Ie("::",!1),T=function(e){return nt.pop(),e.replace(/\s*$/,"")},A=Ie(",",!1),_=Ie("number",!1),x=function(e,t,n){return a({type:"number"===t?o.a.number:"date"===t?o.a.date:o.a.time,style:n&&n[2],value:e},ot())},P=Ie("'",!1),D=/^[^']/,R=je(["'"],!0,!1),k=/^[^a-zA-Z'{}]/,M=je([["a","z"],["A","Z"],"'","{","}"],!0,!1),N=/^[a-zA-Z]/,L=je([["a","z"],["A","Z"]],!1,!1),U=Ie("date",!1),F=Ie("time",!1),V=Ie("plural",!1),B=Ie("selectordinal",!1),W=Ie("offset:",!1),z=Ie("select",!1),G=Ie("=",!1),q=Ee("whitespace"),H=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,K=je([["\t","\r"]," ","","","",["",""],"\u2028","\u2029","","",""],!1,!1),$=Ee("syntax pattern"),Y=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,J=je([["!","/"],[":","@"],["[","^"],"`",["{","~"],["",""],"","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","","","",""],!1,!1),X=Ee("optional whitespace"),Q=Ee("number"),Z=Ie("-",!1),ee=(Ee("apostrophe"),Ee("double apostrophes")),te=Ie("''",!1),ne=function(e){return!("<"===e||"{"===e||rt()&&"#"===e||nt.length>1&&"}"===e)},re=Ie("\n",!1),oe=Ee("argNameOrNumber"),ie=Ee("validTag"),ae=Ee("argNumber"),se=Ie("0",!1),ue=/^[1-9]/,ce=je([["1","9"]],!1,!1),le=/^[0-9]/,de=je([["0","9"]],!1,!1),fe=Ee("argName"),pe=Ee("tagName"),he=0,ge=0,me=[{line:1,column:1}],ve=0,ye=[],be=0;if(void 0!==t.startRule){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');u=i[t.startRule]}function we(){return e.substring(ge,he)}function Oe(){return Te(ge,he)}function Se(e,t){throw function(e,t){return new s(e,[],"",t)}(e,t=void 0!==t?t:Te(ge,he))}function Ie(e,t){return{type:"literal",text:e,ignoreCase:t}}function je(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Ee(e){return{type:"other",description:e}}function Ce(t){var n,r=me[t];if(r)return r;for(n=t-1;!me[n];)n--;for(r={line:(r=me[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return me[t]=r,r}function Te(e,t){var n=Ce(e),r=Ce(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function Ae(e){he<ve||(he>ve&&(ve=he,ye=[]),ye.push(e))}function _e(e,t,n){return new s(s.buildMessage(e,t),e,t,n)}function xe(){return Pe()}function Pe(){var e,t;for(e=[],t=De();t!==r;)e.push(t),t=De();return e}function De(){var t,n;return t=he,ge=he,(!it?void 0:r)!==r&&(n=function(){var e,t,n,i;be++,(e=Me())===r&&(e=he,(t=Ne())!==r&&(n=Pe())!==r&&(i=Le())!==r?(ge=e,u=n,(s=t)!==(c=i)&&Se('Mismatch tag "'+s+'" !== "'+c+'"',Oe()),t=a({type:o.a.tag,value:s,children:u},ot()),e=t):(he=e,e=r));var s,u,c;be--,e===r&&(t=r,0===be&&Ae(f));return e}())!==r?(ge=t,t=n):(he=t,t=r),t===r&&(t=function(){var e,t;e=he,(t=Re())!==r&&(ge=e,n=t,t=a({type:o.a.literal,value:n},ot()));var n;return e=t}())===r&&(t=function(){var t,n,i,s;be++,t=he,123===e.charCodeAt(he)?(n="{",he++):(n=r,0===be&&Ae(v));n!==r&&Ke()!==r&&(i=Qe())!==r&&Ke()!==r?(125===e.charCodeAt(he)?(s="}",he++):(s=r,0===be&&Ae(y)),s!==r?(ge=t,u=i,n=a({type:o.a.argument,value:u},ot()),t=n):(he=t,t=r)):(he=t,t=r);var u;be--,t===r&&(n=r,0===be&&Ae(m));return t}())===r&&(t=function(){var t;(t=function(){var t,n,o,i,s,u,c,l,d;t=he,123===e.charCodeAt(he)?(n="{",he++):(n=r,0===be&&Ae(v));n!==r&&Ke()!==r&&(o=Qe())!==r&&Ke()!==r?(44===e.charCodeAt(he)?(i=",",he++):(i=r,0===be&&Ae(A)),i!==r&&Ke()!==r?("number"===e.substr(he,6)?(s="number",he+=6):(s=r,0===be&&Ae(_)),s!==r&&Ke()!==r?(u=he,44===e.charCodeAt(he)?(c=",",he++):(c=r,0===be&&Ae(A)),c!==r&&(l=Ke())!==r&&(d=function(){var t,n,o;t=he,"::"===e.substr(he,2)?(n="::",he+=2):(n=r,0===be&&Ae(C));n!==r&&(o=function(){var e,t,n;if(e=he,t=[],(n=Ve())!==r)for(;n!==r;)t.push(n),n=Ve();else t=r;t!==r&&(ge=e,t=a({type:0,tokens:t},ot()));return e=t}())!==r?(ge=t,t=n=o):(he=t,t=r);t===r&&(t=he,ge=he,nt.push("numberArgStyle"),(n=(n=!0)?void 0:r)!==r&&(o=Re())!==r?(ge=t,n=T(o),t=n):(he=t,t=r));return t}())!==r?u=c=[c,l,d]:(he=u,u=r),u===r&&(u=null),u!==r&&(c=Ke())!==r?(125===e.charCodeAt(he)?(l="}",he++):(l=r,0===be&&Ae(y)),l!==r?(ge=t,n=x(o,s,u),t=n):(he=t,t=r)):(he=t,t=r)):(he=t,t=r)):(he=t,t=r)):(he=t,t=r);return t}())===r&&(t=function(){var t,n,o,i,s,u,c,l,d;t=he,123===e.charCodeAt(he)?(n="{",he++):(n=r,0===be&&Ae(v));n!==r&&Ke()!==r&&(o=Qe())!==r&&Ke()!==r?(44===e.charCodeAt(he)?(i=",",he++):(i=r,0===be&&Ae(A)),i!==r&&Ke()!==r?("date"===e.substr(he,4)?(s="date",he+=4):(s=r,0===be&&Ae(U)),s===r&&("time"===e.substr(he,4)?(s="time",he+=4):(s=r,0===be&&Ae(F))),s!==r&&Ke()!==r?(u=he,44===e.charCodeAt(he)?(c=",",he++):(c=r,0===be&&Ae(A)),c!==r&&(l=Ke())!==r&&(d=function(){var t,n,o;t=he,"::"===e.substr(he,2)?(n="::",he+=2):(n=r,0===be&&Ae(C));n!==r&&(o=function(){var t,n,o,i;t=he,n=he,o=[],(i=Be())===r&&(i=We());if(i!==r)for(;i!==r;)o.push(i),(i=Be())===r&&(i=We());else o=r;n=o!==r?e.substring(n,he):o;n!==r&&(ge=t,n=a({type:1,pattern:n},ot()));return t=n}())!==r?(ge=t,t=n=o):(he=t,t=r);t===r&&(t=he,ge=he,nt.push("dateOrTimeArgStyle"),(n=(n=!0)?void 0:r)!==r&&(o=Re())!==r?(ge=t,n=T(o),t=n):(he=t,t=r));return t}())!==r?u=c=[c,l,d]:(he=u,u=r),u===r&&(u=null),u!==r&&(c=Ke())!==r?(125===e.charCodeAt(he)?(l="}",he++):(l=r,0===be&&Ae(y)),l!==r?(ge=t,n=x(o,s,u),t=n):(he=t,t=r)):(he=t,t=r)):(he=t,t=r)):(he=t,t=r)):(he=t,t=r);return t}());return t}())===r&&(t=function(){var t,n,i,s,u,c,l,d,f,p,h;t=he,123===e.charCodeAt(he)?(n="{",he++):(n=r,0===be&&Ae(v));if(n!==r)if(Ke()!==r)if((i=Qe())!==r)if(Ke()!==r)if(44===e.charCodeAt(he)?(s=",",he++):(s=r,0===be&&Ae(A)),s!==r)if(Ke()!==r)if("plural"===e.substr(he,6)?(u="plural",he+=6):(u=r,0===be&&Ae(V)),u===r&&("selectordinal"===e.substr(he,13)?(u="selectordinal",he+=13):(u=r,0===be&&Ae(B))),u!==r)if(Ke()!==r)if(44===e.charCodeAt(he)?(c=",",he++):(c=r,0===be&&Ae(A)),c!==r)if(Ke()!==r)if(l=he,"offset:"===e.substr(he,7)?(d="offset:",he+=7):(d=r,0===be&&Ae(W)),d!==r&&(f=Ke())!==r&&(p=$e())!==r?l=d=[d,f,p]:(he=l,l=r),l===r&&(l=null),l!==r)if((d=Ke())!==r){if(f=[],(p=Ge())!==r)for(;p!==r;)f.push(p),p=Ge();else f=r;f!==r&&(p=Ke())!==r?(125===e.charCodeAt(he)?(h="}",he++):(h=r,0===be&&Ae(y)),h!==r?(ge=t,n=function(e,t,n,r){return a({type:o.a.plural,pluralType:"plural"===t?"cardinal":"ordinal",value:e,offset:n?n[2]:0,options:r.reduce((function(e,t){var n=t.id,r=t.value,o=t.location;return n in e&&Se('Duplicate option "'+n+'" in plural element: "'+we()+'"',Oe()),e[n]={value:r,location:o},e}),{})},ot())}(i,u,l,f),t=n):(he=t,t=r)):(he=t,t=r)}else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;return t}())===r&&(t=function(){var t,n,i,s,u,c,l,d,f;t=he,123===e.charCodeAt(he)?(n="{",he++):(n=r,0===be&&Ae(v));if(n!==r)if(Ke()!==r)if((i=Qe())!==r)if(Ke()!==r)if(44===e.charCodeAt(he)?(s=",",he++):(s=r,0===be&&Ae(A)),s!==r)if(Ke()!==r)if("select"===e.substr(he,6)?(u="select",he+=6):(u=r,0===be&&Ae(z)),u!==r)if(Ke()!==r)if(44===e.charCodeAt(he)?(c=",",he++):(c=r,0===be&&Ae(A)),c!==r)if(Ke()!==r){if(l=[],(d=ze())!==r)for(;d!==r;)l.push(d),d=ze();else l=r;l!==r&&(d=Ke())!==r?(125===e.charCodeAt(he)?(f="}",he++):(f=r,0===be&&Ae(y)),f!==r?(ge=t,n=function(e,t){return a({type:o.a.select,value:e,options:t.reduce((function(e,t){var n=t.id,r=t.value,o=t.location;return n in e&&Se('Duplicate option "'+n+'" in select element: "'+we()+'"',Oe()),e[n]={value:r,location:o},e}),{})},ot())}(i,l),t=n):(he=t,t=r)):(he=t,t=r)}else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;else he=t,t=r;return t}())===r&&(t=function(){var t,n;t=he,35===e.charCodeAt(he)?(n="#",he++):(n=r,0===be&&Ae(d));n!==r&&(ge=t,n=a({type:o.a.pound},ot()));return t=n}()),t}function Re(){var t,n,o,i;if(t=he,ge=he,(n=(n=it)?void 0:r)!==r){if(o=[],(i=Ye())===r&&(i=Je())===r&&(i=Xe())===r&&(60===e.charCodeAt(he)?(i="<",he++):(i=r,0===be&&Ae(c))),i!==r)for(;i!==r;)o.push(i),(i=Ye())===r&&(i=Je())===r&&(i=Xe())===r&&(60===e.charCodeAt(he)?(i="<",he++):(i=r,0===be&&Ae(c)));else o=r;o!==r?(ge=t,t=n=l(o)):(he=t,t=r)}else he=t,t=r;if(t===r){if(t=he,n=[],(o=Ye())===r&&(o=Je())===r&&(o=Xe())===r&&(o=ke()),o!==r)for(;o!==r;)n.push(o),(o=Ye())===r&&(o=Je())===r&&(o=Xe())===r&&(o=ke());else n=r;n!==r&&(ge=t,n=l(n)),t=n}return t}function ke(){var t,n,o;return t=he,n=he,be++,(o=Ne())===r&&(o=Le())===r&&(o=Me()),be--,o===r?n=void 0:(he=n,n=r),n!==r?(60===e.charCodeAt(he)?(o="<",he++):(o=r,0===be&&Ae(c)),o!==r?(ge=t,t=n="<"):(he=t,t=r)):(he=t,t=r),t}function Me(){var t,n,i,s,u,l,d;return t=he,n=he,60===e.charCodeAt(he)?(i="<",he++):(i=r,0===be&&Ae(c)),i!==r&&(s=Ze())!==r&&(u=Ke())!==r?("/>"===e.substr(he,2)?(l="/>",he+=2):(l=r,0===be&&Ae(p)),l!==r?n=i=[i,s,u,l]:(he=n,n=r)):(he=n,n=r),n!==r&&(ge=t,d=n,n=a({type:o.a.literal,value:d.join("")},ot())),t=n}function Ne(){var t,n,o,i;return t=he,60===e.charCodeAt(he)?(n="<",he++):(n=r,0===be&&Ae(c)),n!==r&&(o=Ze())!==r?(62===e.charCodeAt(he)?(i=">",he++):(i=r,0===be&&Ae(h)),i!==r?(ge=t,t=n=o):(he=t,t=r)):(he=t,t=r),t}function Le(){var t,n,o,i;return t=he,"</"===e.substr(he,2)?(n="</",he+=2):(n=r,0===be&&Ae(g)),n!==r&&(o=Ze())!==r?(62===e.charCodeAt(he)?(i=">",he++):(i=r,0===be&&Ae(h)),i!==r?(ge=t,t=n=o):(he=t,t=r)):(he=t,t=r),t}function Ue(){var t,n,o,i,a;if(be++,t=he,n=[],o=he,i=he,be++,(a=qe())===r&&(w.test(e.charAt(he))?(a=e.charAt(he),he++):(a=r,0===be&&Ae(O))),be--,a===r?i=void 0:(he=i,i=r),i!==r?(e.length>he?(a=e.charAt(he),he++):(a=r,0===be&&Ae(S)),a!==r?o=i=[i,a]:(he=o,o=r)):(he=o,o=r),o!==r)for(;o!==r;)n.push(o),o=he,i=he,be++,(a=qe())===r&&(w.test(e.charAt(he))?(a=e.charAt(he),he++):(a=r,0===be&&Ae(O))),be--,a===r?i=void 0:(he=i,i=r),i!==r?(e.length>he?(a=e.charAt(he),he++):(a=r,0===be&&Ae(S)),a!==r?o=i=[i,a]:(he=o,o=r)):(he=o,o=r);else n=r;return t=n!==r?e.substring(t,he):n,be--,t===r&&(n=r,0===be&&Ae(b)),t}function Fe(){var t,n,o;return be++,t=he,47===e.charCodeAt(he)?(n="/",he++):(n=r,0===be&&Ae(j)),n!==r&&(o=Ue())!==r?(ge=t,t=n=o):(he=t,t=r),be--,t===r&&(n=r,0===be&&Ae(I)),t}function Ve(){var e,t,n,o;if(be++,e=he,Ke()!==r)if((t=Ue())!==r){for(n=[],o=Fe();o!==r;)n.push(o),o=Fe();n!==r?(ge=e,e=function(e,t){return{stem:e,options:t}}(t,n)):(he=e,e=r)}else he=e,e=r;else he=e,e=r;return be--,e===r&&(r,0===be&&Ae(E)),e}function Be(){var t,n,o,i;if(t=he,39===e.charCodeAt(he)?(n="'",he++):(n=r,0===be&&Ae(P)),n!==r){if(o=[],(i=Ye())===r&&(D.test(e.charAt(he))?(i=e.charAt(he),he++):(i=r,0===be&&Ae(R))),i!==r)for(;i!==r;)o.push(i),(i=Ye())===r&&(D.test(e.charAt(he))?(i=e.charAt(he),he++):(i=r,0===be&&Ae(R)));else o=r;o!==r?(39===e.charCodeAt(he)?(i="'",he++):(i=r,0===be&&Ae(P)),i!==r?t=n=[n,o,i]:(he=t,t=r)):(he=t,t=r)}else he=t,t=r;if(t===r)if(t=[],(n=Ye())===r&&(k.test(e.charAt(he))?(n=e.charAt(he),he++):(n=r,0===be&&Ae(M))),n!==r)for(;n!==r;)t.push(n),(n=Ye())===r&&(k.test(e.charAt(he))?(n=e.charAt(he),he++):(n=r,0===be&&Ae(M)));else t=r;return t}function We(){var t,n;if(t=[],N.test(e.charAt(he))?(n=e.charAt(he),he++):(n=r,0===be&&Ae(L)),n!==r)for(;n!==r;)t.push(n),N.test(e.charAt(he))?(n=e.charAt(he),he++):(n=r,0===be&&Ae(L));else t=r;return t}function ze(){var t,n,o,i,s,u,c;return t=he,Ke()!==r&&(n=tt())!==r&&Ke()!==r?(123===e.charCodeAt(he)?(o="{",he++):(o=r,0===be&&Ae(v)),o!==r?(ge=he,nt.push("select"),(!0?void 0:r)!==r&&(i=Pe())!==r?(125===e.charCodeAt(he)?(s="}",he++):(s=r,0===be&&Ae(y)),s!==r?(ge=t,u=n,c=i,nt.pop(),t=a({id:u,value:c},ot())):(he=t,t=r)):(he=t,t=r)):(he=t,t=r)):(he=t,t=r),t}function Ge(){var t,n,o,i,s,u,c;return t=he,Ke()!==r&&(n=function(){var t,n,o,i;return t=he,n=he,61===e.charCodeAt(he)?(o="=",he++):(o=r,0===be&&Ae(G)),o!==r&&(i=$e())!==r?n=o=[o,i]:(he=n,n=r),(t=n!==r?e.substring(t,he):n)===r&&(t=tt()),t}())!==r&&Ke()!==r?(123===e.charCodeAt(he)?(o="{",he++):(o=r,0===be&&Ae(v)),o!==r?(ge=he,nt.push("plural"),(!0?void 0:r)!==r&&(i=Pe())!==r?(125===e.charCodeAt(he)?(s="}",he++):(s=r,0===be&&Ae(y)),s!==r?(ge=t,u=n,c=i,nt.pop(),t=a({id:u,value:c},ot())):(he=t,t=r)):(he=t,t=r)):(he=t,t=r)):(he=t,t=r),t}function qe(){var t;return be++,H.test(e.charAt(he))?(t=e.charAt(he),he++):(t=r,0===be&&Ae(K)),be--,t===r&&(r,0===be&&Ae(q)),t}function He(){var t;return be++,Y.test(e.charAt(he))?(t=e.charAt(he),he++):(t=r,0===be&&Ae(J)),be--,t===r&&(r,0===be&&Ae($)),t}function Ke(){var t,n,o;for(be++,t=he,n=[],o=qe();o!==r;)n.push(o),o=qe();return t=n!==r?e.substring(t,he):n,be--,t===r&&(n=r,0===be&&Ae(X)),t}function $e(){var t,n,o,i,a;return be++,t=he,45===e.charCodeAt(he)?(n="-",he++):(n=r,0===be&&Ae(Z)),n===r&&(n=null),n!==r&&(o=et())!==r?(ge=t,i=n,t=n=(a=o)?i?-a:a:0):(he=t,t=r),be--,t===r&&(n=r,0===be&&Ae(Q)),t}function Ye(){var t,n;return be++,t=he,"''"===e.substr(he,2)?(n="''",he+=2):(n=r,0===be&&Ae(te)),n!==r&&(ge=t,n="'"),be--,(t=n)===r&&(n=r,0===be&&Ae(ee)),t}function Je(){var t,n,o,i,a,s;if(t=he,39===e.charCodeAt(he)?(n="'",he++):(n=r,0===be&&Ae(P)),n!==r)if((o=function(){var t,n,o,i;t=he,n=he,e.length>he?(o=e.charAt(he),he++):(o=r,0===be&&Ae(S));o!==r?(ge=he,(i=(i="<"===(a=o)||">"===a||"{"===a||"}"===a||rt()&&"#"===a)?void 0:r)!==r?n=o=[o,i]:(he=n,n=r)):(he=n,n=r);var a;t=n!==r?e.substring(t,he):n;return t}())!==r){for(i=he,a=[],"''"===e.substr(he,2)?(s="''",he+=2):(s=r,0===be&&Ae(te)),s===r&&(D.test(e.charAt(he))?(s=e.charAt(he),he++):(s=r,0===be&&Ae(R)));s!==r;)a.push(s),"''"===e.substr(he,2)?(s="''",he+=2):(s=r,0===be&&Ae(te)),s===r&&(D.test(e.charAt(he))?(s=e.charAt(he),he++):(s=r,0===be&&Ae(R)));(i=a!==r?e.substring(i,he):a)!==r?(39===e.charCodeAt(he)?(a="'",he++):(a=r,0===be&&Ae(P)),a===r&&(a=null),a!==r?(ge=t,t=n=o+i.replace("''","'")):(he=t,t=r)):(he=t,t=r)}else he=t,t=r;else he=t,t=r;return t}function Xe(){var t,n,o,i;return t=he,n=he,e.length>he?(o=e.charAt(he),he++):(o=r,0===be&&Ae(S)),o!==r?(ge=he,(i=(i=ne(o))?void 0:r)!==r?n=o=[o,i]:(he=n,n=r)):(he=n,n=r),n===r&&(10===e.charCodeAt(he)?(n="\n",he++):(n=r,0===be&&Ae(re))),t=n!==r?e.substring(t,he):n}function Qe(){var t,n;return be++,t=he,(n=et())===r&&(n=tt()),t=n!==r?e.substring(t,he):n,be--,t===r&&(n=r,0===be&&Ae(oe)),t}function Ze(){var t,n;return be++,t=he,(n=et())===r&&(n=function(){var t,n,o,i,a;be++,t=he,n=[],45===e.charCodeAt(he)?(o="-",he++):(o=r,0===be&&Ae(Z));o===r&&(o=he,i=he,be++,(a=qe())===r&&(a=He()),be--,a===r?i=void 0:(he=i,i=r),i!==r?(e.length>he?(a=e.charAt(he),he++):(a=r,0===be&&Ae(S)),a!==r?o=i=[i,a]:(he=o,o=r)):(he=o,o=r));if(o!==r)for(;o!==r;)n.push(o),45===e.charCodeAt(he)?(o="-",he++):(o=r,0===be&&Ae(Z)),o===r&&(o=he,i=he,be++,(a=qe())===r&&(a=He()),be--,a===r?i=void 0:(he=i,i=r),i!==r?(e.length>he?(a=e.charAt(he),he++):(a=r,0===be&&Ae(S)),a!==r?o=i=[i,a]:(he=o,o=r)):(he=o,o=r));else n=r;t=n!==r?e.substring(t,he):n;be--,t===r&&(n=r,0===be&&Ae(pe));return t}()),t=n!==r?e.substring(t,he):n,be--,t===r&&(n=r,0===be&&Ae(ie)),t}function et(){var t,n,o,i,a;if(be++,t=he,48===e.charCodeAt(he)?(n="0",he++):(n=r,0===be&&Ae(se)),n!==r&&(ge=t,n=0),(t=n)===r){if(t=he,n=he,ue.test(e.charAt(he))?(o=e.charAt(he),he++):(o=r,0===be&&Ae(ce)),o!==r){for(i=[],le.test(e.charAt(he))?(a=e.charAt(he),he++):(a=r,0===be&&Ae(de));a!==r;)i.push(a),le.test(e.charAt(he))?(a=e.charAt(he),he++):(a=r,0===be&&Ae(de));i!==r?n=o=[o,i]:(he=n,n=r)}else he=n,n=r;n!==r&&(ge=t,n=parseInt(n.join(""),10)),t=n}return be--,t===r&&(n=r,0===be&&Ae(ae)),t}function tt(){var t,n,o,i,a;if(be++,t=he,n=[],o=he,i=he,be++,(a=qe())===r&&(a=He()),be--,a===r?i=void 0:(he=i,i=r),i!==r?(e.length>he?(a=e.charAt(he),he++):(a=r,0===be&&Ae(S)),a!==r?o=i=[i,a]:(he=o,o=r)):(he=o,o=r),o!==r)for(;o!==r;)n.push(o),o=he,i=he,be++,(a=qe())===r&&(a=He()),be--,a===r?i=void 0:(he=i,i=r),i!==r?(e.length>he?(a=e.charAt(he),he++):(a=r,0===be&&Ae(S)),a!==r?o=i=[i,a]:(he=o,o=r)):(he=o,o=r);else n=r;return t=n!==r?e.substring(t,he):n,be--,t===r&&(n=r,0===be&&Ae(fe)),t}var nt=["root"];function rt(){return"plural"===nt[nt.length-1]}function ot(){return t&&t.captureLocation?{location:Oe()}:{}}var it=t&&t.ignoreTag;if((n=u())!==r&&he===e.length)return n;throw n!==r&&he<e.length&&Ae({type:"end"}),_e(ye,ve<e.length?e.charAt(ve):null,ve<e.length?Te(ve,ve+1):Te(ve,ve))},c=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},l=/(^|[^\\])#/g;function d(e,t){var n=u(e,t);return t&&!1===t.normalizeHashtagInPlural||function e(t){t.forEach((function(t){(Object(o.h)(t)||Object(o.j)(t))&&Object.keys(t.options).forEach((function(n){for(var r,i=t.options[n],a=-1,s=void 0,d=0;d<i.value.length;d++){var f=i.value[d];if(Object(o.e)(f)&&l.test(f.value)){a=d,s=f;break}}if(s){var p=s.value.replace(l,"$1{"+t.value+", number}"),h=u(p);(r=i.value).splice.apply(r,c([a,1],h))}e(i.value)}))}))}(n),n}},function(e,t,n){"use strict";n.r(t),n.d(t,"ApplicationSession",(function(){return i})),n.d(t,"UserSession",(function(){return a.a})),n.d(t,"fetchToken",(function(){return o.a})),n.d(t,"generateToken",(function(){return s.a}));var r=n(5),o=n(75),i=function(){function e(e){this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.token=e.token,this.expires=e.expires,this.portal=e.portal||"https://www.arcgis.com/sharing/rest",this.duration=e.duration||7200}return e.prototype.getToken=function(e,t){return this.token&&this.expires&&this.expires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequest||(this._pendingTokenRequest=this.refreshToken(t)),this._pendingTokenRequest)},e.prototype.refreshToken=function(e){var t=this,n=r.a({params:{client_id:this.clientId,client_secret:this.clientSecret,grant_type:"client_credentials",expiration:this.duration}},e);return Object(o.a)(this.portal+"/oauth2/token/",n).then((function(e){return t._pendingTokenRequest=null,t.token=e.token,t.expires=e.expires,e.token}))},e.prototype.refreshSession=function(){var e=this;return this.refreshToken().then((function(){return e}))},e}(),a=n(58),s=n(97)},function(e,t,n){"use strict";(function(e,r){var o,i=n(192);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(112),n(145)(e))},function(e,t,n){"use strict";(function(e){var r=n(133),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.a.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();t.a=s}).call(this,n(145)(e))},,function(e,t,n){var r=n(163),o=n(166),i=n(212);function a(e,t){return new i(t).process(e)}for(var s in(t=e.exports=a).filterXSS=a,t.FilterXSS=i,r)t[s]=r[s];for(var s in o)t[s]=o[s];"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},function(e,t,n){var r=n(146).FilterCSS,o=n(146).getDefaultWhiteList,i=n(147);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var s=new r;function u(e){return e.replace(c,"&lt;").replace(l,"&gt;")}var c=/</g,l=/>/g,d=/"/g,f=/&quot;/g,p=/&#([a-zA-Z0-9]*);?/gim,h=/&colon;?/gim,g=/&newline;?/gim,m=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,v=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,y=/u\s*r\s*l\s*\(.*/gi;function b(e){return e.replace(d,"&quot;")}function w(e){return e.replace(f,'"')}function O(e){return e.replace(p,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function S(e){return e.replace(h,":").replace(g," ")}function I(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return i.trim(t)}function j(e){return e=I(e=S(e=O(e=w(e))))}function E(e){return e=u(e=b(e))}var C=/<!--[\s\S]*?-->/g;t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},t.getDefaultWhiteList=a,t.onTag=function(e,t,n){},t.onIgnoreTag=function(e,t,n){},t.onTagAttr=function(e,t,n){},t.onIgnoreTagAttr=function(e,t,n){},t.safeAttrValue=function(e,t,n,r){if(n=j(n),"href"===t||"src"===t){if("#"===(n=i.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(m.lastIndex=0,m.test(n))return""}else if("style"===t){if(v.lastIndex=0,v.test(n))return"";if(y.lastIndex=0,y.test(n)&&(m.lastIndex=0,m.test(n)))return"";!1!==r&&(n=(r=r||s).process(n))}return n=E(n)},t.escapeHtml=u,t.escapeQuote=b,t.unescapeQuote=w,t.escapeHtmlEntities=O,t.escapeDangerHtml5Entities=S,t.clearNonPrintableCharacter=I,t.friendlyAttrValue=j,t.escapeAttrValue=E,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(a,s,u){if(function(t){return!!n||-1!==i.indexOf(e,t)}(a)){if(u.isClosing){var c="[/removed]",l=u.position+c.length;return r.push([!1!==o?o:u.position,l]),o=!1,c}return o||(o=u.position),"[removed]"}return t(a,s,u)},remove:function(e){var t="",n=0;return i.forEach(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},t.stripCommentTag=function(e){return e.replace(C,"")},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},t.cssFilter=s,t.getDefaultCSSWhiteList=o},function(e,t){function n(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var r=/javascript\s*\:/gim;t.whiteList=n(),t.getDefaultWhiteList=n,t.onAttr=function(e,t,n){},t.onIgnoreAttr=function(e,t,n){},t.safeAttrValue=function(e,t){return r.test(t)?"":t}},function(e,t){e.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},function(e,t,n){var r=n(147);function o(e){var t=r.spaceIndex(e);if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=r.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function i(e){return"</"===e.slice(0,2)}var a=/[^a-zA-Z0-9_:\.\-]/gim;function s(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function u(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function c(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,n){"use strict";var r="",a=0,s=!1,u=!1,c=0,l=e.length,d="",f="";for(c=0;c<l;c++){var p=e.charAt(c);if(!1===s){if("<"===p){s=c;continue}}else if(!1===u){if("<"===p){r+=n(e.slice(a,c)),s=c,a=c;continue}if(">"===p){r+=n(e.slice(a,s)),d=o(f=e.slice(s,c+1)),r+=t(s,r.length,d,f,i(f)),a=c+1,s=!1;continue}if(('"'===p||"'"===p)&&"="===e.charAt(c-1)){u=p;continue}}else if(p===u){u=!1;continue}}return a<e.length&&(r+=n(e.substr(a))),r},t.parseAttr=function(e,t){"use strict";var n=0,o=[],i=!1,l=e.length;function d(e,n){if(!((e=(e=r.trim(e)).replace(a,"").toLowerCase()).length<1)){var i=t(e,n||"");i&&o.push(i)}}for(var f=0;f<l;f++){var p,h=e.charAt(f);if(!1!==i||"="!==h)if(!1===i||f!==n||'"'!==h&&"'"!==h||"="!==e.charAt(f-1))if(/\s|\n|\t/.test(h)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(p=s(e,f))){d(r.trim(e.slice(n,f))),i=!1,n=f+1;continue}f=p-1;continue}if(-1===(p=u(e,f-1))){d(i,c(r.trim(e.slice(n,f)))),i=!1,n=f+1;continue}}else;else{if(-1===(p=e.indexOf(h,f+1)))break;d(i,r.trim(e.slice(n+1,p))),i=!1,n=(f=p)+1}else i=e.slice(n,f),n=f+1}return n<e.length&&(!1===i?d(e.slice(n)):d(i,c(r.trim(e.slice(n))))),r.trim(o.join(" "))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";n.r(t),n.d(t,"withStyles",(function(){return w})),n.d(t,"getThemeNameFromUri",(function(){return O})),n.d(t,"lighten",(function(){return I})),n.d(t,"darken",(function(){return j})),n.d(t,"valueOf",(function(){return E})),n.d(t,"pathOf",(function(){return C})),n.d(t,"varsOf",(function(){return T})),n.d(t,"isCSSVar",(function(){return A})),n.d(t,"color",(function(){return _})),n.d(t,"withBuilderStyle",(function(){return P})),n.d(t,"withBuilderTheme",(function(){return D})),n.d(t,"getBuilderThemeVariables",(function(){return R})),n.d(t,"getMappedShareThemeVariables",(function(){return k})),n.d(t,"getThemeVariablesByCategory",(function(){return M})),n.d(t,"appendSharedTheme",(function(){return N}));var r=n(0),o=n(105),i=n(55);n.d(t,"withTheme",(function(){return i.b}));var a=n(30),s=n(38),u=n(103),c=n(2),l=n(62),d=n(110),f=n(32),p=n(61),h=n(107),g=n.n(h),m=n(9),v=n(12),y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b=/^var\(--(.+?)\)$/;function w(e,t){var n=t||e.displayName||e.name||"";return Object(o.a)(e)((function(e){return s.a.getInstance().getComponentStyles(n,e)}))}function O(e){if(!e)return null;var t=e.split("/"),n=null;return t.length>1?n=t.pop():1===t.length&&(n=t[0]),n}function S(e,t,n){if(!e||!t||!n)return null;var r,o=Object(l.a)(n,e),i=Object(l.a)(n,["palette",e]),a=o&&i&&Object.keys(i).find((function(e){if(Object(d.a)(Object(f.h)(i[e]),Object(f.h)(o)))return e}));return a&&(r=parseInt(a)+100*t),r}function I(e,t,n){if(!e||!t||!n)return null;var r=Object(l.a)(n,["palette",e]),o=S(e,-t,n);return o<100?n.white:r[o]}function j(e,t,n){if(!e||!t||!n)return null;var r=Object(l.a)(n,["palette",e]),o=S(e,t,n);return o>900?n.black:r[o]}function E(e,t){if("string"!=typeof e)return null;if(!t){var n=Object(c.b)()&&Object(c.b)().getState().appConfig&&Object(c.b)().getState().appConfig.theme;t=window.jimuConfig.isInBuilder?s.a.getInAppInstance().getThemeVariables(n):s.a.getInstance().getThemeVariables(n)}return Object(l.a)(t,e)}function C(e,t,n){if("string"!=typeof e)return e;if(/^var\(--(.+?)\)$/.test(e))return e;if(!n){var r=Object(c.b)()&&Object(c.b)().getState().appConfig&&Object(c.b)().getState().appConfig.theme;n=window.jimuConfig.isInBuilder?s.a.getInAppInstance().getThemeVariables(r):s.a.getInstance().getThemeVariables(r)}var o=n.colors.palette;if(!o)return e;var i=e,a=[100,200,300,400,500,600,700,800,900],l=!1;return Object.keys(u.f).some((function(n){n=n.toLowerCase();var r=o[n];return a.some((function(o){return r[o]===e&&(l=!0,i=t?"var(--"+n+"-"+o+")":"colors.palette."+n+"."+o,!0)})),l})),i}function T(e,t){return t||(t=Object(c.b)()&&Object(c.b)().getState().appConfig&&Object(c.b)().getState().appConfig.theme),(window.jimuConfig.isInBuilder?s.a.getInAppInstance().getRawThemeVariables(t):s.a.getInstance().getRawThemeVariables(t)).getIn(["components",e])}function A(e){return b.test(e)}function _(e,t){if("string"!=typeof e)return null;var n,r="colors";this.isCSSVar(e)?n=e.match(b)[1].split("-"):n=e.split(".");return n.length>1&&parseInt(n[1])%100==0&&(r="colors.palette"),E(r+"."+n.join("."),t)||e}function x(){if(window.jimuConfig.isInBuilder)return window.parent._appState}function P(e,t){if(!window.jimuConfig.isInBuilder)return e;var n=function(){if(window.jimuConfig.isInBuilder)return window.parent._themeManager}(),s=x(),u=s.appContext.isRTL?Object(p.a)({stylisPlugins:g.a}):Object(p.a)(),c=t||e.displayName||e.name||"",l=Object(o.a)(e)((function(e){return n.getComponentStyles(c,e)}));return function(e){return r.createElement(i.a,{theme:n.getThemeVariables(s.appConfig.theme)},r.createElement(a.a,{value:u},r.createElement(l,y({},e))))}}function D(e,t){if(!window.jimuConfig.isInBuilder)return e;var n=x(),o=n.appContext.isRTL?Object(p.a)({stylisPlugins:g.a}):Object(p.a)(),s=Object(i.b)(e);return function(e){return r.createElement(i.a,{theme:n.theme},r.createElement(a.a,{value:o},r.createElement(s,y({},e))))}}function R(){return window.jimuConfig.isInBuilder?x().theme:null}function k(e){var t,n=s.a.getInstance().getSharedThemeJson();if(window.jimuConfig.isInBuilder&&(n=s.a.getInAppInstance().getSharedThemeJson()),n){var r=n.header,o=n.body,i=n.button,a=n.logo,u=n.fonts;t=m({sharedThemeVariables:{header:y({},L(r)),body:y({},L(o)),button:y({},L(i)),logo:a,fonts:u}}),e&&(t=m({colors:y({},U(null==i?void 0:i.background)&&{primary:i.background}),header:t.sharedThemeVariables.header,body:t.sharedThemeVariables.body,components:y({},U(null==i?void 0:i.text)&&{button:{variants:{primary:{default:{color:i.text}}}}}),link:U(null==o?void 0:o.link)?{color:null==o?void 0:o.link,hover:{color:null==o?void 0:o.link}}:{}}))}return t}function M(e,t){var n,r,o,i,a,l,d,f,p,h=u.a[e];return window.jimuConfig.isBuilder&&!t?(f=null===(i=null===(o=null===(r=null===(n=Object(c.b)())||void 0===n?void 0:n.getState())||void 0===r?void 0:r.appStateInBuilder)||void 0===o?void 0:o.appConfig)||void 0===i?void 0:i.theme,p=s.a.getInAppInstance().getThemeVariables(f)):(f=null===(d=null===(l=null===(a=Object(c.b)())||void 0===a?void 0:a.getState())||void 0===l?void 0:l.appConfig)||void 0===d?void 0:d.theme,p=s.a.getInstance().getThemeVariables(f)),h.map((function(e){var t,n=p.getIn(["components",e]),r=null!==(t=null==n?void 0:n.variants)&&void 0!==t?t:m({default:n});if("navButtonGroup"===e){var o=m({});return["default","primary","tertiary"].forEach((function(e){var t,n=null===(t=null==r?void 0:r[e])||void 0===t?void 0:t.item,i=p.getIn(["components","button","variants",e]).merge(null!=n?n:{},{deep:!0});o=o.set(e,y(y({},r[e]),{item:i}))})),{component:e,styles:o}}return{component:e,styles:r}}))}function N(e){var t,n=(null==e?void 0:e.theme)===v.SHARED_THEME,r=this.getMappedShareThemeVariables(n);return(null==e?void 0:e.theme)===v.SHARED_THEME||!Object(d.a)(null===(t=null==e?void 0:e.customTheme)||void 0===t?void 0:t.sharedThemeVariables,null==r?void 0:r.sharedThemeVariables)?y(y({},null==e?void 0:e.customTheme),r):null==e?void 0:e.customTheme}function L(e){return e?y(y(y({},U(e.background)&&{bg:e.background}),U(e.text)&&{color:e.text}),U(e.link)&&{link:e.link}):{}}function U(e){return"string"==typeof e&&"no-color"!==e}},function(e,t,n){"use strict";n.r(t),n.d(t,"triggerEvent",(function(){return i}));var r=n(139),o=n(89);function i(e){if("undefined"!=typeof window){var t=e.key;-1!==navigator.userAgent.indexOf("Edge")&&(Object(r.a)(e)||o.a[e.keyCode]||(t="key"+t));var n=new KeyboardEvent(e.type,{key:t+"-manual",code:e.code,location:e.location,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,repeat:e.repeat,charCode:e.charCode,keyCode:e.keyCode,which:e.which});document.dispatchEvent(n)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"CheckTarget",(function(){return r})),n.d(t,"InvalidInfo",(function(){return o})),n.d(t,"checkAccess",(function(){return d})),n.d(t,"getAccessCapabilities",(function(){return f})),n.d(t,"checkExbAccess",(function(){return p}));var r,o,i=n(40),a=n(2),s=n(52),u=n(21),c=n(33),l=n(22);!function(e){e.AppList="AppList",e.Builder="Builder",e.Experience="Experience"}(r||(r={})),function(e){e.InvalidUserLevel="InvalidUserLevel",e.InvalidPrivilege="InvalidPrivilege",e.InvalidLicense="InvalidLicense",e.InvalidAppBlockedByOrg="InvalidAppBlockedByOrg",e.InvalidResourceExperience="InvalidResourceExperience",e.InvalidResourceItem="InvalidResourceItem",e.InvalidResourcePermission="InvalidResourcePermission",e.NullInfo=""}(o||(o={}));function d(e){return p(e).then((function(e){return e.valid}))}function f(e){return w(e).then((function(e){return g(e)}))}function p(e){return w(e).then((function(t){var n=function(e){var t=Object(a.b)().getState().portalUrl,n=function(){var e=Object(a.b)().getState();return e.appId||e.queryObject.id||e.queryObject.template}(),o={valid:!0,isExperience:!0,isValidItem:!0,hasPermissionToAccess:!0};return e===r.AppList||window.jimuConfig.isDevEdition?Promise.resolve(o):n?/\.json$/.test(n)||/^https/.test(n)?Promise.resolve(o):y(t,n).then((function(e){return!e||"Web Experience"!==e.type&&"Web Experience Template"!==e.type?(o.valid=!1,o.isExperience=!1,o):o})).catch((function(e){return e&&"CONT_0001"===e.code?(o.valid=!1,o.isValidItem=!1):(o.valid=!1,o.hasPermissionToAccess=!1),o})):Promise.resolve(o)}(e),i=function(e){return window.jimuConfig.isDevEdition||e!==r.Builder&&e!==r.AppList?Promise.resolve(!0):v().then((function(e){return!(!e||!e.orgId)})).catch((function(){return!1}))}(e),s=function(e){return h(e).then((function(t){return window.jimuConfig.isDevEdition&&t&&(e===r.Builder||e===r.AppList)?v().then((function(e){return!(!e||"2"!==e.level)})).catch((function(){return!1})):Promise.resolve(!0)}))}(e),u=function(e,t){return g(t).then((function(t){var n={valid:!1,capabilities:t,invalidInfo:o.NullInfo,invalidMessage:""};if(window.jimuConfig.isDevEdition){if(e===r.AppList)return n.valid=t.canCreateExperience,n;if(e===r.Builder)return n.valid=t.canCreateExperience,n;if(e===r.Experience)return n.valid=!0,n}else{if(e===r.AppList)return n.valid=!0,n;if(e===r.Builder)return n.valid=t.canCreateExperience,n;if(e===r.Experience)return n.valid=!0,n}}))}(e,t),c=function(e,t){var n=Object(a.b)().getState(),o=n.portalUrl;return window.jimuConfig.isDevEdition?Promise.resolve({valid:!0,viewOnly:!1}):e===r.Builder||e===r.AppList?Promise.resolve(t):n.appId?/^\/templates\/.*\.json$/.test(n.appId)?Promise.resolve({valid:!0,viewOnly:!1}):function(e,t){return y(e,t).then((function(e){return e&&"public"===e.access}))}(o,n.appId).then((function(e){return e&&(t.valid||"OAUTH_0070"!==t.messageCode)?{valid:!0,viewOnly:!1}:t})).catch((function(e){return{valid:!0,viewOnly:!1}})):Promise.resolve({valid:!0,viewOnly:!1})}(e,t);return Promise.all([n,i,s,u,c])})).then((function(t){var n=t[0],i=t[1],a=t[2],s=t[3],u=t[4],d={valid:n.valid&&i&&a&&s.valid&&u.valid&&(e!==r.Builder||!u.viewOnly),capabilities:{canViewExperience:a&&s.capabilities.canViewExperience&&u.valid,canCreateExperience:a&&s.capabilities.canCreateExperience&&u.valid&&!u.viewOnly,canUpdateExperience:a&&s.capabilities.canUpdateExperience&&u.valid&&!u.viewOnly,canDeleteExperience:a&&s.capabilities.canDeleteExperience&&u.valid&&!u.viewOnly,canShareExperience:a&&s.capabilities.canShareExperience&&u.valid&&!u.viewOnly},invalidInfo:o.NullInfo,invalidMessage:""};return d.invalidInfo=function(e,t,n,i,a,s){var u=o.NullInfo;u=i?s.valid?!a.valid||!n||e===r.Builder&&s.viewOnly?o.InvalidPrivilege:t.valid?o.NullInfo:t.isExperience?t.isValidItem?o.InvalidResourcePermission:o.InvalidResourceItem:o.InvalidResourceExperience:"OAUTH_0070"===s.messageCode?o.InvalidAppBlockedByOrg:o.InvalidLicense:o.InvalidUserLevel;return u}(e,n,i,a,s,u),d.invalidMessage=function(e,t){var n=Object(c.getIntl)(),i=m(),a="";i?t===o.InvalidLicense?e===r.Builder||e===r.AppList?a=n.formatMessage({id:"essentialAppsLicenseErrorForBuilder",defaultMessage:l.a.essentialAppsLicenseErrorForBuilder}):e===r.Experience&&(a=n.formatMessage({id:"essentialAppsLicenseErrorForApp",defaultMessage:l.a.essentialAppsLicenseErrorForApp})):t===o.InvalidAppBlockedByOrg?e===r.Builder||e===r.AppList?a=n.formatMessage({id:"blockedByAdminErrorForBuilder",defaultMessage:l.a.blockedByAdminErrorForBuilder}):e===r.Experience&&(a=n.formatMessage({id:"blockedByAdminErrorForApp",defaultMessage:l.a.blockedByAdminErrorForApp})):t===o.InvalidPrivilege?a=window.jimuConfig.isDevEdition?n.formatMessage({id:"roleError2",defaultMessage:l.a.roleError2}):n.formatMessage({id:"noEditContentPrivilegesError",defaultMessage:l.a.noEditContentPrivilegesError}):t===o.InvalidUserLevel?a=n.formatMessage({id:"roleError",defaultMessage:l.a.roleError}):t===o.InvalidResourceExperience?a=n.formatMessage({id:"invalidResourceExperience",defaultMessage:l.a.invalidResourceExperience}):t===o.InvalidResourceItem?a=n.formatMessage({id:"invalidResourceItem",defaultMessage:l.a.invalidResourceItem}):t===o.InvalidResourcePermission&&(a=n.formatMessage({id:"invalidResourcePermission",defaultMessage:l.a.invalidResourcePermission})):a="";return a}(e,d.invalidInfo),d}))}function h(e){return!window.jimuConfig.isDevEdition||e!==r.Builder&&e!==r.AppList?Promise.resolve(!1):(t=Object(a.b)().getState(),n=t.portalSelf,o=t.portalUrl,n?Promise.resolve(n):o?Object(s.initPortalSelf)(o):Promise.resolve(null)).then((function(e){return!!(e&&e.isPortal&&Number(e.currentVersion)<=6.1)}));var t,n,o}function g(e){return v().then((function(e){return!!(e&&e.privileges&&e.privileges.indexOf&&e.privileges.indexOf("portal:user:createItem")>-1)})).catch((function(){return!1})).then((function(t){var n=t&&e.valid&&!e.viewOnly;return{canViewExperience:!0,canCreateExperience:n,canUpdateExperience:n,canDeleteExperience:n,canShareExperience:n}}))}function m(){return u.b.getInstance().getMainSession()}function v(){var e=m();return e?e.getUser().then((function(e){return e})).catch((function(t){return console.log(t&&t.message,"You are currently signed in as: '"+e.username+"'."),Promise.reject()})):(console.log("The user has not signed in."),Promise.reject())}function y(e,t){var n=m(),r=Object(a.b)().getState().appInfo;return r&&r.name?Promise.resolve(r):Object(s.getAppInfo)(t).then((function(e){return e})).catch((function(e){return console.log(e&&e.message,"You are currently signed in as: '"+(null==n?void 0:n.username)+"'."),Promise.reject(e)}))}var b=null;function w(e){var t=Object(a.b)().getState().portalUrl;return b||(b=h(e).then((function(e){return e?Promise.resolve({valid:!0,viewOnly:!1}):function(e,t,n){var r={valid:!1,viewOnly:!1,messageCode:""},o=u.b.getInstance().getSessionByUrl(e);if(o){var a=o.portal+"/oauth2/validateAppAccess?client_id="+t;return Object(i.d)(a,{authentication:o}).then((function(e){return!1===e.valid?(r.messageCode=e.messageCode||"",console.log("not-authorized","You are currently signed in as: '"+o.username+"'.")):(r.valid=!0,r.viewOnly=!!e.viewOnlyUserTypeApp),r})).catch((function(e){return console.log(e&&e.message,"You are currently signed in as: '"+o.username+"'."),Promise.resolve(r)}))}return Promise.resolve(r)}(t,"experienceBuilder")}))),b}},function(e,t,n){"use strict";var r,o=n(0),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(o.PureComponent);t.a=a},function(e){e.exports=JSON.parse('{"exbVersion":"1.3.0","exbBuildNum":"559","exbBuildCommit":"7b8614f617db41ba07a5b4c8d7eaacc16c9a0d2f","exbExtensionsBuildCommit":"5f5a7b0170203561ea25459f4fcac52491e4e97b","exbBuildDate":"20210111.140227.CST","productVersion":"ArcGIS Experience Builder"}')},function(e,t,n){var r=n(216),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){var r=n(173).Symbol;e.exports=r},function(e,t){},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Loading="LOADING",e.Loaded="LOADED",e.Failed="FAILED"}(r||(r={}))},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="exb_user_settings"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);function o(e){return e.error?r.createElement("div",null,"Error! ",r.createElement("button",{onClick:e.retry},"Retry")):e.pastDelay?r.createElement("div",null,"Loading..."):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,o,i,a,s=n(91),u=n(27),c=n(21),l=n(14),d=n(15),f=n(2);function p(e){return Object(s.b)("jimu-arcgis").then((function(){return r||(r=Object(d.loadModules)(["esri/identity/IdentityManager","esri/identity/OAuthInfo","esri/config"]).then((function(e){i=e[0],o=e[1],a=e[2],i.useSignInPage=!1;var t=c.b.getInstance(),n=Object(f.b)().getState().portalUrl,r=t.getMainPortal();(null==r?void 0:r.isWebTier)||h(n),h("https://devext.arcgis.com"),h("https://qaext.arcgis.com"),h("https://www.arcgis.com"),g(t.getSessions()),t.addSessionChangeListener(m),i.on("credential-create",(function(e){var t=e.credential;c.b.getInstance().addFromArcGisJSCredential(t)}))})).then((function(){return Object(d.loadModules)(["dojo/promise/Promise","esri/config"])})).then((function(e){e[0];e[1].request.proxyUrl=Object(u.getPortalProxyUrl)(Object(f.b)().getState().portalUrl)}))),r.then((function(){return Object(d.loadModules)(e)}))}))}function h(e){var t=i.findOAuthInfo(e);if(!t){var n=Object(f.b)().getState().clientId,r=Object(l.normalize)(""+window.location.origin+Object(l.getFolder)(Object(d.resolveModuleFullPath)("jimu-arcgis"))+"/oauth-callback.html");t=new o({appId:n,expiration:20159,portalUrl:e,authNamespace:"/",popup:!0,popupCallbackUrl:r}),i.registerOAuthInfos([t])}}function g(e){i.destroyCredentials(),function(){var e=c.b.getInstance().getMainPortal(),t=c.b.getInstance().getTrustedServers();(null==e?void 0:e.isWebTier)&&a.request.trustedServers.push(e.portalUrl);t.forEach((function(e){a.request.trustedServers.indexOf(e)<0&&a.request.trustedServers.push(e)}))}(),e&&e.forEach((function(e){var t=e.toCredential();i.registerToken(t),(t=i.findCredential(t.server))&&!i.findOAuthInfo(t.server)&&(t.scope="server")}))}function m(e,t){t!==c.a.ArcGISJSSync&&g(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(15),o=n(20),i=n(30),a=n(85),s=n(0),u=n(17),c=n(3),l=n(94),d=n(125),f=n(111),p=n(22),h=n(31),g=n(39),m=n(8),v=n(12),y=n(9),b=n(2),w=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},O=function(){return(O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},I=i.e,j=i.d,E=s.useEffect,C=s.useState,T=s.useRef,A=[{name:"preventOverflow",options:{altAxis:!0}}];function _(e){var t=Object(o.useSelector)((function(e){return e.queryObject.draft}))?"draft":"release",n=Object(o.useSelector)((function(e){return e.appConfig.timestamp})),r=Object(o.useSelector)((function(e){return e.appRuntimeInfo.currentPageId})),i=Object(o.useSelector)((function(e){return e.appRuntimeInfo.appMode===m.c.Design})),a=Object(o.useDispatch)();if(E((function(){e.runtime&&function(e,t){var n=q(e);Object.keys(localStorage).map((function(e){e.indexOf(n)>=0&&e.indexOf(t)<0&&localStorage.removeItem(e)}))}(t,n)}),[e.runtime,t,n]),E((function(){a(Object(c.selectionChanged)(null))}),[i,e.dialogJson.id,r]),e.dialogJson.mode===u.c.Fixed)return I(P,O({},e));if(window.jimuConfig.isInBuilder&&!e.opener){var s=e.dialogJson.set("mode",u.c.Fixed).set("position",u.d.Center).set("isOpenerDlg",!0);return I(P,{dialogJson:s,opener:e.opener,isOpenByPage:e.isOpenByPage})}return I(D,O({},e))}function x(e){var t,n,r,i,c,l,d=e.dialogJson,f=e.isOpen,p=e.jimuUI,h=e.jimuLayout,v=e.loadingCallBack,y=e.messages,b=e.cbxAnimation,w=e.isChecked,O=e.setCbxState,S=e.closeDialog,j=Object(o.useSelector)((function(e){return e.appRuntimeInfo.currentPageId})),A=Object(o.useSelector)((function(e){return e.appRuntimeInfo.appMode===m.c.Design})),_=T(!1),x=T(!1),P=C(A?null:Symbol("init one by one")),D=P[0],k=P[1],M=C(A?null:Symbol("init as one")),N=M[0],L=M[1],U=Object(o.useSelector)((function(e){var t;return(null===(t=e.appRuntimeInfo.animationPreview)||void 0===t?void 0:t.dialogId)===d.id?e.appRuntimeInfo.animationPreview:null}),o.shallowEqual),F=T(),V=Object(o.useDispatch)();function B(){var e;(null===(e=d.effect)||void 0===e?void 0:e.type)!==g.g.None&&(x.current=!1,L(Symbol("play dialog "+d.id)))}function W(){var e;(null===(e=d.oneByOneEffect)||void 0===e?void 0:e.type)!==g.g.None&&(_.current=!1,k(Symbol("play dialog widgets "+d.id)))}E((function(){return A||(B(),W()),function(){}}),[A,d.id,j]),E((function(){U&&(U.playMode!==g.e.AsOne&&W(),U.playMode!==g.e.OneByOne&&B())}),[U]);var z=s.useCallback((function(){x.current?x.current=!1:v(!1)}),[]),G=null,q=null,H=null,K=x.current?null:(x.current=!0,N);(null===(t=d.effect)||void 0===t?void 0:t.type)!==g.g.None&&K&&(G=null===(n=d.effect)||void 0===n?void 0:n.type,q=null===(i=null===(r=d.effect)||void 0===r?void 0:r.option)||void 0===i?void 0:i.configType,H=null===(l=null===(c=d.effect)||void 0===c?void 0:c.option)||void 0===l?void 0:l.direction);var $=p.ModalBody,Y=p.ModalFooter,J=h.LayoutEntry;return I(g.b.Provider,{value:{trigger:g.f.Manual,setting:!f||A&&!(null==U?void 0:U.id)?null:d.oneByOneEffect,inheritedOneByOneSetting:null,playId:_.current?null:(_.current=!0,D),depth:0}},I(g.a,{type:G,trigger:g.f.Manual,configType:q,direction:H,playId:K,ref:F,style:{},onAnimationEnd:z,className:"app-dialog-animation-content"},d.mode===u.c.Fixed&&I($,{className:"dialog-content"},I(J,{layouts:d.layout,className:"w-100 h-100"})),d.mode===u.c.Fixed&&d.interactionType&&I(Y,{onClick:function(){return R(V)},className:a("dialog-footer",{"d-block":d.interactionType===u.b.ButtonBlock})},I("div",{className:"d-flex flex-grow-1 overflow-hidden text-nowrap"},b?I("div",{className:"cbx-animation"}):I(p.Checkbox,{style:{cursor:"pointer"},onChange:function(e){return O(e.target.checked)},checked:w,disabled:A}),I("label",{className:"ml-2 text-break overflow-hidden",style:{fontSize:d.interactionStyles.textSize,textOverflow:"ellipsis",cursor:A?"inherit":"pointer"},onClick:function(){return!A&&O(!w)}},d.interactionStyles.text||y(d.confirmBeforeClose?"dialogConfirmationDefaultText":"dialogPreventDisplayAgainDefaultText"))),d.interactionType!==u.b.NoButton&&I("div",{className:"d-flex flex-row-reverse"},I(p.Button,{icon:!0,type:"primary",disabled:A||d.interactionType&&d.confirmBeforeClose&&!w,onClick:function(e){S()},style:{fontSize:d.interactionStyles.buttonTextSize}},d.interactionStyles.buttonText||y("ok")))),d.mode===u.c.Anchored&&I("div",{className:"app-dialog-container"},I("div",{className:"app-dialog-content"},I(J,{layouts:d.layout,className:"w-100 h-100"})))))}function P(e){var t,n=e.dialogJson,s=S(e,["dialogJson"]),d=C(null),p=d[0],h=d[1],O=C(null),A=O[0],_=O[1],P=C(null),D=P[0],N=P[1],L=C(null),U=L[0],F=L[1],V=Object(o.useSelector)((function(e){return e.queryObject.draft}))?"draft":"release",B=Object(o.useSelector)((function(e){return e.appConfig.timestamp})),z=Object(o.useSelector)((function(e){return e.appRuntimeInfo.currentPageId})),q=Object(o.useSelector)((function(e){return e.appConfig.pages[z].autoOpenDialogId})),$=Object(o.useSelector)((function(e){return e.appRuntimeInfo.currentDialogId})),Y=Object(o.useSelector)((function(e){return e.appRuntimeInfo.appMode===m.c.Design})),J=Object(o.useSelector)((function(e){return e.browserSizeMode})),Z=Object(o.useSelector)((function(e){var t,n,r;return null===(r=null===(n=null===(t=e.appConfig)||void 0===t?void 0:t.forBuilderAttributes)||void 0===n?void 0:n.viewPortSize)||void 0===r?void 0:r[J]}))||v.SCREEN_RESOLUTIONS[J][1],ee=window.jimuConfig.isInBuilder?Z.height:window.innerHeight,te=Object(o.useDispatch)(),ne=H(),re=Object(o.useSelector)((function(e){return e.queryObject.dlg})),oe=Object(o.useSelector)((function(e){return e.appRuntimeInfo.dialogInfos})),ie=Object(o.useSelector)((function(e){var t;return n.isSplash?n.id:e.appConfig.dialogs&&(null===(t=e.appConfig.dialogs[Object.keys(e.appConfig.dialogs).find((function(t){return e.appConfig.dialogs[t].isSplash}))])||void 0===t?void 0:t.id)}),o.shallowEqual),ae=C(s.isOpenByPage&&$===ie||n.id===re&&$!==re||$===n.id),se=ae[0],ue=ae[1],ce=s.isOpenByPage?z+"-"+n.id:n.id,le=C(!(!oe||!oe[ce])&&oe[ce].checked),de=le[0],fe=le[1],pe=C(!0),he=pe[0],ge=pe[1],me=n.position===u.d.Center,ve=T(null),ye=C(null),be=ye[0],we=ye[1],Oe=C(!0),Se=Oe[0],Ie=Oe[1],je=C(n.effect&&n.effect.type!==g.g.None),Ee=je[0],Ce=je[1],Te=C(!1),Ae=Te[0],_e=Te[1],xe=function(e){var t;return null===(t=null==oe?void 0:oe[e])||void 0===t?void 0:t.isClosed};E((function(){Y&&window.jimuConfig.isInBuilder&&D&&U&&Object(f.a)((function(){be&&be.unset(),ve.current&&we(function(e,t,n,r,o){var i,a,s,c,l,d=n.position;d===u.d.Center?l={top:".dialog-resize-top",left:".dialog-resize-left",bottom:".dialog-resize-bottom",right:".dialog-resize-right"}:d===u.d.Top?l={bottom:".dialog-resize-bottom"}:d===u.d.Bottom?l={top:".dialog-resize-top"}:d===u.d.Left?l={right:".dialog-resize-right"}:d===u.d.Right&&(l={left:".dialog-resize-left"});var f=n.position!==u.d.Top&&n.position!==u.d.Bottom&&parseFloat(n.width.includes("%")?n.width.split("%")[0]:n.width.split("px")[0]),p=n.position!==u.d.Left&&n.position!==u.d.Right&&parseFloat(n.height.includes("%")?n.height.split("%")[0]:n.height.split("px")[0]);return e(t).resizable({edges:l}).on("resizestart",(function(e){e.stopPropagation(),i=0,a=0;var n=t.getBoundingClientRect();s=n.width,c=n.height,t.style.minWidth="0px",t.style.minHeight="0px",o(!1)})).on("resizemove",(function(e){e.stopPropagation();var r=e.deltaRect;i+=r.width,a+=r.height;var o=f&&s+i+"px",l=p&&c+a+"px";t.style.width=o,t.style.height=l,n.position===u.d.Right?document.querySelector('div[id="'+n.id+'"]').style.width=o:n.position===u.d.Bottom?document.querySelector('div[id="'+n.id+'"]').style.height=l:n.position===u.d.Center&&(document.querySelector('div[id="'+n.id+'"] > div.app-dialog-content').style.width=o,document.querySelector('div[id="'+n.id+'"]  div.app-dialog-animation-content').style.height=l)})).on("resizeend",(function(e){e.stopPropagation(),o(!0),t.style.width=null,t.style.minWidth=null,t.style.height=null,t.style.minHeight=null,n.position===u.d.Right?document.querySelector('div[id="'+n.id+'"]').style.width=null:n.position===u.d.Bottom?document.querySelector('div[id="'+n.id+'"]').style.height=null:n.position===u.d.Center&&(document.querySelector('div[id="'+n.id+'"] > div.app-dialog-content').style.width=null,document.querySelector('div[id="'+n.id+'"]  div.app-dialog-animation-content').style.height=null);var l=f?f*Math.round(s+i)/s+n.width.split(f+"")[1]:null,d=p?p*Math.round(c+a)/c+n.height.split(p+"")[1]:null,h=Object(b.b)().getState().appConfig.dialogs[Object(b.b)().getState().appRuntimeInfo.currentDialogId].set("width",null!=l?l:n.width).set("height",null!=d?d:n.height);r().editDialog(h).exec()}))}(U,ve.current,n,D,ge))}),ve.current?0:1e3)()}),[Y,$,n.position,n.width,n.height,D,U]),E((function(){fe(!1)}),[$]),E((function(){Ce(n.effect&&n.effect.type!==g.g.None)}),[n.effect,$]),E((function(){return Promise.all([Object(r.loadModule)("jimu-ui",["Modal","ModalBody","ModalFooter","Checkbox","Button"]),K()]).then((function(e){h(e[0]),_(e[1])})),window.jimuConfig.isInBuilder&&(D||Object(r.loadModule)("jimu-for-builder",["getAppConfigAction"]).then((function(e){N((function(){return e.getAppConfigAction}))})),U||Object(r.loadModule)("jimu-core/dnd").then((function(e){F((function(){return e.interact}))}))),(n.isSplash&&!xe(ie)&&(window.jimuConfig.isInBuilder||"true"!==localStorage.getItem(G(ie,V,B)))||s.isOpenByPage&&(ie&&(xe(ie)||window.jimuConfig.isInBuilder||"true"===localStorage.getItem(G(ie,V,B)))||!ie))&&!k(z,n,s,V,B,oe,te)&&n.id!==re&&n.id!==$&&(te(Object(c.currentDialogChanged)(n.id)),te(Object(c.activePagePartChanged)(null))),function(){Y&&be&&be.unset();var e=Object(b.b)().getState(),t=e.appRuntimeInfo.dialogInfos;if(t){var n=t[De()];(null==n?void 0:n.canClose)&&Pe(e)}}}),[]),E((function(){var e;(null===(e=null==oe?void 0:oe[$])||void 0===e?void 0:e.alertVersion)>=1&&(_e(!0),Object(f.a)((function(){_e(!1)}),800)())}),[null===(t=null==oe?void 0:oe[$])||void 0===t?void 0:t.alertVersion]),E((function(){if(!localStorage.getItem("exb-link-dialog")){var e=!1;(n.isSplash||s.isOpenByPage||$)&&(e=!k(z,n,s,V,B,oe,te,re)),e!==se&&ue(e)}}));var Pe=function(e){var t,r;if(n.isSplash||s.isOpenByPage){!function(e,t,n,r,o,i,a){var s,u=t.isSplash?t.id:e+"-"+t.id;n.runtime&&t.interactionType&&(t.confirmBeforeClose&&!t.alwaysShowConfirmation||!t.confirmBeforeClose&&(null===(s=null==i?void 0:i[u])||void 0===s?void 0:s.checked))&&localStorage.setItem(G(u,r,o),"true");M(i,u,a)}(z,n,s,V,B,(null===(t=null==e?void 0:e.appRuntimeInfo)||void 0===t?void 0:t.dialogInfos)||oe,te);var o=Re(e);te(Object(c.currentDialogChanged)(o)),ue(!1),o||te(Object(c.activePagePartChanged)(m.j.Body))}else M((null===(r=null==e?void 0:e.appRuntimeInfo)||void 0===r?void 0:r.dialogInfos)||oe,n.id,te),Object(l.changeDialog)(null),te(Object(c.activePagePartChanged)(m.j.Body))},De=function(){return s.isOpenByPage?z+"-"+n.id:n.id},Re=function(e){var t,r,o,i,a,u,c,l=re,d=$;if((n.isSplash||s.isOpenByPage)&&(l=null==e?void 0:e.queryObject.dlg,d=null===(t=null==e?void 0:e.appRuntimeInfo)||void 0===t?void 0:t.currentDialogId,window.jimuConfig.isInBuilder)){if(n.isSplash){if(q&&!(null===(i=null===(o=e?null===(r=e.appRuntimeInfo)||void 0===r?void 0:r.dialogInfos:oe)||void 0===o?void 0:o[z+"-"+q])||void 0===i?void 0:i.isClosed))return q;if(n.isSplash&&l===n.id&&(null===(c=null===(u=null===(a=null==e?void 0:e.appRuntimeInfo)||void 0===a?void 0:a.dialogInfos)||void 0===u?void 0:u[n.id])||void 0===c?void 0:c.isClosed))return null}return l}var f=n.isSplash&&(q||l)||s.isOpenByPage&&d!==l&&l||null;return d===f&&(f=null),f};if(!p||!A)return null;var ke=p.Modal;return I(ke,{isOpen:se,fade:!1,disableActivateOverlay:!0,toggle:function(){var e,t;if(Y)R(te);else if(n.interactionType&&n.confirmBeforeClose&&!de){var r=(oe||y({})).set(De(),{canClose:!1,checked:!1,alertVersion:(null!==(t=null===(e=null==oe?void 0:oe[De()])||void 0===e?void 0:e.alertVersion)&&void 0!==t?t:0)+1,isClosed:!1});te(Object(c.dialogInfosChanged)(r))}else se&&n.closeWhenClickOverlay?Pe():R(te)},centered:me,css:Q(n),id:n.id,className:"app-dialog",wrapClassName:"app-dialog-wrap app-dialog-wrap-"+n.id,modalClassName:"app-dialog-modal",backdropClassName:"app-dialog-backdrop",contentClassName:a("app-dialog-content",{"overflow-visible h-auto":!he||Ee}),onOpened:function(){Ie(!1)}},I(i.b,{styles:X(n,se,ee)}),I("div",{className:"app-dialog-dragable-container",css:("0px",j(W||(W=w(["\n    .app-dialog-drag-handlers{\n        max-width: 100vw;\n\n      .resize-handler{\n        width: 100%;\n        height: 100%;\n        position: fixed;\n        z-index: 1;\n\n        &.dialog-resize-bottom{\n          height: ",";\n          cursor: ns-resize;\n        }\n        &.dialog-resize-top{\n          height: ",";\n          cursor: ns-resize;\n          top: 0;\n        }\n        &.dialog-resize-right{\n          width: ",";\n          right: ",";\n          cursor: ew-resize;\n          top: 0;\n        }\n        &.dialog-resize-left{\n          width: ",";\n          left: ",";\n          cursor: ew-resize;\n          top: 0;\n        }\n\n        &:hover {\n          /* background: red; */\n        }\n      }\n    }\n  "],["\n    .app-dialog-drag-handlers{\n        max-width: 100vw;\n\n      .resize-handler{\n        width: 100%;\n        height: 100%;\n        position: fixed;\n        z-index: 1;\n\n        &.dialog-resize-bottom{\n          height: ",";\n          cursor: ns-resize;\n        }\n        &.dialog-resize-top{\n          height: ",";\n          cursor: ns-resize;\n          top: 0;\n        }\n        &.dialog-resize-right{\n          width: ",";\n          right: ",";\n          cursor: ew-resize;\n          top: 0;\n        }\n        &.dialog-resize-left{\n          width: ",";\n          left: ",";\n          cursor: ew-resize;\n          top: 0;\n        }\n\n        &:hover {\n          /* background: red; */\n        }\n      }\n    }\n  "])),"12px","12px","12px","0px","12px","0px")),ref:function(e){return ve.current=e}},I("div",{className:"test-content w-100 h-100"},se&&!Se&&I(x,{dialogJson:n,isOpen:se,jimuUI:p,jimuLayout:A,cbxAnimation:Ae,messages:ne,isChecked:de,setCbxState:function(e){fe(e);var t=!n.interactionType||!n.confirmBeforeClose||e,r=(oe||y({})).set(De(),{canClose:t,checked:e,isClosed:!1});te(Object(c.dialogInfosChanged)(r))},closeDialog:Pe,loadingCallBack:function(e){return Ce(e)}})),I("div",{className:a("app-dialog-drag-handlers",{"drag-center":n.position===u.d.Center})},function(e,t){var n=[];e&&(t.position!==u.d.Bottom&&t.position!==u.d.Center||n.push(I("span",{key:"1",className:"resize-handler dialog-resize-top"})),t.position!==u.d.Top&&t.position!==u.d.Center||n.push(I("span",{key:"2",className:"resize-handler dialog-resize-bottom"})),t.position!==u.d.Right&&t.position!==u.d.Center||n.push(I("span",{key:"3",className:"resize-handler dialog-resize-left"})),t.position!==u.d.Left&&t.position!==u.d.Center||n.push(I("span",{key:"4",className:"resize-handler dialog-resize-right"})));return n}(Y,n))))}function D(e){var t=e.dialogJson,n=e.opener,o=e.toggle,i=C(null),s=i[0],u=i[1],c=C(null),l=c[0],d=c[1],f=C(t.effect&&t.effect.type!==g.g.None),p=f[0],h=f[1];if(E((function(){Promise.all([Object(r.loadModule)("jimu-ui",["Popper"]),K()]).then((function(e){u(e[0]),d(e[1])}))}),[]),!s||!l)return null;var m=s.Popper;return I(m,{open:!0,showArrow:!!n,toggle:o,reference:n,modifiers:A,css:Z(t),disableActivateOverlay:t.closeWhenClickOverlay,className:a("app-dialog",{"dialog-animation-playing":p,"dialog-animation-end":!p})},I(x,{dialogJson:t,isOpen:!0,jimuUI:s,jimuLayout:l,loadingCallBack:function(e){return h(e)}}))}function R(e){e(Object(c.selectionChanged)(null))}function k(e,t,n,r,o,i,a,s){var u,c,l=!1;if(s===t.id&&!t.isSplash&&!n.isOpenByPage&&!t.confirmBeforeClose)return l;if(t.isSplash||n.isOpenByPage){var d=t.isSplash?t.id:e+"-"+t.id;n.runtime&&t.interactionType&&(t.confirmBeforeClose&&!t.alwaysShowConfirmation||!t.confirmBeforeClose)?((l="true"===localStorage.getItem(G(d,r,o)))&&M(i,d,a),t.confirmBeforeClose||l||(l=null===(u=null==i?void 0:i[d])||void 0===u?void 0:u.isClosed)):l=null===(c=null==i?void 0:i[d])||void 0===c?void 0:c.isClosed}return l}function M(e,t,n){var r;(null===(r=null==e?void 0:e[t])||void 0===r?void 0:r.isClosed)||(e=(e||y({})).setIn([t,"isClosed"],!0),n(Object(c.dialogInfosChanged)(e)))}var N,L,U,F,V,B,W,z,G=function(e,t,n){return q(t)+"-"+e+"-"+n},q=function(e){return Object(h.getLocalStorageAppKey)()+"-"+e},H=function(){var e=Object(d.a)();return s.useCallback((function(t,n){return e.formatMessage({id:t,defaultMessage:p.a[t]},n)}),[e])};function K(){var e;return e=window.jimuConfig.isInBuilder?"jimu-layouts/layout-builder":"jimu-layouts/layout-runtime",Object(r.loadModule)(e,["LayoutEntry"])}function $(e){return"object"==typeof e?""+e.distance+e.unit:e}function Y(e){var t="unset";if(e&&e.image){switch(e.fillType){case"fit":t="contain";break;case"fill":t="cover";break;case"stretch":t="100% 100%";break;default:t="auto"}return t}return t}function J(e){var t,n=e.dialogBackground,r=e.border,o=e.borderRadius,i=e.boxShadow,a="unset",s="unset";if(o){var u=o.number[0],c=void 0!==o.number[1]?o.number[1]:u,l=void 0!==o.number[2]?o.number[2]:u,d=void 0!==o.number[3]?o.number[3]:u;a=""+u+o.unit+" "+c+o.unit,s=""+l+o.unit+" "+d+o.unit}return{backgroundColor:n&&n.color?n.color:"transparent",backgroundImage:(null===(t=null==n?void 0:n.image)||void 0===t?void 0:t.url)?"url("+n.image.url+")":"unset",backgroundRepeat:n&&n.image&&"tile"===n.fillType?"repeat":"no-repeat",backgroundSize:Y(n),borderStyle:r&&r.color&&r.width?$(r.width)+" "+r.type+" "+r.color:"none",borderRadiusTopStyle:a,borderRadiusBottomStyle:s,borderRadiusStyle:o?a+" "+s:"unset",boxShadowStyle:i&&i.color?$(i.offsetX)+" "+$(i.offsetY)+"\n      "+$(i.blur)+" "+$(i.spread)+" "+i.color:"none"}}function X(e,t,n){var r,o,i,a,s,c=e.borderRadius,l=e.interactionType,d=J(e),f=e.overlayColor||(e.isOpenerDlg?"var(--dark-900)":"transparent"),p="app-dialog-wrap-"+e.id,h=l===u.b.ButtonBlock?91:l===u.b.ButtonInline?64:59,g=l?"calc(100% - "+h+"px)":"100%",m="0";if(null===(r=e.boxShadow)||void 0===r?void 0:r.color){var v=(parseFloat(null===(o=e.boxShadow.blur)||void 0===o?void 0:o.split("px")[0])||0)+(parseFloat(null===(i=e.boxShadow.spread)||void 0===i?void 0:i.split("px")[0])||0),y=parseFloat(null===(a=e.boxShadow.offsetX)||void 0===a?void 0:a.split("px")[0])||0,b=parseFloat(null===(s=e.boxShadow.offsetY)||void 0===s?void 0:s.split("px")[0])||0;m=(v-b>0?v-b:0)+"px "+(v+y)+"px "+(v+b)+"px "+(v-y>0?v-y:0)+"px"}var O="100%",S="unset";e.position===u.d.Center&&(O="%"===(e.height.includes("%")?"%":"px")?n*parseFloat(e.height.split("%")[0])/100+"px":e.height,S="calc(50% - "+parseFloat(O.split("px")[0])/2+"px)");var I=c&&l?d.borderRadiusTopStyle+" 0 0":d.borderRadiusStyle,E=c?"0 0 "+d.borderRadiusBottomStyle:"unset";return j(N||(N=w(["\n    body {\n\n      @keyframes aBlink {\n        from { background-color: var(--danger-700); }\n        50% { background-color: var(--danger-700); }\n        51%{background-color: transparent;}\n        to { background-color: transparent; }\n      }\n\n      .app-dialog-wrap{\n\n        &.","{\n          display: ",";\n          .app-dialog{\n            margin: 0!important;\n            max-width: 100vw;\n            max-height: 100vh;\n\n            .app-dialog-content{\n              padding: ","; /* decided by shadow*/\n              overflow-y: auto;\n\n              border: none;\n              box-shadow: unset;\n              background-color: transparent;\n              border-radius:  ",";\n\n              &.overflow-visible{\n                overflow: visible;\n              }\n\n              .app-dialog-animation-content{\n                flex-shrink: 0;\n                /* height: "," !important; */\n                height: ",";\n\n                border: ",";\n                border-radius:  ",";\n                box-shadow: ",";\n                background-color: ",";\n                background-image: ",";\n                background-position: center center;\n                background-repeat: ",";\n                background-size: ",";\n\n                .dialog-content{\n                  padding: 0;\n                  height: ",";\n                  border-radius:  ",";\n                }\n\n                .dialog-footer{\n                  overflow-x: auto;\n                  border-radius:  ",";\n\n                  .cbx-animation{\n                    width: 16px;\n                    height: 16px;\n                    border: 2px solid var(--light-600);\n                    animation: aBlink 500ms infinite;\n                  }\n                  .btn {\n                    min-width: 6.25rem;\n                  }\n                }\n              }\n\n              .app-dialog-dragable-container{\n                touch-action: none;\n                .app-dialog-drag-handlers{\n                  &.drag-center{\n                    top: ",";\n                    .dialog-resize-bottom{\n                      top: calc("," - ",");\n                    }\n                    .dialog-resize-left, .dialog-resize-right{\n                      height: ",";\n                    }\n                  }\n                }\n              }\n\n            }\n          }\n          .app-dialog-backdrop{\n            background-color: ",";\n          }\n        }\n      }\n    }\n  "],["\n    body {\n\n      @keyframes aBlink {\n        from { background-color: var(--danger-700); }\n        50% { background-color: var(--danger-700); }\n        51%{background-color: transparent;}\n        to { background-color: transparent; }\n      }\n\n      .app-dialog-wrap{\n\n        &.","{\n          display: ",";\n          .app-dialog{\n            margin: 0!important;\n            max-width: 100vw;\n            max-height: 100vh;\n\n            .app-dialog-content{\n              padding: ","; /* decided by shadow*/\n              overflow-y: auto;\n\n              border: none;\n              box-shadow: unset;\n              background-color: transparent;\n              border-radius:  ",";\n\n              &.overflow-visible{\n                overflow: visible;\n              }\n\n              .app-dialog-animation-content{\n                flex-shrink: 0;\n                /* height: "," !important; */\n                height: ",";\n\n                border: ",";\n                border-radius:  ",";\n                box-shadow: ",";\n                background-color: ",";\n                background-image: ",";\n                background-position: center center;\n                background-repeat: ",";\n                background-size: ",";\n\n                .dialog-content{\n                  padding: 0;\n                  height: ",";\n                  border-radius:  ",";\n                }\n\n                .dialog-footer{\n                  overflow-x: auto;\n                  border-radius:  ",";\n\n                  .cbx-animation{\n                    width: 16px;\n                    height: 16px;\n                    border: 2px solid var(--light-600);\n                    animation: aBlink 500ms infinite;\n                  }\n                  .btn {\n                    min-width: 6.25rem;\n                  }\n                }\n              }\n\n              .app-dialog-dragable-container{\n                touch-action: none;\n                .app-dialog-drag-handlers{\n                  &.drag-center{\n                    top: ",";\n                    .dialog-resize-bottom{\n                      top: calc("," - ",");\n                    }\n                    .dialog-resize-left, .dialog-resize-right{\n                      height: ",";\n                    }\n                  }\n                }\n              }\n\n            }\n          }\n          .app-dialog-backdrop{\n            background-color: ",";\n          }\n        }\n      }\n    }\n  "])),p,t?"inherit":"none",m,d.borderRadiusStyle,O,O,d.borderStyle,d.borderRadiusStyle,d.boxShadowStyle,d.backgroundColor,d.backgroundImage,d.backgroundRepeat,d.backgroundSize,g,I,E,S,O,"12px",O,f)}function Q(e){var t;switch(e.position){case u.d.Left:t=j(L||(L=w(["\n        &.app-dialog{\n          margin: 0px;\n          width: ",";\n        }\n        .app-dialog-content{\n          height: 100vh;\n\n          .app-dialog-dragable-container{\n            width: ",";\n            height: 100vh;\n          }\n        }\n      "],["\n        &.app-dialog{\n          margin: 0px;\n          width: ",";\n        }\n        .app-dialog-content{\n          height: 100vh;\n\n          .app-dialog-dragable-container{\n            width: ",";\n            height: 100vh;\n          }\n        }\n      "])),e.width,e.width.includes("%")?"100%":e.width);break;case u.d.Right:t=j(U||(U=w(["\n        &.app-dialog{\n          margin: 0px;\n          float: right;\n          width: ",";\n        }\n        .app-dialog-content{\n          height: 100vh;\n\n          .app-dialog-dragable-container{\n            width: ",";\n            height: 100vh;\n          }\n        }\n      "],["\n        &.app-dialog{\n          margin: 0px;\n          float: right;\n          width: ",";\n        }\n        .app-dialog-content{\n          height: 100vh;\n\n          .app-dialog-dragable-container{\n            width: ",";\n            height: 100vh;\n          }\n        }\n      "])),e.width,e.width.includes("%")?"100%":e.width);break;case u.d.Top:t=j(F||(F=w(["\n        &.app-dialog{\n          margin: 0px;\n          height: 100%;\n        }\n        .app-dialog-content{\n          width: 100vw;\n          height: ",";\n\n          .app-dialog-dragable-container{\n            height: ",";\n            .app-dialog-drag-handlers{\n              .dialog-resize-bottom{\n                bottom: calc(100vh - ",");\n              }\n            }\n          }\n        }\n      "],["\n        &.app-dialog{\n          margin: 0px;\n          height: 100%;\n        }\n        .app-dialog-content{\n          width: 100vw;\n          height: ",";\n\n          .app-dialog-dragable-container{\n            height: ",";\n            .app-dialog-drag-handlers{\n              .dialog-resize-bottom{\n                bottom: calc(100vh - ",");\n              }\n            }\n          }\n        }\n      "])),e.height,e.height.includes("%")?"100%":e.height,e.height);break;case u.d.Bottom:t=j(V||(V=w(["\n        &.app-dialog{\n          position: absolute;\n          bottom: 0px;\n          margin: 0px;\n          height: ",";\n        }\n        .app-dialog-content{\n          width: 100vw;\n          height: 100%;\n\n          .app-dialog-dragable-container{\n            height: ",";\n          }\n        }\n      "],["\n        &.app-dialog{\n          position: absolute;\n          bottom: 0px;\n          margin: 0px;\n          height: ",";\n        }\n        .app-dialog-content{\n          width: 100vw;\n          height: 100%;\n\n          .app-dialog-dragable-container{\n            height: ",";\n          }\n        }\n      "])),e.height,e.height.includes("%")?"100%":e.height);break;case u.d.Center:t=j(B||(B=w(["\n        &.app-dialog::before{\n          height: 100vh;\n        }\n        .app-dialog-content{\n          width: ",";\n          max-height: 100vh;\n          margin: 0 auto;\n\n          .app-dialog-dragable-container{\n            .app-dialog-drag-handlers{\n              position: fixed;\n              width: ","; /* Do not add height since it could be a mask */\n\n              .resize-handler{\n                position: absolute;\n                &.dialog-resize-bottom{\n                  width: ",";\n                }\n                &.dialog-resize-top{\n                  width: ",";\n                  top: 0;\n                }\n                &.dialog-resize-left{\n                  left: 0;\n                }\n                &.dialog-resize-right{\n                  left: calc(100% - ",");\n                }\n              }\n            }\n          }\n        }\n      "],["\n        &.app-dialog::before{\n          height: 100vh;\n        }\n        .app-dialog-content{\n          width: ",";\n          max-height: 100vh;\n          margin: 0 auto;\n\n          .app-dialog-dragable-container{\n            .app-dialog-drag-handlers{\n              position: fixed;\n              width: ","; /* Do not add height since it could be a mask */\n\n              .resize-handler{\n                position: absolute;\n                &.dialog-resize-bottom{\n                  width: ",";\n                }\n                &.dialog-resize-top{\n                  width: ",";\n                  top: 0;\n                }\n                &.dialog-resize-left{\n                  left: 0;\n                }\n                &.dialog-resize-right{\n                  left: calc(100% - ",");\n                }\n              }\n            }\n          }\n        }\n      "])),e.width,e.width,e.width.includes("%")?"100%":e.width,e.width.includes("%")?"100%":e.width,"12px")}return t}function Z(e){var t,n,r,o,i,a,s,u,c=J(e),l="transparent"===c.backgroundColor?"var(--light)":c.backgroundColor,d=0,f=0,p="0 auto";if(null===(t=e.boxShadow)||void 0===t?void 0:t.color){var h=(parseFloat(null===(n=e.boxShadow.blur)||void 0===n?void 0:n.split("px")[0])||0)+(parseFloat(null===(r=e.boxShadow.spread)||void 0===r?void 0:r.split("px")[0])||0),g=parseFloat(null===(o=e.boxShadow.offsetX)||void 0===o?void 0:o.split("px")[0])||0,m=parseFloat(null===(i=e.boxShadow.offsetX)||void 0===i?void 0:i.split("px")[0])||0;p=(h-m>0?h-m:0)+"px "+(h+g)+"px "+(h+m)+"px "+(h-g>0?h-g:0)+"px",d=d+h+g,f=f+h+m}var v="calc("+e.width+" - "+d+"px)",y="calc("+e.height+" - "+f+"px)",b=null,O=null;return e.border&&e.border.width&&e.border.color&&(b=e.border.color,O=e.border.width),j(z||(z=w(["\n    &.app-dialog{\n      /* margin: 0.5rem !important; */\n      margin: 0 !important;\n      border-radius:  ",";\n      background-color: transparent;\n      border: none;\n      box-shadow: unset;\n\n      &.dialog-animation-playing{\n        .jimu-popper--arrow{\n          visibility: hidden !important;\n        }\n\n        .popper-box{\n          overflow: visible !important; /*for animation is playing*/\n\n          .app-dialog-container{\n            box-shadow: ",';\n          }\n        }\n      }\n      &.dialog-animation-end{\n\n        &[data-popper-placement^="top"] .jimu-popper--arrow{\n          &::before{\n            border-top-color: ',";\n          }\n          &::after{\n            border-top-color: ",";\n            bottom: ",';\n          }\n        }\n\n        &[data-popper-placement^="bottom"] .jimu-popper--arrow{\n          &::before{\n            border-bottom-color: ',";\n          }\n          &::after{\n            border-bottom-color: ",";\n            top: ",';\n          }\n        }\n\n        &[data-popper-placement^="top"] .popper-box,\n        &[data-popper-placement^="bottom"] .popper-box{\n          box-shadow: ',";\n        }\n      }\n\n      .popper-box{\n        max-width: calc(100vw - ",");\n        max-height: calc(100vh - ",");\n        width: ",";\n        height: ",";\n        border-radius:  ",";\n      }\n\n      .app-dialog-animation-content{\n        height: 100%;\n\n        .app-dialog-container{\n          margin: ",";\n          max-width: calc(100vw - "," - ",");\n          max-height: calc(100vh - "," - ",");\n          width: ",";\n          height: ",";\n\n          border: ",";\n          box-shadow: ",";\n          border-radius:  ",";\n\n          .app-dialog-content{\n            width: 100%;\n            height: 100%;\n            border-radius:  ",";\n            background-color: "," ;\n            background-image: ",";\n            background-position: center center;\n            background-repeat: ",";\n            background-size: ",";\n          }\n        }\n      }\n\n    }\n  "],["\n    &.app-dialog{\n      /* margin: 0.5rem !important; */\n      margin: 0 !important;\n      border-radius:  ",";\n      background-color: transparent;\n      border: none;\n      box-shadow: unset;\n\n      &.dialog-animation-playing{\n        .jimu-popper--arrow{\n          visibility: hidden !important;\n        }\n\n        .popper-box{\n          overflow: visible !important; /*for animation is playing*/\n\n          .app-dialog-container{\n            box-shadow: ",';\n          }\n        }\n      }\n      &.dialog-animation-end{\n\n        &[data-popper-placement^="top"] .jimu-popper--arrow{\n          &::before{\n            border-top-color: ',";\n          }\n          &::after{\n            border-top-color: ",";\n            bottom: ",';\n          }\n        }\n\n        &[data-popper-placement^="bottom"] .jimu-popper--arrow{\n          &::before{\n            border-bottom-color: ',";\n          }\n          &::after{\n            border-bottom-color: ",";\n            top: ",';\n          }\n        }\n\n        &[data-popper-placement^="top"] .popper-box,\n        &[data-popper-placement^="bottom"] .popper-box{\n          box-shadow: ',";\n        }\n      }\n\n      .popper-box{\n        max-width: calc(100vw - ",");\n        max-height: calc(100vh - ",");\n        width: ",";\n        height: ",";\n        border-radius:  ",";\n      }\n\n      .app-dialog-animation-content{\n        height: 100%;\n\n        .app-dialog-container{\n          margin: ",";\n          max-width: calc(100vw - "," - ",");\n          max-height: calc(100vh - "," - ",");\n          width: ",";\n          height: ",";\n\n          border: ",";\n          box-shadow: ",";\n          border-radius:  ",";\n\n          .app-dialog-content{\n            width: 100%;\n            height: 100%;\n            border-radius:  ",";\n            background-color: "," ;\n            background-image: ",";\n            background-position: center center;\n            background-repeat: ",";\n            background-size: ",";\n          }\n        }\n      }\n\n    }\n  "])),c.borderRadiusStyle,(null===(a=e.boxShadow)||void 0===a?void 0:a.color)?c.boxShadowStyle:"0 0 10px 1px var(--light-600)",b,l,O,b,l,O,(null===(s=e.boxShadow)||void 0===s?void 0:s.color)?"unset":"0 0 10px 1px var(--light-600)","12px","12px",e.width,e.height,c.borderRadiusStyle,p,"12px",d+"px","12px",f+"px",v,y,e.border&&e.border.width&&e.border.color?c.borderStyle:"none",(null===(u=e.boxShadow)||void 0===u?void 0:u.color)?c.boxShadowStyle:"unset",c.borderRadiusStyle,c.borderRadiusStyle,l,c.backgroundImage,c.backgroundRepeat,c.backgroundSize)}},,function(e,t,n){"use strict";var r,o;n.d(t,"g",(function(){return C})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return y})),n.d(t,"d",(function(){return v})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),function(e){e.Horizontal="H",e.Vertical="V"}(r||(r={})),function(e){e.Cube="CUBE",e.Cover="COVER",e.Fade="FADE",e.Push="PUSH",e.Box="BOX",e.None="None"}(o||(o={}));var i=n(24),a=n(13),s=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=r.Horizontal),this.isRTL=e,this.direction=t}return e.prototype.initRotate=function(){return this.direction===r.Vertical?"rotateX(-90deg)":this.isRTL?"rotateY(90deg)":"rotateY(-90deg)"},e.prototype.getTransitionProps=function(e,t,n,r,o,i){return o>=0?this.getContinuousTransitionProps(e,t,n,o,i):this.getDiscreteTransitionProps(e,t,n,r)},e.prototype.getDiscreteTransitionProps=function(e,t,n,o){var i=e===t||e===n,s=this.getDiscreteOrigin(e,t,n,o);if(!i)return{display:"none",transformOrigin:""};var u={},c=this.direction===r.Horizontal&&this.isRTL?-1:1;if(e===t){var l=t>n||o?90:-90;u.from=Object.assign({},a.b,{display:"block",rotateX:this.direction===r.Horizontal?0:l*c,rotateY:this.direction===r.Horizontal?-l*c:0,opacity:1,transformOrigin:s}),u.to=Object.assign({},a.b,{display:"block",rotateX:0,rotateY:0,opacity:1,transformOrigin:s}),u.reset=!0}else u.from=Object.assign({},a.b,{display:"block",rotateX:0,rotateY:0,opacity:1,transformOrigin:s}),u.to=Object.assign({},a.b,{display:"block",rotateX:this.direction===r.Horizontal?0:e>t&&!o?90:-90,rotateY:this.direction===r.Horizontal?e>t&&!o?-90*c:90*c:0,opacity:1,transformOrigin:s}),u.reset=!0;return u},e.prototype.getContinuousTransitionProps=function(e,t,n,o,i){if(void 0===o&&(o=1),!(e===t||e===n))return{display:"none",transformOrigin:""};var s,u=o-n;t===n&&(u=1),s=this.direction===r.Vertical||this.isRTL?e===t?90*(1-u):-90*u:e===t?-90*(1-u):90*u;var c=Object.assign({},a.b,{display:"block",rotateX:this.direction===r.Horizontal?0:s,rotateY:this.direction===r.Horizontal?s:0,opacity:1,transformOrigin:this.getOrigin(e,t,n)});if(e===t&&i){var l,d={};return l=this.direction===r.Vertical||this.isRTL?90:-90,d.from=Object.assign({},a.b,{display:"block",rotateX:this.direction===r.Horizontal?0:l,rotateY:this.direction===r.Horizontal?l:0,opacity:1,transformOrigin:this.getOrigin(e,t,n)}),d.to=c,d.reset=!0,d}return c.reset=!1,c},e.prototype.getOrigin=function(e,t,n){return e===t?this.direction===r.Vertical?"bottom":this.isRTL?"left":"right":e===n?this.direction===r.Vertical?"top":this.isRTL?"right":"left":void 0},e.prototype.getDiscreteOrigin=function(e,t,n,o){if(this.direction===r.Vertical){if(e===t)return t>n||o?"bottom":"top";if(e===n)return t>n||o?"top":"bottom"}if(this.isRTL){if(e===t)return t>n||o?"left":"right";if(e===n)return t>n||o?"right":"left"}else{if(e===t)return t>n||o?"right":"left";if(e===n)return t>n||o?"left":"right"}return""},e.prototype.transform=function(e,t,n,r,o){if(t!==n&&t!==r)return null;var a=e.rotateX,s=e.rotateY;return a&&s?Object(i.interpolate)([a,s],(function(e,t){return"perspective(1000px) rotateX("+e+"deg) rotateY("+t+"deg)"})):null},e}(),u=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=r.Horizontal),this.isRTL=e,this.direction=t}return e.prototype.initOffset=function(e,t,n,o){if(t!==n)return 0;var i=e-o;return n===o&&(i=1),this.direction===r.Horizontal&&this.isRTL?100*(i-1):100*(1-i)},e.prototype.getTransitionProps=function(e,t,n,r,o,i){return o>=0?this.getContinuousTransitionProps(e,t,n,o,i):this.getDiscreteTransitionProps(e,t,n,r)},e.prototype.getDiscreteTransitionProps=function(e,t,n,o){if(!(e===t||e===n))return{display:"none"};var i={},s=this.direction===r.Horizontal&&this.isRTL?-1:1;if(e===t){var u=t>n||o?100*s:0;i.from=Object.assign({},a.b,{offsetX:this.direction===r.Horizontal?u:0,offsetY:this.direction===r.Horizontal?0:u,opacity:1,display:"block",zIndex:1}),i.to=Object.assign({},a.b,{offsetX:0,offsetY:0,opacity:1,display:"block",zIndex:1}),i.reset=!0}else if(e===n){u=e>t&&!o?100*s:0;i.from=Object.assign({},a.b,{offsetX:0,offsetY:0,opacity:1,display:"block",zIndex:0}),i.to=Object.assign({},a.b,{offsetX:this.direction===r.Horizontal?u:0,offsetY:this.direction===r.Horizontal?0:u,opacity:1,display:"block",zIndex:0}),i.reset=!0}return i},e.prototype.getContinuousTransitionProps=function(e,t,n,o,i){if(void 0===o&&(o=1),!(e===t||e===n))return{display:"none"};var s=this.initOffset(o,e,t,n),u=Object.assign({},a.b,{display:"block",offsetX:this.direction===r.Horizontal?s:0,offsetY:this.direction===r.Horizontal?0:s,opacity:1});if(e===t&&i){var c,l={};return c=this.direction===r.Horizontal&&this.isRTL?-100:100,l.from=Object.assign({},a.b,{display:"block",offsetX:this.direction===r.Horizontal?c:0,offsetY:this.direction===r.Horizontal?0:c,opacity:1}),l.to=u,l.reset=!0,l}return u.reset=!1,u},e.prototype.transform=function(e,t,n,r,o){if(t!==n&&t!==r)return null;var a=e.offsetX,s=e.offsetY;return a&&s?Object(i.interpolate)([a,s],(function(e,t){return"translate3d("+e+"%, "+t+"%, 0)"})):null},e}(),c=function(){function e(){}return e.prototype.getTransitionProps=function(e,t,n,r,o){return o>=0?this.getContinuousTransitionProps(e,t,n,o):this.getDiscreteTransitionProps(e,t,n)},e.prototype.getDiscreteTransitionProps=function(e,t,n){if(!(e===t||e===n))return{display:"none"};var r={};return e===t?(r.from=Object.assign({},a.b,{opacity:0,zIndex:0,display:"block"}),r.to=Object.assign({},a.b,{opacity:1,zIndex:1,display:"block"}),r.reset=!0):e===n&&(r.from=Object.assign({},a.b,{opacity:1,zIndex:1,display:"block"}),r.to=Object.assign({},a.b,{opacity:0,zIndex:0,display:"block"}),r.reset=!0),r},e.prototype.getContinuousTransitionProps=function(e,t,n,r){if(void 0===r&&(r=1),!(e===t||e===n))return{display:"none"};var o=r-n;return t===n&&(o=1),Object.assign({},a.b,{display:"block",opacity:e===t?o:1-o,zIndex:e===t?1:0,reset:!1})},e.prototype.transform=function(e,t,n,r,o){return""},e}(),l=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=r.Horizontal),this.isRTL=e,this.direction=t}return e.prototype.initOffset=function(e,t,n,o){var i=e-o;return n===o&&(i=1),t===n?this.direction===r.Horizontal&&this.isRTL?100*(i-1):100*(1-i):this.direction===r.Horizontal&&this.isRTL?100*i:-100*i},e.prototype.getTransitionProps=function(e,t,n,r,o,i){return o>=0?this.getContinuousTransitionProps(e,t,n,o,i):this.getDiscreteTransitionProps(e,t,n,r)},e.prototype.getDiscreteTransitionProps=function(e,t,n,o){if(!(e===t||e===n))return{display:"none"};var i={},s=this.direction===r.Horizontal&&this.isRTL?-1:1;if(e===t){var u=t>n||o?100*s:-100*s;i.from=Object.assign({},a.b,{offsetX:this.direction===r.Horizontal?u:0,offsetY:this.direction===r.Horizontal?0:u,opacity:1,display:"block"}),i.to=Object.assign({},a.b,{offsetX:0,offsetY:0,opacity:1,display:"block"}),i.reset=!0}else if(e===n){u=e>t&&!o?100*s:-100*s;i.from=Object.assign({},a.b,{offsetX:0,offsetY:0,opacity:1,display:"block"}),i.to=Object.assign({},a.b,{offsetX:this.direction===r.Horizontal?u:0,offsetY:this.direction===r.Horizontal?0:u,opacity:1,display:"block"}),i.reset=!0}return i},e.prototype.getContinuousTransitionProps=function(e,t,n,o,i){if(void 0===o&&(o=1),!(e===t||e===n))return{display:"none"};var s=this.initOffset(o,e,t,n),u=Object.assign({},a.b,{display:"block",offsetX:this.direction===r.Horizontal?s:0,offsetY:this.direction===r.Horizontal?0:s,opacity:1});if(i&&e===t){var c;c=this.direction===r.Horizontal&&this.isRTL?-100:100;var l={};return l.from=Object.assign({},a.b,{display:"block",offsetX:this.direction===r.Horizontal?c:0,offsetY:this.direction===r.Horizontal?0:c,opacity:1}),l.to=u,l.reset=!0,l}return u.reset=!1,u},e.prototype.transform=function(e,t,n,r,o){if(t!==n&&t!==r)return null;var a=e.offsetX,s=e.offsetY;return a&&s?Object(i.interpolate)([a,s],(function(e,t){return"translate3d("+e+"%, "+t+"%, 0)"})):null},e}(),d=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=r.Horizontal),this.isRTL=e,this.direction=t}return e.prototype.initState=function(e,t,n,r){var o=e-r;return n===r&&(o=1),t===n?[100*(1-o),60*(1-o)]:[-100*o,-60*o]},e.prototype.getContinuousOrigin=function(e,t,n){return this.direction===r.Vertical?e===t?"top":"bottom":e===t?this.isRTL?"right":"left":this.isRTL?"left":"right"},e.prototype.getDiscreteOrigin=function(e,t,n,o){return this.direction===r.Vertical?e===t?t>n||o?"top":"bottom":e<t||o?"bottom":"top":this.isRTL?e===t?t>n||o?"right":"left":e<t||o?"left":"right":e===t?t>n||o?"left":"right":e<t||o?"right":"left"},e.prototype.getTransitionProps=function(e,t,n,r,o,i){return o>=0?this.getContinuousTransitionProps(e,t,n,o,i):this.getDiscreteTransitionProps(e,t,n,r)},e.prototype.getDiscreteTransitionProps=function(e,t,n,o){var i=e===t||e===n,s=this.getDiscreteOrigin(e,t,n,o);if(!i)return{display:"none",transformOrigin:s};var u=this.isRTL?-1:1,c={};if(e===t){var l=t>n||o?100:-100,d=t>n||o?60:-60;c.from=Object.assign({},a.b,{rotateX:this.direction===r.Horizontal?0:-d,rotateY:this.direction===r.Horizontal?d*u:0,offsetX:this.direction===r.Horizontal?l*u:0,offsetY:this.direction===r.Horizontal?0:l,opacity:0,display:"block",zIndex:1,transformOrigin:s}),c.to=Object.assign({},a.b,{rotateX:0,rotateY:0,offsetX:0,offsetY:0,opacity:1,display:"block",zIndex:1,transformOrigin:s}),c.reset=!0}else{l=t>n||o?-100:100,d=t>n||o?-60:60;c.from=Object.assign({},a.b,{rotateX:0,rotateY:0,offsetX:0,offsetY:0,opacity:1,display:"block",zIndex:0,transformOrigin:s}),c.to=Object.assign({},a.b,{rotateX:this.direction===r.Horizontal?0:-d,rotateY:this.direction===r.Horizontal?d*u:0,offsetX:this.direction===r.Horizontal?l*u:0,offsetY:this.direction===r.Horizontal?0:l,opacity:0,display:"block",zIndex:0,transformOrigin:s}),c.reset=!0}return c},e.prototype.getContinuousTransitionProps=function(e,t,n,o,i){if(void 0===o&&(o=1),!(e===t||e===n))return{display:"none",transformOrigin:""};var s=this.initState(o,e,t,n),u=s[0],c=s[1],l=o-n;t===n&&(l=1);var d=this.isRTL?-1:1;if(e===t){var f={},p=Object.assign({},a.b,{display:"block",rotateX:this.direction===r.Horizontal?0:-c,rotateY:this.direction===r.Horizontal?c*d:0,offsetX:this.direction===r.Horizontal?u*d:0,offsetY:this.direction===r.Horizontal?0:u,opacity:l,zIndex:1,transformOrigin:this.getContinuousOrigin(e,t,n)});return i?(f.from=Object.assign({},a.b,{display:"block",rotateX:this.direction===r.Horizontal?0:-60,rotateY:this.direction===r.Horizontal?60*d:0,offsetX:this.direction===r.Horizontal?100*d:0,offsetY:this.direction===r.Horizontal?0:100,opacity:l,zIndex:1,transformOrigin:this.getContinuousOrigin(e,t,n)}),f.to=p,f.reset=!0,f):(p.reset=!1,p)}return Object.assign({},a.b,{display:"block",rotateX:this.direction===r.Horizontal?0:-c,rotateY:this.direction===r.Horizontal?c*d:0,offsetX:this.direction===r.Horizontal?u*d:0,offsetY:this.direction===r.Horizontal?0:u,opacity:1-l,transformOrigin:this.getContinuousOrigin(e,t,n),zIndex:0,reset:!1})},e.prototype.transform=function(e,t,n,r,o){if(t!==n&&t!==r)return null;var a=e.offsetX,s=e.offsetY,u=e.rotateX,c=e.rotateY;return null==a||null==c?null:Object(i.interpolate)([a,s,u,c],(function(e,t,n,r){return"perspective(1000px) translate3d("+e+"%, "+t+"%, 0) rotateX("+n+"deg) rotateY("+r+"deg)"}))},e}(),f=function(){function e(){}return e.prototype.getTransitionProps=function(e,t,n,r,o){return void 0===o&&(o=1),Object.assign({},a.b,{display:e===t?"block":"none",opacity:1,zIndex:e===t?1:0,reset:!0})},e.prototype.transform=function(e,t,n,r,o){return""},e}(),p=n(2);function h(){var e,t;return null!==(t=null===(e=Object(p.b)().getState().appContext)||void 0===e?void 0:e.isRTL)&&void 0!==t&&t}function g(e){return Math.abs(e-Math.round(e))<1e-7}function m(e,t){var n,r,o=v(e,0,1)*(t-1),i=Math.floor(o);return r=i,n=v(n=(r=g(o)?Math.round(o)-1:i)+1,0,t-1),{previousIndex:r=v(r,0,t-1),progress:o,currentIndex:n}}function v(e,t,n){return Math.max(t,Math.min(e,n))}function y(e,t){switch(void 0===t&&(t=r.Horizontal),e){case o.Cover:return new u(h(),t);case o.Cube:return new d(h(),t);case o.Fade:return new c;case o.Push:return new l(h(),t);case o.Box:return new s(h(),t);default:return new f}}var b=n(0),w=n(20),O=n(39);var S=n(8),I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function E(e){var t=e.useProgress,n=void 0!==t&&t,r=e.useStep,s=e.progress,u=e.currentIndex,c=e.previousIndex,l=e.direction,d=e.transitionType,f=e.children,p=e.playId,h=e.withOneByOne,v=e.loop,E=b.useRef(),C=b.useRef(),T=b.useRef(),A=b.useRef(),_=b.useRef(),x=b.useState(),P=(x[0],x[1]),D=b.Children.count(f),R=b.useContext(O.b),k=R||{},M=k.setting,N=k.playId,L=k.onAnimationEnd,U=b.useMemo((function(){return y(d,l)}),[d,l]),F=w.useSelector((function(e){var t;return d&&d!==o.None?(null===(t=e.appRuntimeInfo)||void 0===t?void 0:t.appMode)===S.c.Design:null})),V=b.useMemo((function(){var e=s,t=!1,r=!1;if(n){var o=m(s,D);e=o.progress,Math.round(100*A.current)!==Math.round(100*e)&&(t=!0,A.current=o.progress);var i=!0;E.current===o.currentIndex-1?r=!0:g(s*(D-1))&&o.currentIndex===E.current-1&&(i=!1),i&&(E.current=o.currentIndex,C.current=o.previousIndex)}else E.current===u&&C.current===c||(t=!0,E.current=u,C.current=c);return _.current=t,[e,r]}),[n,s,D,u,c]),B=V[0],W=V[1],z=p&&T.current!==p||_.current,G=Object(i.useSprings)(D,(function(e){return Object.assign({},a.b,{zIndex:e===E.current?1:0,display:e===E.current?"block":"none"})})),q=G[0],H=G[1],K=G[2],$=function(e,t,n,r,o,i){void 0===r&&(r=!1),void 0===o&&(o=!1),K(),H((function(a){var s=a!==e?void 0:function(){"function"==typeof i&&i(),Y()};return I(I({},U.getTransitionProps(a,e,t,v,n,r)),{config:{duration:400},immediate:o,onRest:s})}))},Y=function(){M&&M.type!==O.g.None&&P(Symbol())};b.useEffect((function(){if(p&&T.current!==p)return T.current=p,_.current=!1,void $(E.current,C.current,void 0);_.current&&(_.current=!1,$(E.current,C.current,B,W,!(!n||r)))}));var J=function(e){var t=b.useRef();return b.useCallback((function(n){var r,o,i;return e&&(null===(r=t.current)||void 0===r?void 0:r.symbol)!==e&&(t.current={symbol:e,used:!1}),n&&(null===(o=t.current)||void 0===o?void 0:o.symbol)&&!1===(null===(i=t.current)||void 0===i?void 0:i.used)?(t.current.used=!0,t.current.symbol):null}),[e])}(N),X=function(e){var t=e.sectionPlayId,n=e.withOneByOne,r=e.willPlayTransition,o=b.useRef();return b.useCallback((function(e){var i,a,s;if(!n)return null;if(t&&(null===(i=o.current)||void 0===i?void 0:i.symbol)!==t&&(o.current={symbol:t,used:!1}),(null===(a=o.current)||void 0===a?void 0:a.symbol)&&!1===(null===(s=o.current)||void 0===s?void 0:s.used)){if(r)return e?Symbol("prepare animation before transition"):null;if(e)return o.current.used=!0,o.current.symbol}return null}),[t,n,r])}({sectionPlayId:p,withOneByOne:h,willPlayTransition:z}),Q=function(e){var t=e.activeViewIndex,n=e.willPlayTransition,r=b.useRef();return b.useCallback((function(e,o){var i,a;if(e)return null;if((null===(i=r.current)||void 0===i?void 0:i.index)!==t&&(r.current={index:t,used:!1}),!1===(null===(a=r.current)||void 0===a?void 0:a.used)){if(n)return o?Symbol("prepare animation before transition"):null;if(o)return r.current.used=!0,Symbol("play animation after transition")}return null}),[t,n])}({activeViewIndex:E.current,willPlayTransition:z}),Z=function(e){var t=e===E.current;return J(t)||X(t)||Q(!1!==F,t)},ee=function(){"function"==typeof L&&L()};return b.createElement(b.Fragment,null,b.Children.map(f,(function(e,t){var r=q[t],o=(r.offsetX,r.offsetY,r.rotateX,r.rotateY,j(r,["offsetX","offsetY","rotateX","rotateY"])),a="";E.current!==C.current&&(a=U.transform(q[t],t,E.current,C.current,B));var s=t===E.current||t===C.current;return b.createElement(i.animated.div,{className:"w-100 h-100 view-content",key:t,style:I({position:"absolute",transform:a},o)},b.createElement(O.b.Provider,{value:{trigger:O.f.Manual,setting:n?null:s?M:null,playId:s?Z(t):null,revert:z&&t===E.current||!z&&t!==E.current,inheritedOneByOneSetting:null,depth:R.depth+1,onAnimationEnd:ee}},e))})))}function C(e){switch(e){case o.Cover:case o.Cube:case o.Push:case o.Box:return!0;default:return!1}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(90),a=n(113),s=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r},u=n(156),c=n.n(u),l=n(197),d=n.n(l),f={debounce:c.a,throttle:d.a},p=function(e){return"function"==typeof e},h=function(){return"undefined"==typeof window},g=function(e){return e instanceof Element||e instanceof HTMLDocument};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(l,e);var t,n,u,c=w(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),j(S(t=c.call(this,e)),"cancelHandler",(function(){t.resizeHandler&&t.resizeHandler.cancel&&(t.resizeHandler.cancel(),t.resizeHandler=null)})),j(S(t),"rafClean",(function(){t.raf&&t.raf.cancel&&(t.raf.cancel(),t.raf=null)})),j(S(t),"attachObserver",(function(){var e=t.props.targetRef;e&&e.current&&(t.targetRef.current=e.current);var n=t.getElement();n&&(t.observableElement&&t.observableElement===n||(t.observableElement=n,t.resizeObserver.observe(n)))})),j(S(t),"getElement",(function(){var e=t.props,n=e.querySelector,r=e.targetDomEl;if(!h()){if(n)return document.querySelector(n);if(r&&g(r))return r;if(t.targetRef&&g(t.targetRef.current))return t.targetRef.current;var o=Object(i.findDOMNode)(S(t));if(o)switch(t.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return o;default:return o.parentElement}}})),j(S(t),"createUpdater",(function(){return t.rafClean(),t.raf=s((function(e){var n=e.width,r=e.height,o=t.props.onResize;p(o)&&o(n,r),t.setState({width:n,height:r})})),t.raf})),j(S(t),"createResizeHandler",(function(e){var n=t.state,r=n.width,o=n.height,i=t.props,a=i.handleWidth,s=i.handleHeight;if(a||s){var u=t.createUpdater();e.forEach((function(e){var n=e&&e.contentRect||{},i=n.width,c=n.height,l=a&&r!==i||s&&o!==c;!t.skipOnMount&&l&&!h()&&u({width:i,height:c}),t.skipOnMount=!1}))}})),j(S(t),"getRenderType",(function(){var e=t.props,n=e.render,o=e.children;return p(n)?"renderProp":p(o)?"childFunction":Object(r.isValidElement)(o)?"child":Array.isArray(o)?"childArray":"parent"}));var n=e.skipOnMount,o=e.refreshMode,u=e.refreshRate,d=e.refreshOptions;t.state={width:void 0,height:void 0},t.skipOnMount=n,t.raf=null,t.unmounted=!1,t.targetRef=Object(r.createRef)(),t.observableElement=null;var m=f[o];return t.resizeHandler=m?m(t.createResizeHandler,u,d):t.createResizeHandler,t.resizeObserver=new a.a(t.resizeHandler),t}return t=l,(n=[{key:"componentDidMount",value:function(){this.attachObserver()}},{key:"componentDidUpdate",value:function(){this.attachObserver()}},{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect(),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){var e=this.props,t=e.render,n=e.children,i=e.nodeType,a=this.state,s={width:a.width,height:a.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return t(s);case"childFunction":return n(s);case"child":if("string"==typeof n.type){var u=v(s,["targetRef"]);return Object(r.cloneElement)(n,u)}return Object(r.cloneElement)(n,s);case"childArray":return n.map((function(e){return!!e&&Object(r.cloneElement)(e,s)}));default:return o.a.createElement(i,null)}}}])&&y(t.prototype,n),u&&y(t,u),l}(r.PureComponent);E.defaultProps={handleWidth:!0,handleHeight:!0,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,targetDomEl:null,targetRef:null,onResize:null,render:void 0,children:null,nodeType:"div"};var C=E;t.a=C},function(e,t,n){"use strict";n.d(t,"d",(function(){return W})),n.d(t,"a",(function(){return G})),n.d(t,"b",(function(){return K})),n.d(t,"c",(function(){return $}));var r,o=n(15),i=n(31),a=n(14),s=n(51),u=n(2),c=n(9),l=n(3),d=n(26),f=n(72),p=n(21),h=n(42),g=n(37),m=n(27),v=n(33),y=n(111),b=n(8),w=n(12),O=n(52),S=n(22),I=n(93),j=n(126),E=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="export-json",t}return E(t,e),t.prototype.isSupported=function(e,t){return t.length>0},t.prototype.onExecute=function(e,t){var n=t.map((function(e){return e.toJson()}));return alert("see console"),console.log(n),Promise.resolve(!0)},t}(j.a),T=n(76),A=n(127),_=n(46),x=n(19),P=n(50),D=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},k=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="select data record action",t}return D(t,e),t.prototype.filterMessageType=function(e,t){return e==_.g.DataRecordsSelectionChange||e==_.g.SelectDataRecord},t.prototype.filterMessage=function(e){return!0},t.prototype.getSettingComponentUri=function(e,t){return"select-data-record-action"},t.prototype.onExecute=function(e,t){return R(this,void 0,void 0,(function(){var n,r,o,i,a,s,u,c,l,d,f,p,h,g,m,v,y,b;return k(this,(function(w){switch(w.label){case 0:switch(e.type){case _.g.DataRecordsSelectionChange:return[3,1]}return[3,5];case 1:return n=null,t?t.messageUseDataSource&&t.actionUseDataSource?t.messageUseDataSource.mainDataSourceId===t.actionUseDataSource.mainDataSourceId?[2]:e.records.length>0&&e.records[0].dataSource.getMainDataSource().id!==t.messageUseDataSource.mainDataSourceId?[2,Promise.resolve(!0)]:(r=x.a.getInstance(),o=r.getDataSource(t.messageUseDataSource.mainDataSourceId),(i=r.getDataSource(t.actionUseDataSource.mainDataSourceId))?[3,3]:[4,r.createDataSourceByUseDataSource(t.actionUseDataSource)]):[3,4]:[3,4];case 2:w.sent(),i=r.getDataSource(t.actionUseDataSource.mainDataSourceId),w.label=3;case 3:if(0===e.records.length)return i&&i.selectRecordsByIds([]),[2,Promise.resolve(!0)];if(o&&i){if(t.enabledDataRelationShip){if(a=null,s=null,t.messageUseDataSource.mainDataSourceId===t.actionUseDataSource.mainDataSourceId?(u=o.getSchema(),c=u&&u.fields&&Object.keys(u.fields).find((function(e){return"esriFieldTypeOID"===u.fields[e].esriType})),a=u&&u.fields&&u.fields[c],s=a):(l=t.messageUseDataSource.fields[0],d=t.actionUseDataSource.fields[0],a=o.getSchema().fields[l],s=i.getSchema().fields[d]),y="",a&&s){for(f=a.name,p=a.type,h=e,g=[],m=0;m<h.records.length;m++)v=h.records[m].getData()[f],g.indexOf(""+this.formatValue(v,p))>-1||g.push(""+this.formatValue(h.records[m].getData()[f],p));y=s.name+" IN ",y=g.length>0?y+"("+g.join(", ")+")":""}e.records.length>0?(b=t.sqlExprObj?Object(P.getArcGISSQL)(t.sqlExprObj,i).sql:null)&&(y=y?y+" AND "+b:b):y="",n={outFields:["*"],where:y,returnGeometry:!0}}else y="",e.records.length>0?(b=t.sqlExprObj?Object(P.getArcGISSQL)(t.sqlExprObj,i).sql:null)&&(y=b):y="",n={outFields:["*"],where:y,returnGeometry:!0};i.query(n).then((function(e){var t=e&&e.records;if(t&&t.length>0){for(var n=[],r=0;r<t.length;r++){var o=t[r],a=i.getIdField();n.push(o.feature.attributes[a])}setTimeout((function(){i.selectRecordsByIds(n,t)}),200)}}))}w.label=4;case 4:return[2,Promise.resolve(!0)];case 5:return[3,6];case 6:return[2]}}))}))},t.prototype.formatValue=function(e,t){return"STRING"===t?"'"+e+"'":"NUMBER"===t?""+e:"DATE"===t?"'"+e+"'":void 0},t}(_.a),N=n(38),L=n(92),U=n(40),F=n(4),V=function(){function e(){this.id="jimu-core-ds-factory"}return e.prototype.getFactoryUri=function(e){if(Object.keys(F.c).map((function(e){return F.c[e]})).indexOf(e)>-1)return"jimu-core/data-source"},e}(),B=function(){return(B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},W=["en","ar","bs","ca","cs","da","de","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw"],z=Object(u.a)(c(window.initStoreState));function G(){var e;e=p.b.getInstance(),Object(U.e)({fetch:function(t,n){var r,o=B({},n),i=e.getMainPortal();return i.isWebTier&&Object(m.isSamePortalUrl)(t,i.portalUrl)?(o.credentials="include",r=Promise.resolve()):r=e.isTrustedServer(t)?e.getSessionFromTrustedServer(t).then((function(e){e&&e.token&&(t=a.appendQueryParam(t,"token",e.token))})):Promise.resolve(),r.then((function(){return fetch(t,o).then((function(e){return e}))}))}});var t=s.parse(window.location.search);return z.subscribe((function(){window._appState=Object(u.b)().getState()})),window.addEventListener&&(window.addEventListener("online",(function(){return z.dispatch(l.networkStatusChanged(!1))})),window.addEventListener("offline",(function(){return z.dispatch(l.networkStatusChanged(!0))})),window.addEventListener("resize",Object(y.a)(Y,100)),Y()),window.runtimeInfo={widgets:{}},Promise.allSettled||(Promise.allSettled=function(e){var t=e.map((function(e){return e.then((function(e){return{status:"fulfilled",value:e}})).catch((function(e){return{status:"rejected",reason:e}}))}));return Promise.all(t)}),L.a.getInstance(),(window.jimuConfig.isInBuilder?Object(o.loadModule)("jimu-layouts/layout-builder").then((function(){return Object(o.loadModule)("jimu-for-builder",["appBuilderSync","loadI18nMessage"]).then((function(e){var t=e.appBuilderSync;t.listenBuilderEvents(),t.publishAppIsLoadedToBuilder();var n=Object(y.a)(t.publishAppStateChangeToBuilder,200);return Object(u.c)((function(e,t){e&&t&&n()})),Promise.resolve()}))})):Promise.resolve()).then(K).then((function(){var e;e=a.getAppIdPageIdFromUrl().appId,!window.jimuConfig.isInBuilder&&e?O.getAppInfo(e).then((function(e){return Object(u.b)().dispatch(l.appInfoChanged(e)),e})):Promise.resolve({})})).then(q).then((function(e){var n,r=null===(n=function(e,t){return e.locale||t||Object(v.getBrowserLanguage)(window.navigator)}(t,e))||void 0===n?void 0:n.toLowerCase(),s=Object(v.getTranslatedLocale)(r,W)||"en",c={isInPortal:window.jimuConfig.isInPortal,isInBuilder:window.jimuConfig.isInBuilder,isBuilder:window.jimuConfig.isBuilder,isSite:window.jimuConfig.isSite,locale:r,translatedLocale:s,isRTL:Object(v.isRTLLocale)(r),isTouchDevice:i.isTouchDevice(),jimuConfig:window.jimuConfig};!function(e){if(window.locale=e,"undefined"==typeof document)return;var t=document.getElementsByTagName("html")[0];t.setAttribute("lang",e),Object(v.isRTLLocale)(e)?(t.setAttribute("dir","rtl"),t.className+=" esriRtl jimu-rtl",t.className+=" "+e+" "+(-1!==e.indexOf("-")?e.split("-")[0]:"")):(t.setAttribute("dir","ltr"),t.className+=" esriLtr jimu-ltr",t.className+=" "+e+" "+(-1!==e.indexOf("-")?e.split("-")[0]:""))}(r),z.dispatch(l.initAppContext(c)),z.dispatch(l.queryObjectChanged(t)),z.dispatch(l.networkStatusChanged(!(window.navigator&&window.navigator.onLine)));var d=a.getAppIdPageIdFromUrl(),f=d.appId,p=d.pageId;return f?z.dispatch(l.appIdChanged(f)):t.config&&z.dispatch(l.appIdChanged(t.config)),z.dispatch(l.appRuntimeInfoInit({appMode:b.c.Run,currentPageId:p,currentDialogId:t.dlg,activePagePart:b.j.Body})),function(e){var t=a.getDataSourceInfosFromQueryObject(e);Object.keys(t).forEach((function(e){var n=t[e];"index"===n.selectionType?Object(u.b)().dispatch(l.dataSourceSelectedIndexesChanged(e,n.selection)):Object(u.b)().dispatch(l.dataSourceSelectedIdsChanged(e,n.selection))}))}(t),function(e){if("en"===e)return Promise.resolve(S.a);return(e=Object(v.getLocaleToLoad)(e,W))?Object(v.loadLocaleMessages)("jimu-core/lib/translations",e).then((function(e){return e})):Promise.resolve(S.a)}(s).then((function(e){return e&&z.dispatch(l.i18nMessagesLoaded("jimu-core",e)),I.a.getInstance().registerAction({id:"export-json",label:H({id:"dataAction_ExportJson",defaultMessage:S.a.dataAction_ExportJson},e),ActionClass:C}),T.a.getInstance().registerAction({id:"filter-data-record-action",label:H({id:"messageAction_FilterDataRecord",defaultMessage:S.a.messageAction_FilterDataRecord},e),ActionClass:A.a}),T.a.getInstance().registerAction({id:"select-data-record-action",label:H({id:"messageAction_SelectDataRecord",defaultMessage:S.a.messageAction_SelectDataRecord},e),ActionClass:M}),h.a.getInstance().registerExtension({epName:g.ExtensionPoints.DataSourceFactoryUri,extension:new V}),window.jimuConfig.isInBuilder?(Object(u.b)().dispatch(l.appModeChanged(b.c.Design)),Object(o.getModuleSync)("jimu-for-builder").loadI18nMessage()):Promise.resolve()}))}))}function q(){return z.getState().user?(localStorage.getItem(w.USER_LOCALE_KEY)!==z.getState().user.culture&&localStorage.setItem(w.USER_LOCALE_KEY,z.getState().user.culture),Promise.resolve(z.getState().user.culture)):p.b.getInstance().getMainSession()?localStorage.getItem(w.USER_LOCALE_KEY)?(p.b.getInstance().getUserInfo(),Promise.resolve(localStorage.getItem(w.USER_LOCALE_KEY))):p.b.getInstance().getUserInfo().then((function(e){return e.culture})):null}function H(e,t){return t&&t[e.id]?t[e.id]:e.defaultMessage}function K(){return function(){var e;if(window.jimuConfig.isInPortal)return e=Object(m.getPortalUrlFromLocation)(),Promise.resolve({portalUrl:e,clientId:"experienceBuilder"});if(window.jimuConfig.packagesInAppFolder)return Promise.resolve(null);var t=window.jimuConfig.hostEnv||"dev",n=a.getFixedRootPath()+"builder/setting.json?env="+(window.jimuConfig.isDevEdition?"dev":"online");return window.fetch(n).then((function(e){return e.json()})).then((function(e){var n=(window.jimuConfig.isDevEdition?e.devEnv:e.env)[t];return n&&(n.portalUrl=Object(m.fixPortalUrlProtocol)(n.portalUrl)),n}),(function(e){return console.error("Get setting.json error.",e),Promise.resolve(null)}))}().then((function(e){return e?window.jimuConfig.isDevEdition&&!1===window.jimuConfig.isSite&&!1===window.jimuConfig.isBuilder&&!1===window.jimuConfig.isInBuilder?(p.b.getInstance().tryToSignIn(e),void Object(u.b)().dispatch(l.setPortalInfo(e.portalUrl,e.clientId))):(Object(u.b)().dispatch(l.setPortalInfo(e.portalUrl,e.clientId)),p.b.getInstance().tryToSignIn(e),t=e.portalUrl,void(window.jimuConfig.isInBuilder?Promise.resolve({}):O.initPortalSelf(t))):(console.warn("No portal info."),p.b.getInstance().tryToSignIn(null),Promise.resolve({}));var t}))}function $(e){return Promise.all(d.getAllWidgets(e.appConfig).map((function(e){return e.manifest.properties.hasMainClass?f.a.getInstance().loadWidgetClass(e.id):Promise.resolve({})}))).then((function(){var e;return e=window.jimuConfig.isInBuilder?"jimu-layouts/layout-builder":"jimu-layouts/layout-runtime",Object(o.loadModule)(e)})).then((function(){return Object(o.loadModule)("jimu-ui")})).then((function(){return N.a.getInstance().loadTheme(e.appConfig.theme)}))}function Y(){if("undefined"!=typeof document){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=i.getBrowserSizeMode({width:e,height:t});Object(u.b)().getState().browserSizeMode!==n&&Object(u.b)().dispatch(l.browserSizeModeChanged(n))}}},function(e,t,n){"use strict";var r,o=n(0),i=n(20),a=n(2),s=n(32),u=n(9),c=n(118),l=n(17),d=n(3),f=n(15),p=n(14),h=n(31),g=n(121),m=n(30),v=n(38),y=n(72),b=n(148),w=n(35),O=n(19),S=n(22),I=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),j=function(e){function t(t){var n,r=e.call(this,t)||this;r.getKeyboardComponent=function(){if(window.jimuConfig.isBuilder){var e=Object(f.getModuleSync)("jimu-for-builder").BuilderKeyboardComponent;return o.createElement(e,null)}return window.jimuConfig.isInBuilder?o.createElement(g.a,null):null};var i={},a=r.getPageId();return i.pageStatus=u(a?((n={})[a]=!0,n):{}),i.PageRenderClass=r.getPageRenderClass(),i.jimuUI=r.getJimuUI(),window.isNode||window.initStoreState?i.preloadWidgetsLoaded=!0:i.preloadWidgetsLoaded=!1,r.state=i,r.onDismiss=r.onDismiss.bind(r),r.reload=r.reload.bind(r),r}return I(t,e),t.prototype.getLayoutEntryPath=function(){return window.jimuConfig.isInBuilder?"jimu-layouts/layout-builder":"jimu-layouts/layout-runtime"},t.prototype.getPageRenderClass=function(){return Object(f.getModuleSync)(this.getLayoutEntryPath())?Object(f.getModuleSync)(this.getLayoutEntryPath()).PageRenderer:(console.error("Please init jimu-layouts."),null)},t.prototype.getJimuUI=function(){return Object(f.getModuleSync)("jimu-ui")?Object(f.getModuleSync)("jimu-ui"):(console.error("Please init jimu-ui."),null)},t.prototype.componentDidMount=function(){var e=this,t=Object(p.getFixedRootPath)()+"jimu-ui",n=this.props.isRTL?t+"/styles/base-rtl.css":t+"/styles/base.css";if(document){if(document.getElementById("jimu-base-style"))return;var r=document.createElement("link");r.setAttribute("id","jimu-base-style"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",n),document.head.appendChild(r)}c.a.getInstance({intl:this.props.intl}).loadAppConfig().then((function(t){e.props.dispatch(d.appConfigLoaded(t));var n=Object(p.getSectionNavInfoFromQueryObject)(e.props.queryObject,t);return Object.keys(n).forEach((function(t){e.props.dispatch(d.sectionNavInfoChanged(t,n[t]))})),t})).then((function(t){Promise.all([e.loadPreloadWidgets(t),v.a.getInstance().loadTheme(t.theme)]).then((function(){Object(h.showApp)(),window.jimuConfig.isInBuilder&&O.a.getInstance().createAllDataSources()})).catch((function(t){console.error("Initializing theme manager failed.",t),e.setState({error:t.message})}))})).catch((function(t){console.error("Load app config error.",t),e.setState({error:t.message})}))},t.prototype.componentWillUnmount=function(){var e=document.getElementById("jimu-base-style");e&&e.remove()},t.prototype.loadPreloadWidgets=function(e){var t,n=this,r=[],o=(null===(t=e.preloadWidgets)||void 0===t?void 0:t.asMutable())||[];return Object.keys(e.widgets).forEach((function(t){var n=e.widgets[t];r.indexOf(n.uri)>-1&&o.indexOf(n.uri)<0&&o.push(n.uri)})),0===o.length?(this.setState({preloadWidgetsLoaded:!0}),Promise.resolve()):Promise.all(o.map((function(e){return y.a.getInstance().loadWidgetClassByUri(e)}))).then((function(){n.setState({preloadWidgetsLoaded:!0})}))},t.prototype.componentDidUpdate=function(){var e=this.getPageId(),t=this.state.pageStatus;e&&!t[e]&&(Object.keys(t).forEach((function(e){t=t.set(e,!1)})),this.setState({pageStatus:t.set(e,!0)}))},t.prototype.getPageId=function(){var e=this;if(!this.props.pages)return null;var t=Object(p.getAppIdPageIdFromUrl)();return t.pageId?t.pageId:Object.keys(this.props.pages).find((function(t){return e.props.pages[t].isDefault}))},t.prototype.getDialogId=function(){return this.props.dialogJson&&(window.jimuConfig.isInBuilder||this.props.dialogJson.mode!==l.c.Anchored)?window.jimuConfig.isInBuilder&&this.props.dialogJson.mode===l.c.Anchored&&this.props.currentDialogId&&this.props.currentDialogId!==this.props.queryObject.dlg?null:this.props.dialogJson.id:null},t.prototype.render=function(){var e,t=this.state,n=t.PageRenderClass,r=t.pageStatus;if(!this.props.hasPrivilege)return Object(h.showApp)(),this.renderPrivilegeError();if(this.state.error)return Object(h.showApp)(),o.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},dangerouslySetInnerHTML:{__html:this.state.error}});var i=v.a.getInstance();if(!this.props.appConfigLoaded||!n||!this.state.preloadWidgetsLoaded||Object(h.isDeepEqual)(this.props.themeVariables,{}))return null;if(this.props.themeName&&!i.isThemeLoaded(this.props.themeName))return null;var a=this.getPageId();if(!a)return console.error("No page to render."),null;if(!this.props.pages[a])return console.error("Invalid page id.",a),null;if(this.props.pages[a].type===l.f.Folder)return console.error("This is a folder."),null;if(this.props.pages[a].linkUrl)return window.location.assign(this.props.pages[a].linkUrl),null;var s=i.getGlobalStyles(this.props.themeVariables),u=null===(e=this.state.jimuUI)||void 0===e?void 0:e.Loading;return o.createElement(o.Fragment,null,o.createElement(m.b,{styles:s}),this.renderReloadAlert(this.props.themeVariables),o.createElement(n,{pageStatus:r,dialogId:this.getDialogId()}),this.getThemeNode(),o.createElement("div",{id:"helper-nodes-container"}),this.getKeyboardComponent(),u&&this.props.isBusy&&o.createElement(u,{type:this.props.loadingType}))},t.prototype.renderPrivilegeError=function(){var e=this.state.jimuUI.Button,t=window.jimuConfig.isBuilder||window.jimuConfig.isSite?"white":"black";return o.createElement("div",{style:{width:"100vw",height:"100vh",color:t,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},o.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.privilegeError}}),o.createElement(e,{size:"lg",style:{padding:"0.25rem 1rem",fontSize:"14px",userSelect:"none",lineHeight:1.5,borderRadius:"2px",color:"#fff",background:"#444",borderWidth:"1px",borderStyle:"solid",borderColor:"#444",marginTop:"20px",outline:"none",cursor:"pointer"},onClick:function(){location.href="/"}},this.props.intl.formatMessage({id:"ok",defaultMessage:S.a.ok})))},t.prototype.renderReloadAlert=function(e){if(window.jimuConfig.isInBuilder||!this.state.jimuUI||window.jimuConfig.isSite&&"landing"===this.getPageId())return null;if(!this.props.hasNewVersion&&!this.props.userLocaleChanged)return null;var t=this.state.jimuUI,n=t.Alert,r=t.Button,i=this.props.hasNewVersion?o.createElement(b.a,{id:"versionUpdateMsg",defaultMessage:S.a.versionUpdateMsg}):o.createElement(b.a,{id:"userLocaleChangeMsg",defaultMessage:S.a.userLocaleChangeMsg});return o.createElement(n,{color:"info",isOpen:this.props.hasNewVersion,toggle:this.onDismiss,className:"pl-3 pr-3",closeClassName:"mt-2",style:{position:"absolute",zIndex:999,width:"100%",paddingTop:""+Object(s.j)(11),paddingBottom:""+Object(s.j)(11),backgroundColor:""+e.colors.palette.primary[100],color:""+e.colors.black,fontSize:""+Object(s.j)(16)}},i,o.createElement(r,{size:"sm",type:"primary",className:"ml-3",onClick:this.reload,style:{minWidth:""+Object(s.j)(78),height:""+Object(s.j)(26),marginTop:""+Object(s.j)(-2)}},o.createElement(b.a,{id:"doUpdate",defaultMessage:S.a.doUpdate})))},t.prototype.onDismiss=function(){var e;this.props.dispatch(d.setHasNewVersion(!1)),this.props.dispatch(d.userLocaleChanged(!1)),window.jimuConfig.isBuilder&&(null===(e=window._appWindow)||void 0===e?void 0:e._appStore)&&(window._appWindow._appStore.dispatch({type:"SET_HAS_NEW_VERSION",hasNew:!1}),window._appWindow._appStore.dispatch({type:"USER_LOCALE_CHANGED",isChanged:!1}))},t.prototype.reload=function(){window.location.reload()},t.prototype.getThemeNode=function(){var e=null,t=this.props.themeName;if(t){var n=v.a.getInstance().getThemeManifest(t);if(n&&n.styleFiles&&n.styleFiles.css){var r=this.props.isRTL?""+Object(p.getFixedRootPath)()+t+"/style-rtl.css":""+Object(p.getFixedRootPath)()+t+"/style.css";e=o.createElement("link",{type:"text/css",rel:"stylesheet",href:r})}}return e},t}(o.PureComponent),E=Object(w.c)(Object(i.connect)((function(e){var t;return e.appConfig?{appConfigLoaded:!0,customTheme:e.appConfig.customTheme,themeName:e.appConfig.theme?e.appConfig.theme:null,themeVariables:e.theme,pages:e.appConfig.pages,appPath:e.appPath,queryObject:e.queryObject,isRTL:e.appContext.isRTL,isBusy:e.appRuntimeInfo.isBusy,loadingType:e.appRuntimeInfo.loadingType,dialogJson:e.appConfig.dialogs?e.appConfig.dialogs[e.queryObject.dlg]:null,currentDialogId:e.appRuntimeInfo.currentDialogId,hasNewVersion:e.hasNewVersion||(null===(t=e.appStateInBuilder)||void 0===t?void 0:t.hasNewVersion),userLocaleChanged:e.userLocaleChanged,hasPrivilege:e.hasPrivilege,privilegeError:e.privilegeError}:{appConfigLoaded:!1,themeVariables:e.theme,themeName:null,customTheme:null,pages:null,appPath:e.appPath,queryObject:e.queryObject,isRTL:e.appContext.isRTL,loadingType:null,isBusy:e.appRuntimeInfo.isBusy,dialogJson:null,currentDialogId:null,hasNewVersion:!1,userLocaleChanged:!1,hasPrivilege:e.hasPrivilege,privilegeError:e.privilegeError}}))(j)),C=n(94),T=n(71),A=n(55),_=n(122),x=n(61),P=n(107),D=n.n(P),R=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=Object(i.connect)((function(e){return{locale:e.appContext.locale,defaultLocale:e.appContext.locale,messages:e.appI18nMessages}}))(T.b),M=Object(i.connect)((function(e){return{theme:e.theme}}))(A.a),N=function(e){function t(t){var n=e.call(this,t)||this;return n.myEmotionCache=Object(a.b)().getState().appContext.isRTL?Object(x.a)({stylisPlugins:D.a}):Object(x.a)(),n}return R(t,e),t.prototype.render=function(){return o.createElement(i.Provider,{store:Object(a.b)()},o.createElement(_.a,null,o.createElement(C.HistoryProvider,null,o.createElement(k,null,o.createElement(M,null,o.createElement(m.a,{value:this.myEmotionCache},o.createElement(E,null)))))))},t}(o.PureComponent);t.a=N},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return fe}));var r,o,i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object),l=a.toString,d=(r=Object.getPrototypeOf,o=Object,function(e){return r(o(e))});var f=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=l.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=d(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c};function p(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}function h(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var g=/javascript\s*\:/gim;var m={whiteList:h(),getDefaultWhiteList:h,onAttr:function(e,t,n){},onIgnoreAttr:function(e,t,n){},safeAttrValue:function(e,t){return g.test(t)?"":t}},v=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},y=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")};var b=function(e,t){";"!==(e=y(e))[e.length-1]&&(e+=";");var n=e.length,r=!1,o=0,i=0,a="";function s(){if(!r){var n=v(e.slice(o,i)),s=n.indexOf(":");if(-1!==s){var u=v(n.slice(0,s)),c=v(n.slice(s+1));if(u){var l=t(o,a.length,u,c,n);l&&(a+=l+"; ")}}}o=i+1}for(;i<n;i++){var u=e[i];if("/"===u&&"*"===e[i+1]){var c=e.indexOf("*/",i+2);if(-1===c)break;o=(i=c+1)+1,r=!1}else"("===u?r=!0:")"===u?r=!1:";"===u?r||s():"\n"===u&&s()}return v(a)};function w(e){return null==e}function O(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||m.whiteList,e.onAttr=e.onAttr||m.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||m.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||m.safeAttrValue,this.options=e}O.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,o=t.onIgnoreAttr,i=t.safeAttrValue;return b(e,(function(e,t,a,s,u){var c=n[a],l=!1;if(!0===c?l=c:"function"==typeof c?l=c(s):c instanceof RegExp&&(l=c.test(s)),!0!==l&&(l=!1),s=i(a,s)){var d,f={position:t,sourcePosition:e,source:u,isWhite:l};return l?w(d=r(a,s,f))?a+":"+s:d:w(d=o(a,s,f))?void 0:d}}))};var S=O,I=p((function(e,t){for(var n in(t=e.exports=function(e,t){return new S(t).process(e)}).FilterCSS=S,m)t[n]=m[n]})),j=function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},E=function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},C=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},T=function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},A=I.FilterCSS,_=I.getDefaultWhiteList;function x(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var P=new A;function D(e){return e.replace(R,"&lt;").replace(k,"&gt;")}var R=/</g,k=/>/g,M=/"/g,N=/&quot;/g,L=/&#([a-zA-Z0-9]*);?/gim,U=/&colon;?/gim,F=/&newline;?/gim,V=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,B=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,W=/u\s*r\s*l\s*\(.*/gi;function z(e){return e.replace(M,"&quot;")}function G(e){return e.replace(N,'"')}function q(e){return e.replace(L,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function H(e){return e.replace(U,":").replace(F," ")}function K(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return C(t)}function $(e){return e=K(e=H(e=q(e=G(e))))}function Y(e){return e=D(e=z(e))}var J=/<!--[\s\S]*?-->/g;var X={whiteList:{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},getDefaultWhiteList:x,onTag:function(e,t,n){},onIgnoreTag:function(e,t,n){},onTagAttr:function(e,t,n){},onIgnoreTagAttr:function(e,t,n){},safeAttrValue:function(e,t,n,r){if(n=$(n),"href"===t||"src"===t){if("#"===(n=C(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(V.lastIndex=0,V.test(n))return""}else if("style"===t){if(B.lastIndex=0,B.test(n))return"";if(W.lastIndex=0,W.test(n)&&(V.lastIndex=0,V.test(n)))return"";!1!==r&&(n=(r=r||P).process(n))}return n=Y(n)},escapeHtml:D,escapeQuote:z,unescapeQuote:G,escapeHtmlEntities:q,escapeDangerHtml5Entities:H,clearNonPrintableCharacter:K,friendlyAttrValue:$,escapeAttrValue:Y,onIgnoreTagStripAll:function(){return""},StripTagBody:function(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(i,a,s){if(function(t){return!!n||-1!==j(e,t)}(i)){if(s.isClosing){var u="[/removed]",c=s.position+u.length;return r.push([!1!==o?o:s.position,c]),o=!1,u}return o||(o=s.position),"[removed]"}return t(i,a,s)},remove:function(e){var t="",n=0;return E(r,(function(r){t+=e.slice(n,r[0]),n=r[1]})),t+=e.slice(n)}}},stripCommentTag:function(e){return e.replace(J,"")},stripBlankChar:function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},cssFilter:P,getDefaultCSSWhiteList:_};function Q(e){var t=T(e);if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=C(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function Z(e){return"</"===e.slice(0,2)}var ee=/[^a-zA-Z0-9_:\.\-]/gim;function te(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function ne(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function re(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}var oe={parseTag:function(e,t,n){var r="",o=0,i=!1,a=!1,s=0,u=e.length,c="",l="";for(s=0;s<u;s++){var d=e.charAt(s);if(!1===i){if("<"===d){i=s;continue}}else if(!1===a){if("<"===d){r+=n(e.slice(o,s)),i=s,o=s;continue}if(">"===d){r+=n(e.slice(o,i)),c=Q(l=e.slice(i,s+1)),r+=t(i,r.length,c,l,Z(l)),o=s+1,i=!1;continue}if(('"'===d||"'"===d)&&"="===e.charAt(s-1)){a=d;continue}}else if(d===a){a=!1;continue}}return o<e.length&&(r+=n(e.substr(o))),r},parseAttr:function(e,t){var n=0,r=[],o=!1,i=e.length;function a(e,n){if(!((e=(e=C(e)).replace(ee,"").toLowerCase()).length<1)){var o=t(e,n||"");o&&r.push(o)}}for(var s=0;s<i;s++){var u,c=e.charAt(s);if(!1!==o||"="!==c)if(!1===o||s!==n||'"'!==c&&"'"!==c||"="!==e.charAt(s-1))if(/\s|\n|\t/.test(c)){if(e=e.replace(/\s|\n|\t/g," "),!1===o){if(-1===(u=te(e,s))){a(C(e.slice(n,s))),o=!1,n=s+1;continue}s=u-1;continue}if(-1===(u=ne(e,s-1))){a(o,re(C(e.slice(n,s)))),o=!1,n=s+1;continue}}else;else{if(-1===(u=e.indexOf(c,s+1)))break;a(o,C(e.slice(n+1,u))),o=!1,n=(s=u)+1}else o=e.slice(n,s),n=s+1}return n<e.length&&(!1===o?a(e.slice(n)):a(o,re(C(e.slice(n))))),C(r.join(" "))}},ie=I.FilterCSS,ae=oe.parseTag,se=oe.parseAttr;function ue(e){return null==e}function ce(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=X.onIgnoreTagStripAll),e.whiteList=e.whiteList||X.whiteList,e.onTag=e.onTag||X.onTag,e.onTagAttr=e.onTagAttr||X.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||X.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||X.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||X.safeAttrValue,e.escapeHtml=e.escapeHtml||X.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new ie(e.css))}ce.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,o=t.onIgnoreTag,i=t.onTagAttr,a=t.onIgnoreTagAttr,s=t.safeAttrValue,u=t.escapeHtml,c=this.cssFilter;t.stripBlankChar&&(e=X.stripBlankChar(e)),t.allowCommentTag||(e=X.stripCommentTag(e));var l=!1;if(t.stripIgnoreTagBody){l=X.StripTagBody(t.stripIgnoreTagBody,o);o=l.onIgnoreTag}var d=ae(e,(function(e,t,l,d,f){var p,h={sourcePosition:e,position:t,isClosing:f,isWhite:n.hasOwnProperty(l)};if(!ue(p=r(l,d,h)))return p;if(h.isWhite){if(h.isClosing)return"</"+l+">";var g=function(e){var t=T(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=C(e.slice(t+1,-1)))[e.length-1];return n&&(e=C(e.slice(0,-1))),{html:e,closing:n}}(d),m=n[l],v=se(g.html,(function(e,t){var n,r=-1!==j(m,e);return ue(n=i(l,e,t,r))?r?(t=s(l,e,t,c))?e+'="'+t+'"':e:ue(n=a(l,e,t,r))?void 0:n:n}));d="<"+l;return v&&(d+=" "+v),g.closing&&(d+=" /"),d+=">"}return ue(p=o(l,d,h))?u(d):p}),u);return l&&(d=l.remove(d)),d};var le=ce,de=p((function(e,t){function n(e,t){return new le(t).process(e)}for(var r in(t=e.exports=n).filterXSS=n,t.FilterXSS=le,X)t[r]=X[r];for(var r in oe)t[r]=oe[r];"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)})),fe=function(){function e(e,t){var n,r=this;this.arcgisWhiteList={a:["href","target","style"],img:["src","width","height","border","alt","style"],video:["autoplay","controls","height","loop","muted","poster","preload","width"],audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:["width","height","cellpadding","cellspacing","border","style"],div:["style","align"],font:["size","color","style"],tr:["height","valign","align","style"],td:["height","width","valign","align","colspan","rowspan","nowrap","style"],th:["height","width","valign","align","colspan","rowspan","nowrap","style"],p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,n,o){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?r.sanitizeUrl(n):de.safeAttrValue(e,t,n,o)}},e&&!t?n=e:e&&t?(n=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach((function(t){"whiteList"===t?n.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,e.whiteList||{}]):n[t]=e[t]}))):(n=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=n,this._xssFilter=new de.FilterXSS(n)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&void 0===e)return;return null}},e.prototype.sanitizeUrl=function(e){var t=this._trim(e.substring(0,e.indexOf(":")));return"/"===e||"#"===e||"#"===e[0]||this.allowedProtocols.indexOf(t.toLowerCase())>-1?de.escapeAttrValue(e):""},e.prototype.validate=function(e,t){void 0===t&&(t={});var n=this.sanitize(e,t);return{isValid:e===n,sanitized:n}},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(n){Array.isArray(e[n])&&Array.isArray(t[n])?t[n]=t[n].concat(e[n]):t[n]=e[n]}))})),t},e.prototype._iterateOverObject=function(e,t){var n=this;void 0===t&&(t={});try{var r=!1,o=void 0;if(Array.isArray(e))o=e.reduce((function(e,o){var i=n.validate(o,t);return i.isValid?e.concat([o]):(r=!0,e.concat([i.sanitized]))}),[]);else{if(!f(e)){if(t.allowUndefined&&void 0===e)return;return null}o=Object.keys(e).reduce((function(o,i){var a=e[i],s=n.validate(a,t);return s.isValid?o[i]=a:(r=!0,o[i]=s.sanitized),o}),{})}return r?o:e}catch(e){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}()},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){var r=n(156),o=n(152);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},function(e,t,n){"use strict";n.r(t),n.d(t,"getFeature",(function(){return s})),n.d(t,"queryFeatures",(function(){return u})),n.d(t,"addFeatures",(function(){return c})),n.d(t,"updateFeatures",(function(){return l})),n.d(t,"deleteFeatures",(function(){return d})),n.d(t,"applyEdits",(function(){return f})),n.d(t,"getAttachments",(function(){return p})),n.d(t,"addAttachment",(function(){return h})),n.d(t,"updateAttachment",(function(){return g})),n.d(t,"deleteAttachments",(function(){return m})),n.d(t,"queryRelated",(function(){return v})),n.d(t,"getLayer",(function(){return y})),n.d(t,"getService",(function(){return b})),n.d(t,"decodeValues",(function(){return w}));var r=n(5),o=n(154),i=n(40),a=n(155);function s(e){var t=Object(o.a)(e.url)+"/"+e.id,n=r.a({httpMethod:"GET"},e);return Object(i.d)(t,n).then((function(e){return n.rawResponse?e:e.feature}))}function u(e){var t=Object(a.a)(e,["where","objectIds","relationParam","time","distance","units","outFields","geometry","geometryType","spatialRel","returnGeometry","maxAllowableOffset","geometryPrecision","inSR","outSR","gdbVersion","returnDistinctValues","returnIdsOnly","returnCountOnly","returnExtentOnly","orderByFields","groupByFieldsForStatistics","outStatistics","returnZ","returnM","multipatchOption","resultOffset","resultRecordCount","quantizationParameters","returnCentroid","resultType","historicMoment","returnTrueCurves","sqlFormat","returnExceededLimitFeatures","f"],{httpMethod:"GET",params:r.a({where:"1=1",outFields:"*"},e.params)});return Object(i.d)(Object(o.a)(e.url)+"/query",t)}function c(e){var t=Object(o.a)(e.url)+"/addFeatures",n=Object(a.a)(e,["features","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:r.a({},e.params)});return Object(i.d)(t,n)}function l(e){var t=Object(o.a)(e.url)+"/updateFeatures",n=Object(a.a)(e,["features","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:r.a({},e.params)});return Object(i.d)(t,n)}function d(e){var t=Object(o.a)(e.url)+"/deleteFeatures",n=Object(a.a)(e,["where","objectIds","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:r.a({},e.params)});return Object(i.d)(t,n)}function f(e){var t=Object(o.a)(e.url)+"/applyEdits",n=Object(a.a)(e,["adds","updates","deletes","useGlobalIds","attachments","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:r.a({},e.params)});return Object(i.d)(t,n)}function p(e){var t=r.a({httpMethod:"GET"},e);return Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/attachments",t)}function h(e){var t=r.a({params:{}},e);return t.params.attachment=e.attachment,Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/addAttachment",t)}function g(e){var t=r.a({params:{}},e);return t.params.attachment=e.attachment,t.params.attachmentId=e.attachmentId,Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/updateAttachment",t)}function m(e){var t=r.a({params:{}},e);return t.params.attachmentIds=e.attachmentIds,Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/deleteAttachments",t)}function v(e){var t=Object(a.a)(e,["objectIds","relationshipId","definitionExpression","outFields"],{httpMethod:"GET",params:r.a({definitionExpression:"1=1",outFields:"*",relationshipId:0},e.params)});return Object(i.d)(Object(o.a)(e.url)+"/queryRelatedRecords",t)}function y(e){return Object(i.d)(Object(o.a)(e.url),e)}function b(e){return Object(i.d)(Object(o.a)(e.url),e)}function w(e){return new Promise((function(t){if(!e.fields)return y({url:e.url}).then((function(n){t(e.fields=n.fields)}));t(e.fields)})).then((function(t){var n=function(e){return e.reduce((function(e,t){var n=t.domain;return n&&"codedValue"===n.type&&(e[t.name]=n),e}),{})}(t);if(Object.keys(n).length<1)return e.queryResponse;var o=e.queryResponse.features.map((function(e){var t={};for(var o in e.attributes)if(e.attributes.hasOwnProperty(o)){var i=e.attributes[o],a=n[o];t[o]=null!==i&&a?O(i,a):i}return r.a({},e,{attributes:t})}));return r.a({},e.queryResponse,{features:o})}))}function O(e,t){var n=t.codedValues.find((function(t){return e===t.code}));return n?n.name:e}},function(e,t,n){"use strict";function r(e,t,n){if(void 0===n&&(n=Error),!e)throw new n(t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(98),o=n(142),i=n(96),a=n(44),s=n(135);var u=function(e,t,n,u){if(!Object(a.a)(e))return e;for(var c=-1,l=(t=Object(o.a)(t,e)).length,d=l-1,f=e;null!=f&&++c<l;){var p=Object(s.a)(t[c]),h=n;if(c!=d){var g=f[p];void 0===(h=u?u(g,p,f):void 0)&&(h=Object(a.a)(g)?g:Object(i.a)(t[c+1])?[]:{})}Object(r.a)(f,p,h),f=f[p]}return e};t.a=function(e,t,n){return null==e?e:u(e,t,n)}},,function(e,t,n){"use strict";n.r(t),n.d(t,"jsx",(function(){return nt})),n.d(t,"css",(function(){return rt})),n.d(t,"Global",(function(){return ot})),n.d(t,"ThemeContext",(function(){return it})),n.d(t,"polished",(function(){return tt})),n.d(t,"esri",(function(){return et})),n.d(t,"lodash",(function(){return Ze})),n.d(t,"version",(function(){return Qe}));var r=n(0);n.d(t,"React",(function(){return r}));var o=n(90);n.d(t,"ReactDOM",(function(){return o}));var i=n(20);n.d(t,"ReactRedux",(function(){return i}));var a=n(51);n.d(t,"queryString",(function(){return a}));var s=n(9);n.d(t,"Immutable",(function(){return s}));var u=n(85);n.d(t,"classNames",(function(){return u}));var c=n(234);n.d(t,"uuidv1",(function(){return c.a}));var l=n(30),d=n(105);n.d(t,"styled",(function(){return d.a}));var f=n(55);n.d(t,"ThemeProvider",(function(){return f.a}));var p=n(162);n.d(t,"xss",(function(){return p}));var h=n(32),g=n(167);n.d(t,"invariant",(function(){return g}));var m=n(189);n.d(t,"ReactResizeDetector",(function(){return m.a}));var v=n(113);n.d(t,"ResizeObserver",(function(){return v.a}));var y=n(24);n.d(t,"spring",(function(){return y}));var b=n(158),w=n(198),O=n(16),S=n(102),I=n(195),j=n(3);n.d(t,"appActions",(function(){return j}));var E=n(31);n.d(t,"utils",(function(){return E}));var C=n(14);n.d(t,"urlUtils",(function(){return C}));var T=n(27);n.d(t,"portalUrlUtils",(function(){return T}));var A=n(52);n.d(t,"portalUtils",(function(){return A}));var _=n(26);n.d(t,"appConfigUtils",(function(){return _}));var x=n(168);n.d(t,"themeUtils",(function(){return x}));var P=n(169);n.d(t,"keyboardUtils",(function(){return P}));var D=n(170);n.d(t,"privilegeUtils",(function(){return D}));var R=n(50);n.d(t,"dataSourceUtils",(function(){return R}));var k=n(37);n.d(t,"extensionSpec",(function(){return k}));var M=n(15);n.d(t,"moduleLoader",(function(){return M}));var N=n(94);n.d(t,"jimuHistory",(function(){return N}));var L=n(33);n.d(t,"i18n",(function(){return L}));var U=n(117);n.d(t,"requestUtils",(function(){return U}));var F=n(87);n.d(t,"expressionUtils",(function(){return F}));var V=n(34);n.d(t,"dateUtils",(function(){return V}));var B=n(71);n.d(t,"IntlProvider",(function(){return B.b}));var W=n(35);n.d(t,"injectIntl",(function(){return W.c})),n.d(t,"createIntl",(function(){return B.a}));var z=n(23);n.d(t,"createIntlCache",(function(){return z.d}));var G=n(125);n.d(t,"useIntl",(function(){return G.a}));var q=n(59);n.d(t,"FormattedDate",(function(){return q.a}));var H=n(148);n.d(t,"FormattedMessage",(function(){return H.a})),n.d(t,"FormattedNumber",(function(){return q.b}));var K=n(150);n.d(t,"FormattedPlural",(function(){return K.a}));var $=n(151);n.d(t,"FormattedRelativeTime",(function(){return $.a})),n.d(t,"FormattedTime",(function(){return q.c}));var Y=n(83);n.d(t,"RepeatedDataSourceProvider",(function(){return Y.a})),n.d(t,"withRepeatedDataSource",(function(){return Y.b}));var J=n(12);n.d(t,"CONSTANTS",(function(){return J}));var X=n(171);n.d(t,"BaseWidget",(function(){return X.a}));var Q=n(72);n.d(t,"WidgetManager",(function(){return Q.a}));var Z=n(118);n.d(t,"ConfigManager",(function(){return Z.a}));var ee=n(19);n.d(t,"DataSourceManager",(function(){return ee.a}));var te=n(76);n.d(t,"MessageManager",(function(){return te.a}));var ne=n(21);n.d(t,"SessionManager",(function(){return ne.b})),n.d(t,"SessionChangedReasonType",(function(){return ne.a}));var re=n(42);n.d(t,"ExtensionManager",(function(){return re.a}));var oe=n(93);n.d(t,"DataActionManager",(function(){return oe.a}));var ie=n(38);n.d(t,"ThemeManager",(function(){return ie.a}));var ae=n(86);n.d(t,"ServiceManager",(function(){return ae.a}));var se=n(191);n.d(t,"AppRoot",(function(){return se.a}));var ue=n(22);n.d(t,"defaultMessages",(function(){return ue.a}));var ce=n(92);n.d(t,"MutableStoreManager",(function(){return ce.a}));var le=n(123);n.d(t,"DataSourceComponent",(function(){return le.a}));var de=n(124);n.d(t,"MultipleDataSourceComponent",(function(){return de.a}));var fe=n(149);n.d(t,"ExpressionResolverComponent",(function(){return fe.a})),n.d(t,"ExpressionResolverErrorCode",(function(){return fe.b}));var pe=n(104);n.d(t,"Keyboard",(function(){return pe.a}));var he=n(121);n.d(t,"AppKeyboardComponent",(function(){return he.a}));var ge=n(236),me=n(67),ve=n(111),ye=n(200),be=n(110),we=n(235),Oe=n(45);n.d(t,"LayoutItemType",(function(){return Oe.a})),n.d(t,"LayoutType",(function(){return Oe.b}));var Se=n(175);for(var Ie in Se)["AppRoot","React","ReactDOM","ExtensionManager","BaseWidget","WidgetManager","ConfigManager","DataSourceManager","urlUtils","SessionManager","SessionChangedReasonType","appActions","extensionSpec","utils","appConfigUtils","themeUtils","ReactRedux","MessageManager","Immutable","classNames","uuidv1","queryString","moduleLoader","jimuHistory","portalUrlUtils","portalUtils","i18n","defaultMessages","DataSourceComponent","MultipleDataSourceComponent","IntlProvider","injectIntl","jsx","css","Global","ThemeContext","styled","xss","polished","MutableStoreManager","Keyboard","AppKeyboardComponent","keyboardUtils","requestUtils","expressionUtils","dateUtils","createIntl","createIntlCache","useIntl","FormattedDate","FormattedMessage","FormattedNumber","FormattedPlural","FormattedRelativeTime","FormattedTime","esri","lodash","RepeatedDataSourceProvider","withRepeatedDataSource","dataSourceUtils","DataActionManager","ThemeManager","invariant","CONSTANTS","ReactResizeDetector","ResizeObserver","ExpressionResolverComponent","ExpressionResolverErrorCode","ServiceManager","version","privilegeUtils","spring","ThemeProvider","LoadingHandler","LayoutItemType","LayoutType","default"].indexOf(Ie)<0&&function(e){n.d(t,e,(function(){return Se[e]}))}(Ie);var je=n(176);n.d(t,"JimuMapViewStatus",(function(){return je.a}));var Ee=n(17);n.d(t,"ContainerType",(function(){return Ee.a})),n.d(t,"ScreenTransitionType",(function(){return Ee.g})),n.d(t,"ScreenTriggerType",(function(){return Ee.h})),n.d(t,"PageType",(function(){return Ee.f})),n.d(t,"PageMode",(function(){return Ee.e})),n.d(t,"DialogMode",(function(){return Ee.c})),n.d(t,"DialogPosition",(function(){return Ee.d})),n.d(t,"DialogInteractionType",(function(){return Ee.b}));var Ce=n(177);for(var Ie in Ce)["AppRoot","React","ReactDOM","ExtensionManager","BaseWidget","WidgetManager","ConfigManager","DataSourceManager","urlUtils","SessionManager","SessionChangedReasonType","appActions","extensionSpec","utils","appConfigUtils","themeUtils","ReactRedux","MessageManager","Immutable","classNames","uuidv1","queryString","moduleLoader","jimuHistory","portalUrlUtils","portalUtils","i18n","defaultMessages","DataSourceComponent","MultipleDataSourceComponent","IntlProvider","injectIntl","jsx","css","Global","ThemeContext","styled","xss","polished","MutableStoreManager","Keyboard","AppKeyboardComponent","keyboardUtils","requestUtils","expressionUtils","dateUtils","createIntl","createIntlCache","useIntl","FormattedDate","FormattedMessage","FormattedNumber","FormattedPlural","FormattedRelativeTime","FormattedTime","esri","lodash","RepeatedDataSourceProvider","withRepeatedDataSource","dataSourceUtils","DataActionManager","ThemeManager","invariant","CONSTANTS","ReactResizeDetector","ResizeObserver","ExpressionResolverComponent","ExpressionResolverErrorCode","ServiceManager","version","privilegeUtils","spring","ThemeProvider","LoadingHandler","LayoutItemType","LayoutType","JimuMapViewStatus","ContainerType","ScreenTransitionType","ScreenTriggerType","PageType","PageMode","DialogMode","DialogPosition","DialogInteractionType","default"].indexOf(Ie)<0&&function(e){n.d(t,e,(function(){return Ce[e]}))}(Ie);var Te=n(178);for(var Ie in Te)["AppRoot","React","ReactDOM","ExtensionManager","BaseWidget","WidgetManager","ConfigManager","DataSourceManager","urlUtils","SessionManager","SessionChangedReasonType","appActions","extensionSpec","utils","appConfigUtils","themeUtils","ReactRedux","MessageManager","Immutable","classNames","uuidv1","queryString","moduleLoader","jimuHistory","portalUrlUtils","portalUtils","i18n","defaultMessages","DataSourceComponent","MultipleDataSourceComponent","IntlProvider","injectIntl","jsx","css","Global","ThemeContext","styled","xss","polished","MutableStoreManager","Keyboard","AppKeyboardComponent","keyboardUtils","requestUtils","expressionUtils","dateUtils","createIntl","createIntlCache","useIntl","FormattedDate","FormattedMessage","FormattedNumber","FormattedPlural","FormattedRelativeTime","FormattedTime","esri","lodash","RepeatedDataSourceProvider","withRepeatedDataSource","dataSourceUtils","DataActionManager","ThemeManager","invariant","CONSTANTS","ReactResizeDetector","ResizeObserver","ExpressionResolverComponent","ExpressionResolverErrorCode","ServiceManager","version","privilegeUtils","spring","ThemeProvider","LoadingHandler","LayoutItemType","LayoutType","JimuMapViewStatus","ContainerType","ScreenTransitionType","ScreenTriggerType","PageType","PageMode","DialogMode","DialogPosition","DialogInteractionType","default"].indexOf(Ie)<0&&function(e){n.d(t,e,(function(){return Te[e]}))}(Ie);var Ae=n(179);for(var Ie in Ae)["AppRoot","React","ReactDOM","ExtensionManager","BaseWidget","WidgetManager","ConfigManager","DataSourceManager","urlUtils","SessionManager","SessionChangedReasonType","appActions","extensionSpec","utils","appConfigUtils","themeUtils","ReactRedux","MessageManager","Immutable","classNames","uuidv1","queryString","moduleLoader","jimuHistory","portalUrlUtils","portalUtils","i18n","defaultMessages","DataSourceComponent","MultipleDataSourceComponent","IntlProvider","injectIntl","jsx","css","Global","ThemeContext","styled","xss","polished","MutableStoreManager","Keyboard","AppKeyboardComponent","keyboardUtils","requestUtils","expressionUtils","dateUtils","createIntl","createIntlCache","useIntl","FormattedDate","FormattedMessage","FormattedNumber","FormattedPlural","FormattedRelativeTime","FormattedTime","esri","lodash","RepeatedDataSourceProvider","withRepeatedDataSource","dataSourceUtils","DataActionManager","ThemeManager","invariant","CONSTANTS","ReactResizeDetector","ResizeObserver","ExpressionResolverComponent","ExpressionResolverErrorCode","ServiceManager","version","privilegeUtils","spring","ThemeProvider","LoadingHandler","LayoutItemType","LayoutType","JimuMapViewStatus","ContainerType","ScreenTransitionType","ScreenTriggerType","PageType","PageMode","DialogMode","DialogPosition","DialogInteractionType","default"].indexOf(Ie)<0&&function(e){n.d(t,e,(function(){return Ae[e]}))}(Ie);var _e=n(180);for(var Ie in _e)["AppRoot","React","ReactDOM","ExtensionManager","BaseWidget","WidgetManager","ConfigManager","DataSourceManager","urlUtils","SessionManager","SessionChangedReasonType","appActions","extensionSpec","utils","appConfigUtils","themeUtils","ReactRedux","MessageManager","Immutable","classNames","uuidv1","queryString","moduleLoader","jimuHistory","portalUrlUtils","portalUtils","i18n","defaultMessages","DataSourceComponent","MultipleDataSourceComponent","IntlProvider","injectIntl","jsx","css","Global","ThemeContext","styled","xss","polished","MutableStoreManager","Keyboard","AppKeyboardComponent","keyboardUtils","requestUtils","expressionUtils","dateUtils","createIntl","createIntlCache","useIntl","FormattedDate","FormattedMessage","FormattedNumber","FormattedPlural","FormattedRelativeTime","FormattedTime","esri","lodash","RepeatedDataSourceProvider","withRepeatedDataSource","dataSourceUtils","DataActionManager","ThemeManager","invariant","CONSTANTS","ReactResizeDetector","ResizeObserver","ExpressionResolverComponent","ExpressionResolverErrorCode","ServiceManager","version","privilegeUtils","spring","ThemeProvider","LoadingHandler","LayoutItemType","LayoutType","JimuMapViewStatus","ContainerType","ScreenTransitionType","ScreenTriggerType","PageType","PageMode","DialogMode","DialogPosition","DialogInteractionType","default"].indexOf(Ie)<0&&function(e){n.d(t,e,(function(){return _e[e]}))}(Ie);var xe=n(8);n.d(t,"BrowserSizeMode",(function(){return xe.d})),n.d(t,"JimuFieldType",(function(){return xe.g})),n.d(t,"EsriFieldType",(function(){return xe.f})),n.d(t,"AjaxState",(function(){return xe.b})),n.d(t,"AppMode",(function(){return xe.c})),n.d(t,"WidgetState",(function(){return xe.m})),n.d(t,"LinkType",(function(){return xe.h})),n.d(t,"WidgetType",(function(){return xe.n})),n.d(t,"ESRI_DATE_FORMAT_ARRAY",(function(){return xe.e})),n.d(t,"PagePart",(function(){return xe.j})),n.d(t,"UrlProtocol",(function(){return xe.l})),n.d(t,"APP_FRAME_NAME_IN_BUILDER",(function(){return xe.a})),n.d(t,"ResourceType",(function(){return xe.k})),n.d(t,"LoadingType",(function(){return xe.i}));var Pe=n(181);for(var Ie in Pe)["AppRoot","React","ReactDOM","ExtensionManager","BaseWidget","WidgetManager","ConfigManager","DataSourceManager","urlUtils","SessionManager","SessionChangedReasonType","appActions","extensionSpec","utils","appConfigUtils","themeUtils","ReactRedux","MessageManager","Immutable","classNames","uuidv1","queryString","moduleLoader","jimuHistory","portalUrlUtils","portalUtils","i18n","defaultMessages","DataSourceComponent","MultipleDataSourceComponent","IntlProvider","injectIntl","jsx","css","Global","ThemeContext","styled","xss","polished","MutableStoreManager","Keyboard","AppKeyboardComponent","keyboardUtils","requestUtils","expressionUtils","dateUtils","createIntl","createIntlCache","useIntl","FormattedDate","FormattedMessage","FormattedNumber","FormattedPlural","FormattedRelativeTime","FormattedTime","esri","lodash","RepeatedDataSourceProvider","withRepeatedDataSource","dataSourceUtils","DataActionManager","ThemeManager","invariant","CONSTANTS","ReactResizeDetector","ResizeObserver","ExpressionResolverComponent","ExpressionResolverErrorCode","ServiceManager","version","privilegeUtils","spring","ThemeProvider","LoadingHandler","LayoutItemType","LayoutType","JimuMapViewStatus","ContainerType","ScreenTransitionType","ScreenTriggerType","PageType","PageMode","DialogMode","DialogPosition","DialogInteractionType","BrowserSizeMode","JimuFieldType","EsriFieldType","AjaxState","AppMode","WidgetState","LinkType","WidgetType","ESRI_DATE_FORMAT_ARRAY","PagePart","UrlProtocol","APP_FRAME_NAME_IN_BUILDER","ResourceType","LoadingType","default"].indexOf(Ie)<0&&function(e){n.d(t,e,(function(){return Pe[e]}))}(Ie);var De=n(103);n.d(t,"ThemeFontVariantKeys",(function(){return De.d})),n.d(t,"ThemeCommonColorKeys",(function(){return De.c})),n.d(t,"ThemeThemeAlertColorKeys",(function(){return De.e})),n.d(t,"ThemeThemeMainColorKeys",(function(){return De.g})),n.d(t,"ThemeThemeColorKeys",(function(){return De.f})),n.d(t,"ThemeBoxStyleKeys",(function(){return De.b})),n.d(t,"COMPONENT_CATEGORIES",(function(){return De.a}));var Re=n(6);n.d(t,"ExpressionPartType",(function(){return Re.b})),n.d(t,"ExpressionFunctions",(function(){return Re.a}));var ke=n(10);n.d(t,"SqlExpressionMode",(function(){return ke.j})),n.d(t,"ClauseLogic",(function(){return ke.d})),n.d(t,"ClauseCascade",(function(){return ke.a})),n.d(t,"ClauseOperator",(function(){return ke.e})),n.d(t,"ClauseSourceType",(function(){return ke.f})),n.d(t,"EMPTY_OPTION_VALUE",(function(){return ke.h})),n.d(t,"ClauseType",(function(){return ke.g})),n.d(t,"ClauseLabelDisplay",(function(){return ke.c})),n.d(t,"ClauseDisplayType",(function(){return ke.b})),n.d(t,"OrderRule",(function(){return ke.i}));var Me=n(182);for(var Ie in Me)["AppRoot","React","ReactDOM","ExtensionManager","BaseWidget","WidgetManager","ConfigManager","DataSourceManager","urlUtils","SessionManager","SessionChangedReasonType","appActions","extensionSpec","utils","appConfigUtils","themeUtils","ReactRedux","MessageManager","Immutable","classNames","uuidv1","queryString","moduleLoader","jimuHistory","portalUrlUtils","portalUtils","i18n","defaultMessages","DataSourceComponent","MultipleDataSourceComponent","IntlProvider","injectIntl","jsx","css","Global","ThemeContext","styled","xss","polished","MutableStoreManager","Keyboard","AppKeyboardComponent","keyboardUtils","requestUtils","expressionUtils","dateUtils","createIntl","createIntlCache","useIntl","FormattedDate","FormattedMessage","FormattedNumber","FormattedPlural","FormattedRelativeTime","FormattedTime","esri","lodash","RepeatedDataSourceProvider","withRepeatedDataSource","dataSourceUtils","DataActionManager","ThemeManager","invariant","CONSTANTS","ReactResizeDetector","ResizeObserver","ExpressionResolverComponent","ExpressionResolverErrorCode","ServiceManager","version","privilegeUtils","spring","ThemeProvider","LoadingHandler","LayoutItemType","LayoutType","JimuMapViewStatus","ContainerType","ScreenTransitionType","ScreenTriggerType","PageType","PageMode","DialogMode","DialogPosition","DialogInteractionType","BrowserSizeMode","JimuFieldType","EsriFieldType","AjaxState","AppMode","WidgetState","LinkType","WidgetType","ESRI_DATE_FORMAT_ARRAY","PagePart","UrlProtocol","APP_FRAME_NAME_IN_BUILDER","ResourceType","LoadingType","ThemeFontVariantKeys","ThemeCommonColorKeys","ThemeThemeAlertColorKeys","ThemeThemeMainColorKeys","ThemeThemeColorKeys","ThemeBoxStyleKeys","COMPONENT_CATEGORIES","ExpressionPartType","ExpressionFunctions","SqlExpressionMode","ClauseLogic","ClauseCascade","ClauseOperator","ClauseSourceType","EMPTY_OPTION_VALUE","ClauseType","ClauseLabelDisplay","ClauseDisplayType","OrderRule","default"].indexOf(Ie)<0&&function(e){n.d(t,e,(function(){return Me[e]}))}(Ie);var Ne=n(183);n.d(t,"USER_SETTING_FILE_KEY",(function(){return Ne.a}));var Le=n(4);n.d(t,"DataSourceStatus",(function(){return Le.b})),n.d(t,"DataSourceTypes",(function(){return Le.c})),n.d(t,"SupportedLayerServiceTypes",(function(){return Le.f})),n.d(t,"SupportedServiceTypes",(function(){return Le.h})),n.d(t,"SupportedItemTypes",(function(){return Le.e})),n.d(t,"SupportedLayerTypes",(function(){return Le.g})),n.d(t,"QueryScope",(function(){return Le.d})),n.d(t,"DataSourceError",(function(){return Le.a}));var Ue=n(46);n.d(t,"MessageType",(function(){return Ue.g})),n.d(t,"getMessageTypeLabel",(function(){return Ue.j})),n.d(t,"StringSelectionChangeMessage",(function(){return Ue.i})),n.d(t,"DataRecordsSelectionChangeMessage",(function(){return Ue.d})),n.d(t,"ExtentChangeMessage",(function(){return Ue.f})),n.d(t,"DataRecordSetCreateMessage",(function(){return Ue.b})),n.d(t,"DataRecordSetUpdateMessage",(function(){return Ue.c})),n.d(t,"SelectDataRecordMessage",(function(){return Ue.h})),n.d(t,"AbstractMessageAction",(function(){return Ue.a})),n.d(t,"DummyMessageAction",(function(){return Ue.e}));var Fe=n(190);n.d(t,"translatedLocales",(function(){return Fe.d})),n.d(t,"init",(function(){return Fe.a})),n.d(t,"initPortal",(function(){return Fe.b})),n.d(t,"preloadModulesForSSR",(function(){return Fe.c}));var Ve=n(2);n.d(t,"createAppStore",(function(){return Ve.a})),n.d(t,"getAppStore",(function(){return Ve.b})),n.d(t,"observeStore",(function(){return Ve.c}));var Be=n(119);n.d(t,"TrackingManager",(function(){return Be.a}));var We=n(184);n.d(t,"LoadingHandler",(function(){return We.a}));var ze=n(91);n.d(t,"loadDependency",(function(){return ze.b})),n.d(t,"loadDependencies",(function(){return ze.a}));var Ge=n(185);n.d(t,"loadArcGISJSAPIModules",(function(){return Ge.a}));var qe=n(122);n.d(t,"ErrorBoundary",(function(){return qe.a}));var He=n(126);n.d(t,"AbstractDataAction",(function(){return He.a})),n.d(t,"DummnyDataAction",(function(){return He.b}));n(127);var Ke=n(70);n.d(t,"groupExpressionPartsByFunction",(function(){return Ke.c})),n.d(t,"StatisticType",(function(){return Ke.b})),n.d(t,"ESRIOBJECTIDTYPE",(function(){return Ke.a})),n.d(t,"resolveExpression",(function(){return Ke.d}));var $e=n(120);n.d(t,"BaseVersionManager",(function(){return $e.b})),n.d(t,"AppVersionManager",(function(){return $e.a}));var Ye=n(186);n.d(t,"AppDialog",(function(){return Ye.a}));var Je=n(39);n.d(t,"AnimationTriggerType",(function(){return Je.f})),n.d(t,"AnimationType",(function(){return Je.g})),n.d(t,"AnimationEffectType",(function(){return Je.d})),n.d(t,"AnimationDirection",(function(){return Je.c})),n.d(t,"AnimationPlayMode",(function(){return Je.e})),n.d(t,"Animation",(function(){return Je.a})),n.d(t,"OneByOneAnimation",(function(){return Je.h})),n.d(t,"useIntersection",(function(){return Je.i})),n.d(t,"AnimationContext",(function(){return Je.b}));var Xe=n(188);n.d(t,"isDirectionalTransition",(function(){return Xe.g})),n.d(t,"getIndexFromProgress",(function(){return Xe.e})),n.d(t,"getTransition",(function(){return Xe.f})),n.d(t,"clamp",(function(){return Xe.d})),n.d(t,"isIntegerProgress",(function(){return Xe.h})),n.d(t,"TransitionContainer",(function(){return Xe.a})),n.d(t,"TransitionDirection",(function(){return Xe.b})),n.d(t,"TransitionType",(function(){return Xe.c}));var Qe=n(172).exbVersion,Ze={assign:ge.a,defer:me.a,debounce:ve.a,setValue:ye.a,isDeepEqual:be.a,throttle:we.a},et={restAuth:b,restFeatureLayer:w,restPortal:S,restRequest:O,Sanitizer:I.a},tt={rgba:h.k,parseToRgb:h.h,rem:h.j,readableColor:h.i,lighten:h.e,darken:h.b,ellipsis:h.c,mix:h.g,stripUnit:h.l,math:h.f,borderRadius:h.a,getValueAndUnit:h.d},nt=l.e,rt=l.d,ot=l.b,it=l.c},function(e,t,n){e.exports=n(204)()},function(e,t,n){"use strict";var r=n(205);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,O=r?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case v:case m:case c:return e;default:return t}}case i:return t}}}function I(e){return S(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return I(e)||S(e)===d},t.isConcurrentMode=I,t.isContextConsumer=function(e){return S(e)===l},t.isContextProvider=function(e){return S(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===v},t.isMemo=function(e){return S(e)===m},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===u},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===u||e===s||e===h||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===b||e.$$typeof===w||e.$$typeof===O||e.$$typeof===y)},t.typeOf=S},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function a(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=i(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="";for(var i=Object.keys(t),s=0;s<i.length;s++){var u=i[s];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){var r=n(164),o=n(211);n(165);function i(e){return null==e}function a(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onAttr,a=t.onIgnoreAttr,s=t.safeAttrValue;return o(e,(function(e,t,o,u,c){var l=n[o],d=!1;if(!0===l?d=l:"function"==typeof l?d=l(u):l instanceof RegExp&&(d=l.test(u)),!0!==d&&(d=!1),u=s(o,u)){var f,p={position:t,sourcePosition:e,source:c,isWhite:d};return d?i(f=r(o,u,p))?o+":"+u:f:i(f=a(o,u,p))?void 0:f}}))},e.exports=a},function(e,t,n){var r=n(165);e.exports=function(e,t){";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,o=!1,i=0,a=0,s="";function u(){if(!o){var n=r.trim(e.slice(i,a)),u=n.indexOf(":");if(-1!==u){var c=r.trim(n.slice(0,u)),l=r.trim(n.slice(u+1));if(c){var d=t(i,s.length,c,l,n);d&&(s+=d+"; ")}}}i=a+1}for(;a<n;a++){var c=e[a];if("/"===c&&"*"===e[a+1]){var l=e.indexOf("*/",a+2);if(-1===l)break;i=(a=l+1)+1,o=!1}else"("===c?o=!0:")"===c?o=!1:";"===c?o||u():"\n"===c&&u()}return r.trim(s)}},function(e,t,n){var r=n(146).FilterCSS,o=n(163),i=n(166),a=i.parseTag,s=i.parseAttr,u=n(147);function c(e){return null==e}function l(e){(e=function(e){var t={};for(var n in e)t[n]=e[n];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList=e.whiteList||o.whiteList,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}l.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,r=t.onTag,i=t.onIgnoreTag,l=t.onTagAttr,d=t.onIgnoreTagAttr,f=t.safeAttrValue,p=t.escapeHtml,h=this.cssFilter;t.stripBlankChar&&(e=o.stripBlankChar(e)),t.allowCommentTag||(e=o.stripCommentTag(e));var g=!1;if(t.stripIgnoreTagBody){g=o.StripTagBody(t.stripIgnoreTagBody,i);i=g.onIgnoreTag}var m=a(e,(function(e,t,o,a,g){var m,v={sourcePosition:e,position:t,isClosing:g,isWhite:n.hasOwnProperty(o)};if(!c(m=r(o,a,v)))return m;if(v.isWhite){if(v.isClosing)return"</"+o+">";var y=function(e){var t=u.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=u.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=u.trim(e.slice(0,-1))),{html:e,closing:n}}(a),b=n[o],w=s(y.html,(function(e,t){var n,r=-1!==u.indexOf(b,e);return c(n=l(o,e,t,r))?r?(t=f(o,e,t,h))?e+'="'+t+'"':e:c(n=d(o,e,t,r))?void 0:n:n}));a="<"+o;return w&&(a+=" "+w),y.closing&&(a+=" /"),a+=">"}return c(m=i(o,a,v))?p(a):m}),p);return g&&(m=g.remove(m)),m},e.exports=l},function(e,t,n){
/*!
 * Converts CSS stylesheets between left-to-right and right-to-left.
 * https://github.com/cssjanus/cssjanus
 *
 * Copyright 2008 Google Inc.
 * Copyright 2010 Trevor Parscal
 */
var r;function o(e,t){var n=[],r=0;function o(e){return n.push(e),t}function i(){return n[r++]}return{tokenize:function(t){return t.replace(e,o)},detokenize:function(e){return e.replace(new RegExp("("+t+")","g"),i)}}}r=new function(){var e="(?:(?:(?:\\\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f])",t="(?:[_a-z0-9-]|[^\\u0020-\\u007e]|"+e+")",n="(?:[0-9]*\\.[0-9]+|[0-9]+)(?:\\s*(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)|-?(?:[_a-z]|[^\\u0020-\\u007e]|(?:(?:(?:\\\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f]))(?:[_a-z0-9-]|[^\\u0020-\\u007e]|(?:(?:(?:\\\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f]))*)?",r="((?:-?"+n+")|(?:inherit|auto))",i="(#?"+t+"+|(?:rgba?|hsla?)\\([ \\d.,%-]+\\))",a="(?:[!#$%&*-~]|[^\\u0020-\\u007e]|"+e+")*?",s="(?!("+t+"|\\r?\\n|\\s|#|\\:|\\.|\\,|\\+|>|\\(|\\)|\\[|\\]|=|\\*=|~=|\\^=|'[^']*'])*?{)",u="(?!"+a+"['\"]?\\s*\\))",c="(?="+a+"['\"]?\\s*\\))",l="(\\s*(?:!important\\s*)?[;}])",d=new RegExp("`TMP`","g"),f=new RegExp("\\/\\*[^*]*\\*+([^\\/*][^*]*\\*+)*\\/","gi"),p=new RegExp("(\\/\\*\\!?\\s*@noflip\\s*\\*\\/"+s+"[^;}]+;?)","gi"),h=new RegExp("(\\/\\*\\!?\\s*@noflip\\s*\\*\\/[^\\}]*?})","gi"),g=new RegExp("(direction\\s*:\\s*)ltr","gi"),m=new RegExp("(direction\\s*:\\s*)rtl","gi"),v=new RegExp("(^|[^a-zA-Z])(left)(?![a-zA-Z])"+u+s,"gi"),y=new RegExp("(^|[^a-zA-Z])(right)(?![a-zA-Z])"+u+s,"gi"),b=new RegExp("(^|[^a-zA-Z])(left)"+c,"gi"),w=new RegExp("(^|[^a-zA-Z])(right)"+c,"gi"),O=new RegExp("(^|[^a-zA-Z])(ltr)"+c,"gi"),S=new RegExp("(^|[^a-zA-Z])(rtl)"+c,"gi"),I=new RegExp("(^|[^a-zA-Z])([ns]?)e-resize","gi"),j=new RegExp("(^|[^a-zA-Z])([ns]?)w-resize","gi"),E=new RegExp("((?:margin|padding|border-width)\\s*:\\s*)"+r+"(\\s+)"+r+"(\\s+)"+r+"(\\s+)"+r+l,"gi"),C=new RegExp("((?:-color|border-style)\\s*:\\s*)"+i+"(\\s+)"+i+"(\\s+)"+i+"(\\s+)"+i+l,"gi"),T=new RegExp("(background(?:-position)?\\s*:\\s*(?:[^:;}\\s]+\\s+)*?)("+n+")","gi"),A=new RegExp("(background-position-x\\s*:\\s*)(-?(?:[0-9]*\\.[0-9]+|[0-9]+)%)","gi"),_=new RegExp("(border-radius\\s*:\\s*)"+r+"(?:(?:\\s+"+r+")(?:\\s+"+r+")?(?:\\s+"+r+")?)?(?:(?:(?:\\s*\\/\\s*)"+r+")(?:\\s+"+r+")?(?:\\s+"+r+")?(?:\\s+"+r+")?)?"+l,"gi"),x=new RegExp("(box-shadow\\s*:\\s*(?:inset\\s*)?)"+r,"gi"),P=new RegExp("(text-shadow\\s*:\\s*)"+r+"(\\s*)"+i,"gi"),D=new RegExp("(text-shadow\\s*:\\s*)"+i+"(\\s*)"+r,"gi"),R=new RegExp("(text-shadow\\s*:\\s*)"+r,"gi"),k=new RegExp("(transform\\s*:[^;}]*)(translateX\\s*\\(\\s*)"+r+"(\\s*\\))","gi"),M=new RegExp("(transform\\s*:[^;}]*)(translate\\s*\\(\\s*)"+r+"((?:\\s*,\\s*"+r+"){0,2}\\s*\\))","gi");function N(e,t,n){var r,o;return"%"===n.slice(-1)&&(-1!==(r=n.indexOf("."))?(o=n.length-r-2,n=(n=100-parseFloat(n)).toFixed(o)+"%"):n=100-parseFloat(n)+"%"),t+n}function L(e){switch(e.length){case 4:e=[e[1],e[0],e[3],e[2]];break;case 3:e=[e[1],e[0],e[1],e[2]];break;case 2:e=[e[1],e[0]];break;case 1:e=[e[0]]}return e.join(" ")}function U(e,t){var n=[].slice.call(arguments),r=n.slice(2,6).filter((function(e){return e})),o=n.slice(6,10).filter((function(e){return e})),i=n[10]||"";return t+(o.length?L(r)+" / "+L(o):L(r))+i}function F(e){return 0===parseFloat(e)?e:"-"===e[0]?e.slice(1):"-"+e}function V(e,t,n){return t+F(n)}function B(e,t,n,r,o){return t+n+F(r)+o}function W(e,t,n,r,o){return t+n+r+F(o)}return{transform:function(e,t){var n=new o(p,"`NOFLIP_SINGLE`"),r=new o(h,"`NOFLIP_CLASS`"),i=new o(f,"`COMMENT`");return e=i.tokenize(r.tokenize(n.tokenize(e.replace("`","%60")))),t.transformDirInUrl&&(e=e.replace(O,"$1`TMP`").replace(S,"$1ltr").replace(d,"rtl")),t.transformEdgeInUrl&&(e=e.replace(b,"$1`TMP`").replace(w,"$1left").replace(d,"right")),e=e.replace(g,"$1`TMP`").replace(m,"$1ltr").replace(d,"rtl").replace(v,"$1`TMP`").replace(y,"$1left").replace(d,"right").replace(I,"$1$2`TMP`").replace(j,"$1$2e-resize").replace(d,"w-resize").replace(_,U).replace(x,V).replace(P,W).replace(D,W).replace(R,V).replace(k,B).replace(M,B).replace(E,"$1$2$3$8$5$6$7$4$9").replace(C,"$1$2$3$8$5$6$7$4$9").replace(T,N).replace(A,N),e=n.detokenize(r.detokenize(i.detokenize(e)))}}},e.exports?t.transform=function(e,t,n){var o;return"object"==typeof t?o=t:(o={},"boolean"==typeof t&&(o.transformDirInUrl=t),"boolean"==typeof n&&(o.transformEdgeInUrl=n)),r.transform(e,o)}:"undefined"!=typeof window&&(window.cssjanus=r)},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(173);e.exports=function(){return r.Date.now()}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(112))},function(e,t,n){var r=n(152),o=n(218),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(219),o=n(222);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(174),o=n(220),i=n(221),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(174),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},,,,,,,,,,,,function(e,t,n){"use strict";var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}for(var a=[],s=0;s<256;++s)a.push((s+256).toString(16).substr(1));var u,c,l=function(e,t){var n=t||0;return(a[e[n+0]]+a[e[n+1]]+a[e[n+2]]+a[e[n+3]]+"-"+a[e[n+4]]+a[e[n+5]]+"-"+a[e[n+6]]+a[e[n+7]]+"-"+a[e[n+8]]+a[e[n+9]]+"-"+a[e[n+10]]+a[e[n+11]]+a[e[n+12]]+a[e[n+13]]+a[e[n+14]]+a[e[n+15]]).toLowerCase()},d=0,f=0;t.a=function(e,t,n){var r=t&&n||0,o=t||new Array(16),a=(e=e||{}).node||u,s=void 0!==e.clockseq?e.clockseq:c;if(null==a||null==s){var p=e.random||(e.rng||i)();null==a&&(a=u=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==s&&(s=c=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:f+1,m=h-d+(g-f)/1e4;if(m<0&&void 0===e.clockseq&&(s=s+1&16383),(m<0||h>d)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=h,f=g,c=s;var v=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;o[r++]=v>>>24&255,o[r++]=v>>>16&255,o[r++]=v>>>8&255,o[r++]=255&v;var y=h/4294967296*1e4&268435455;o[r++]=y>>>8&255,o[r++]=255&y,o[r++]=y>>>24&15|16,o[r++]=y>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(var b=0;b<6;++b)o[r+b]=a[b];return t||l(o)}},function(e,t,n){"use strict";var r=n(111),o=n(44);t.a=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Object(o.a)(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),Object(r.a)(e,t,{leading:i,maxWait:t,trailing:a})}},function(e,t,n){"use strict";var r=n(98),o=n(140);var i=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=i?i(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?Object(o.a)(n,c,l):Object(r.a)(n,c,l)}return n},a=n(143),s=n(74),u=n(95),c=n(96),l=n(44);var d=function(e,t,n){if(!Object(l.a)(n))return!1;var r=typeof t;return!!("number"==r?Object(u.a)(n)&&Object(c.a)(t,n.length):"string"==r&&t in n)&&Object(s.a)(n[t],e)};var f=function(e){return Object(a.a)((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&d(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t}))},p=n(137),h=n(141),g=Object.prototype.hasOwnProperty,m=f((function(e,t){if(Object(p.a)(t)||Object(u.a)(t))i(t,Object(h.a)(t),e);else for(var n in t)g.call(t,n)&&Object(r.a)(e,n,t[n])}));t.a=m}]))}}}));
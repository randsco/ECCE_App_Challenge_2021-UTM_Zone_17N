System.register(["jimu-core","jimu-ui","jimu-ui/advanced/setting-components","jimu-arcgis","jimu-layouts/layout-runtime","jimu-ui/basic/color-picker"],(function(e){var t,n,o,s,i,a;return{setters:[function(e){t=e},function(e){n=e},function(e){o=e},function(e){s=e},function(e){i=e},function(e){a=e}],execute:function(){e(function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=398)}({0:function(e,n){e.exports=t},1:function(e,t){e.exports=n},2:function(e,t){e.exports=o},22:function(e,t){e.exports=a},398:function(e,t,n){"use strict";n.r(t),n.d(t,"CardLayout",(function(){return y}));var o,s=n(0),i=n(1),a=n(2),r=n(4),c=n(5),l=n(22),d="Source",u="Options",p="Show basemap legends",g="Use card style",f="Side by side",h="Select a Map widget",m=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var b,y,j=(b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),S={icon:n(87)};!function(e){e.Auto="auto",e.SideBySide="side-by-side",e.Stack="stack"}(y||(y={}));var x=function(e){function t(t){var n=e.call(this,t)||this;return n.supportedDsTypes=Object(s.Immutable)([r.DataSourceTypes.WebMap,r.DataSourceTypes.WebScene]),n.getPortUrl=function(){return Object(s.getAppStore)().getState().portalUrl},n.onOptionsChanged=function(e,t){n.props.onSettingChange({id:n.props.id,config:n.props.config.set(t,e)}),"cardStyle"===t&&n.setState({cardStyle:e})},n.onRadioChange=function(e){n.props.onSettingChange({id:n.props.id,config:n.props.config.set("cardLayout",e)}),n.setState({cardLayoutValue:e})},n.onToggleUseDataEnabled=function(e){n.props.onSettingChange({id:n.props.id,useDataSourcesEnabled:e})},n.onDataSourceChange=function(e){e&&n.props.onSettingChange({id:n.props.id,useDataSources:e})},n.onMapWidgetSelected=function(e){n.props.onSettingChange({id:n.props.id,useMapWidgetIds:e})},n.onUseCustomStyleChanged=function(e){n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["style","useCustom"],e)})},n.onFontStyleChanged=function(e){n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["style","fontColor"],e)})},n.onBackgroundStyleChange=function(e){var t,o,a,r={color:e,fillType:i.FillType.FILL},c=Object(s.Immutable)(null!==(a=null===(o=null===(t=n.props.config)||void 0===t?void 0:t.style)||void 0===o?void 0:o.background)&&void 0!==a?a:{});for(var l in r)switch(l){case"fillType":c.fillType!==r[l]&&(c=c.set("fillType",r[l]));break;case"color":c=c.set("color",r[l]);break;case"image":c=c.set("image",r[l])}n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["style","background"],c)})},n.state={cardStyle:n.props.config.cardStyle||!1,cardLayoutValue:n.props.config.cardLayout||y.Auto},n}return j(t,e),t.prototype.getDefaultStyleConfig=function(){return{useCustom:!1,background:{color:"",fillType:i.FillType.FILL},fontColor:""}},t.prototype.getStyleConfig=function(){return this.props.config.style&&this.props.config.style.useCustom?this.props.config.style:this.getDefaultStyleConfig()},t.prototype.render=function(){var e,t,n,r,b,j,x,w=this,v=null;return this.state.cardStyle&&(v=Object(s.jsx)("div",{className:"card-layout-content pl-2"},Object(s.jsx)("div",{className:"w-100 legend-tools"},Object(s.jsx)("div",{className:"legend-tools-item card-style-radio"},Object(s.jsx)(i.Radio,{id:"auto",style:{cursor:"pointer"},name:"auto",onChange:function(e){return w.onRadioChange(y.Auto)},checked:this.state.cardLayoutValue===y.Auto}),Object(s.jsx)(i.Label,{style:{cursor:"pointer"},for:"auto",className:"ml-1"},this.props.intl.formatMessage({id:"auto",defaultMessage:"Auto"})))),Object(s.jsx)("div",{className:"w-100 legend-tools"},Object(s.jsx)("div",{className:"legend-tools-item card-style-radio"},Object(s.jsx)(i.Radio,{id:"side-by-side",style:{cursor:"pointer"},name:"side-by-side",onChange:function(e){return w.onRadioChange(y.SideBySide)},checked:this.state.cardLayoutValue===y.SideBySide}),Object(s.jsx)(i.Label,{style:{cursor:"pointer"},for:"side-by-side",className:"ml-1"},this.props.intl.formatMessage({id:"sideBySide",defaultMessage:f})))),Object(s.jsx)("div",{className:"w-100 legend-tools"},Object(s.jsx)("div",{className:"legend-tools-item card-style-radio"},Object(s.jsx)(i.Radio,{id:"stack",style:{cursor:"pointer"},name:"stack",onChange:function(e){return w.onRadioChange(y.Stack)},checked:this.state.cardLayoutValue===y.Stack}),Object(s.jsx)(i.Label,{style:{cursor:"pointer"},for:"stack",className:"ml-1"},this.props.intl.formatMessage({id:"stack",defaultMessage:c.defaultMessages.stack})))))),j=(null===(e=this.props.config.style)||void 0===e?void 0:e.useCustom)?"block":"none",Object(s.jsx)("div",{css:(x=this.props.theme,Object(s.css)(o||(o=m(["\n    .widget-setting-legend{\n      font-weight: lighter;\n      font-size: 13px;\n\n      .source-descript {\n        color: ",";\n      }\n\n      .webmap-thumbnail{\n        cursor: auto;\n        width: 100%;\n        height: 120px;\n        overflow: hidden;\n        padding: 1px;\n        border: "," solid initial;\n        img, div{\n          width: 100%;\n          height: 100%;\n        }\n      }\n\n      .card-layout-content{\n        width: 100%;\n      }\n\n      .legend-tools{\n        .legend-tools-item{\n          display: flex;\n          margin-bottom: 8px;\n        }\n      }\n\n      .advanced-setting-row .jimu-widget-setting--row-label {\n        color: #c5c5c5;\n        font-size: 0.875rem;\n      }\n\n      .map-selector-section .component-map-selector .form-control{\n        width: 100%;\n      }\n\n      .jimu-builder--background-setting .background-image {\n        display: none;\n      }\n\n      .jimu-builder--background-setting .background-image-fill-type {\n        display: none;\n      }\n    }\n  "],["\n    .widget-setting-legend{\n      font-weight: lighter;\n      font-size: 13px;\n\n      .source-descript {\n        color: ",";\n      }\n\n      .webmap-thumbnail{\n        cursor: auto;\n        width: 100%;\n        height: 120px;\n        overflow: hidden;\n        padding: 1px;\n        border: "," solid initial;\n        img, div{\n          width: 100%;\n          height: 100%;\n        }\n      }\n\n      .card-layout-content{\n        width: 100%;\n      }\n\n      .legend-tools{\n        .legend-tools-item{\n          display: flex;\n          margin-bottom: 8px;\n        }\n      }\n\n      .advanced-setting-row .jimu-widget-setting--row-label {\n        color: #c5c5c5;\n        font-size: 0.875rem;\n      }\n\n      .map-selector-section .component-map-selector .form-control{\n        width: 100%;\n      }\n\n      .jimu-builder--background-setting .background-image {\n        display: none;\n      }\n\n      .jimu-builder--background-setting .background-image-fill-type {\n        display: none;\n      }\n    }\n  "])),x.colors.palette.dark[600],s.polished.rem(2)))},Object(s.jsx)("div",{className:"widget-setting-legend"},Object(s.jsx)(a.SettingSection,{className:"map-selector-section",title:this.props.intl.formatMessage({id:"sourceLabel",defaultMessage:d})},Object(s.jsx)(a.SettingRow,{label:Object(s.jsx)(s.FormattedMessage,{id:"selectMapWidget",defaultMessage:h})}),Object(s.jsx)(a.SettingRow,null,Object(s.jsx)(a.JimuMapViewSelector,{onSelect:this.onMapWidgetSelected,useMapWidgetIds:this.props.useMapWidgetIds}))),Object(s.jsx)(a.SettingSection,{title:this.props.intl.formatMessage({id:"options",defaultMessage:u})},Object(s.jsx)(a.SettingRow,{label:Object(s.jsx)(s.FormattedMessage,{id:"showBaseMap",defaultMessage:p})},Object(s.jsx)(i.Switch,{className:"can-x-switch",checked:this.props.config&&this.props.config.showBaseMap||!1,"data-key":"showBaseMap",onChange:function(e){w.onOptionsChanged(e.target.checked,"showBaseMap")}})),Object(s.jsx)(a.SettingRow,{label:Object(s.jsx)(s.FormattedMessage,{id:"cardStyle",defaultMessage:g})},Object(s.jsx)(i.Switch,{className:"can-x-switch",checked:this.props.config&&this.props.config.cardStyle||!1,"data-key":"cardStyle",onChange:function(e){w.onOptionsChanged(e.target.checked,"cardStyle")}})),Object(s.jsx)(a.SettingRow,{flow:"wrap"},v)),Object(s.jsx)(a.SettingSection,null,Object(s.jsx)(a.SettingRow,{className:"advanced-setting-row",label:Object(s.jsx)(s.FormattedMessage,{id:"advance",defaultMessage:"Advanced"})},Object(s.jsx)(i.Switch,{className:"can-x-switch",checked:this.getStyleConfig().useCustom||!1,"data-key":"showBaseMap",onChange:function(e){w.onUseCustomStyleChanged(e.target.checked)}})),Object(s.jsx)("div",{className:"mt-3",style:{display:j}},Object(s.jsx)(a.SettingRow,{label:Object(s.jsx)(s.FormattedMessage,{id:"font",defaultMessage:"Font"})},Object(s.jsx)(l.ThemeColorPicker,{pickerBlockProps:S,specificTheme:this.props.appTheme,value:this.getStyleConfig().fontColor||(null===(r=null===(n=null===(t=this.props.appTheme.arcgis.widgets.legend.variants)||void 0===t?void 0:t.default)||void 0===n?void 0:n.root)||void 0===r?void 0:r.color)||"",onChange:this.onFontStyleChanged})),Object(s.jsx)(a.SettingRow,{label:Object(s.jsx)(s.FormattedMessage,{id:"background",defaultMessage:"Background"})},Object(s.jsx)(l.ThemeColorPicker,{specificTheme:this.props.appTheme,value:(null===(b=this.getStyleConfig().background)||void 0===b?void 0:b.color)||this.props.appTheme.surfaces[1].bg||"",onChange:this.onBackgroundStyleChange}))))))},t.mapExtraStateProps=function(e){return{dsJsons:e.appStateInBuilder.appConfig.dataSources,appTheme:e&&e.appStateInBuilder&&e.appStateInBuilder.theme}},t}(s.React.PureComponent);t.default=x},4:function(e,t){e.exports=s},5:function(e,t){e.exports=i},87:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M6.828.535l4.966 11.01A.323.323 0 0111.5 12a.776.776 0 01-.707-.455L9.182 8H2.818l-1.611 3.545A.776.776 0 01.5 12a.323.323 0 01-.294-.456L5.172.535a.909.909 0 011.656 0zM6 1L3.272 7h5.456L6 1z" fill="#000" fill-rule="nonzero"></path></svg>'}}))}}}));
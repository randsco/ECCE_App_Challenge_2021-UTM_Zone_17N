System.register(["jimu-core","jimu-ui","jimu-layouts/layout-runtime"],(function(t){var e,n,o;return{setters:[function(t){e=t},function(t){n=t},function(t){o=t}],execute:function(){t(function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=410)}({0:function(t,n){t.exports=e},1:function(t,e){t.exports=n},104:function(t,e){t.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M7 5.316l-5.125 5.052a.814.814 0 01-1.14 0 .786.786 0 010-1.123l5.696-5.613a.814.814 0 011.138 0l5.695 5.613a.786.786 0 010 1.123.814.814 0 01-1.139 0L7 5.316z" fill="#000"></path><path d="M0 0h14v14H0z"></path></g></svg>'},410:function(t,e,n){"use strict";n.r(e);var o,i=n(0),r=n(5),s=n(1),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(){return(l=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.render=function(){var t=this.props,e=t.style,n=t.className,o=t.innerLayouts,a=t.itemStyle;return i.React.createElement("div",{className:Object(i.classNames)("side d-flex",n),style:l(l(l({},e),s.styleUtils.toCSSStyle(a)),{overflow:"auto"})},i.React.createElement(r.LayoutEntry,{className:"border-0",layouts:o,isInWidget:!0,ignoreMinHeight:!0}))},e}(i.React.PureComponent),p=n(7),u=n(78),d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),f=function(t){function e(e){var n=t.call(this,e)||this;return n.bindSplitHandler=function(){n.interactModule?n.initHandler():i.moduleLoader.loadModule("jimu-core/dnd").then((function(t){n.interactModule=t.interact,n.initHandler()}))},n.layoutItemComponent=c,n}return d(e,t),e.prototype.initHandler=function(){var t,e,n=this,o=this.props.config;this.splitRef&&!1!==o.resizable&&!this.interactable&&(this.interactable=this.interactModule(this.splitRef).origin("parent").draggable({inertia:!1,autoScroll:!1,modifiers:[this.interactModule.modifiers.restrict({restriction:"parent"})],startAxis:this.props.direction===p.d.Horizontal?"x":"y",lockAxis:this.props.direction===p.d.Horizontal?"x":"y",onstart:function(o){o.stopPropagation(),n.props.direction===p.d.Horizontal?(t=n.state.deltaSize,e=0):(t=0,e=n.state.deltaSize);var i=n.ref.getBoundingClientRect();n.domSize=n.props.direction===p.d.Horizontal?i.width:i.height,n.setState({isResizing:!0})},onmove:function(o){o.stopPropagation(),t+=o.dx,e+=o.dy,n.props.direction===p.d.Horizontal?n.props.config.collapseSide===p.a.First?n.setState({deltaSize:t}):n.setState({deltaSize:-t}):n.props.config.collapseSide===p.a.First?n.setState({deltaSize:e}):n.setState({deltaSize:-e})},onend:function(t){t.stopPropagation(),n.setState({isResizing:!1})}}))},e}(u.a),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.prototype.render=function(){var t=this.props,e=t.layouts,n=t.theme,o=t.builderSupportModules,r=window.jimuConfig.isInBuilder?o.widgetModules.SidebarLayoutBuilder:f;return r?Object(i.jsx)("div",{className:"widget-sidebar-layout d-flex w-100 h-100"},Object(i.jsx)(r,{theme:n,widgetId:this.props.id,direction:this.props.config.direction,firstLayouts:e.FIRST,secondLayouts:e.SECOND,config:this.props.config,sidebarVisible:this.props.sidebarVisible})):Object(i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},"No layout component!")},e.mapExtraStateProps=function(t,e){var n,o,i;return{sidebarVisible:null===(i=null===(o=null===(n=null==t?void 0:t.widgetsState)||void 0===n?void 0:n[e.id])||void 0===o?void 0:o.collapse)||void 0===i||i}},e}(i.React.PureComponent);e.default=b},5:function(t,e){t.exports=o},52:function(t,e){t.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M4.916 7l5.052 5.125c.31.315.31.825 0 1.14a.786.786 0 01-1.123 0L3.232 7.568a.814.814 0 010-1.138L8.845.736a.786.786 0 011.123 0c.31.314.31.824 0 1.139L4.916 7z" fill="#000"></path><path d="M0 0h14v14H0z"></path></g></svg>'},61:function(t,e){t.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M8.784 7L3.732 1.875a.814.814 0 010-1.14.786.786 0 011.123 0l5.613 5.696c.31.314.31.824 0 1.138l-5.613 5.695a.786.786 0 01-1.123 0 .814.814 0 010-1.139L8.784 7z" fill="#000"></path><path d="M0 0h14v14H0z"></path></g></svg>'},66:function(t,e){t.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M7 8.684l5.125-5.052a.814.814 0 011.14 0 .786.786 0 010 1.123l-5.696 5.613a.814.814 0 01-1.138 0L.736 4.755a.786.786 0 010-1.123.814.814 0 011.139 0L7 8.684z" fill="#000"></path><path d="M0 0h14v14H0z"></path></g></svg>'},7:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return c}));var o,i,r,s,a=n(0),l=n(1);!function(t){t.First="FIRST",t.Second="SECOND"}(o||(o={})),function(t){t.Start="START",t.Center="CENTER",t.End="END"}(i||(i={})),function(t){t.Horizontal="HORIZONTAL",t.Vertical="VERTICAL"}(r||(r={})),function(t){t.Left="LEFT",t.Right="RIGHT",t.Up="UP",t.Down="DOWN"}(s||(s={}));var c=Object(a.Immutable)({direction:r.Horizontal,collapseSide:o.First,overlay:!1,size:"300px",divider:{visible:!0,lineStyle:{type:l.LineType.SOLID,color:"var(--light-500)",width:"1px"}},resizable:!1,toggleBtn:{visible:!0,icon:s.Left,offsetX:15,offsetY:0,position:i.Center,iconSize:14,width:15,height:60,color:{normal:{icon:{useTheme:!1,color:"#FFFFFF"},bg:{useTheme:!0,color:"colors.primary"}},hover:{bg:{useTheme:!0,color:"colors.palette.primary[600]"}}},expandStyle:{style:{borderRadius:"0 92px 92px 0"}},collapseStyle:{style:{borderRadius:"0 92px 92px 0"}}},defaultState:1})},78:function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var o,i=n(0),r=n(5),s=n(1),a=n(7),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},p={};p[a.b.Left]=n(52),p[a.b.Right]=n(61),p[a.b.Up]=n(104),p[a.b.Down]=n(66);var u,d,f,h,b,g,y,v,S,m,x,j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.getStyle=function(){var t=this.props,e=t.width,n=t.height;return Object(i.css)(u||(u=c(["\n      padding: 0;\n      width: ","px;\n      height: ","px;\n\n      .jimu-icon {\n        margin: 0;\n      }\n    "],["\n      padding: 0;\n      width: ","px;\n      height: ","px;\n\n      .jimu-icon {\n        margin: 0;\n      }\n    "])),e,n)},e.prototype.flipStyle=function(t){if(!this.props.shouldFlip)return t;var e=Object(i.Immutable)(t);if(t.borderRadius){var n=t.borderRadius.split(" ");e=e.set("borderRadius",n[1]+" "+n[0]+" "+n[3]+" "+n[2])}return e},e.prototype.render=function(){var t=this.props,e=t.icon,n=t.iconSize,o=t.style,r=t.expanded,a=t.shouldFlip?180:0;return Object(i.jsx)(s.Button,{className:"sidebar-controller d-flex justify-content-center align-items-center",css:this.getStyle(),style:this.flipStyle(o)},Object(i.jsx)(s.Icon,{className:"icon",rotate:r?0+a:180+a,icon:p[e],size:n}))},e}(i.React.PureComponent),w=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),z=Object(i.css)(d||(d=w(["\n  transition: all 200ms;\n"],["\n  transition: all 200ms;\n"]))),_=function(t){function e(e){var n=t.call(this,e)||this;return n.removeSplitHandler=function(){n.interactable&&(n.interactable.unset(),n.interactable=null)},n.toggleSidebar=function(t){t.stopPropagation(),Object(i.getAppStore)().dispatch(i.appActions.widgetStatePropChange(n.props.widgetId,"collapse",!n.props.sidebarVisible))},n.state={isResizing:!1,deltaSize:0},n}return O(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.firstLayouts,n=t.secondLayouts,o=t.config;e&&n&&this.bindSplitHandler(),Object(i.getAppStore)().dispatch(i.appActions.widgetStatePropChange(this.props.widgetId,"collapse",0!==o.defaultState))},e.prototype.componentDidUpdate=function(){var t=this.props,e=t.firstLayouts,n=t.secondLayouts;e&&n&&!this.interactable&&this.bindSplitHandler(),this.interactable&&this.interactable.draggable({startAxis:this.props.direction===a.d.Horizontal?"x":"y",lockAxis:this.props.direction===a.d.Horizontal?"x":"y"})},e.prototype.componentWillUnmount=function(){this.removeSplitHandler()},e.prototype.calSidebarSize=function(){var t=this.props.config;return 0!==this.state.deltaSize?r.utils.isPercentage(t.size)?parseFloat(t.size)*this.domSize/100+this.state.deltaSize+"px":parseFloat(t.size)+this.state.deltaSize+"px":t.size},e.prototype.createCollapsibleSide=function(t,e){var n,o=this.props,r=o.config,s=o.direction,l=this.calSidebarSize(),c=this.shouldFlipLeftAndRight();n=s===a.d.Horizontal?Object(i.css)(f||(f=w(["\n        width: ",";\n        transform: ",";\n        top: ",";\n        bottom: ",";\n        left: ",";\n        right: ",";\n      "],["\n        width: ",";\n        transform: ",";\n        top: ",";\n        bottom: ",";\n        left: ",";\n        right: ",";\n      "])),l,r.overlay&&!this.props.sidebarVisible?r.collapseSide===a.a.First?"translateX(-"+l+")":"translateX("+l+")":"none",r.overlay?0:"auto",r.overlay?0:"auto",r.overlay&&e===a.a.First?0:"auto",r.overlay&&e===a.a.Second?0:"auto"):Object(i.css)(h||(h=w(["\n        height: ",";\n        transform: ",";\n        left: ",";\n        right: ",";\n        top: ",";\n        bottom: ",";\n      "],["\n        height: ",";\n        transform: ",";\n        left: ",";\n        right: ",";\n        top: ",";\n        bottom: ",";\n      "])),l,r.overlay&&!this.props.sidebarVisible?r.collapseSide===a.a.First?"translateY(-"+l+")":"translateY("+l+")":"none",r.overlay?0:"auto",r.overlay?0:"auto",r.overlay&&e===a.a.First?0:"auto",r.overlay&&e===a.a.Second?0:"auto");var p=this.layoutItemComponent;return Object(i.jsx)("div",{css:Object(i.css)(b||(b=w(["\n        ","\n        ","\n        position: ",";\n        overflow: visible;\n        z-index: 2;\n        flex-grow: 0;\n        flex-shrink: 0;\n        flex-basis: auto;\n      "],["\n        ","\n        ","\n        position: ",";\n        overflow: visible;\n        z-index: 2;\n        flex-grow: 0;\n        flex-shrink: 0;\n        flex-basis: auto;\n      "])),this.state.isResizing?"":z,n,r.overlay?"absolute":"relative"),className:Object(i.classNames)("d-flex",{"flex-column":s===a.d.Vertical})},Object(i.jsx)(p,{innerLayouts:t,itemStyle:e===a.a.First?r.firstPanelStyle:r.secondPanelStyle,collapsed:!this.props.sidebarVisible,className:Object(i.classNames)({"h-100":s===a.d.Vertical,"w-100":s===a.d.Horizontal})}),this.createController(c))},e.prototype.splitStyle=function(){var t=this.props,e=t.direction,n=t.config,o=this.calSidebarSize(),r=!this.props.sidebarVisible,l=n.divider&&n.divider.visible&&n.divider.lineStyle?s.styleUtils.toCSSBorder(n.divider.lineStyle):"none";return e===a.d.Horizontal?Object(i.css)(g||(g=w(["\n        width: 1px;\n        border-left: ",";\n        position: ",";\n        left: ",";\n        right: ",";\n        height: ",";\n        &:after {\n          display: ",";\n          position: absolute;\n          content: '';\n          width: 5px;\n          top: 0;\n          bottom: 0;\n          left: -2px;\n          cursor: col-resize;\n        }\n        z-index: 3;\n      "],["\n        width: 1px;\n        border-left: ",";\n        position: ",";\n        left: ",";\n        right: ",";\n        height: ",";\n        &:after {\n          display: ",";\n          position: absolute;\n          content: '';\n          width: 5px;\n          top: 0;\n          bottom: 0;\n          left: -2px;\n          cursor: col-resize;\n        }\n        z-index: 3;\n      "])),l,n.overlay?"absolute":"relative",n.overlay&&!r&&n.collapseSide===a.a.First?o:"auto",n.overlay&&!r&&n.collapseSide===a.a.Second?o:"auto",n.overlay?"100%":"auto",!1!==n.resizable?"block":"none"):Object(i.css)(y||(y=w(["\n      height: 1px;\n      border-top: ",";\n      position: ",";\n      top: ",";\n      bottom: ",";\n      width: ",";\n      &:after {\n        display: ",";\n        position: absolute;\n        content: '';\n        height: 5px;\n        top: -2px;\n        right: 0;\n        left: 0;\n        cursor: row-resize;\n      }\n      z-index: 3;\n    "],["\n      height: 1px;\n      border-top: ",";\n      position: ",";\n      top: ",";\n      bottom: ",";\n      width: ",";\n      &:after {\n        display: ",";\n        position: absolute;\n        content: '';\n        height: 5px;\n        top: -2px;\n        right: 0;\n        left: 0;\n        cursor: row-resize;\n      }\n      z-index: 3;\n    "])),l,n.overlay?"absolute":"relative",n.overlay&&!r&&n.collapseSide===a.a.First?o:"auto",n.overlay&&!r&&n.collapseSide===a.a.Second?o:"auto",n.overlay?"100%":"auto",!1!==n.resizable?"block":"none")},e.prototype.createController=function(t){var e=this.props,n=e.config,o=e.theme,r=e.direction;if(n.toggleBtn&&!n.toggleBtn.visible)return null;var s,l,c,p=this.props.sidebarVisible?n.toggleBtn.collapseStyle:n.toggleBtn.expandStyle,u=0,d=0;if(r===a.d.Horizontal){n.toggleBtn.position===a.c.Start?s=0:n.toggleBtn.position===a.c.Center&&(s="50%",d=-n.toggleBtn.height/2);var f=n.collapseSide===a.a.Second;c=Object(i.css)(v||(v=w(["\n        top: ",";\n        bottom: ",";\n        right: ",";\n        left: ",";\n      "],["\n        top: ",";\n        bottom: ",";\n        right: ",";\n        left: ",";\n      "])),n.toggleBtn.position!==a.c.End?s:"auto",n.toggleBtn.position===a.c.End?0:"auto",f?"auto":0,f?0:"auto")}else n.toggleBtn.position===a.c.Start?l=0:n.toggleBtn.position===a.c.Center&&(l="50%",u=-n.toggleBtn.width/2),c=Object(i.css)(S||(S=w(["\n        left: ",";\n        right: ",";\n        bottom: ",";\n        top: ",";\n      "],["\n        left: ",";\n        right: ",";\n        bottom: ",";\n        top: ",";\n      "])),n.toggleBtn.position!==a.c.End?l:"auto",n.toggleBtn.position===a.c.End?0:"auto",n.collapseSide===a.a.First?0:"auto",n.collapseSide===a.a.Second?0:"auto");var h=p.style,b=n.toggleBtn,g=b.iconSize,y=b.width,x=b.height,O=b.color,z=b.icon;return Object(i.jsx)("div",{css:Object(i.css)(m||(m=w(["\n          ","\n          position: absolute;\n          transform: translate(","px, ","px);\n        "],["\n          ","\n          position: absolute;\n          transform: translate(","px, ","px);\n        "])),c,n.toggleBtn.offsetX+u,n.toggleBtn.offsetY+d),onClick:this.toggleSidebar},Object(i.jsx)(j,{theme:o,icon:z,iconSize:g,expanded:this.props.sidebarVisible,width:y,height:x,color:O,style:h,shouldFlip:t}))},e.prototype.createNormalSide=function(t,e){var n=this.layoutItemComponent,o=this.props.config;return Object(i.jsx)("div",{css:this.state.isResizing?"":z,className:"flex-shrink-0 flex-grow-1 d-flex",style:{zIndex:0,flexBasis:this.props.sidebarVisible?"0":"100%",overflow:"auto"}},Object(i.jsx)(n,{itemStyle:e===a.a.First?o.firstPanelStyle:o.secondPanelStyle,innerLayouts:t,className:"w-100"}))},e.prototype.shouldFlipLeftAndRight=function(){return this.props.direction===a.d.Horizontal&&Object(i.getAppStore)().getState().appContext.isRTL},e.prototype.render=function(){var t=this,e=this.props,n=e.config,o=e.firstLayouts,l=e.secondLayouts,c=e.direction;return o&&l?Object(i.jsx)(r.PageContext.Consumer,null,(function(e){var r=e.builderTheme;return Object(i.jsx)("div",{className:Object(i.classNames)("d-flex w-100",{"flex-column":c===a.d.Vertical}),ref:function(e){return t.ref=e},css:Object(i.css)(x||(x=w(["\n            border: 1px dashed ",";\n            position: relative;\n            overflow: hidden;\n            justify-content: ",";\n            body:not(.design-mode) & {\n              border: none;\n            }\n          "],["\n            border: 1px dashed ",";\n            position: relative;\n            overflow: hidden;\n            justify-content: ",";\n            body:not(.design-mode) & {\n              border: none;\n            }\n          "])),r?i.polished.rgba(r.colors.palette.dark[300],.3):"",n.collapseSide===a.a.First?"flex-end":"flex-start")},n.collapseSide===a.a.First?t.createCollapsibleSide(o,a.a.First):t.createNormalSide(o,a.a.First),Object(i.jsx)("div",{css:t.splitStyle(),ref:function(e){return t.splitRef=e}}),n.collapseSide===a.a.Second?t.createCollapsibleSide(l,a.a.Second):t.createNormalSide(l,a.a.Second))})):Object(i.jsx)(s.Loading,null)},e}(i.React.PureComponent)}}))}}}));
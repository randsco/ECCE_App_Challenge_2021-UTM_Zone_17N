System.register(["jimu-core","jimu-ui","jimu-ui/advanced/setting-components","jimu-ui/advanced/data-source-selector","jimu-ui/advanced/expression-builder","jimu-ui/advanced/resource-selector"],(function(e){var t,n,o,i,a,s;return{setters:[function(e){t=e},function(e){n=e},function(e){o=e},function(e){i=e},function(e){a=e},function(e){s=e}],execute:function(){e(function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=376)}({0:function(e,n){e.exports=t},1:function(e,t){e.exports=n},100:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M14 0l14 28H0z"></path></svg>'},11:function(e,t){e.exports=i},15:function(e,t,n){"use strict";var o,i;n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),function(e){e.ByUpload="BYUPLOAD",e.ByStaticUrl="BYSTATICURL",e.ByDynamicUrl="BYDYNAMICURL"}(o||(o={})),function(e){e.Expression="EXPRESSION",e.Attachment="ATTACHMENT",e.Symbol="SYMBOL"}(i||(i={}))},2:function(e,t){e.exports=o},21:function(e,t){e.exports=a},232:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIwcHgiIGhlaWdodD0iMTRweCIgdmlld0JveD0iMCAwIDIwIDE0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNCAoNjczNzgpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPg0KICAgIDx0aXRsZT5SZWN0YW5nbGU8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSJTeW1ib2xzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IkNvbmZpZ3VyZS1MaW5rIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjUuMDAwMDAwLCAtNjQ4LjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSIjRTZFQkYwIj4NCiAgICAgICAgICAgIDxnIGlkPSJTZXR0aW5nUGFuZWwiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC0xNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAuMDAwMDAwLCA2MTEuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC0xNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDI5LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgeD0iNS41IiB5PSI4LjUiIHdpZHRoPSIxOSIgaGVpZ2h0PSIxMyI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},233:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCIgdmlld0JveD0iMCAwIDIwIDIwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNCAoNjczNzgpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPg0KICAgIDx0aXRsZT5SZWN0YW5nbGU8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSJTeW1ib2xzIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IkNvbmZpZ3VyZS1MaW5rIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjUuMDAwMDAwLCAtNjQ1LjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSIjRTZFQkYwIj4NCiAgICAgICAgICAgIDxnIGlkPSJTZXR0aW5nUGFuZWwiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC0xNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAuMDAwMDAwLCA2MTEuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC0xNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDI5LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgeD0iNDUuNSIgeT0iNS41IiB3aWR0aD0iMTkiIGhlaWdodD0iMTkiIHJ4PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},234:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIycHgiIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDIyIDE4IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTIuNCAoNjczNzgpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPg0KICAgIDx0aXRsZT5PdmFsPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iU3ltYm9scyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSJDb25maWd1cmUtTGluayIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEwNC4wMDAwMDAsIC02NDYuMDAwMDAwKSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9IiNFNkVCRjAiPg0KICAgICAgICAgICAgPGcgaWQ9IlNldHRpbmdQYW5lbCI+DQogICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTE2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMC4wMDAwMDAsIDYxMS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTE1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMjkuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZWxsaXBzZSBpZD0iT3ZhbCIgY3g9Ijk1IiBjeT0iMTUiIHJ4PSIxMCIgcnk9IjgiPjwvZWxsaXBzZT4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},31:function(e,t){e.exports=s},376:function(e,t,n){"use strict";n.r(t);var o,i,a,s=n(0),p=n(2),r=n(1),c=n(31),l=n(11),g=n(15),u={shapes:{square:{borderRadius:{number:[0],unit:"px"},thumbUrl:n(232)},capsule:{borderRadius:{number:[10,10,10,10],unit:"%"},thumbUrl:n(233)},round:{borderRadius:{number:[50,50,50,50],unit:"%"},thumbUrl:n(234)}}},m={imageSource:"Image source",imageNoneSource:"None",staticSource:"Static",dynamicSource:"Dynamic",imageSet:"Select an image",toolTip:"Tooltip",altText:"Alt text",imageSetLink:"Set link",imageShape:"Shape",setLinkForImage:"Set link",imagePosition:"Position",imageFit:"Fit",imageFill:"Fill",imageAttachment:"Attachment",imageCustom:"Custom",imageAttachmentName:"Attachment name",imageSymbol:"Symbol",imageSymbolScale:"Symbol scale",imagerectangle:"Rectangle/Square",imagecircle:"Oval/Circle",imagehexagon:"Hexagon",imagepentagon:"Pentagon",imagerhombus:"Rhombus",imagetriangle:"Triangle",imageShapeSettings:"Shape settings"},d=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},h=function(e){function t(t){var n=e.call(this,t)||this;return n.cropShapeList=["rectangle","circle","hexagon","pentagon","rhombus","triangle"],n.shapeClick=function(e,t){if(!n.props.cropParam||n.props.cropParam.cropShape!==n.cropShapeList[t]){var o=e.currentTarget.getElementsByTagName("svg")&&e.currentTarget.getElementsByTagName("svg")[0];if(o){var i=n.props.cropParam;return i||(i=Object(s.Immutable)({})),i=(i=(i=i.set("svgViewBox",o.getAttribute("viewBox"))).set("svgPath",o.getElementsByTagName("path")[0].getAttribute("d"))).set("cropShape",n.cropShapeList[t]),void(n.props.onShapeChoosed&&n.props.onShapeChoosed(i))}}},n}return d(t,e),t.prototype.getStyle=function(){var e=this.props.theme;return Object(s.css)(i||(i=f(["\n      .widget-image-chooseshape-item {\n        flex: 1;\n        cursor: pointer;\n\n        svg {\n          fill: ",";\n        }\n      }\n\n      .widget-image-chooseshape-bg {\n        background-color: ",";\n      }\n      "],["\n      .widget-image-chooseshape-item {\n        flex: 1;\n        cursor: pointer;\n\n        svg {\n          fill: ",";\n        }\n      }\n\n      .widget-image-chooseshape-bg {\n        background-color: ",";\n      }\n      "])),e.colors.black,e.colors.palette.secondary[200])},t.prototype.render=function(){var e=this;return Object(s.jsx)("div",{className:"w-100 d-flex",css:this.getStyle()},this.cropShapeList.map((function(t,o){var i=n(93)("./"+t+".svg");return"rectangle"!==t||e.props.cropParam?Object(s.jsx)("div",{key:o,className:Object(s.classNames)("d-flex justify-content-center align-items-center widget-image-chooseshape-bg widget-image-chooseshape-item",{"border-selected":e.props.cropParam&&e.props.cropParam.cropShape===t}),style:{height:"30px",width:"30px",marginRight:"3px"},onClick:function(t){return e.shapeClick(t,o)},title:e.props.intl.formatMessage({id:"image"+t,defaultMessage:m["image"+t]})},Object(s.jsx)(r.Icon,{width:12,height:12,icon:i})):Object(s.jsx)("div",{key:o,className:Object(s.classNames)("d-flex justify-content-center align-items-center widget-image-chooseshape-bg widget-image-chooseshape-item border-selected"),style:{height:"30px",width:"30px",marginRight:"3px"},onClick:function(t){return e.shapeClick(t,o)},title:e.props.intl.formatMessage({id:"imagerectangle",defaultMessage:m.imagerectangle})},Object(s.jsx)(r.Icon,{width:12,height:12,icon:i}))})))},t}(s.React.PureComponent),C=n(21),S=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),x=Object(s.Immutable)([C.ExpressionInputType.Static,C.ExpressionInputType.Attribute,C.ExpressionInputType.Statistics,C.ExpressionInputType.Expression]),I=function(e){function t(t){var n=e.call(this,t)||this;return n.getRenderContent=function(){return n.props.useDataSourcesEnabled?n.props.imgSourceType!==g.b.ByDynamicUrl||n.props.dynamicUrlType!==g.a.Attachment&&n.props.dynamicUrlType!==g.a.Symbol?s.React.createElement("div",{style:{width:"100%",position:"relative"}},s.React.createElement(C.ExpressionInput,{useDataSources:n.props.useDataSources,onChange:n.props.onToolTipExpChange,openExpPopup:n.props.openToolTipPopup,expression:n.props.toolTipExpression,isExpPopupOpen:n.props.isToolTipPopupOpen,closeExpPopup:n.props.closeToolTipPopup,types:x,widgetId:n.props.widgetId})):n.props.dynamicUrlType===g.a.Attachment?s.React.createElement("div",{className:"w-100"},s.React.createElement(p.SettingRow,{flow:"wrap"},s.React.createElement("div",{className:"align-items-center d-flex"},s.React.createElement(r.Radio,{style:{cursor:"pointer"},onChange:function(){return n.props.onToolTipWithAttachmentNameChange(!1)},checked:!n.props.toolTipWithAttachmentName}),s.React.createElement("label",{className:"m-0 ml-2",style:{cursor:"pointer"},onClick:function(){return n.props.onToolTipWithAttachmentNameChange(!1)}},n.props.intl.formatMessage({id:"imageCustom",defaultMessage:m.imageCustom})))),!n.props.toolTipWithAttachmentName&&s.React.createElement(p.SettingRow,null,s.React.createElement("div",{className:"w-100 d-flex justify-content-end"},s.React.createElement("div",{style:{width:"90%",position:"relative"}},s.React.createElement(C.ExpressionInput,{useDataSources:n.props.useDataSources,onChange:n.props.onToolTipExpChange,openExpPopup:n.props.openToolTipPopup,expression:n.props.toolTipExpression,isExpPopupOpen:n.props.isToolTipPopupOpen,closeExpPopup:n.props.closeToolTipPopup,types:x,widgetId:n.props.widgetId})))),s.React.createElement(p.SettingRow,null,s.React.createElement("div",{className:"align-items-center d-flex"},s.React.createElement(r.Radio,{style:{cursor:"pointer"},onChange:function(){return n.props.onToolTipWithAttachmentNameChange(!0)},checked:n.props.toolTipWithAttachmentName}),s.React.createElement("label",{className:"m-0 ml-2",style:{cursor:"pointer"},onClick:function(){return n.props.onToolTipWithAttachmentNameChange(!0)}},n.props.intl.formatMessage({id:"imageAttachmentName",defaultMessage:m.imageAttachmentName}))))):n.props.dynamicUrlType===g.a.Symbol?s.React.createElement("div",{style:{width:"100%",position:"relative"}},s.React.createElement(C.ExpressionInput,{useDataSources:n.props.useDataSources,onChange:n.props.onToolTipExpChange,openExpPopup:n.props.openToolTipPopup,expression:n.props.toolTipExpression,isExpPopupOpen:n.props.isToolTipPopupOpen,closeExpPopup:n.props.closeToolTipPopup,types:x,widgetId:n.props.widgetId})):void 0:s.React.createElement("div",{style:{width:"100%",position:"relative"}},s.React.createElement(r.TextInput,{size:"sm",style:{width:"100%"},className:"float-right",value:n.props.toolTipText,onChange:function(e){n.props.onToolTipTextInputChange(e.target.value)},onBlur:function(){n.props.toolTipConfigChange()},onKeyUp:function(){n.props.toolTipConfigChange()}}))},n}return S(t,e),t.prototype.render=function(){return s.React.createElement(p.SettingRow,{flow:"wrap",label:this.props.intl.formatMessage({id:"toolTip",defaultMessage:m.toolTip})},this.getRenderContent())},t}(s.React.PureComponent),y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),T=Object(s.Immutable)([C.ExpressionInputType.Static,C.ExpressionInputType.Attribute,C.ExpressionInputType.Statistics,C.ExpressionInputType.Expression]),b=function(e){function t(t){var n=e.call(this,t)||this;return n.getRenderContent=function(){return n.props.useDataSourcesEnabled?n.props.imgSourceType!==g.b.ByDynamicUrl||n.props.dynamicUrlType!==g.a.Attachment&&n.props.dynamicUrlType!==g.a.Symbol?s.React.createElement("div",{style:{width:"100%",position:"relative"}},s.React.createElement(C.ExpressionInput,{useDataSources:n.props.useDataSources,onChange:n.props.onAltTextExpChange,openExpPopup:n.props.openAltTextPopup,expression:n.props.altTextExpression,isExpPopupOpen:n.props.isAltTextPopupOpen,closeExpPopup:n.props.closeAltTextPopup,types:T,widgetId:n.props.widgetId})):n.props.dynamicUrlType===g.a.Attachment?s.React.createElement("div",{className:"w-100"},s.React.createElement(p.SettingRow,{flow:"wrap"},s.React.createElement("div",{className:"align-items-center d-flex"},s.React.createElement(r.Radio,{style:{cursor:"pointer"},onChange:function(){return n.props.onAltTextWithAttachmentNameChange(!1)},checked:!n.props.altTextWithAttachmentName}),s.React.createElement("label",{className:"m-0 ml-2",style:{cursor:"pointer"},onClick:function(){return n.props.onAltTextWithAttachmentNameChange(!1)}},n.props.intl.formatMessage({id:"imageCustom",defaultMessage:m.imageCustom})))),!n.props.altTextWithAttachmentName&&s.React.createElement(p.SettingRow,null,s.React.createElement("div",{className:"w-100 d-flex justify-content-end"},s.React.createElement("div",{style:{width:"90%",position:"relative"}},s.React.createElement(C.ExpressionInput,{useDataSources:n.props.useDataSources,onChange:n.props.onAltTextExpChange,openExpPopup:n.props.openAltTextPopup,expression:n.props.altTextExpression,isExpPopupOpen:n.props.isAltTextPopupOpen,closeExpPopup:n.props.closeAltTextPopup,types:T,widgetId:n.props.widgetId})))),s.React.createElement(p.SettingRow,null,s.React.createElement("div",{className:"align-items-center d-flex"},s.React.createElement(r.Radio,{style:{cursor:"pointer"},onChange:function(){return n.props.onAltTextWithAttachmentNameChange(!0)},checked:n.props.altTextWithAttachmentName}),s.React.createElement("label",{className:"m-0 ml-2",style:{cursor:"pointer"},onClick:function(){return n.props.onAltTextWithAttachmentNameChange(!0)}},n.props.intl.formatMessage({id:"imageAttachmentName",defaultMessage:m.imageAttachmentName}))))):n.props.dynamicUrlType===g.a.Symbol?s.React.createElement("div",{style:{width:"100%",position:"relative"}},s.React.createElement(C.ExpressionInput,{useDataSources:n.props.useDataSources,onChange:n.props.onAltTextExpChange,openExpPopup:n.props.openAltTextPopup,expression:n.props.altTextExpression,isExpPopupOpen:n.props.isAltTextPopupOpen,closeExpPopup:n.props.closeAltTextPopup,types:T,widgetId:n.props.widgetId})):void 0:s.React.createElement("div",{style:{width:"100%",position:"relative"}},s.React.createElement(r.TextInput,{size:"sm",style:{width:"100%"},className:"float-right",value:n.props.altTextText,onChange:function(e){n.props.onAltTextTextInputChange(e.target.value)},onBlur:function(){n.props.altTextConfigChange()},onKeyUp:function(){n.props.altTextConfigChange()}}))},n}return y(t,e),t.prototype.render=function(){return s.React.createElement(p.SettingRow,{flow:"wrap",label:this.props.intl.formatMessage({id:"altText",defaultMessage:m.altText})},this.getRenderContent())},t}(s.React.PureComponent),A=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),w=Object(s.Immutable)([C.ExpressionInputType.Attribute,C.ExpressionInputType.Expression]),v=function(e){function t(t){var n=e.call(this,t)||this;return n.getRenderContent=function(e){var t,o=!1,i=!1;return e?(e.layer&&(i=!0),(null==e?void 0:e.getLayerDefinition)&&(null===(t=e.getLayerDefinition())||void 0===t?void 0:t.advancedQueryCapabilities)&&e.getLayerDefinition().advancedQueryCapabilities.supportsQueryAttachments&&(o=!0),(!o&&n.props.dynamicUrlType===g.a.Attachment||!i&&n.props.dynamicUrlType===g.a.Symbol)&&n.props.onTypeNoSupportChange&&n.props.onTypeNoSupportChange(),i||o?s.React.createElement("div",{className:"w-100"},n.getExpressionSettingWithRadio(),o&&s.React.createElement("div",{className:"w-100 d-flex justify-content-end mt-3","data-testid":"dynamicurl-attachment"},s.React.createElement("div",{className:"w-100"},s.React.createElement(p.SettingRow,{flow:"wrap"},s.React.createElement("div",{className:"d-flex justify-content-between w-100"},s.React.createElement("div",{className:"align-items-center d-flex"},s.React.createElement(r.Radio,{style:{cursor:"pointer"},onChange:function(){return n.props.onDynamicUrlTypeChanged(g.a.Attachment)},checked:n.props.dynamicUrlType===g.a.Attachment}),s.React.createElement("label",{className:"m-0 ml-2",style:{cursor:"pointer"},onClick:function(){return n.props.onDynamicUrlTypeChanged(g.a.Attachment)}},n.props.intl.formatMessage({id:"imageAttachment",defaultMessage:m.imageAttachment})))),n.props.dynamicUrlType===g.a.Attachment&&s.React.createElement("div",{className:"d-flex w-100 justify-content-end mt-3"},s.React.createElement("div",{style:{width:"90%",position:"relative"}},s.React.createElement(l.MainDataAndViewSelector,{hideMainDataSourceSelect:!0,widgetId:n.props.widgetId,useDataSources:n.props.useDataSources,selectedUseDataSource:n.props.useDataSourceForMainDataAndViewSelector,onChange:n.props.onSelectedUseDsChangeForAttachment,isSelectedFromRepeatedDataSourceContext:n.props.isSelectedFromRepeatedDataSourceContext,usePopulatedDataView:!0,useSelectionDataView:!0,defaultDataViewPriority:l.DataViewPriority.First})))))),i&&s.React.createElement("div",{className:"w-100 d-flex justify-content-end mt-3"},s.React.createElement("div",{className:"w-100"},s.React.createElement(p.SettingRow,{flow:"wrap"},s.React.createElement("div",{className:"d-flex justify-content-between w-100"},s.React.createElement("div",{className:"align-items-center d-flex"},s.React.createElement(r.Radio,{style:{cursor:"pointer"},onChange:function(){return n.props.onDynamicUrlTypeChanged(g.a.Symbol)},checked:n.props.dynamicUrlType===g.a.Symbol}),s.React.createElement("label",{className:"m-0 ml-2",style:{cursor:"pointer"},onClick:function(){return n.props.onDynamicUrlTypeChanged(g.a.Symbol)}},n.props.intl.formatMessage({id:"imageSymbol",defaultMessage:m.imageSymbol})))),n.props.dynamicUrlType===g.a.Symbol&&s.React.createElement("div",{className:"d-flex w-100 justify-content-end mt-3"},s.React.createElement("div",{style:{width:"90%",position:"relative"}},s.React.createElement(l.MainDataAndViewSelector,{hideMainDataSourceSelect:!0,widgetId:n.props.widgetId,useDataSources:n.props.useDataSources,selectedUseDataSource:n.props.useDataSourceForMainDataAndViewSelector,isSelectedFromRepeatedDataSourceContext:n.props.isSelectedFromRepeatedDataSourceContext,onChange:n.props.onSelectedUseDsChangeForSymbol,usePopulatedDataView:!0,useSelectionDataView:!0,defaultDataViewPriority:l.DataViewPriority.First}))))))):n.getExpressionSettingWithoutRadio()):n.getExpressionSettingWithoutRadio()},n.getExpressionSettingWithRadio=function(){return s.React.createElement("div",{className:"w-100 d-flex justify-content-end"},s.React.createElement("div",{className:"w-100"},s.React.createElement("div",{className:"d-flex w-100 align-items-center"},s.React.createElement(r.Radio,{style:{cursor:"pointer"},onChange:function(){return n.props.onDynamicUrlTypeChanged(g.a.Expression)},checked:n.props.dynamicUrlType===g.a.Expression||!n.props.dynamicUrlType,"data-testid":"dynamicurl-expression"}),s.React.createElement("label",{className:"m-0 ml-2",onClick:function(){return n.props.onDynamicUrlTypeChanged(g.a.Expression)}},"URL")),(n.props.srcExpression||n.props.dynamicUrlType===g.a.Expression||!n.props.dynamicUrlType)&&s.React.createElement("div",{className:"d-flex w-100 justify-content-end mt-3"},s.React.createElement("div",{style:{width:"90%",position:"relative"}},s.React.createElement(C.ExpressionInput,{useDataSources:n.props.useDataSources,onChange:n.props.onSrcExpChange,openExpPopup:n.props.openSrcPopup,expression:n.props.srcExpression,isExpPopupOpen:n.props.isSrcPopupOpen,closeExpPopup:n.props.closeSrcPopup,types:w,widgetId:n.props.widgetId})))))},n.getExpressionSettingWithoutRadio=function(){return s.React.createElement("div",{className:"w-100 d-flex justify-content-end"},s.React.createElement("div",{className:"w-100"},s.React.createElement("div",{className:"d-flex justify-content-between w-100 align-items-center"},s.React.createElement("label",{className:"m-0"},"URL")),n.props.srcExpression||n.props.dynamicUrlType===g.a.Expression||!n.props.dynamicUrlType?s.React.createElement("div",{className:"mt-2",style:{width:"100%",position:"relative"}},s.React.createElement(C.ExpressionInput,{useDataSources:n.props.useDataSources,onChange:n.props.onSrcExpChange,openExpPopup:n.props.openSrcPopup,expression:n.props.srcExpression,isExpPopupOpen:n.props.isSrcPopupOpen,closeExpPopup:n.props.closeSrcPopup,types:w,widgetId:n.props.widgetId})):s.React.createElement("div",{className:"mt-2",style:{width:"100%",position:"relative"}},s.React.createElement("div",{className:"w-100 h-100",style:{position:"absolute",opacity:.5,backgroundColor:"gray",zIndex:100}}),s.React.createElement(C.ExpressionInput,{useDataSources:n.props.useDataSources,onChange:n.props.onSrcExpChange,openExpPopup:n.props.openSrcPopup,expression:n.props.srcExpression,isExpPopupOpen:n.props.isSrcPopupOpen,closeExpPopup:n.props.closeSrcPopup,types:w,widgetId:n.props.widgetId}))))},n}return A(t,e),t.prototype.render=function(){var e=this,t=null;if(this.props.useDataSources)for(var n=0;n<this.props.useDataSources.length;n++)t=this.props.useDataSources[0];return s.React.createElement(p.SettingRow,{flow:"wrap"},t&&s.React.createElement(s.DataSourceComponent,{useDataSource:t},(function(t){return e.getRenderContent(t)})),!t&&this.getExpressionSettingWithoutRadio())},t}(s.React.PureComponent),D=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),P=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},E=n(60),j=function(e){function t(t){var n=e.call(this,t)||this;return n.supportedTypes=Object(s.Immutable)([l.AllDataSourceTypes.FeatureLayer,l.AllDataSourceTypes.SceneLayer]),n.onSymbolScaleChanged=null,n.minSymbolScale=.5,n.maxSymbolScale=5,n.SymbolScaleStep=.1,n.settingLinkConfirm=function(e){n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["functionConfig","linkParam"],e)}),n.setState({isShowLinkSetting:!1})},n.updateStyle=function(e,t){n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["styleConfig",e],t)})},n.shapeChange=function(e){var t=Object(s.Immutable)(n.props.config.styleConfig);t=(t=t.set("shape",e)).set("borderRadius",n.props.preDefinedConfigs.shapes[e].borderRadius),n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["styleConfig"],t)})},n.altTextConfigChange=function(){var e={id:n.props.id,config:n.props.config.setIn(["functionConfig","altText"],n.state.currentAltTextInput).setIn(["functionConfig","altTextExpression"],null),useDataSources:n.getUseDataSourcesWithoutFields()};n.props.onSettingChange(e)},n.toolTipConfigChange=function(){var e={id:n.props.id,config:n.props.config.setIn(["functionConfig","toolTip"],n.state.currentTipInput).setIn(["functionConfig","toolTipExpression"],null),useDataSources:n.getUseDataSourcesWithoutFields()};n.props.onSettingChange(e)},n.imgSourceTypeChanged=function(e){var t=Object(s.Immutable)(n.props.config.functionConfig);t=(t=(t=(t=t.set("dynamicUrlType",null)).set("imgSourceType",e)).set("srcExpression",null)).set("imageParam",n.resetImageParam(n.props.config.functionConfig.imageParam)),n.props.onSettingChange({id:n.props.id,config:n.props.config.set("functionConfig",t)})},n.dynamicUrlTypeChanged=function(e){var t=Object(s.Immutable)(n.props.config.functionConfig);t=(t=(t=(t=(t=(t=t.set("dynamicUrlType",e)).set("imgSourceType",g.b.ByDynamicUrl)).set("srcExpression",null)).set("imageParam",n.resetImageParam(n.props.config.functionConfig.imageParam))).set("altTextWithAttachmentName",null)).set("toolTipWithAttachmentName",null),n.props.onSettingChange({id:n.props.id,config:n.props.config.set("functionConfig",t)})},n.openSrcPopup=function(){n.setState({isSrcPopupOpen:!0,isAltTextPopupOpen:!1,isToolTipPopupOpen:!1})},n.closeSrcPopup=function(){n.setState({isSrcPopupOpen:!1})},n.openToolTipPopup=function(){n.setState({isSrcPopupOpen:!1,isAltTextPopupOpen:!1,isToolTipPopupOpen:!0})},n.closeToolTipPopup=function(){n.setState({isToolTipPopupOpen:!1})},n.openAltTextPopup=function(){n.setState({isSrcPopupOpen:!1,isAltTextPopupOpen:!0,isToolTipPopupOpen:!1})},n.closeAltTextPopup=function(){n.setState({isAltTextPopupOpen:!1})},n.getUseDataSourcesWithoutFields=function(){return n.props.useDataSources&&n.props.useDataSources[0]&&n.props.useDataSources[0].dataSourceId?[n.props.useDataSources[0].without("fields")]:[]},n.getSrcExpression=function(){var e=n.props.config&&n.props.config.functionConfig&&n.props.config.functionConfig.srcExpression&&n.props.config.functionConfig.srcExpression;return e&&e.asMutable({deep:!0})||null},n.getToolTipExpression=function(){var e=n.props.config&&n.props.config.functionConfig&&n.props.config.functionConfig.toolTipExpression&&n.props.config.functionConfig.toolTipExpression;return e&&e.asMutable({deep:!0})||null},n.getAltTextExpression=function(){var e=n.props.config&&n.props.config.functionConfig&&n.props.config.functionConfig.altTextExpression&&n.props.config.functionConfig.altTextExpression;return e&&e.asMutable({deep:!0})||null},n.onToolTipExpChange=function(e){if(e){var t=n.getSrcExpression(),o=n.getAltTextExpression(),i=n.mergeUseDataSources(t,e,o);n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["functionConfig","toolTipExpression"],e).setIn(["functionConfig","toolTip"],""),useDataSources:i}),n.setState({isToolTipPopupOpen:!1})}},n.onAltTextExpChange=function(e){if(e){var t=n.getSrcExpression(),o=n.getToolTipExpression(),i=n.mergeUseDataSources(t,o,e);n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["functionConfig","altTextExpression"],e).setIn(["functionConfig","altText"],""),useDataSources:i}),n.setState({isAltTextPopupOpen:!1})}},n.onSrcExpChange=function(e){if(e){var t=n.getToolTipExpression(),o=n.getAltTextExpression(),i=n.mergeUseDataSources(e,t,o);n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["functionConfig","srcExpression"],e).setIn(["functionConfig","imageParam"],n.resetImageParam(n.props.config.functionConfig.imageParam)),useDataSources:i}),n.setState({isSrcPopupOpen:!1})}},n.mergeUseDataSources=function(e,t,o){var i=s.expressionUtils.getUseDataSourceFromExpParts(e&&e.parts,n.props.useDataSources),a=s.expressionUtils.getUseDataSourceFromExpParts(t&&t.parts,n.props.useDataSources),p=s.expressionUtils.getUseDataSourceFromExpParts(o&&o.parts,n.props.useDataSources);return n.mergeUseDataSourcesByDss(i,a,p)},n.mergeUseDataSourcesByDss=function(e,t,o){var i=n.getUseDataSourcesWithoutFields(),a=s.expressionUtils.mergeUseDataSources(i,t);return a=s.expressionUtils.mergeUseDataSources(a,o),a=s.expressionUtils.mergeUseDataSources(a,e)},n.onResourceChange=function(e){var t=e;t||(t={});var o=Object(s.Immutable)(n.props.config.functionConfig);o.imageParam&&o.imageParam.cropParam&&(t.cropParam={svgViewBox:o.imageParam.cropParam.svgViewBox,svgPath:o.imageParam.cropParam.svgPath,cropShape:o.imageParam.cropParam.cropShape}),o=(o=(o=o.set("imageParam",t)).set("imgSourceType","")).set("srcExpression",null),n.props.onSettingChange({id:n.props.id,config:n.props.config.set("functionConfig",o)})},n.resetImageParam=function(e){return e&&e.cropParam?{cropParam:e.cropParam}:null},n.onToggleUseDataEnabled=function(e){n.props.onSettingChange({id:n.props.id,useDataSourcesEnabled:e})},n.onDataSourceChange=function(e){e&&n.props.onSettingChange({id:n.props.id,useDataSources:e,config:n.props.config.setIn(["functionConfig","dynamicUrlType"],null).setIn(["functionConfig","altTextWithAttachmentName"],null).setIn(["functionConfig","toolTipWithAttachmentName"],null).setIn(["functionConfig","isSelectedFromRepeatedDataSourceContext"],null).setIn(["functionConfig","useDataSourceForMainDataAndViewSelector"],null)})},n.onTypeNoSupportChange=function(){n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["functionConfig","dynamicUrlType"],null).setIn(["functionConfig","altTextWithAttachmentName"],null).setIn(["functionConfig","toolTipWithAttachmentName"],null).setIn(["functionConfig","isSelectedFromRepeatedDataSourceContext"],null).setIn(["functionConfig","useDataSourceForMainDataAndViewSelector"],null)})},n.onDataSourceRemoved=function(){n.props.onSettingChange({id:n.props.id,useDataSources:[],config:n.props.config.setIn(["functionConfig","dynamicUrlType"],null).setIn(["functionConfig","altTextWithAttachmentName"],null).setIn(["functionConfig","toolTipWithAttachmentName"],null)})},n.handleChooseShape=function(e){n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["functionConfig","imageParam","cropParam"],e)})},n.handleImageFillModeChange=function(e){var t=n.props.config.setIn(["functionConfig","imageFillMode"],e);t.functionConfig.imageParam&&t.functionConfig.imageParam.originalUrl&&(t=t.setIn(["functionConfig","imageParam","url"],t.functionConfig.imageParam.originalUrl)),t.functionConfig.imageParam&&t.functionConfig.imageParam.cropParam&&(t=t.setIn(["functionConfig","imageParam","cropParam"],{svgViewBox:t.functionConfig.imageParam.cropParam.svgViewBox,svgPath:t.functionConfig.imageParam.cropParam.svgPath,cropShape:t.functionConfig.imageParam.cropParam.cropShape})),n.props.onSettingChange({id:n.props.id,config:t})},n.getIsDataSourceUsed=function(){return n.props.useDataSourcesEnabled},n.handleSymbolScaleChange=function(e){var t=parseFloat(e);t!==n.props.config.functionConfig.symbolScale&&(clearTimeout(n.onSymbolScaleChanged),n.onSymbolScaleChanged=setTimeout((function(){n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["functionConfig","symbolScale"],t)})}),500))},n.onToolTipTextInputChange=function(e){n.setState({currentTipInput:e})},n.onAltTextTextInputChange=function(e){n.setState({currentAltTextInput:e})},n.onToolTipWithSomeKeyChange=function(e,t){var o={id:n.props.id,config:n.props.config.setIn(["functionConfig","toolTip"],null).setIn(["functionConfig","toolTipExpression"],null).setIn(["functionConfig",e],t),useDataSources:n.getUseDataSourcesWithoutFields()};n.props.onSettingChange(o)},n.onAltTextWithSomeKeyChange=function(e,t){var o={id:n.props.id,config:n.props.config.setIn(["functionConfig","altText"],null).setIn(["functionConfig","altTextExpression"],null).setIn(["functionConfig",e],t),useDataSources:n.getUseDataSourcesWithoutFields()};n.props.onSettingChange(o)},n.onTabSelect=function(e){"dynamicSource"===e?n.imgSourceTypeChanged(g.b.ByDynamicUrl):n.imgSourceTypeChanged(g.b.ByUpload)},n.onSelectedUseDsChangeForSymbol=function(e,t){n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["functionConfig","useDataSourceForMainDataAndViewSelector"],e).setIn(["functionConfig","isSelectedFromRepeatedDataSourceContext"],t)})},n.onSelectedUseDsChangeForAttachment=function(e,t){n.props.onSettingChange({id:n.props.id,config:n.props.config.setIn(["functionConfig","useDataSourceForMainDataAndViewSelector"],e).setIn(["functionConfig","isSelectedFromRepeatedDataSourceContext"],t)})},n.getWhetherDsIdInUseDss=function(e){if(!e)return!1;var t=n.props.useDataSources||[];if(e.split("-").reverse()[0]===s.CONSTANTS.SELECTION_DATA_VIEW_ID){var o=s.DataSourceManager.getInstance().getDataSource(e),i=o&&o.getMainDataSource(),a=i&&i.id;return t.some((function(e){return e.mainDataSourceId===a}))}return t.some((function(t){return t.dataSourceId===e}))},n.state={currentTipInput:n.props.config.functionConfig.toolTip,currentAltTextInput:n.props.config.functionConfig.altText,isShowLinkSetting:!1,shadowOpen:!!n.props.config.styleConfig.boxShadow,isSrcPopupOpen:!1,isToolTipPopupOpen:!1,isAltTextPopupOpen:!1},n}return D(t,e),t.prototype.getStyle=function(e){return Object(s.css)(a||(a=P(["\n      .widget-setting-image {\n        font-size: 13px;\n        font-weight: lighter;\n        overflow-y: auto;\n\n        .setting-function {\n\n          .setting-function-item {\n            overflow: hidden;\n\n            .setting-function-item-input {\n              width: 200px;\n            }\n          }\n        }\n\n        .widget-image-chooseshape-item {\n          border: 2px solid transparent;\n        }\n\n        .border-selected {\n          border: 2px solid "," !important;\n        }\n\n        .uploadInput {\n          position: absolute;\n          opacity: 0;\n          left: 0;\n          top: 0;\n          cursor: pointer;\n        }\n\n        .uploadFileName {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          opacity: 0.5;\n        }\n\n        .uploadInput-container {\n          position: relative;\n        }\n\n        .setting-exterior {\n\n          .exterior-shape-item {\n            padding-bottom: 100%;\n            cursor: pointer;\n          }\n        }\n\n        .setting-stylepicker-selected {\n          border-width: 2px !important;\n        }\n\n        .set-link-btn{\n          background-color: ",";\n        }\n        .set-link-btn:hover, .set-link-btn:hover.set-link-btn:active{\n          background-color: ",";\n        }\n\n        .set-clear-image {\n          &:focus {\n            outline: none;\n            box-shadow: none !important;\n            text-decoration: none;\n          }\n        }\n      }\n    "],["\n      .widget-setting-image {\n        font-size: 13px;\n        font-weight: lighter;\n        overflow-y: auto;\n\n        .setting-function {\n\n          .setting-function-item {\n            overflow: hidden;\n\n            .setting-function-item-input {\n              width: 200px;\n            }\n          }\n        }\n\n        .widget-image-chooseshape-item {\n          border: 2px solid transparent;\n        }\n\n        .border-selected {\n          border: 2px solid "," !important;\n        }\n\n        .uploadInput {\n          position: absolute;\n          opacity: 0;\n          left: 0;\n          top: 0;\n          cursor: pointer;\n        }\n\n        .uploadFileName {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          opacity: 0.5;\n        }\n\n        .uploadInput-container {\n          position: relative;\n        }\n\n        .setting-exterior {\n\n          .exterior-shape-item {\n            padding-bottom: 100%;\n            cursor: pointer;\n          }\n        }\n\n        .setting-stylepicker-selected {\n          border-width: 2px !important;\n        }\n\n        .set-link-btn{\n          background-color: ",";\n        }\n        .set-link-btn:hover, .set-link-btn:hover.set-link-btn:active{\n          background-color: ",";\n        }\n\n        .set-clear-image {\n          &:focus {\n            outline: none;\n            box-shadow: none !important;\n            text-decoration: none;\n          }\n        }\n      }\n    "])),e.colors.palette.primary[600],e.colors.palette.light[500],e.colors.palette.light[400])},t.prototype.componentDidUpdate=function(e){var t,n,o,i,a,p,r,c;if(this.props.useDataSourcesEnabled!==e.useDataSourcesEnabled){var l=this.props.useDataSourcesEnabled,u=Object(s.Immutable)(this.props.config.functionConfig);l?this.props.config.functionConfig.imgSourceType===g.b.ByStaticUrl&&(u=u.set("imgSourceType",g.b.ByDynamicUrl)):this.props.config.functionConfig.imgSourceType===g.b.ByDynamicUrl&&(u=u.set("imgSourceType",g.b.ByStaticUrl)),this.props.onSettingChange({id:this.props.id,config:this.props.config.set("functionConfig",u)})}this.props.useDataSourcesEnabled||((null===(n=null===(t=this.props.config)||void 0===t?void 0:t.functionConfig)||void 0===n?void 0:n.toolTip)!==(null===(i=null===(o=e.config)||void 0===o?void 0:o.functionConfig)||void 0===i?void 0:i.toolTip)&&this.setState({currentTipInput:this.props.config&&this.props.config.functionConfig&&this.props.config.functionConfig.toolTip||""}),(null===(p=null===(a=this.props.config)||void 0===a?void 0:a.functionConfig)||void 0===p?void 0:p.altText)!==(null===(c=null===(r=e.config)||void 0===r?void 0:r.functionConfig)||void 0===c?void 0:c.altText)&&this.setState({currentAltTextInput:this.props.config&&this.props.config.functionConfig&&this.props.config.functionConfig.altText||""}))},t.prototype.render=function(){var e,t,n=this,o=this.props.config.functionConfig.imageParam&&this.props.config.functionConfig.imageParam.originalName;return Object(s.jsx)("div",{css:this.getStyle(this.props.theme),className:"jimu-widget"},Object(s.jsx)("div",{className:"widget-setting-image"},Object(s.jsx)(p.SettingSection,null,Object(s.jsx)(p.SettingRow,null,Object(s.jsx)("div",{className:"choose-ds w-100"},Object(s.jsx)(l.DataSourceSelector,{types:this.supportedTypes,useDataSourcesEnabled:this.props.useDataSourcesEnabled,useDataSources:this.props.useDataSources,onToggleUseDataEnabled:this.onToggleUseDataEnabled,onChange:this.onDataSourceChange,widgetId:this.props.id}))),Object(s.jsx)(p.SettingRow,{label:this.props.intl.formatMessage({id:"imageSource",defaultMessage:m.imageSource})}),!this.props.useDataSourcesEnabled&&Object(s.jsx)(p.SettingRow,null,Object(s.jsx)("div",{className:"w-100 d-flex align-items-center"},Object(s.jsx)("div",{style:{minWidth:"60px"}},Object(s.jsx)(c.ImageSelector,{buttonClassName:"text-dark d-flex justify-content-center btn-browse",widgetId:this.props.id,buttonLabel:this.props.intl.formatMessage({id:"imageSet",defaultMessage:m.imageSet}),buttonSize:"sm",onChange:this.onResourceChange,imageParam:this.props.config.functionConfig.imageParam})),Object(s.jsx)("div",{style:{width:"70px"},className:"uploadFileName ml-2",title:o||this.props.intl.formatMessage({id:"imageNoneSource",defaultMessage:m.imageNoneSource})},o||this.props.intl.formatMessage({id:"imageNoneSource",defaultMessage:m.imageNoneSource})))),this.props.useDataSourcesEnabled&&Object(s.jsx)("div",{className:"mt-3"},Object(s.jsx)(r.Tabs,{fill:!0,pills:!0,onTabSelect:this.onTabSelect},Object(s.jsx)(r.Tab,{id:"staticSource",active:!this.props.config.functionConfig.imgSourceType||this.props.config.functionConfig.imgSourceType===g.b.ByUpload,title:this.props.intl.formatMessage({id:"staticSource",defaultMessage:m.staticSource})},Object(s.jsx)("div",{className:"mt-3"},(!this.props.config.functionConfig.imgSourceType||this.props.config.functionConfig.imgSourceType===g.b.ByUpload)&&Object(s.jsx)(p.SettingRow,null,Object(s.jsx)("div",{className:"w-100 d-flex align-items-center"},Object(s.jsx)("div",{style:{minWidth:"60px"}},Object(s.jsx)(c.ImageSelector,{buttonClassName:"text-dark d-flex justify-content-center btn-browse",widgetId:this.props.id,buttonLabel:this.props.intl.formatMessage({id:"imageSet",defaultMessage:m.imageSet}),buttonSize:"sm",disabled:this.props.config.functionConfig.imgSourceType===g.b.ByStaticUrl||this.props.config.functionConfig.imgSourceType===g.b.ByDynamicUrl,onChange:this.onResourceChange,imageParam:this.props.config.functionConfig.imageParam})),Object(s.jsx)("div",{style:{width:"70px"},className:"uploadFileName ml-2",title:o||this.props.intl.formatMessage({id:"imageNoneSource",defaultMessage:m.imageNoneSource})},o||this.props.intl.formatMessage({id:"imageNoneSource",defaultMessage:m.imageNoneSource})))))),Object(s.jsx)(r.Tab,{id:"dynamicSource",active:this.props.config.functionConfig.imgSourceType===g.b.ByDynamicUrl,title:this.props.intl.formatMessage({id:"dynamicSource",defaultMessage:m.dynamicSource})},Object(s.jsx)("div",{className:"mt-3"},this.props.config.functionConfig.imgSourceType===g.b.ByDynamicUrl&&Object(s.jsx)(v,{dynamicUrlType:this.props.config.functionConfig.dynamicUrlType,srcExpression:this.getSrcExpression(),useDataSources:this.props.useDataSources,isSrcPopupOpen:this.state.isSrcPopupOpen,onDynamicUrlTypeChanged:this.dynamicUrlTypeChanged,onSrcExpChange:this.onSrcExpChange,openSrcPopup:this.openSrcPopup,closeSrcPopup:this.closeSrcPopup,widgetId:this.props.id,intl:this.props.intl,isSelectedFromRepeatedDataSourceContext:this.props.config.functionConfig.isSelectedFromRepeatedDataSourceContext,useDataSourceForMainDataAndViewSelector:this.getWhetherDsIdInUseDss(null===(t=null===(e=this.props.config.functionConfig)||void 0===e?void 0:e.useDataSourceForMainDataAndViewSelector)||void 0===t?void 0:t.dataSourceId)?this.props.config.functionConfig.useDataSourceForMainDataAndViewSelector:null,onSelectedUseDsChangeForSymbol:this.onSelectedUseDsChangeForSymbol,onSelectedUseDsChangeForAttachment:this.onSelectedUseDsChangeForAttachment,onTypeNoSupportChange:this.onTypeNoSupportChange})))))),Object(s.jsx)(p.SettingSection,null,Object(s.jsx)(p.SettingRow,null,Object(s.jsx)(r.Button,{className:"w-100 text-dark",type:"primary",onClick:function(){n.setState({isShowLinkSetting:!n.state.isShowLinkSetting})}},Object(s.jsx)(r.Icon,{icon:E,className:"mr-3"}),this.props.intl.formatMessage({id:"setLinkForImage",defaultMessage:m.setLinkForImage}))),Object(s.jsx)(I,{imgSourceType:this.props.config.functionConfig.imgSourceType,dynamicUrlType:this.props.config.functionConfig.dynamicUrlType,intl:this.props.intl,useDataSourcesEnabled:this.props.useDataSourcesEnabled,useDataSources:this.props.useDataSources,openToolTipPopup:this.openToolTipPopup,closeToolTipPopup:this.closeToolTipPopup,toolTipExpression:this.getToolTipExpression(),onToolTipExpChange:this.onToolTipExpChange,isToolTipPopupOpen:this.state.isToolTipPopupOpen,toolTipConfigChange:this.toolTipConfigChange,onToolTipTextInputChange:this.onToolTipTextInputChange,toolTipText:this.state.currentTipInput,widgetId:this.props.id,toolTipWithAttachmentName:this.props.config.functionConfig.toolTipWithAttachmentName,onToolTipWithAttachmentNameChange:function(e){n.onToolTipWithSomeKeyChange("toolTipWithAttachmentName",e)}}),Object(s.jsx)(b,{imgSourceType:this.props.config.functionConfig.imgSourceType,dynamicUrlType:this.props.config.functionConfig.dynamicUrlType,intl:this.props.intl,useDataSourcesEnabled:this.props.useDataSourcesEnabled,useDataSources:this.props.useDataSources,openAltTextPopup:this.openAltTextPopup,closeAltTextPopup:this.closeAltTextPopup,altTextExpression:this.getAltTextExpression(),onAltTextExpChange:this.onAltTextExpChange,isAltTextPopupOpen:this.state.isAltTextPopupOpen,altTextConfigChange:this.altTextConfigChange,onAltTextTextInputChange:this.onAltTextTextInputChange,altTextText:this.state.currentAltTextInput,widgetId:this.props.id,altTextWithAttachmentName:this.props.config.functionConfig.altTextWithAttachmentName,onAltTextWithAttachmentNameChange:function(e){n.onAltTextWithSomeKeyChange("altTextWithAttachmentName",e)}})),Object(s.jsx)(p.SettingSection,null,this.props.config.functionConfig.dynamicUrlType!==g.a.Symbol&&Object(s.jsx)(p.SettingRow,{label:this.props.intl.formatMessage({id:"imagePosition",defaultMessage:m.imagePosition})},Object(s.jsx)("div",{style:{width:"50%"}},Object(s.jsx)(r.Select,{size:"sm",value:this.props.config.functionConfig.imageFillMode?this.props.config.functionConfig.imageFillMode:r.ImageFillMode.Fill,onChange:function(e){return n.handleImageFillModeChange(e.target.value)}},Object(s.jsx)("option",{key:0,value:r.ImageFillMode.Fill},this.props.intl.formatMessage({id:"imageFill",defaultMessage:m.imageFill})),Object(s.jsx)("option",{key:1,value:r.ImageFillMode.Fit},this.props.intl.formatMessage({id:"imageFit",defaultMessage:m.imageFit}))))),this.props.config.functionConfig.dynamicUrlType===g.a.Symbol&&Object(s.jsx)(p.SettingRow,{flow:"wrap",label:this.props.intl.formatMessage({id:"imageSymbolScale",defaultMessage:m.imageSymbolScale})},Object(s.jsx)("div",{className:"d-flex justify-content-between w-100 align-items-center"},Object(s.jsx)(r.Slider,{style:{width:"60%"},"data-field":"space",onChange:function(e){n.handleSymbolScaleChange(e.currentTarget.value)},value:this.props.config.functionConfig.symbolScale?this.props.config.functionConfig.symbolScale:1,title:"0.5-5",size:"sm",min:this.minSymbolScale,max:this.maxSymbolScale,step:this.SymbolScaleStep}),Object(s.jsx)(r.NumericInput,{style:{width:"35%"},showHandlers:!1,min:this.minSymbolScale,max:this.maxSymbolScale,value:this.props.config.functionConfig.symbolScale?this.props.config.functionConfig.symbolScale:1,onBlur:function(e){n.handleSymbolScaleChange(e.currentTarget.value)},title:"0.5-5"}))),this.props.config.functionConfig.dynamicUrlType!==g.a.Symbol&&Object(s.jsx)(p.SettingRow,{flow:"wrap",label:this.props.intl.formatMessage({id:"imageShape",defaultMessage:m.imageShape})},Object(s.jsx)(h,{theme:this.props.theme,cropParam:this.props.config.functionConfig.imageParam&&this.props.config.functionConfig.imageParam.cropParam,onShapeChoosed:function(e){n.handleChooseShape(e)},intl:this.props.intl}))),this.state.isShowLinkSetting&&!s.urlUtils.getAppIdPageIdFromUrl().pageId&&Object(s.jsx)(p.LinkSettingPopup,{showDialog:this.state.isShowLinkSetting,onSettingCancel:function(){n.setState({isShowLinkSetting:!1})},onSettingConfirm:this.settingLinkConfirm,linkParam:this.props.config.functionConfig.linkParam,useDataSources:this.getIsDataSourceUsed()&&this.props.useDataSources,widgetId:this.props.id})))},t.mapExtraStateProps=function(e){return{preDefinedConfigs:u}},t}(s.React.PureComponent);t.default=j},60:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M7.42 8.84a.502.502 0 010 .71L6 10.97A3.515 3.515 0 111.03 6l1.42-1.42a.502.502 0 11.71.71L1.74 6.71a2.51 2.51 0 103.55 3.55l1.42-1.42a.502.502 0 01.71 0zm1.42-2.13l1.42-1.42a2.51 2.51 0 10-3.55-3.55L5.29 3.16a.502.502 0 11-.71-.71L6 1.03A3.515 3.515 0 1110.97 6L9.55 7.42a.502.502 0 11-.71-.71zm-4.97.71l3.55-3.55a.502.502 0 01.71.71L4.58 8.13a.502.502 0 01-.71-.71z" fill="#000" fill-rule="nonzero"></path></svg>'},93:function(e,t,n){var o={"./circle.svg":94,"./hexagon.svg":95,"./oval.svg":96,"./pentagon.svg":97,"./rectangle.svg":98,"./rhombus.svg":99,"./triangle.svg":100};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id=93},94:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M28 14c0 7.732-6.268 14-14 14S0 21.732 0 14 6.268 0 14 0s14 6.268 14 14z"></path></svg>'},95:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M14.124 0l12.124 7v14l-12.124 7L2 21V7z"></path></svg>'},96:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M28 14c0 5.523-6.268 10-14 10S0 19.523 0 14 6.268 4 14 4s14 4.477 14 10z"></path></svg>'},97:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M14 1l14 10.172-5.348 16.458H5.347L-.001 11.172z"></path></svg>'},98:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M0 0v28h28V0H0z"></path></svg>'},99:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28"><path d="M14 0l14 14-14 14L0 14z"></path></svg>'}}))}}}));
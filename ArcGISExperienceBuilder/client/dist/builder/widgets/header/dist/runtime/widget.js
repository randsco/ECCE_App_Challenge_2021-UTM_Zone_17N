System.register(["jimu-core","jimu-ui","jimu-for-builder","jimu-ui/advanced/setting-components","jimu-ui/advanced/data-source-selector","jimu-for-builder/service"],(function(e){var t,n,o,i,r,s;return{setters:[function(e){t=e},function(e){n=e},function(e){o=e},function(e){i=e},function(e){r=e},function(e){s=e}],execute:function(){e(function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=111)}({0:function(e,n){e.exports=t},1:function(e,t){e.exports=n},111:function(e,t,n){"use strict";n.r(t);var o,i,r=n(0),s=n(1),a=n(2),l=n(8);!function(e){e.Experience="Web Experience",e.Template="Web Experience Template"}(o||(o={})),function(e){e.Published="Published",e.Draft="Draft",e.Changed="Changed",e.Publishing="Publishing"}(i||(i={}));var p,c,d,h={createNew:"Create new",newExperience:"New experience",undo:"Undo",redo:"Redo",save:"Save",saving:"Saving",saved:"Saved",download:"Download",saveError:"Saving error",saveSuccess:"Saved successfully!",publishing:"Publishing",published:"Published",publishError:"Publishing error",publishSuccess:"Published successfully!",publishTo:"Publish to",publishOptions:"Publish options",copySuccess:"Copied successfully!",changeShareSettings:"Change share settings",viewPublishedItem:"View published item",copyPublishedItemLink:"Copy published item link",headerLeave:"Leave",headerLeaveSite:"Leave site?",headerLeaveDescription:"Changes you made may not be saved.",editPageForLargeScreen:"Edit your page for large screen devices",editPageForMediumScreen:"Edit your page for medium screen devices",editPageForSmallScreen:"Edit your page for small screen devices",appMode:"Live view",generateTemplate:"Generate template",moreOptionsForTool:"More",moreTools:"More tools",access:"Access",generateTemplateSuccess:"Generated template successfully!",generateTemplateError:"Generating error",headerLockLayout:"Lock layout",enableLayoutEditing:"Turn on layout lock to disable layout editing",disableLayoutEditing:"Turn off layout lock to enable layout editing",layoutIsEnabled:"Layout editing is enabled.",layoutIsDisabled:"Layout editing is disabled.",appTypeTemplate:"Experience Template",appTypeExperience:"Experience",publishedTitle:"This item can be viewed by users you've shared with.",publishedUnsaveTitle:"There are unpublished changes since last publishing.",itemStatusDraft:"Draft",draftStatusTitle:"This item is not published. It can only be viewed by you.",headerHome:"Home",renameExperience:"Rename experience",renameTemplate:"Rename template",turnOnLiveView:"Turn on live view",turnOffLiveView:"Turn off live view",changeScreenSize:"Change screen size",createNewExperience:"Create new experience",gotIt:"Got it",templateRemind:"You are now working on an experience template.",unpublishedChanges:"Unpublished changes"},u=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},g=function(e){function t(t){return e.call(this,t)||this}return u(t,e),t.prototype.getStyle=function(e){return Object(r.css)(c||(c=m(["\n      .item-inner {\n        width: 16px;\n        height: 16px;\n        position: relative;\n      }\n\n      .item-loader-container {\n        width: 100%;\n        height: 100%;\n      }\n\n      .la-ball-fall,\n        .la-ball-fall>div {\n          position:relative;\n          -webkit-box-sizing:border-box;\n          -moz-box-sizing:border-box;\n          box-sizing:border-box\n        }\n      \n      .la-ball-fall {\n        display:block;\n        font-size:0;\n        color:","\n      }\n      \n      .la-ball-fall>div {\n        display:inline-block;\n        float:none;\n        background-color:currentColor;\n        border:0 solid currentColor\n      } \n      \n      .la-ball-fall {\n        width:54px;\n        height:18px\n      }\n      \n      .la-ball-fall>div{\n        width:10px;\n        height:10px;\n        margin:4px;\n        border-radius:100%;\n        opacity:0;\n        -webkit-animation:ball-fall 1s ease-in-out infinite;\n        -moz-animation:ball-fall 1s ease-in-out infinite;\n        -o-animation:ball-fall 1s ease-in-out infinite;\n        animation:ball-fall 1s ease-in-out infinite\n      }\n      \n      .la-ball-fall>div:nth-of-type(1){\n        -webkit-animation-delay:-200ms;\n        -moz-animation-delay:-200ms;\n        -o-animation-delay:-200ms;\n        animation-delay:-200ms\n      }\n      \n      .la-ball-fall>div:nth-of-type(2){\n        -webkit-animation-delay:-100ms;\n        -moz-animation-delay:-100ms;\n        -o-animation-delay:-100ms;\n        animation-delay:-100ms\n      }\n      \n      .la-ball-fall>div:nth-of-type(3){\n        -webkit-animation-delay:0ms;\n        -moz-animation-delay:0ms;\n        -o-animation-delay:0ms;\n        animation-delay:0ms\n      }\n      \n      .la-ball-fall.la-2x{\n        display: flex;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n      }\n      \n      .la-ball-fall.la-2x>div{\n        width:25%;\n        height:25%;\n        margin:3%;\n      }\n      \n      @-webkit-keyframes ball-fall{\n        0%{opacity:0;-webkit-transform:translateY(-145%);transform:translateY(-145%)}\n        10%{opacity:.5}\n        20%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}\n        80%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}\n        90%{opacity:.5}\n        100%{opacity:0;-webkit-transform:translateY(145%);transform:translateY(145%)}\n      }\n      \n      @-moz-keyframes ball-fall{\n        0%{opacity:0;-moz-transform:translateY(-145%);transform:translateY(-145%)}\n        10%{opacity:.5}20%{opacity:1;-moz-transform:translateY(0);transform:translateY(0)}\n        80%{opacity:1;-moz-transform:translateY(0);transform:translateY(0)}90%{opacity:.5}\n        100%{opacity:0;-moz-transform:translateY(145%);transform:translateY(145%)}\n      }\n      \n      @-o-keyframes ball-fall{\n        0%{opacity:0;-o-transform:translateY(-145%);transform:translateY(-145%)}\n        10%{opacity:.5}20%{opacity:1;-o-transform:translateY(0);transform:translateY(0)}\n        80%{opacity:1;-o-transform:translateY(0);transform:translateY(0)}90%{opacity:.5}\n        100%{opacity:0;-o-transform:translateY(145%);transform:translateY(145%)}\n      }\n      \n      @keyframes ball-fall{\n        0%{opacity:0;-webkit-transform:translateY(-145%);\n        -moz-transform:translateY(-145%);\n        -o-transform:translateY(-145%);\n        transform:translateY(-145%)}10%{opacity:.5}\n        20%{opacity:1;-webkit-transform:translateY(0);\n        -moz-transform:translateY(0);\n        -o-transform:translateY(0);\n        transform:translateY(0)}\n        80%{opacity:1;-webkit-transform:translateY(0);\n        -moz-transform:translateY(0);\n        -o-transform:translateY(0);\n        transform:translateY(0)}\n        90%{opacity:.5}\n        100%{opacity:0;\n        -webkit-transform:translateY(145%);\n        -moz-transform:translateY(145%);\n        -o-transform:translateY(145%);\n        transform:translateY(145%)}\n      }\n    "],["\n      .item-inner {\n        width: 16px;\n        height: 16px;\n        position: relative;\n      }\n\n      .item-loader-container {\n        width: 100%;\n        height: 100%;\n      }\n\n      .la-ball-fall,\n        .la-ball-fall>div {\n          position:relative;\n          -webkit-box-sizing:border-box;\n          -moz-box-sizing:border-box;\n          box-sizing:border-box\n        }\n      \n      .la-ball-fall {\n        display:block;\n        font-size:0;\n        color:","\n      }\n      \n      .la-ball-fall>div {\n        display:inline-block;\n        float:none;\n        background-color:currentColor;\n        border:0 solid currentColor\n      } \n      \n      .la-ball-fall {\n        width:54px;\n        height:18px\n      }\n      \n      .la-ball-fall>div{\n        width:10px;\n        height:10px;\n        margin:4px;\n        border-radius:100%;\n        opacity:0;\n        -webkit-animation:ball-fall 1s ease-in-out infinite;\n        -moz-animation:ball-fall 1s ease-in-out infinite;\n        -o-animation:ball-fall 1s ease-in-out infinite;\n        animation:ball-fall 1s ease-in-out infinite\n      }\n      \n      .la-ball-fall>div:nth-of-type(1){\n        -webkit-animation-delay:-200ms;\n        -moz-animation-delay:-200ms;\n        -o-animation-delay:-200ms;\n        animation-delay:-200ms\n      }\n      \n      .la-ball-fall>div:nth-of-type(2){\n        -webkit-animation-delay:-100ms;\n        -moz-animation-delay:-100ms;\n        -o-animation-delay:-100ms;\n        animation-delay:-100ms\n      }\n      \n      .la-ball-fall>div:nth-of-type(3){\n        -webkit-animation-delay:0ms;\n        -moz-animation-delay:0ms;\n        -o-animation-delay:0ms;\n        animation-delay:0ms\n      }\n      \n      .la-ball-fall.la-2x{\n        display: flex;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n      }\n      \n      .la-ball-fall.la-2x>div{\n        width:25%;\n        height:25%;\n        margin:3%;\n      }\n      \n      @-webkit-keyframes ball-fall{\n        0%{opacity:0;-webkit-transform:translateY(-145%);transform:translateY(-145%)}\n        10%{opacity:.5}\n        20%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}\n        80%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}\n        90%{opacity:.5}\n        100%{opacity:0;-webkit-transform:translateY(145%);transform:translateY(145%)}\n      }\n      \n      @-moz-keyframes ball-fall{\n        0%{opacity:0;-moz-transform:translateY(-145%);transform:translateY(-145%)}\n        10%{opacity:.5}20%{opacity:1;-moz-transform:translateY(0);transform:translateY(0)}\n        80%{opacity:1;-moz-transform:translateY(0);transform:translateY(0)}90%{opacity:.5}\n        100%{opacity:0;-moz-transform:translateY(145%);transform:translateY(145%)}\n      }\n      \n      @-o-keyframes ball-fall{\n        0%{opacity:0;-o-transform:translateY(-145%);transform:translateY(-145%)}\n        10%{opacity:.5}20%{opacity:1;-o-transform:translateY(0);transform:translateY(0)}\n        80%{opacity:1;-o-transform:translateY(0);transform:translateY(0)}90%{opacity:.5}\n        100%{opacity:0;-o-transform:translateY(145%);transform:translateY(145%)}\n      }\n      \n      @keyframes ball-fall{\n        0%{opacity:0;-webkit-transform:translateY(-145%);\n        -moz-transform:translateY(-145%);\n        -o-transform:translateY(-145%);\n        transform:translateY(-145%)}10%{opacity:.5}\n        20%{opacity:1;-webkit-transform:translateY(0);\n        -moz-transform:translateY(0);\n        -o-transform:translateY(0);\n        transform:translateY(0)}\n        80%{opacity:1;-webkit-transform:translateY(0);\n        -moz-transform:translateY(0);\n        -o-transform:translateY(0);\n        transform:translateY(0)}\n        90%{opacity:.5}\n        100%{opacity:0;\n        -webkit-transform:translateY(145%);\n        -moz-transform:translateY(145%);\n        -o-transform:translateY(145%);\n        transform:translateY(145%)}\n      }\n    "])),e.colors.black)},t.prototype.render=function(){return Object(r.jsx)("div",{className:"w-100 h-100",css:this.getStyle(this.props.theme)},Object(r.jsx)("div",{className:"item-inner"},Object(r.jsx)("div",{className:"item-loader-container"},Object(r.jsx)("div",{className:"la-ball-fall la-2x"},Object(r.jsx)("div",null),Object(r.jsx)("div",null),Object(r.jsx)("div",null)))))},t}(r.React.PureComponent),b=n(3),f=n(5),v=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),w=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},x=function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))},y=function(e,t){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};!function(e){e.NewApp="NewApp",e.SaveAsTemplate="SaveAsTemplate",e.Publish="Publish"}(d||(d={}));var j,S,O,k,T,P,M,A,z,C,N=n(79),I=n(80),L=n(81),E=n(82),B=n(83),R=n(84),D=[{name:"preventOverflow",options:{escapeWithReference:!0}},{name:"offset",options:{offset:[-3,1]}}],Y=Object.assign({},h,s.defaultMessages,r.defaultMessages),_=function(e){function t(t){var n=e.call(this,t)||this;return n.fontSizeBase=14,n.panelWidth=210/n.fontSizeBase+"rem",n.save="save",n.saved="saved",n.saving="saving",n.saveError="saveError",n.saveSuccess="saveSuccess",n.publish="publish",n.published="published",n.publishing="publishing",n.publishError="publishError",n.publishSuccess="publishSuccess",n.translationMap={},n.checkIsSaved=function(){return n.state.saveState===n.saved||n.props.stateHistory.past.length<=1&&n.props.stateHistory.future.length<1},n.onUndo=function(){n.props.stateHistory.past.length<=1||Object(r.getAppStore)().dispatch(a.appStateHistoryActions.InBuilderAppConfigUndo())},n.onRedo=function(){n.props.stateHistory.future.length<=0||Object(r.getAppStore)().dispatch(a.appStateHistoryActions.InBuilderAppConfigRedo())},n._getTimeOffset=function(e){var t=e.getTimezoneOffset();return(t<0?1:-1)*(t<0?Math.abs(t)/60:t/60)*60*60*1e3},n.onSaveClick=function(e){var t,o;n.setState({saveState:n.saving});var i=new Date,s=i.getTime()-n._getTimeOffset(i);return l.appServices.saveApp(n.props.queryObject.id,n.props.appConfig.set("timestamp",s),null===(o=null===(t=n.props)||void 0===t?void 0:t.appItem)||void 0===o?void 0:o.owner).then((function(t){return n.setState({saveState:n.saved,savedAppConfig:Object(r.Immutable)(n.props.appConfig)}),n.updateTypeKeywordsRequest(),!e&&n.toastNote(n.translationMap[n.saveSuccess]),Promise.resolve()}),(function(t){return console.error(t),n.setState({saveState:n.saveError}),!e&&n.toastNote(n.translationMap[n.saveError]),Promise.reject(t)}))},n.updateTypeKeywordsRequest=function(){var e=n.props.appItem;e.title=n.props.titleText;var t=n.getTypeKeywords();e.typeKeywords=t.typeKeywords,l.appServices.updateAppItem(e).then((function(){n.props.changePublishStatus(t.status)}),(function(e){console.error(e)}))},n.getTypeKeywords=function(){var e=!1,t=i.Draft,o=n.props.publishStatus,r=n.props.appItem.typeKeywords||[];if(r=r.map((function(n){return n.indexOf("status:")>-1&&(e=!0),n.indexOf("status:")>-1&&o!=i.Draft?(t=i.Changed,"status: "+i.Changed):n})),!e){var s="status: "+i.Draft;t=i.Draft,r.push(s)}return{typeKeywords:r,status:t}},n.onPublishClick=function(){n.props.publishStatus!=i.Publishing&&(n.state.saveState===n.saved||n.props.stateHistory.past.length<=1&&n.props.stateHistory.future.length<1?n.tryToPublishApp():(n.setState({isShowLeaveAlertPopup:!0}),n.clickEventType=d.Publish))},n.tryToPublishApp=function(){return x(n,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,b.proxySettingUtils.needToConfigProxy()];case 1:return e.sent()?this.setState({isProxySettingPopupOpen:!0}):this.publishApp(),[2]}}))}))},n.onAppProxiesFinish=function(){return n.onSaveClick().then((function(){return n.publishApp()}))},n.onAppProxiesCancel=function(){n.setState({isProxySettingPopupOpen:!1})},n.onToggleProxySettingPopup=function(){n.setState({isProxySettingPopupOpen:!n.state.isProxySettingPopupOpen})},n.publishApp=function(){var e,t;n.props.changePublishStatus(i.Publishing);var o=n.props,r=o.appConfig,s=o.appItem,a=o.queryObject,p=s.typeKeywords||[],c=n.getPreviewUrl();l.appServices.publishApp(a.id,r,p,null===(t=null===(e=n.props)||void 0===e?void 0:e.appItem)||void 0===t?void 0:t.owner,c).then((function(){n.setState({isPublished:!0}),n.props.changePublishStatus(i.Published),n.toastNote(n.translationMap[n.publishSuccess])}),(function(e){console.error(e),n.toastNote(n.translationMap[n.publishError]),n.props.changePublishStatus(i.Changed)}))},n.onToggleToolTipUndo=function(){n.setState({toolTipUndoOpen:!n.state.toolTipUndoOpen,toolTipRedoOpen:!1,toolTipSaveOpen:!1,toolTipPreviewOpen:!1,toolTipPublishOpen:!1,toolTipPublishOptionsOpen:!1})},n.onToggleToolTipRedo=function(){n.setState({toolTipUndoOpen:!1,toolTipRedoOpen:!n.state.toolTipRedoOpen,toolTipSaveOpen:!1,toolTipPreviewOpen:!1,toolTipPublishOpen:!1,toolTipPublishOptionsOpen:!1})},n.onToggleToolTipSave=function(){n.setState({toolTipUndoOpen:!1,toolTipRedoOpen:!1,toolTipSaveOpen:!n.state.toolTipSaveOpen,toolTipPreviewOpen:!1,toolTipPublishOpen:!1,toolTipPublishOptionsOpen:!1})},n.onToggleToolTipPreview=function(){n.setState({toolTipUndoOpen:!1,toolTipRedoOpen:!1,toolTipSaveOpen:!1,toolTipPreviewOpen:!n.state.toolTipPreviewOpen,toolTipPublishOpen:!1,toolTipPublishOptionsOpen:!1})},n.onToggleToolTipPublish=function(){n.setState({toolTipUndoOpen:!1,toolTipRedoOpen:!1,toolTipSaveOpen:!1,toolTipPreviewOpen:!1,toolTipPublishOpen:!n.state.toolTipPublishOpen,toolTipPublishOptionsOpen:!1})},n.onToggleToolTipPublishOptions=function(){n.setState({toolTipUndoOpen:!1,toolTipRedoOpen:!1,toolTipSaveOpen:!1,toolTipPreviewOpen:!1,toolTipPublishOpen:!1,toolTipPublishOptionsOpen:!n.state.toolTipPublishOptionsOpen})},n.togglePublishOptionList=function(){n.setState({publishOptionsListOpen:!n.state.publishOptionsListOpen,toolTipPublishOptionsOpen:!1})},n.toggleMoreToolList=function(){n.setState({moreToolListOpen:!n.state.moreToolListOpen})},n.copyPublishUrlToClipBoard=function(){var e=location.origin+window.jimuConfig.mountPath+(window.jimuConfig.useStructuralUrl?"experience/"+n.props.queryObject.id+"/":"experience/?id="+n.props.queryObject.id),t=document.createElement("input");t.value=e,t.style.position="absolute",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t),n.toastNote(n.copySuccess),n.setState({publishOptionsListOpen:!1})},n.isInOnLine=function(){return!!n.props.portalUrl.match("arcgis.com")},n.toastNote=function(e){n.setState({isToastNote:!0,noteText:e},(function(){setTimeout((function(){n.setState({isToastNote:!1,noteText:""})}),2e3)}))},n.saveForkeyBoard=function(){return n.state.saveState===n.saved||n.props.stateHistory.past.length<=1&&n.props.stateHistory.future.length<1||n.state.saveState===n.saving||n.onSaveClick(),!1},n.isMac=function(){return/macintosh|mac os x/i.test(navigator.userAgent)},n.newApp=function(){if(!n.checkIsSaved())return n.setState({isShowLeaveAlertPopup:!0}),n.clickEventType=d.NewApp,!1;n.toNewApp()},n.toNewApp=function(){var e=n.props.locale,t=e?{redirect:"back",locale:e}:{redirect:"back"},i=e?{page:"template",redirect:"back",locale:e}:{page:"template",redirect:"back"};n.props.itemType==o.Experience?(r.jimuHistory.changePage("template"),window.jimuConfig.useStructuralUrl?r.jimuHistory.replaceQueryObject(t,!0):r.jimuHistory.replaceQueryObject(i,!0)):n.createNewAppByTemplate(n.props.itemId)},n.createNewAppByTemplate=function(e){l.appServices.createAppByItemTemplate(e).then((function(e){e&&(r.jimuHistory.replaceQueryObject({id:e},!0),n.props.changePublishStatus(i.Draft))}),(function(){}))},n.isConfirmsaveAsTemplate=function(){if(!n.checkIsSaved())return n.setState({isShowLeaveAlertPopup:!0}),n.clickEventType=d.SaveAsTemplate,!1;n.saveAsTemplate()},n.saveAsTemplate=function(){n.toggleLoading(!0),l.appServices.createTemplateByApp(n.props.queryObject.id).then((function(e){n.toggleLoading(!1),e&&(n.toastNote(n.generateTemplateSuccess),r.jimuHistory.replaceQueryObject({id:e},!0),n.props.changePublishStatus(i.Draft))}),(function(){n.toastNote(n.generateTemplateError),n.toggleLoading(!1)}))},n.toggleLoading=function(e){Object(r.getAppStore)().dispatch(r.appActions.setIsBusy(e,r.LoadingType.Primary))},n.deleteApp=function(e,t){l.appServices.deleteApp(e).then((function(){t&&(r.jimuHistory.replaceQueryObject({id:t},!0),n.props.changePublishStatus(i.Draft))}))},n.handleToggleForLeaveAlertPopup=function(e){if(n.setState({isShowLeaveAlertPopup:!n.state.isShowLeaveAlertPopup}),e)switch(n.clickEventType){case d.NewApp:n.toNewApp();break;case d.SaveAsTemplate:n.saveAsTemplate();break;case d.Publish:n.tryToPublishApp()}},n.previewToggle=function(){n.setState({isShowPreviewAlertPop:!n.state.isShowPreviewAlertPop})},n.getPreviewUrl=function(){var e=n.props,t=e.itemType,i=e.queryObject,s=window.jimuConfig,a=s.isDevEdition,l=s.isInPortal,p=s.hostEnv,c=t===o.Template,d=!a&&!l;if(a)return null;var h=r.urlUtils.getAppUrl({appId:null==i?void 0:i.id,isTemplate:c});if(d)switch(p){case"prod":h="https://experience.arcgis.com"+h;break;case"dev":h="https://experiencedev.arcgis.com"+h;break;case"qa":h="https://experienceqa.arcgis.com"+h}return l&&(h=""+window.location.origin+h),h},n.nls=function(e){return n.props.intl?n.props.intl.formatMessage({id:e,defaultMessage:Y[e]}):e},n.getAlertPopTitle=function(){switch(n.clickEventType){case d.NewApp:case d.SaveAsTemplate:return n.nls("headerLeaveSite");case d.Publish:return""+n.nls("publish")}},n.getAlertPopOkLabel=function(){switch(n.clickEventType){case d.NewApp:case d.SaveAsTemplate:return n.nls("headerLeave");default:return""}},n.previewAlertPopStyle=function(){var e,t,o,i,s,a,l=null===(t=null===(e=n.props)||void 0===e?void 0:e.theme)||void 0===t?void 0:t.colors;return Object(r.css)(j||(j=w(["\n      .preview-alert-pop-content {\n        font-size: 1rem;\n        position: relative;\n      }\n      .modal-footer {\n        padding: 0;\n      }\n      .modal-content {\n        border: 1px solid ",";\n      }\n      .perview-pop-button-con {\n        right:0;\n        bottom: -20px;\n        text-align: right;\n        margin-top: ",";\n      }\n      .preview-alert-pop-btn {\n        min-width: ",";\n        border: none;\n        box-sizing: border-box;\n        display: inline-block;\n        text-align: center;\n        vertical-align: middle;\n        user-select: none;\n        transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n        padding: 0.25rem 0.5rem;\n        font-size: 0.875rem;\n        line-height: 1.375rem;\n        border-radius: 2px;\n        background: transparent;\n      }\n      .btn-primary {\n        color: ",";\n        background: ",";\n      }\n      .btn-cancle {\n        color: ",";\n        border-color: ",";\n        margin-left: ",";\n        border-width: 1px;\n        border-style: solid;\n      }\n    "],["\n      .preview-alert-pop-content {\n        font-size: 1rem;\n        position: relative;\n      }\n      .modal-footer {\n        padding: 0;\n      }\n      .modal-content {\n        border: 1px solid ",";\n      }\n      .perview-pop-button-con {\n        right:0;\n        bottom: -20px;\n        text-align: right;\n        margin-top: ",";\n      }\n      .preview-alert-pop-btn {\n        min-width: ",";\n        border: none;\n        box-sizing: border-box;\n        display: inline-block;\n        text-align: center;\n        vertical-align: middle;\n        user-select: none;\n        transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n        padding: 0.25rem 0.5rem;\n        font-size: 0.875rem;\n        line-height: 1.375rem;\n        border-radius: 2px;\n        background: transparent;\n      }\n      .btn-primary {\n        color: ",";\n        background: ",";\n      }\n      .btn-cancle {\n        color: ",";\n        border-color: ",";\n        margin-left: ",";\n        border-width: 1px;\n        border-style: solid;\n      }\n    "])),null===(o=null==l?void 0:l.palette)||void 0===o?void 0:o.secondary[500],r.polished.rem(32),r.polished.rem(80),null==l?void 0:l.black,null===(i=null==l?void 0:l.palette)||void 0===i?void 0:i.primary[500],null===(s=null==l?void 0:l.palette)||void 0===s?void 0:s.dark[600],null===(a=null==l?void 0:l.palette)||void 0===a?void 0:a.secondary[800],r.polished.rem(10))},n.getTostStyle=function(){var e,t,o,i,s,a,l,p,c,d,h;return Object(r.css)(S||(S=w(["\n      & {\n        height:  ",";\n        top: ",";\n      }\n      .jimu-toast-info {\n        background: ",";\n        line-height: ",";\n        color: ",";\n        font-weight: 300;\n        padding: 0 ",";\n        box-shadow: 0 0 "," "," ",";\n      }\n    "],["\n      & {\n        height:  ",";\n        top: ",";\n      }\n      .jimu-toast-info {\n        background: ",";\n        line-height: ",";\n        color: ",";\n        font-weight: 300;\n        padding: 0 ",";\n        box-shadow: 0 0 "," "," ",";\n      }\n    "])),r.polished.rem(40),r.polished.rem(60),null===(i=null===(o=null===(t=null===(e=n.props)||void 0===e?void 0:e.theme)||void 0===t?void 0:t.colors)||void 0===o?void 0:o.palette)||void 0===i?void 0:i.secondary[300],r.polished.rem(40),null===(p=null===(l=null===(a=null===(s=n.props)||void 0===s?void 0:s.theme)||void 0===a?void 0:a.colors)||void 0===l?void 0:l.palette)||void 0===p?void 0:p.dark[800],r.polished.rem(16),r.polished.rem(10),r.polished.rem(2),r.polished.rgba(null===(h=null===(d=null===(c=n.props)||void 0===c?void 0:c.theme)||void 0===d?void 0:d.colors)||void 0===h?void 0:h.white,.2))},n.getPublishText=function(){switch(n.props.publishStatus){case i.Published:return n.nls("published");case i.Publishing:return n.nls("publishing");case i.Changed:case i.Draft:return n.nls("publish")}},n.renderMore=function(){var e=window.jimuConfig.isDevEdition,t=n.props,a=t.itemType,l=t.publishStatus,p=a===o.Template;return Object(r.jsx)("div",{className:"tool_more_con"},Object(r.jsx)(s.Dropdown,{size:"sm",toggle:n.togglePublishOptionList,isOpen:n.state.publishOptionsListOpen,className:"h-100"},Object(r.jsx)(s.DropdownToggle,{size:"sm",type:"tertiary",className:Object(r.classNames)("h-100 p-0 m-0 d-flex flex-column align-items-center toollist-item h-100","justify-content-center toollist-item-click h-100 border-0"),title:n.moreOptionsForTool},Object(r.jsx)(s.Icon,{icon:R,className:"toollist-item-icon",width:16,height:16})),Object(r.jsx)(s.DropdownMenu,{css:n.getDropdownStyle(n.props.theme)},!e&&Object(r.jsx)(s.DropdownItem,{onClick:function(){window.open(n.props.portalUrl+"/home/item.html?id="+n.props.currentAppId)}},n.changeShareSettings),Object(r.jsx)(s.DropdownItem,{disabled:!n.state.isPublished,onClick:function(){window.open(r.urlUtils.getAppUrl({appId:n.props.queryObject.id,isTemplate:p}),"_blank"),n.setState({publishOptionsListOpen:!1})}},n.viewPublishedItem),e&&l!=i.Draft&&Object(r.jsx)(s.DropdownItem,{href:"/download/"+n.props.currentAppId+"?locale="+n.props.intl.locale,target:"_blank"},n.props.intl.formatMessage({id:"download",defaultMessage:h.download})),Object(r.jsx)(s.DropdownItem,{disabled:!n.state.isPublished,onClick:function(){n.copyPublishUrlToClipBoard()}},n.copyPublishedItemLink),l!=i.Draft&&Object(r.jsx)("div",{className:"w-100 pl-2 pr-2 center-line"}),l!=i.Draft&&p&&Object(r.jsx)(s.DropdownItem,{onClick:function(){n.newApp()}},n.createNewExperience),!p&&Object(r.jsx)(s.DropdownItem,{onClick:function(){n.newApp()}},n.createNew),a==o.Experience&&Object(r.jsx)(s.DropdownItem,{onClick:function(){n.isConfirmsaveAsTemplate()}},n.generateTemplate))))},n.translationMap[n.save]=n.props.intl.formatMessage({id:"save",defaultMessage:h.save}),n.translationMap[n.saved]=n.props.intl.formatMessage({id:"saved",defaultMessage:h.saved}),n.translationMap[n.saving]=n.props.intl.formatMessage({id:"saving",defaultMessage:h.saving}),n.translationMap[n.saveError]=n.props.intl.formatMessage({id:"saveError",defaultMessage:h.saveError}),n.translationMap[n.saveSuccess]=n.props.intl.formatMessage({id:"saveSuccess",defaultMessage:h.saveSuccess}),n.translationMap[n.publish]=n.nls("publish"),n.translationMap[n.published]=n.props.intl.formatMessage({id:"published",defaultMessage:h.published}),n.translationMap[n.publishing]=n.props.intl.formatMessage({id:"publishing",defaultMessage:h.publishing}),n.translationMap[n.publishError]=n.props.intl.formatMessage({id:"publishError",defaultMessage:h.publishError}),n.translationMap[n.publishSuccess]=n.props.intl.formatMessage({id:"publishSuccess",defaultMessage:h.publishSuccess}),n.undo=n.props.intl.formatMessage({id:"undo",defaultMessage:h.undo}),n.redo=n.props.intl.formatMessage({id:"redo",defaultMessage:h.redo}),n.preview=n.props.intl.formatMessage({id:"preview",defaultMessage:s.defaultMessages.preview}),n.publishTo=n.props.intl.formatMessage({id:"publishTo",defaultMessage:h.publishTo}),n.publishOptions=n.props.intl.formatMessage({id:"publishOptions",defaultMessage:h.publishOptions}),n.copySuccess=n.props.intl.formatMessage({id:"copySuccess",defaultMessage:h.copySuccess}),n.changeShareSettings=n.props.intl.formatMessage({id:"changeShareSettings",defaultMessage:h.changeShareSettings}),n.viewPublishedItem=n.props.intl.formatMessage({id:"viewPublishedItem",defaultMessage:h.viewPublishedItem}),n.copyPublishedItemLink=n.props.intl.formatMessage({id:"copyPublishedItemLink",defaultMessage:h.copyPublishedItemLink}),n.createNew=n.props.intl.formatMessage({id:"createNew",defaultMessage:h.createNew}),n.createNewExperience=n.props.intl.formatMessage({id:"createNewExperience",defaultMessage:h.createNewExperience}),n.generateTemplate=n.props.intl.formatMessage({id:"generateTemplate",defaultMessage:h.generateTemplate}),n.moreOptionsForTool=n.props.intl.formatMessage({id:"moreOptionsForTool",defaultMessage:h.moreOptionsForTool}),n.moreTools=n.props.intl.formatMessage({id:"moreTools",defaultMessage:h.moreTools}),n.access=n.props.intl.formatMessage({id:"access",defaultMessage:h.access}),n.generateTemplateSuccess=n.props.intl.formatMessage({id:"generateTemplateSuccess",defaultMessage:h.generateTemplateSuccess}),n.generateTemplateError=n.props.intl.formatMessage({id:"generateTemplateError",defaultMessage:h.generateTemplateError}),n.clickEventType=d.NewApp,n.state={saveState:n.save,savedAppConfig:null,toolTipUndoOpen:!1,toolTipRedoOpen:!1,toolTipSaveOpen:!1,toolTipPreviewOpen:!1,toolTipPublishOpen:!1,toolTipPublishOptionsOpen:!1,publishOptionsListOpen:!1,moreToolListOpen:!1,isPublished:!1,noteText:"",isToastNote:!1,isShowLeaveAlertPopup:!1,isShowPreviewAlertPop:!1,isProxySettingPopupOpen:!1},n}return v(t,e),t.prototype.getStyle=function(e){var t=e.colors&&e.colors.black?e.colors.black:"black";return Object(r.css)(O||(O=w(["\n      .toollist-tooltip {\n        background-color: ","\n      }\n\n      .toollist-drop-icon {\n        fill: ",";\n      }\n      button:disabled:hover,button:disabled, .tool_more_con:disabled:hover, .tool_more_con:disabled{\n        color:",";\n      }\n      button, .tool_more_con button{\n        color:","\n      }\n      .tool_more_con button:hover {\n        color: ",";\n      }\n      button:disabled:hover {\n        border:none;\n      }\n      .toollist {\n\n        .toollist-length-screen {\n          width: ",";\n          overflow: hidden;\n        }\n\n        @media only screen and (min-width: 1171px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1217px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1263px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1306px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1355px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        .toollist-more {\n          width: auto;\n          overflow: hidden;\n        }\n        .tool_more_content {\n          /* display: none; */\n        }\n        @media only screen and (min-width: 1355px) {\n          .toollist-more {\n            width: ",";\n          }\n          .tool_more_content {\n            display: block;\n          }\n        }\n\n        .toollist-item {\n          padding: 0;\n          border: 0;\n          background-color: inherit;\n        }\n\n        .toollist-item-icon {\n          margin-left: ",";\n          margin-right: ",";\n        }\n\n        .toollist-item-click:focus {\n          outline: none;\n          box-shadow: none !important;\n        }\n\n        .toollist-publish {\n          border-radius: 2px;\n          min-width: 4.25rem;\n          height: ",";\n          color: ",";\n          background: ",";\n          font-size: ",";\n          padding-top: 0;\n          padding-bottom: 0;\n          border:none;\n          &:hover {\n            background: ",";\n            border:none;\n          }\n          &.btn.disabled {\n            background-color: ",";\n            color: ",";\n            border:none;\n          }\n        }\n\n        .toollist-publish:focus {\n          outline: none;\n          box-shadow: none !important;\n        }\n\n        .btn {\n          &.disabled,\n          &:disabled {\n            background-color: transparent;\n          }\n        }\n\n        .btn:not(:disabled):not(.disabled):active,\n        .btn:not(:disabled):not(.disabled).active,\n        .show > .btn.dropdown-toggle {\n          color: ",";\n        }\n      }\n\n      .popover-item {\n\n        .publish-options-item {\n          color: ",";\n          cursor: pointer;\n          height: 40px;\n          padding-left: 12px;\n          padding-right: 12px;\n          font-size: 0.8rem;\n\n          &:hover {\n            background-color: ",";\n            color: ","\n          }\n        }\n\n        .publish-options-item-disabled {\n          color: ",";\n          height: 40px;\n          padding-left: 12px;\n          padding-right: 12px;\n          font-size: 0.8rem;\n        }\n\n        a {\n          text-decoration: none;\n        }\n\n        .more-tool-container-screen {\n          width: ",";\n          overflow: hidden;\n        }\n\n        @media only screen and (min-width: 1171px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1217px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1263px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1306px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1355px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1422px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        .more-tool-container {\n          color: ",";\n          width: ",";\n          overflow: hidden;\n\n          .more-tool-container-item {\n            height: ",";\n            background-color: inherit;\n            border: 0;\n            padding: 0;\n          }\n\n          .more-tool-a {\n            width: ",";\n            height: ",";\n          }\n\n          .more-tool-container-item-disabled {\n            color: ",";\n\n            &:hover {\n              background-color: inherit !important;\n            }\n          }\n\n          .toollist-item {\n            padding: 0;\n            border: 0;\n            background-color: inherit;\n          }\n\n          .toollist-item-icon {\n            margin: auto ",";\n          }\n\n          .toollist-item-click:focus {\n            outline: none;\n            box-shadow: none !important;\n          }\n        }\n      }\n      .toast-note {\n        font-size: 16px;\n        color: ",';\n        box-shadow: 0 2px 6px 0 rgba(255, 255, 255, 0.2);\n      }\n      button:not(:disabled):not(.disabled):active, button:not(:disabled):not(.disabled).active, button[aria-expanded="true"]{\n        border:none;\n      }\n    '],["\n      .toollist-tooltip {\n        background-color: ","\n      }\n\n      .toollist-drop-icon {\n        fill: ",";\n      }\n      button:disabled:hover,button:disabled, .tool_more_con:disabled:hover, .tool_more_con:disabled{\n        color:",";\n      }\n      button, .tool_more_con button{\n        color:","\n      }\n      .tool_more_con button:hover {\n        color: ",";\n      }\n      button:disabled:hover {\n        border:none;\n      }\n      .toollist {\n\n        .toollist-length-screen {\n          width: ",";\n          overflow: hidden;\n        }\n\n        @media only screen and (min-width: 1171px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1217px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1263px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1306px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1355px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        .toollist-more {\n          width: auto;\n          overflow: hidden;\n        }\n        .tool_more_content {\n          /* display: none; */\n        }\n        @media only screen and (min-width: 1355px) {\n          .toollist-more {\n            width: ",";\n          }\n          .tool_more_content {\n            display: block;\n          }\n        }\n\n        .toollist-item {\n          padding: 0;\n          border: 0;\n          background-color: inherit;\n        }\n\n        .toollist-item-icon {\n          margin-left: ",";\n          margin-right: ",";\n        }\n\n        .toollist-item-click:focus {\n          outline: none;\n          box-shadow: none !important;\n        }\n\n        .toollist-publish {\n          border-radius: 2px;\n          min-width: 4.25rem;\n          height: ",";\n          color: ",";\n          background: ",";\n          font-size: ",";\n          padding-top: 0;\n          padding-bottom: 0;\n          border:none;\n          &:hover {\n            background: ",";\n            border:none;\n          }\n          &.btn.disabled {\n            background-color: ",";\n            color: ",";\n            border:none;\n          }\n        }\n\n        .toollist-publish:focus {\n          outline: none;\n          box-shadow: none !important;\n        }\n\n        .btn {\n          &.disabled,\n          &:disabled {\n            background-color: transparent;\n          }\n        }\n\n        .btn:not(:disabled):not(.disabled):active,\n        .btn:not(:disabled):not(.disabled).active,\n        .show > .btn.dropdown-toggle {\n          color: ",";\n        }\n      }\n\n      .popover-item {\n\n        .publish-options-item {\n          color: ",";\n          cursor: pointer;\n          height: 40px;\n          padding-left: 12px;\n          padding-right: 12px;\n          font-size: 0.8rem;\n\n          &:hover {\n            background-color: ",";\n            color: ","\n          }\n        }\n\n        .publish-options-item-disabled {\n          color: ",";\n          height: 40px;\n          padding-left: 12px;\n          padding-right: 12px;\n          font-size: 0.8rem;\n        }\n\n        a {\n          text-decoration: none;\n        }\n\n        .more-tool-container-screen {\n          width: ",";\n          overflow: hidden;\n        }\n\n        @media only screen and (min-width: 1171px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1217px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1263px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1306px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1355px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1422px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        .more-tool-container {\n          color: ",";\n          width: ",";\n          overflow: hidden;\n\n          .more-tool-container-item {\n            height: ",";\n            background-color: inherit;\n            border: 0;\n            padding: 0;\n          }\n\n          .more-tool-a {\n            width: ",";\n            height: ",";\n          }\n\n          .more-tool-container-item-disabled {\n            color: ",";\n\n            &:hover {\n              background-color: inherit !important;\n            }\n          }\n\n          .toollist-item {\n            padding: 0;\n            border: 0;\n            background-color: inherit;\n          }\n\n          .toollist-item-icon {\n            margin: auto ",";\n          }\n\n          .toollist-item-click:focus {\n            outline: none;\n            box-shadow: none !important;\n          }\n        }\n      }\n      .toast-note {\n        font-size: 16px;\n        color: ",';\n        box-shadow: 0 2px 6px 0 rgba(255, 255, 255, 0.2);\n      }\n      button:not(:disabled):not(.disabled):active, button:not(:disabled):not(.disabled).active, button[aria-expanded="true"]{\n        border:none;\n      }\n    '])),e.colors.palette.light[800],e.colors.black,e.colors.palette.light[800],e.colors.palette.dark[400],e.colors.black,r.polished.rem(0),r.polished.rem(0),r.polished.rem(46),r.polished.rem(92),r.polished.rem(138),r.polished.rem(184),r.polished.rem(0),r.polished.rem(15),r.polished.rem(15),r.polished.rem(26),e.colors.black,e.colors.palette.light[800],r.polished.rem(13),e.colors.primary,e.colors.palette.light[800],e.colors.palette.dark[400],t,e.colors.black,e.colors.primary,e.colors.black,e.colors.palette.dark[400],r.polished.rem(160),r.polished.rem(160),r.polished.rem(120),r.polished.rem(80),r.polished.rem(40),r.polished.rem(0),r.polished.rem(0),e.colors.palette.light[500],r.polished.rem(38),r.polished.rem(40),r.polished.rem(40),r.polished.rem(40),e.colors.palette.dark[400],r.polished.rem(15),e.colors.palette.dark[900])},t.prototype.getDropdownStyle=function(e){return Object(r.css)(k||(k=w(["\n      & {\n        background: ",";\n        border: 1px solid ",";;\n        box-shadow: 0 0 10px 2px ",";\n        border-radius: 2px;\n        border-radius: 2px;\n        min-width:",";\n        padding-top: ",";\n        padding-bottom: 0;\n      }\n      .dropdown-menu--inner {\n        &>button, &>a {\n          padding-left: ",";\n          margin-bottom: ",";\n        }\n        .center-line {\n          border-top: 1px solid ",";\n          margin-bottom: ",";\n          margin-top: ",";\n        }\n        button, a {\n          box-sizing:border-box;\n        }\n        .dropdown-item:hover, .dropdown-item:focus {\n          background:",";\n        }\n        .dropdown-item:disabled:hover, .dropdown-item:disabled:focus {\n          background:",";\n        }\n\n      }\n    "],["\n      & {\n        background: ",";\n        border: 1px solid ",";;\n        box-shadow: 0 0 10px 2px ",";\n        border-radius: 2px;\n        border-radius: 2px;\n        min-width:",";\n        padding-top: ",";\n        padding-bottom: 0;\n      }\n      .dropdown-menu--inner {\n        &>button, &>a {\n          padding-left: ",";\n          margin-bottom: ",";\n        }\n        .center-line {\n          border-top: 1px solid ",";\n          margin-bottom: ",";\n          margin-top: ",";\n        }\n        button, a {\n          box-sizing:border-box;\n        }\n        .dropdown-item:hover, .dropdown-item:focus {\n          background:",";\n        }\n        .dropdown-item:disabled:hover, .dropdown-item:disabled:focus {\n          background:",";\n        }\n\n      }\n    "])),e.colors.palette.light[500],e.colors.palette.light[300],r.polished.rgba(e.colors.white,.2),r.polished.rem(220),r.polished.rem(8),r.polished.rem(16),r.polished.rem(8),this.props.theme.colors.palette.light[800],r.polished.rem(14),r.polished.rem(14),e.colors.primary,e.colors.palette.light[500])},t.prototype.componentDidMount=function(){var e=this;window.onbeforeunload=function(){return!!e.checkIsSaved()&&void 0}},t.prototype.componentWillUnmount=function(){window.onbeforeunload=null},t.prototype.componentDidUpdate=function(e){(this.props.onSaveStatusChanged&&this.props.onSaveStatusChanged(this.checkIsSaved()),this.props.currentAppId!==e.currentAppId)&&(this.props.publishStatus==i.Draft?this.setState({isPublished:!1}):this.setState({isPublished:!0}),Object(r.getAppStore)().dispatch(a.appStateHistoryActions.InBuilderAppConfigClear()));this.props!==e&&this.props.appConfig&&(this.state.savedAppConfig?this.props.appConfig!==this.state.savedAppConfig?this.setState({saveState:this.save}):this.setState({saveState:this.saved}):this.state.saveState===this.saveError&&this.setState({saveState:this.save}))},t.prototype.render=function(){var e=this,t=window.jimuConfig.isDevEdition,n=this.props,a=n.itemType,l=n.publishStatus,p=t?"":this.publishTo+" "+(this.isInOnLine()?"ArcGIS Online":"Portal for ArcGIS"),c=this.state.saveState===this.saved||this.props.stateHistory.past.length<=1&&this.props.stateHistory.future.length<1,d=a===o.Template,h=this.props.appConfig&&f.dataComponentsUtils.getWhetherDataSourceIsInited(this.props.dataSources,this.props.dataSourcesInfo),u=r.urlUtils.getAppUrl({appId:this.props.queryObject.id,isTemplate:d,isArcGisOnlineTemplate:!1,isPortalRequest:!1,isDraft:!0});return Object(r.jsx)("div",{className:"float-right d-flex flex-row align-items-center h-100",css:this.getStyle(this.props.theme)},this.isMac()&&Object(r.jsx)(r.Keyboard,{bindings:{"command+keys":function(){e.saveForkeyBoard()}}}),!this.isMac()&&Object(r.jsx)(r.Keyboard,{bindings:{"ctrl+keys":function(){e.saveForkeyBoard()}}}),Object(r.jsx)("div",{className:"h-100 toollist d-flex flex-row align-items-center justify-content-end"},Object(r.jsx)("div",{className:"toollist-length-screen h-100 d-flex flex-wrap align-items-center justify-content-starth-100 d-flex flex-wrap align-items-center justify-content-start"},Object(r.jsx)("div",{id:"tooltip_undo",className:"h-100"},Object(r.jsx)(s.Button,{className:Object(r.classNames)("d-flex flex-column align-items-center toollist-item h-100","justify-content-center",{"toollist-item-click":!(this.props.stateHistory.past.length<=1)}),type:"tertiary",title:this.undo,disabled:this.props.stateHistory.past.length<=1,onClick:this.onUndo},Object(r.jsx)(s.Icon,{icon:N,className:"toollist-item-icon",width:16,height:16,autoFlip:!0}))),Object(r.jsx)("div",{id:"tooltip_redo",className:"h-100"},Object(r.jsx)(s.Button,{className:Object(r.classNames)("d-flex flex-column align-items-center toollist-item h-100","justify-content-center",{"toollist-item-click":!(this.props.stateHistory.future.length<1)}),type:"tertiary",title:this.redo,disabled:this.props.stateHistory.future.length<1,onClick:this.onRedo},Object(r.jsx)(s.Icon,{icon:I,className:"toollist-item-icon",width:16,height:16,autoFlip:!0}))),Object(r.jsx)("div",{id:"tooltip_save",className:"h-100"},Object(r.jsx)(s.Button,{className:Object(r.classNames)("d-flex flex-column align-items-center toollist-item h-100","justify-content-center",{"toollist-item-click":!c}),type:"tertiary",title:this.translationMap[this.state.saveState],disabled:c,onClick:function(){e.onSaveClick()}},this.state.saveState!==this.saving&&Object(r.jsx)(s.Icon,{icon:L,className:"toollist-item-icon",width:16,height:16}),this.state.saveState===this.saving&&Object(r.jsx)("div",{style:{width:"16px",height:"16px"},className:"toollist-item-icon"},Object(r.jsx)(g,{theme:this.props.theme})))),c&&Object(r.jsx)("a",{className:"m-0 p-0 toollist-item-click btn h-100 border-0",href:u,rel:"noreferrer",target:"_blank"},Object(r.jsx)(s.Button,{className:Object(r.classNames)("d-flex flex-column align-items-center toollist-item h-100","justify-content-center toollist-item-click h-100 border-0"),title:this.preview,type:"tertiary"},Object(r.jsx)(s.Icon,{icon:E,className:"toollist-item-icon",width:16,height:16}))),!c&&Object(r.jsx)("div",{id:"tooltip_preview",className:"h-100"},Object(r.jsx)(s.Button,{className:Object(r.classNames)("d-flex flex-column align-items-center toollist-item h-100","justify-content-center toollist-item-click h-100 border-0"),title:this.preview,type:"tertiary",onClick:this.previewToggle},Object(r.jsx)(s.Icon,{icon:E,className:"toollist-item-icon",width:16,height:16})))),Object(r.jsx)("div",{className:"h-100 toollist-more"},Object(r.jsx)(s.Button,{id:"more_tool_popover",className:Object(r.classNames)("d-flex flex-column align-items-center toollist-item h-100 justify-content-center"),type:"tertiary",onClick:this.toggleMoreToolList,title:this.moreTools},Object(r.jsx)(s.Icon,{icon:B,className:"toollist-item-icon",width:16,height:16})),Object(r.jsx)(s.Popper,{css:this.getStyle(this.props.theme),className:"mt-0",style:{backgroundColor:this.props.theme&&this.props.theme.colors?this.props.theme.colors.palette.light[500]:"",boxShadow:"0 0 8px 0 rgba(0,0,0,0.50)"},modifiers:D,placement:"bottom-end",open:this.state.moreToolListOpen,reference:"more_tool_popover",toggle:this.toggleMoreToolList},Object(r.jsx)("div",{className:"popover-item"},Object(r.jsx)("div",{className:"d-flex more-tool-container more-tool-container-screen",style:{flexFlow:"column-reverse"}},Object(r.jsx)("div",null,Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{flex:1}},Object(r.jsx)(s.Button,{className:"d-flex flex-column align-items-center toollist-item more-tool-container-item",type:"tertiary",title:this.undo,disabled:this.props.stateHistory.past.length<=1,onClick:this.onUndo},Object(r.jsx)(s.Icon,{icon:N,className:"toollist-item-icon",width:16,height:16,autoFlip:!0}))),Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{flex:1}},Object(r.jsx)(s.Button,{className:"d-flex flex-column align-items-center toollist-item more-tool-container-item",type:"tertiary",title:this.redo,disabled:this.props.stateHistory.future.length<1,onClick:this.onRedo},Object(r.jsx)(s.Icon,{icon:I,className:"toollist-item-icon",width:16,height:16,autoFlip:!0}))),Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{flex:1}},Object(r.jsx)(s.Button,{className:"d-flex flex-column align-items-center toollist-item more-tool-container-item",type:"tertiary",title:this.translationMap[this.state.saveState],disabled:c,onClick:function(){e.onSaveClick()}},this.state.saveState!==this.saving&&Object(r.jsx)(s.Icon,{icon:L,className:"toollist-item-icon",width:16,height:16}),this.state.saveState===this.saving&&Object(r.jsx)("div",{style:{width:"16px",height:"16px"},className:"toollist-item-icon"},Object(r.jsx)(g,{theme:this.props.theme})))),Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:{flex:1}},Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-center more-tool-a"},c&&Object(r.jsx)("a",{className:"m-0 p-0 toollist-item-click btn h-100 border-0",href:u,rel:"noreferrer",target:"_blank"},Object(r.jsx)(s.Button,{className:Object(r.classNames)("d-flex flex-column align-items-center toollist-item more-tool-container-item","justify-content-center toollist-item-click h-100 border-0"),title:this.preview,type:"tertiary"},Object(r.jsx)(s.Icon,{icon:E,className:"toollist-item-icon",width:16,height:16}))),!c&&Object(r.jsx)("div",{id:"tooltip_preview",className:"h-100"},Object(r.jsx)(s.Button,{className:Object(r.classNames)("d-flex flex-column align-items-center toollist-item more-tool-container-item","justify-content-center toollist-item-click h-100 border-0"),title:this.preview,type:"tertiary",onClick:this.previewToggle},Object(r.jsx)(s.Icon,{icon:E,className:"toollist-item-icon",width:16,height:16})))))))))),Object(r.jsx)("div",{className:"tool_more_content"},this.renderMore()),Object(r.jsx)(s.Button,{className:"ml-2 toollist-publish d-flex justify-content-center align-items-center",onClick:this.onPublishClick,disabled:l===i.Published||l===i.Publishing||!h,title:p},Object(r.jsx)("span",null,this.getPublishText()))),Object(r.jsx)(s.Toast,{css:this.getTostStyle(),open:this.state.isToastNote,type:s.ToastType.Info,text:this.state.noteText}),Object(r.jsx)(s.AlertPopup,{isOpen:this.state.isShowLeaveAlertPopup,okLabel:this.getAlertPopOkLabel(),title:this.getAlertPopTitle(),toggle:this.handleToggleForLeaveAlertPopup},Object(r.jsx)("div",{style:{fontSize:"1rem"}},this.nls("headerLeaveDescription"))),Object(r.jsx)(s.AlertPopup,{className:"preview-alert-pop",css:this.previewAlertPopStyle(),isOpen:this.state.isShowPreviewAlertPop,hideOK:!0,hideCancel:!0,title:this.nls("preview"),toggle:this.previewToggle},Object(r.jsx)("div",{className:"preview-alert-pop-content"},this.nls("headerLeaveDescription"),Object(r.jsx)("div",{className:"perview-pop-button-con"},Object(r.jsx)("a",{className:"m-0 p-0 toollist-item-click btn h-100 border-0",onClick:this.previewToggle,href:u,rel:"noreferrer",target:"_blank"},Object(r.jsx)("button",{className:"preview-alert-pop-btn btn-primary"},this.nls("commonModalOk"))),Object(r.jsx)("button",{onClick:this.previewToggle,className:"preview-alert-pop-btn btn-cancle"},this.nls("commonModalCancel"))))),Object(r.jsx)(b.ProxySettingPopup,{isOpen:this.state.isProxySettingPopupOpen,onToggle:this.onToggleProxySettingPopup,onCancel:this.onAppProxiesCancel,onFinish:this.onAppProxiesFinish}))},t}(r.React.PureComponent),H=r.themeUtils.withTheme(_),U=r.ReactRedux.connect((function(e){return{stateHistory:e.appStateHistory,queryObject:e.queryObject,appConfig:e.appStateInBuilder&&e.appStateInBuilder.appConfig,currentAppId:e.builder&&e.builder.currentAppId,portalUrl:e.portalUrl,dataSources:e.appStateInBuilder&&e.appStateInBuilder.appConfig&&e.appStateInBuilder.appConfig.dataSources,dataSourcesInfo:e.appStateInBuilder&&e.appStateInBuilder.dataSourcesInfo}}))(H),W=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),F=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},K=function(e){function t(t){var n=e.call(this,t)||this;return n.onAppModeChange=function(){n.props&&(n.getAppDocument(),n.props.appMode===r.AppMode.Run?(n.appFrameDoc&&n.appFrameDoc.body.classList.add("design-mode"),a.builderAppSync.publishAppModeChangeToApp(r.AppMode.Design)):(n.appFrameDoc&&n.appFrameDoc.body.classList.remove("design-mode"),a.builderAppSync.publishAppModeChangeToApp(r.AppMode.Run)))},n.onLockLayoutChange=function(){var e=Object(a.getAppConfigAction)();n.getAppDocument(),n.appFrameDoc&&(n.props.lockLayout?n.appFrameDoc.body.classList.remove("lock-layout"):n.appFrameDoc.body.classList.add("lock-layout")),e.setLockLayout(!n.props.lockLayout).exec()},n.nls=function(e){return n.props.intl.formatMessage({id:e,defaultMessage:h[e]})},n.appMode=n.props.intl.formatMessage({id:"appMode",defaultMessage:h.appMode}),n.lockLayout=n.props.intl.formatMessage({id:"headerLockLayout",defaultMessage:h.headerLockLayout}),n}return W(t,e),t.prototype.getStyle=function(e){return Object(r.css)(T||(T=F(["\n      .lock-layout-label {\n        font-weight: 500;\n        color: ",";\n        margin-right: ",";\n      }\n\n      .live-view-container {\n        cursor: pointer;\n        background-color: ",";\n        border-radius: 2px !important;\n        color: ",";\n        padding-right: ",";\n        padding-left: ",";\n        height: ",";\n        border:1px solid ",";\n      }\n\n      .edit-view-container {\n        cursor: pointer;\n        border:1px solid ",";\n        border-radius: 2px !important;\n        color: ",";\n        padding-right: ",";\n        padding-left: ",";\n        height: ",";\n\n        &:hover {\n          color: ",";\n\n          .edit-view-icon {\n            border: 1px solid ",";\n          }\n        }\n      }\n\n      .live-view-icon {\n        width: 7px;\n        height: 7px;\n        border-radius: 50%;\n        background: ",";\n      }\n\n      .edit-view-icon {\n        width: 7px;\n        height: 7px;\n        border: 1px solid ",";\n        border-radius: 50%;\n      }\n    "],["\n      .lock-layout-label {\n        font-weight: 500;\n        color: ",";\n        margin-right: ",";\n      }\n\n      .live-view-container {\n        cursor: pointer;\n        background-color: ",";\n        border-radius: 2px !important;\n        color: ",";\n        padding-right: ",";\n        padding-left: ",";\n        height: ",";\n        border:1px solid ",";\n      }\n\n      .edit-view-container {\n        cursor: pointer;\n        border:1px solid ",";\n        border-radius: 2px !important;\n        color: ",";\n        padding-right: ",";\n        padding-left: ",";\n        height: ",";\n\n        &:hover {\n          color: ",";\n\n          .edit-view-icon {\n            border: 1px solid ",";\n          }\n        }\n      }\n\n      .live-view-icon {\n        width: 7px;\n        height: 7px;\n        border-radius: 50%;\n        background: ",";\n      }\n\n      .edit-view-icon {\n        width: 7px;\n        height: 7px;\n        border: 1px solid ",";\n        border-radius: 50%;\n      }\n    "])),e.colors.palette.dark[400],r.polished.rem(10),e.colors.primary,e.colors.black,r.polished.rem(8),r.polished.rem(8),r.polished.rem(26),e.colors.primary,e.colors.palette.light[800],e.colors.palette.dark[600],r.polished.rem(8),r.polished.rem(8),r.polished.rem(26),e.colors.black,e.colors.black,e.colors.black,e.colors.palette.dark[800])},t.prototype.getAppDocument=function(){var e=document.querySelector('iframe[name="'+r.APP_FRAME_NAME_IN_BUILDER+'"]');this.appFrameDoc=e.contentDocument||e.contentWindow.document},t.prototype.render=function(){var e=this.props,t=e.appMode,n=e.lockLayout,o=t===r.AppMode.Run;return Object(r.jsx)("div",{className:"d-flex align-items-center",css:this.getStyle(this.props.theme),title:n?this.props.intl.formatMessage({id:"disableLayoutEditing",defaultMessage:h.disableLayoutEditing}):this.props.intl.formatMessage({id:"enableLayoutEditing",defaultMessage:h.enableLayoutEditing})},!o&&Object(r.jsx)("div",{className:"d-flex align-items-center",onClick:this.onLockLayoutChange,style:{cursor:"pointer"}},Object(r.jsx)("div",{className:"lock-layout-label"},this.props.intl.formatMessage({id:"headerLockLayout",defaultMessage:h.headerLockLayout})),Object(r.jsx)(s.Switch,{checked:n})),Object(r.jsx)("div",{className:"liveview-gap"}),Object(r.jsx)("div",{className:Object(r.classNames)("d-flex align-items-center",{"live-view-container":o,"edit-view-container":!o}),onClick:this.onAppModeChange,title:o?this.nls("turnOffLiveView"):this.nls("turnOnLiveView"),style:{whiteSpace:"nowrap"}},Object(r.jsx)("div",{className:Object(r.classNames)("mr-2",{"live-view-icon":o,"edit-view-icon":!o})}),Object(r.jsx)("div",{className:"d-flex align-items-center border-left-0 app-toolbar-mode"},Object(r.jsx)("span",null,this.appMode))))},t}(r.React.PureComponent),V=r.themeUtils.withTheme(K),G=r.ReactRedux.connect((function(e){var t,n,o,i,r;return{appMode:null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appRuntimeInfo.appMode,lockLayout:null!==(r=null===(i=null===(o=null===(n=e.appStateInBuilder)||void 0===n?void 0:n.appConfig)||void 0===o?void 0:o.forBuilderAttributes)||void 0===i?void 0:i.lockLayout)&&void 0!==r&&r}}))(V),q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Q=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},X=n(85),J=n(86),Z=n(87),$=function(e){function t(t){var n=e.call(this,t)||this;return n.editPageForLargeScreen=n.props.intl.formatMessage({id:"editPageForLargeScreen",defaultMessage:h.editPageForLargeScreen}),n.editPageForMediumScreen=n.props.intl.formatMessage({id:"editPageForMediumScreen",defaultMessage:h.editPageForMediumScreen}),n.editPageForSmallScreen=n.props.intl.formatMessage({id:"editPageForSmallScreen",defaultMessage:h.editPageForSmallScreen}),n}return q(t,e),t.prototype.getStyle=function(e){var t,n,o;return Object(r.css)(P||(P=Q(["\n      .device-switch-group {\n        margin-right: ",";\n      }\n\n      .device-switch {\n        width: ",";\n        height: ",";\n        border-radius: 2px !important;\n        border: 0;\n        margin-left: 1px;\n        margin-right: 1px;\n\n        &:focus {\n          outline: none;\n          box-shadow: none !important;\n        }\n      }\n\n      .device-switch-gap {\n        margin-right: ",";\n      }\n\n      .device-switch-gap button {\n        border: none;\n      }\n      .device-switch-container button {\n        color: ",";\n      }\n      .device-switch-container button:hover {\n        color: ",";\n      }\n\n      .device-active {\n        background-color: "," !important;\n        color: "," !important;\n      }\n\n      .no-animation {\n        transition: none;\n        -webkit-transition: none;\n      }\n    "],["\n      .device-switch-group {\n        margin-right: ",";\n      }\n\n      .device-switch {\n        width: ",";\n        height: ",";\n        border-radius: 2px !important;\n        border: 0;\n        margin-left: 1px;\n        margin-right: 1px;\n\n        &:focus {\n          outline: none;\n          box-shadow: none !important;\n        }\n      }\n\n      .device-switch-gap {\n        margin-right: ",";\n      }\n\n      .device-switch-gap button {\n        border: none;\n      }\n      .device-switch-container button {\n        color: ",";\n      }\n      .device-switch-container button:hover {\n        color: ",";\n      }\n\n      .device-active {\n        background-color: "," !important;\n        color: "," !important;\n      }\n\n      .no-animation {\n        transition: none;\n        -webkit-transition: none;\n      }\n    "])),r.polished.rem(10),r.polished.rem(26),r.polished.rem(26),r.polished.rem(5),null===(n=null===(t=null==e?void 0:e.colors)||void 0===t?void 0:t.palette)||void 0===n?void 0:n.dark[400],null===(o=null==e?void 0:e.colors)||void 0===o?void 0:o.black,e.colors.primary,e.colors.black)},t.prototype.onBrowserSizeModeChange=function(e){a.builderAppSync.publishChangeBrowserSizeModeToApp(e),e!==this.props.browserSizeMode&&a.builderAppSync.publishChangeSelectionToApp(null),this.setState({isDeviceChooseShow:!1})},t.prototype.render=function(){var e=this;return Object(r.jsx)("div",{css:this.getStyle(this.props.theme)},Object(r.jsx)(s.ButtonGroup,{title:"Shift+Alt+X",className:"h-100 d-flex align-items-center device-switch-group"},Object(r.jsx)("div",{className:"h-100 d-flex align-items-center device-switch-container no-animation device-switch-gap"},Object(r.jsx)(s.Button,{icon:!0,type:"tertiary",onClick:function(){e.onBrowserSizeModeChange(r.BrowserSizeMode.Large)},className:Object(r.classNames)("device-switch d-flex align-items-center p-0",{"device-active":!this.props.browserSizeMode||this.props.browserSizeMode===r.BrowserSizeMode.Large,"device-disactive":this.props.browserSizeMode&&this.props.browserSizeMode!==r.BrowserSizeMode.Large}),title:this.editPageForLargeScreen},Object(r.jsx)(s.Icon,{icon:X}))),Object(r.jsx)("div",{className:"h-100 d-flex align-items-center device-switch-container device-switch-gap"},Object(r.jsx)(s.Button,{icon:!0,type:"tertiary",onClick:function(){e.onBrowserSizeModeChange(r.BrowserSizeMode.Medium)},className:Object(r.classNames)("device-switch d-flex align-items-center p-0 no-animation",{"device-active":this.props.browserSizeMode===r.BrowserSizeMode.Medium,"device-disactive":!(this.props.browserSizeMode===r.BrowserSizeMode.Medium)}),title:this.editPageForMediumScreen},Object(r.jsx)(s.Icon,{icon:Z}))),Object(r.jsx)("div",{className:"h-100 d-flex align-items-center device-switch-container"},Object(r.jsx)(s.Button,{icon:!0,type:"tertiary",onClick:function(){e.onBrowserSizeModeChange(r.BrowserSizeMode.Small)},className:Object(r.classNames)("device-switch d-flex align-items-center p-0 no-animation",{"device-active":this.props.browserSizeMode===r.BrowserSizeMode.Small,"device-disactive":!(this.props.browserSizeMode===r.BrowserSizeMode.Small)}),title:this.editPageForSmallScreen},Object(r.jsx)(s.Icon,{icon:J})))))},t}(r.React.PureComponent),ee=r.themeUtils.withTheme($),te=r.ReactRedux.connect((function(e){return{browserSizeMode:e.appStateInBuilder&&e.appStateInBuilder.browserSizeMode}}))(ee),ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oe=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ie=n(88),re=function(e){function t(t){var n=e.call(this,t)||this;return n.onToggleResolutionChoose=function(){n.setState({isResolutionChooseShow:!n.state.isResolutionChooseShow})},n.setViewportSize=function(e){Object(a.getAppConfigAction)().setViewportSize(n.props.browserSizeMode,e).exec(),n.setState({isResolutionChooseShow:!1})},n.state={isResolutionChooseShow:!1},n}return ne(t,e),t.prototype.getStyle=function(e){return Object(r.css)(M||(M=oe(["\n      .switch-resolution-toggle {\n        width: ",";\n        font-weight: 500;\n        color: ",";\n        .switch-label {\n          width: ",";\n          display: inline-block;\n        }\n      }\n      .dropdown-toggle-content svg {\n        margin-right: 0;\n        margin-top: ",";\n        vertical-align: center;\n      }\n      .no-user-select {\n        -o-user-select: none;\n        -moz-user-select: none;\n        -webkit-user-select: none;\n        -ms-user-select: none;\n        -khtml-user-select :none;\n        user-select: none;\n      }\n    "],["\n      .switch-resolution-toggle {\n        width: ",";\n        font-weight: 500;\n        color: ",";\n        .switch-label {\n          width: ",";\n          display: inline-block;\n        }\n      }\n      .dropdown-toggle-content svg {\n        margin-right: 0;\n        margin-top: ",";\n        vertical-align: center;\n      }\n      .no-user-select {\n        -o-user-select: none;\n        -moz-user-select: none;\n        -webkit-user-select: none;\n        -ms-user-select: none;\n        -khtml-user-select :none;\n        user-select: none;\n      }\n    "])),r.polished.rem(110),this.props.theme.colors.palette.dark[400],r.polished.rem(80),r.polished.rem(-6))},t.prototype.getDropdownStyle=function(e){return Object(r.css)(A||(A=oe(["\n      & {\n        background: ",";\n        border: 1px solid ",";;\n        box-shadow: 0 0 10px 2px ",";\n        border-radius: 2px;\n        border-radius: 2px;\n        padding-top: ",";\n        padding-bottom: ",";\n      }\n      .dropdown-menu--inner {\n        .dropdown-item:hover, .dropdown-item:focus {\n          background:",";\n        }\n      }\n    "],["\n      & {\n        background: ",";\n        border: 1px solid ",";;\n        box-shadow: 0 0 10px 2px ",";\n        border-radius: 2px;\n        border-radius: 2px;\n        padding-top: ",";\n        padding-bottom: ",";\n      }\n      .dropdown-menu--inner {\n        .dropdown-item:hover, .dropdown-item:focus {\n          background:",";\n        }\n      }\n    "])),e.colors.palette.light[500],e.colors.palette.light[300],r.polished.rgba(e.colors.white,.2),r.polished.rem(8),r.polished.rem(8),e.colors.primary)},t.prototype.render=function(){var e=this,t=this.props,n=t.browserSizeMode,o=t.viewportSize,i=t.pageMode,a=t.appMode,l=i===r.PageMode.FitWindow?"":this.props.nls("auto"),p=o?o.width+"  "+(i!==r.PageMode.FitWindow&&a===r.AppMode.Design?l:o.height):"",c=r.CONSTANTS.SCREEN_RESOLUTIONS[n]||[];if(i!==r.PageMode.FitWindow){var d={},h=[];c.forEach((function(e){null==d[e.width]&&(h.push(e),d[e.width]=e)})),c=h}return Object(r.jsx)("div",{css:this.getStyle(this.props.theme)},Object(r.jsx)(s.Dropdown,{size:"sm",toggle:this.onToggleResolutionChoose,isOpen:this.state.isResolutionChooseShow,className:"resolution-choose"},Object(r.jsx)(s.DropdownToggle,{size:"sm",type:"tertiary",className:"switch-resolution-toggle",title:this.props.nls("changeScreenSize")},Object(r.jsx)("span",{className:"text-truncate switch-label"},p),Object(r.jsx)(s.Icon,{className:"dropdown-icon",icon:ie,width:10,height:10})),Object(r.jsx)(s.DropdownMenu,{css:this.getDropdownStyle(this.props.theme)},c.map((function(t,n){return Object(r.jsx)(s.DropdownItem,{key:n,className:"no-user-select",onClick:function(){e.setViewportSize(t)}},t.width+"  "+(i!==r.PageMode.FitWindow&&a===r.AppMode.Design?l:t.height))})))))},t}(r.React.PureComponent),se=r.themeUtils.withTheme(re),ae=r.ReactRedux.connect((function(e){var t,n,o,i,s,a,l,p=e.appStateInBuilder&&e.appStateInBuilder.browserSizeMode;e.appStateInBuilder&&(l=r.utils.findViewportSize(e.appStateInBuilder.appConfig,p));var c,d=e.appStateInBuilder&&e.appStateInBuilder.appRuntimeInfo.currentPageId;return d&&(c=null===(i=null===(o=null===(n=null===(t=e.appStateInBuilder)||void 0===t?void 0:t.appConfig)||void 0===n?void 0:n.pages)||void 0===o?void 0:o[d])||void 0===i?void 0:i.mode),{viewportSize:l,pageMode:c,appMode:null===(a=null===(s=e.appStateInBuilder)||void 0===s?void 0:s.appRuntimeInfo)||void 0===a?void 0:a.appMode,browserSizeMode:e.appStateInBuilder&&e.appStateInBuilder.browserSizeMode}}))(se),le=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pe=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},ce=n(89),de=n(33),he=function(e){function t(t){var n=e.call(this,t)||this;return n.titleTextInput=r.React.createRef(),n.spanTextInput=r.React.createRef(),n.originTitleMaxWidth=300,n.currentToolContainerWidth=0,n.currentPublishStateContainerWidth=0,n.focusEditTitle=function(e){void 0===e&&(e=!1),e&&n.titleTextInput.current.select(),n.titleTextInput.current.focus()},n.editTitle=function(){var e=n.titleTextInput.current.value,t=n.state.appItem;if(0==(e=e.replace(/(^\s*)|(\s*$)/g,"")).length||/^[ ]*$/.test(e)||e==t.title)return e=t.title,n.setState({titleText:e}),!1;l.appServices.updateAppItem({id:n.props.queryObject.id,title:e,owner:t.owner}).then((function(){n.props.dispatch(a.builderActions.refreshAppListAction(!0)),a.builderAppSync.publishAppInfoChangeToApp({name:e}),t.title=e,n.setState({appItem:t})}),(function(e){console.error(e)}))},n.refreshTitle=function(e){var t=n.state.itemType;r.portalUtils.getAppInfo(e).then((function(e){var i=e.type==o.Experience?o.Experience:o.Template,r=i==o.Template&&t!==i;n.getPublishStatusAndKewWorkd(e),n.setState({titleText:e.title,itemType:i,itemId:e.id,appItem:e,isShowTemplateRemind:r})}),(function(e){console.error(e)}))},n.getPublishStatusAndKewWorkd=function(e){var t=e.typeKeywords||[],o=n.state.publishStatus;t.forEach((function(e){if(e.indexOf("status:")>-1)switch(e.split(": ")[1]){case i.Published:o=i.Published;break;case i.Changed:o=i.Changed;break;case i.Draft:o=i.Draft}})),n.setState({publishStatus:o})},n.getPublishString=function(){switch(n.state.publishStatus){case i.Draft:return n.nls("itemStatusDraft");case i.Published:return n.nls("published");case i.Changed:return n.nls("unpublishedChanges")}},n.changePublishStatus=function(e){n.setState({publishStatus:e})},n.titleTextChange=function(e){var t=e.target.value;t.length>250&&(t=t.slice(0,250)),n.setState({titleText:t})},n.nls=function(e){return n.props.intl?n.props.intl.formatMessage({id:e,defaultMessage:h[e]}):e},n.handleKeydown=function(e){13===e.keyCode&&n.titleTextInput.current.blur()},n.onToolContainerResize=function(e){n.currentToolContainerWidth=e,n.checkAndResizeTileMaxWidth()},n.onHeaderContainerResize=function(){n.checkAndResizeTileMaxWidth()},n.onPublishStateContainerResized=function(e){n.currentPublishStateContainerWidth=e,n.checkAndResizeTileMaxWidth()},n.checkAndResizeTileMaxWidth=function(){if(n.currentToolContainerWidth&&n.currentPublishStateContainerWidth){var e=window.innerWidth-n.currentToolContainerWidth-52-n.currentPublishStateContainerWidth;e>=n.originTitleMaxWidth?n.setState({titleMaxWidth:n.originTitleMaxWidth}):e<=40?n.setState({titleMaxWidth:40}):n.setState({titleMaxWidth:e})}},n.getItemPublishStatusTitle=function(){var e="";switch(n.state.publishStatus){case i.Draft:e=n.nls("draftStatusTitle");break;case i.Published:e=n.nls("publishedTitle");break;case i.Changed:e=n.nls("publishedUnsaveTitle")}return e},n.getTemplatePopperStyle=function(){var e=n.props.theme;return Object(r.css)(z||(z=pe(["\n      &{\n        background: ",";\n        color: ",";\n        border: 1px solid ",";\n        box-sizing: border-box;\n        padding: "," ",";\n        border-radius: 2px;\n        box-shadow: 0 0 10px 2px ",";\n      }\n      .template-remind-porper {\n        div{\n          white-space: nowrap;\n          text-align: center;\n          font-size: ",";\n          line-height: ",";\n          margin-bottom: ",';\n        }\n      }\n      &[data-popper-placement^="right"] .jimu-popper--arrow::before{\n        border-right-color: ',';\n      }\n      &[data-popper-placement^="right"] .jimu-popper--arrow::after {\n        border-right-color: ',";\n      }\n    "],["\n      &{\n        background: ",";\n        color: ",";\n        border: 1px solid ",";\n        box-sizing: border-box;\n        padding: "," ",";\n        border-radius: 2px;\n        box-shadow: 0 0 10px 2px ",";\n      }\n      .template-remind-porper {\n        div{\n          white-space: nowrap;\n          text-align: center;\n          font-size: ",";\n          line-height: ",";\n          margin-bottom: ",';\n        }\n      }\n      &[data-popper-placement^="right"] .jimu-popper--arrow::before{\n        border-right-color: ',';\n      }\n      &[data-popper-placement^="right"] .jimu-popper--arrow::after {\n        border-right-color: ',";\n      }\n    "])),e.colors.palette.light[600],e.colors.black,e.colors.palette.light[300],r.polished.rem(10),r.polished.rem(12),r.polished.rgba(e.colors.white,.2),r.polished.rem(13),r.polished.rem(13),r.polished.rem(14),e.colors.palette.light[300],e.colors.palette.light[600])},n.closeTemplateRemind=function(){n.setState({isShowTemplateRemind:!1})},n.onSaveStatusChanged=function(e){n.setState({isAppSaved:e})},n.state={titleText:"",accountPopoverOpen:!1,itemType:o.Experience,itemId:"",titleMaxWidth:n.originTitleMaxWidth,publishStatus:i.Draft,isShowTemplateRemind:!1,isAppSaved:!0},n}return le(t,e),t.prototype.getStyle=function(){var e=this.props.theme,t=e.colors;return Object(r.css)(C||(C=pe(["\n      .widget-builder-header {\n        background-color: ",";\n        border: 1px solid ",";\n        padding-left: ",";\n        overflow: auto;\n\n        .header-logo {\n          .header-logo-item {\n            height: ",";\n            width: ",";\n          }\n          img {\n            margin-right:",";\n          }\n          input {\n            padding-left:",";\n            padding-right:",";\n            text-align: left;\n          }\n        }\n\n        .toollist-edit-icon {\n          & {\n            padding: 0;\n            color: ",";\n            margin-left: ",";\n          }\n          svg{\n            margin: 0;\n          }\n        }\n\n        .app-type {\n          background: ",";\n          color: ",";\n          border-radius: 2px;\n          font-size: ",";\n          white-space: nowrap;\n          width: ",";\n          padding: "," 0;\n          text-align: center;\n        }\n        .publish-state {\n          max-width: ",";\n          height: ",";\n        }\n        .publish-state div {\n          background: ",";\n          border-radius: 2px;\n          font-size: ",";\n          line-height: ",";\n          position: relative;\n          white-space: nowrap;\n          padding: 0 ",";\n          text-align: center;\n          margin-left: ",";\n          color: ",";\n          max-width: ",";\n          font-weight: bold;\n        }\n        .publish-state .Draft{\n          color: ",";\n          background: ",";\n        }\n        .publish-state .Changed{\n          color: ",";\n          background: ",";\n        }\n        .header-title-maxwidth-screen {\n        }\n\n        .header-title {\n          top: 0;\n          bottom: 0;\n          border: 1px solid ",";\n          input {\n            background-color: transparent;\n            border: 1px solid transparent;\n            &:focus {\n              background-color: ",";\n            }\n          }\n\n          &:hover input{\n            border: 1px solid ",";\n          }\n        }\n\n        .app-title-content {\n          width: calc(100% - 30px);\n          min-width: ",";\n        }\n        .header-title-input, .title-text-placeholder {\n          border: none;\n          text-align: center;\n          min-width: ",";\n          max-width: ",";\n          cursor: text;\n          color: ",";\n          overflow:hidden;\n          text-overflow:ellipsis;\n          font-size: ",";\n          box-sizing: border-box;\n          height: ",";\n        }\n        .header-title-input {\n          left: 0;\n          top: 0;\n          width: 100%;\n        }\n        .title-text-placeholder {\n          display: block;\n          opacity: 0;\n          padding-left:",";\n          padding-right:",";\n          word-spacing: ",";\n        }\n\n        .header-account {\n          float: left;\n          color: ",";\n          padding-left: ",";\n\n          div {\n            background-color: initial;\n          }\n\n          &:hover {\n            // background-color: ",";\n          }\n        }\n\n        .header-login {\n          cursor: pointer;\n          fill: ",";\n        }\n\n        .header-login-username {\n          color: ",";\n          margin-left: 5px;\n          font-size: 14px;\n        }\n\n        .toollist-seperateline {\n          margin-left: ",";\n          height: 30px;\n          border: 1px solid ",";\n        }\n\n        .liveview-gap {\n          margin-right: ",";\n        }\n      }\n\n      .account-dropdown-toggle:focus {\n        outline: none;\n        box-shadow: none !important;\n      }"],["\n      .widget-builder-header {\n        background-color: ",";\n        border: 1px solid ",";\n        padding-left: ",";\n        overflow: auto;\n\n        .header-logo {\n          .header-logo-item {\n            height: ",";\n            width: ",";\n          }\n          img {\n            margin-right:",";\n          }\n          input {\n            padding-left:",";\n            padding-right:",";\n            text-align: left;\n          }\n        }\n\n        .toollist-edit-icon {\n          & {\n            padding: 0;\n            color: ",";\n            margin-left: ",";\n          }\n          svg{\n            margin: 0;\n          }\n        }\n\n        .app-type {\n          background: ",";\n          color: ",";\n          border-radius: 2px;\n          font-size: ",";\n          white-space: nowrap;\n          width: ",";\n          padding: "," 0;\n          text-align: center;\n        }\n        .publish-state {\n          max-width: ",";\n          height: ",";\n        }\n        .publish-state div {\n          background: ",";\n          border-radius: 2px;\n          font-size: ",";\n          line-height: ",";\n          position: relative;\n          white-space: nowrap;\n          padding: 0 ",";\n          text-align: center;\n          margin-left: ",";\n          color: ",";\n          max-width: ",";\n          font-weight: bold;\n        }\n        .publish-state .Draft{\n          color: ",";\n          background: ",";\n        }\n        .publish-state .Changed{\n          color: ",";\n          background: ",";\n        }\n        .header-title-maxwidth-screen {\n        }\n\n        .header-title {\n          top: 0;\n          bottom: 0;\n          border: 1px solid ",";\n          input {\n            background-color: transparent;\n            border: 1px solid transparent;\n            &:focus {\n              background-color: ",";\n            }\n          }\n\n          &:hover input{\n            border: 1px solid ",";\n          }\n        }\n\n        .app-title-content {\n          width: calc(100% - 30px);\n          min-width: ",";\n        }\n        .header-title-input, .title-text-placeholder {\n          border: none;\n          text-align: center;\n          min-width: ",";\n          max-width: ",";\n          cursor: text;\n          color: ",";\n          overflow:hidden;\n          text-overflow:ellipsis;\n          font-size: ",";\n          box-sizing: border-box;\n          height: ",";\n        }\n        .header-title-input {\n          left: 0;\n          top: 0;\n          width: 100%;\n        }\n        .title-text-placeholder {\n          display: block;\n          opacity: 0;\n          padding-left:",";\n          padding-right:",";\n          word-spacing: ",";\n        }\n\n        .header-account {\n          float: left;\n          color: ",";\n          padding-left: ",";\n\n          div {\n            background-color: initial;\n          }\n\n          &:hover {\n            // background-color: ",";\n          }\n        }\n\n        .header-login {\n          cursor: pointer;\n          fill: ",";\n        }\n\n        .header-login-username {\n          color: ",";\n          margin-left: 5px;\n          font-size: 14px;\n        }\n\n        .toollist-seperateline {\n          margin-left: ",";\n          height: 30px;\n          border: 1px solid ",";\n        }\n\n        .liveview-gap {\n          margin-right: ",";\n        }\n      }\n\n      .account-dropdown-toggle:focus {\n        outline: none;\n        box-shadow: none !important;\n      }"])),t.palette.light[500],t.palette.light[800],r.polished.rem(12),r.polished.rem(26),r.polished.rem(26),r.polished.rem(6),r.polished.rem(5),r.polished.rem(5),t.palette.dark[600],r.polished.rem(3),t.palette.secondary[400],t.palette.info[700],r.polished.rem(10),r.polished.rem(24),r.polished.rem(2),r.polished.rem(152),r.polished.rem(18),t.palette.success[800],r.polished.rem(10),r.polished.rem(18),r.polished.rem(6),r.polished.rem(9),t.palette.success[100],r.polished.rem(150),t.palette.warning[100],t.palette.warning[800],t.palette.danger[100],t.palette.danger[800],t.palette.light[500],e.colors.white,t.palette.secondary[600],r.polished.rem(40),r.polished.rem(40),r.polished.rem(277),t.palette.dark[800],r.polished.rem(16),r.polished.rem(28),r.polished.rem(5),r.polished.rem(7),r.polished.rem(6),e.colors.black,r.polished.rem(20),e.colors.white,e.colors.black,e.colors.black,r.polished.rem(16),e.colors.palette.light[800],r.polished.rem(20))},t.prototype.componentDidMount=function(){this.props.queryObject.id&&this.refreshTitle(this.props.queryObject.id)},t.prototype.getSnapshotBeforeUpdate=function(e,t){return!(!this.props.queryObject.id||e.queryObject.id===this.props.queryObject.id)},t.prototype.componentDidUpdate=function(e,t,n){n&&(this.setState({titleText:""}),this.refreshTitle(this.props.queryObject.id))},t.prototype.getQuery=function(e){return r.queryString.parse(window.location.search)[e]||""},t.prototype.render=function(){var e=this,t=this.props.user,i=null,a=r.SessionManager.getInstance().getMainSession(),l=this.getQuery("locale")?"?locale="+this.getQuery("locale"):"";this.props.user&&this.props.user.thumbnail&&(i=this.props.portalUrl+"/sharing/rest/community/users/"+(null==t?void 0:t.username)+"/info/"+(null==t?void 0:t.thumbnail)+"?token="+(null==a?void 0:a.token));var p=!0;"template"===this.props.currentPageId&&(p=!1);var c=this.state,d=c.itemType,h=c.publishStatus,u=c.titleText,m=c.titleMaxWidth,g=c.isShowTemplateRemind;return Object(r.jsx)("div",{css:this.getStyle(),className:"h-100"},Object(r.jsx)("div",{className:"widget-builder-header d-flex justify-content-between h-100 pr-0 border-left-0 border-right-0 border-top-0",style:{overflowX:"hidden"}},Object(r.jsx)("div",{className:"d-flex"},Object(r.jsx)("div",{className:"header-logo d-flex align-items-center"},Object(r.jsx)("a",{href:""+(window.jimuConfig.mountPath+l),title:this.nls("headerHome")},Object(r.jsx)("img",{className:"header-logo-item d-block",src:n(90)})),p&&Object(r.jsx)("div",{className:"header-title d-flex align-items-center header-title-maxwidth-screen",style:{maxWidth:m}},Object(r.jsx)("div",{className:"position-relative app-title-content flex-grow-1"},Object(r.jsx)("span",{className:"title-text-placeholder"},u),Object(r.jsx)("input",{ref:this.titleTextInput,className:"header-title-input  font-weight-normal position-absolute flex-grow-1",title:d==o.Template?this.nls("renameTemplate"):this.nls("renameExperience"),value:u,onBlur:this.editTitle,onChange:this.titleTextChange,onKeyDown:function(t){e.handleKeydown(t)}})),Object(r.jsx)(s.Button,{type:"tertiary",size:"sm",className:"toollist-edit-icon",onClick:function(){e.focusEditTitle(!0)}},Object(r.jsx)(s.Icon,{icon:de,width:16,height:16})))),Object(r.jsx)("div",{className:"d-flex align-items-center"},Object(r.jsx)("div",{ref:function(t){return e.reference=t}},d==o.Template&&Object(r.jsx)("div",{title:this.nls("appTypeTemplate"),className:"app-type  position-relative"},Object(r.jsx)(s.Icon,{icon:ce,className:"toollist-item-icon",width:16,height:14}),Object(r.jsx)(s.Popper,{reference:this.reference,open:g,showArrow:!0,toggle:this.closeTemplateRemind,placement:"right-end",offset:[-8,0],css:this.getTemplatePopperStyle()},Object(r.jsx)("div",{className:"template-remind-porper"},Object(r.jsx)("div",null,this.nls("templateRemind")),Object(r.jsx)(s.Button,{type:"primary",className:"float-right",size:"sm",onClick:this.closeTemplateRemind},this.nls("gotIt")),Object(r.jsx)("span",{className:"position-absolute"}))))),Object(r.jsx)("div",{className:"publish-state position-relative",title:this.getItemPublishStatusTitle()},Object(r.jsx)("div",{className:Object(r.classNames)("text-truncate",h)},this.getPublishString())),Object(r.jsx)(r.ReactResizeDetector,{handleWidth:!0,onResize:this.onPublishStateContainerResized}))),Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-end"},Object(r.jsx)(G,{intl:this.props.intl}),Object(r.jsx)("div",{className:"liveview-gap"}),Object(r.jsx)(te,{intl:this.props.intl}),Object(r.jsx)(ae,{nls:this.nls}),Object(r.jsx)("div",{className:"toollist-seperateline border-bottom-0 border-top-0 border-left-0 mt-1 mb-1 ml-1 mr-1"}),Object(r.jsx)(U,{theme:this.props.theme,itemId:this.state.itemId,itemType:this.state.itemType,intl:this.props.intl,appItem:this.state.appItem,publishStatus:this.state.publishStatus,changePublishStatus:this.changePublishStatus,titleText:u,locale:this.getQuery("locale")||"",onSaveStatusChanged:this.onSaveStatusChanged}),Object(r.jsx)("div",{className:"float-right d-flex h-100 justify-content-end"},this.props.user&&Object(r.jsx)(s.UserProfile,{user:this.props.user,userThumbnail:i,portalUrl:this.props.portalUrl,intl:this.props.intl,saveStatus:this.state.isAppSaved})),Object(r.jsx)(r.ReactResizeDetector,{handleWidth:!0,onResize:this.onToolContainerResize}))),Object(r.jsx)(r.ReactResizeDetector,{handleWidth:!0,onResize:this.onHeaderContainerResize}))},t.mapExtraStateProps=function(e){return{currentPageId:e.appRuntimeInfo&&e.appRuntimeInfo.currentPageId,queryObject:e.queryObject}},t}(r.React.PureComponent);t.default=he},2:function(e,t){e.exports=o},3:function(e,t){e.exports=i},33:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2.212 9.936L2 12.27l2.333-.212L13.27 3.12 11.149 1 2.212 9.936zm-.707-.707L10.441.293a1 1 0 011.415 0l2.12 2.121a1 1 0 010 1.414l-8.935 8.937a1 1 0 01-.617.289l-2.333.212a1 1 0 01-1.087-1.087l.212-2.333a1 1 0 01.289-.617zm7.434-6.497l2.829 2.829-.707.707-2.829-2.829.707-.707zM.5 15h15a.5.5 0 010 1H.5a.5.5 0 010-1z" fill="#000" fill-rule="nonzero"></path></svg>'},5:function(e,t){e.exports=r},79:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6.481 0a1 1 0 01.994.883L7.48 1l.001 2.033c5.574.471 8.405 3.625 8.493 9.461l.025.505v.732a20.66 20.66 0 01-.025.852l-.039.575c-.102.6-.495.865-.936.84-.35-.02-.61-.344-.695-.684l-.118-.456-.124-.444c-.14-.478-.263-.821-.37-1.029-1.484-2.862-3.82-4.212-6.212-4.37v1.576a1 1 0 01-1.559.83l-.1-.077-5.48-4.796a1 1 0 01-.09-1.416l.09-.089L5.821.247A1 1 0 016.483 0z" fill="#000" fill-rule="evenodd"></path></svg>'},8:function(e,t){e.exports=s},80:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M9.519 0a1 1 0 00-.994.883L8.52 1l-.001 2.033C2.944 3.504.113 6.658.025 12.494L0 12.999v.732l.007.399c.004.142.01.293.018.453l.039.575c.102.6.495.865.936.84.35-.02.61-.344.695-.684l.118-.456.124-.444c.14-.478.263-.821.37-1.029 1.484-2.862 3.82-4.212 6.212-4.37v1.576a1 1 0 001.559.83l.1-.077 5.48-4.796a1 1 0 00.09-1.416l-.09-.089-5.48-4.796A1 1 0 009.517 0z" fill="#000" fill-rule="evenodd"></path></svg>'},81:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 0a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V14a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2h9.586zM8 8a3 3 0 100 6 3 3 0 000-6zm2-6H3a1 1 0 00-1 1v2a1 1 0 001 1h7a1 1 0 001-1V3a1 1 0 00-1-1z" fill="#000" fill-rule="evenodd"></path></svg>'},82:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 0a8 8 0 110 16A8 8 0 018 0zM6.1 4.788a.6.6 0 00-.1.333v5.758a.6.6 0 00.933.5l4.318-2.88a.6.6 0 000-.998L6.933 4.62a.6.6 0 00-.832.167z" fill="#000" fill-rule="evenodd"></path></svg>'},83:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 12v3H1v-3h3zm5.5 0v3h-3v-3h3zm5.5 0v3h-3v-3h3zM4 6.5v3H1v-3h3zm5.5 0v3h-3v-3h3zm5.5 0v3h-3v-3h3zM4 1v3H1V1h3zm5.5 0v3h-3V1h3zM15 1v3h-3V1h3z" fill="#000" fill-rule="evenodd"></path></svg>'},84:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M6 14a2 2 0 114 0 2 2 0 01-4 0zm0-6a2 2 0 114 0 2 2 0 01-4 0zm0-6a2 2 0 114 0 2 2 0 01-4 0z" fill="#000"></path><path d="M0 0h16v16H0z"></path></g></svg>'},85:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M2 1h12a2 2 0 012 2v7a2 2 0 01-2 2H2a2 2 0 01-2-2V3a2 2 0 012-2zm.5 1.5a1 1 0 00-1 1v6a1 1 0 001 1h11a1 1 0 001-1v-6a1 1 0 00-1-1h-11zM10 12l.649 1.947A.8.8 0 019.89 15H6.11a.8.8 0 01-.759-1.053L6 12h4zm5-3v2H1V9h14z" fill="#000" fill-rule="nonzero"></path><path d="M0 0h16v16H0z"></path></g></svg>'},86:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M10.2 1c.994 0 1.8.784 1.8 1.75v10.5c0 .966-.806 1.75-1.8 1.75H4.8c-.994 0-1.8-.784-1.8-1.75V2.75C3 1.784 3.806 1 4.8 1h5.4zM7.5 13a.5.5 0 100 1 .5.5 0 000-1zm3-10h-6v9h6V3z" fill="#000" fill-rule="nonzero"></path><path d="M0 0h16v16H0z"></path></g></svg>'},87:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M13 0a1 1 0 011 1v14a1 1 0 01-1 1H3a1 1 0 01-1-1V1a1 1 0 011-1h10zM8 14a.5.5 0 100 1 .5.5 0 000-1zm4.5-12.5h-9L3.499 13H12.5V1.5z" fill="#000" fill-rule="nonzero"></path><path d="M0 0h16v16H0z"></path></g></svg>'},88:function(e,t){e.exports='<svg viewBox="0 0 9 5" xmlns="http://www.w3.org/2000/svg"><path d="M4.128 4.587L.751.834A.5.5 0 011.123 0h6.754a.5.5 0 01.372.834L4.872 4.587a.5.5 0 01-.744 0z" fill="#000" fill-rule="evenodd"></path></svg>'},89:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14 1a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V3a2 2 0 012-2h12zM5 2H2a1 1 0 00-.993.883L1 3v10a1 1 0 00.883.993L2 14h3V2zm1 5v7h8a1 1 0 00.993-.883L15 13V7H6zm0-1h9V3a1 1 0 00-.883-.993L14 2H6v4z" fill="#000" fill-rule="nonzero"></path></svg>'},90:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAH+ElEQVRogc1aS2xdxRn+/rkv59qxr02AgBphEJFDgvKiopgI4i4Q6sZE6rISMbDpKmaDxIIqStigSkTxpru2TlAXLRIKweGVKrWIRIAg7DZpJd5BKQ1pIElpY2L73plq3nNmju17r13UPzo+586ZM+f7Zr75/3/mhPA/sK7jU0NCiN1CiJHZ2Tn5gnEAhxrDg5Mr/bYVJbD6j9MjQohRAFuF4OBcYG5uPqwyDWCsMTw4njzcpi2bQNfxqRoRPQlgFBA1IQAhhDsiAtauSiIADjaGB68md1uwtglUX39/KxGNEtGIKpAtWfDwJObn68mzWRPjelTun05uNWEtE1j12mkJeDcRDSnclG1CgkZLBIwRTZp50pK8miJQefW9GkBPEmE3BPo1cPtegv2t5aPgGwJAvd40AXt1ThJpVl6LEigfe1eC3QvQLiLUrE4ofti+XCjowVmg3mgk7ea+npILCf4IgH2N4cFzyaNpC95KE+8MAbQXwJDHZ3oaImmCyJcZBWkpCaCxGAHKeX1eGTBpvNeRpHpcUHzlHanx38bA3W8DTElGgneEzCxGKCOA84UIUPR2p8mkZmDnDJGDuQSKr8iex58yzcYkBNcgo4c9fA9ennmDJyiy4Ck40VIElDWGB10lFt4QQuy1XsSXWc/ie1dw9cd5Gli/zzkuPvxDPLP+B6gVC6Ye0gNBmS2IldmksajaEAIXmEfE/eOIwOvrWqmIXwysw+mdW/Doupsgon9Z9CJLYgUIRKBF0rgn58Ej+G3ttmoFv96+Hice2Iyda3qcjw2jtAPfPn4Uk5KEhH6J9fe/2bYej667UV2XjpwEsHgnSvCSRDN2+PwlPD79aUsEFh2BLBHdaxa8KuNw0tE9mTdhm7ew7WZtyRFY3LjLf1bKCowyqrK51UK2PAJCJJ6k+OKJpIo1KUPrlomR+j186xq8+KONrk6BmHGp2hULIu0GRD6ZZRFQ8jGphYjR2kghy5TbJ1VPnU0YkMexC99kATETGgVBkM1szbU8C4EwNC5TQoEnygC3l0KDFTrdUKBNFHdkohYLxlkI0sDVSBDgQkr0QNOTONfsBHYH12XmkH1JIjhnrnVexSJAE/cOoL/aoYjI0Sgwpq6ltOT8YFGkXh4BNYm5GQWuJCW0awKBe9CmDhwJAz4nGdvR24WpBzbh6TtvVYAVeEb+mrKQW5KQjLIZSwKSAP/ZT5LnQqv+/rgmouSkCeXZU3esxYHPLzrtM5lXkZZg2wT23LE2i58HEXgBIIlZqameFMkIWHvj629Vr9v+4XYuRX6oaQL91Qr23H5LttBKwzjudK2QY+oZlpFUbN/WG3j20wtKMsqNmjnDcyTXNIHnN/WjViok5ZoIms9phJnk5OdCbONfXsZXs3U1ia33UTFESrQdCe28oRuPrO1NykNbCEyeSUfCrCuNvMqXs/N44cJlIx8tGWG0T+2OwIG7+5OyDHg7uZpYjKi6pCOAdImxW/zV+a8x0xBGPrpdbojktb4kAel5tnRXk/KMBR1fOjxhslfoUGUCMlOpAwMj5npej0QW1sQlM3lhtG96faE0cck4cHW+jp+e/ghfzMwm92ClY/6QWSpqWZgoy/yyVFcTLhJLKrGEVOByPt8EMPKj1VYge/mry7jnrTPY/9Hfk3uWhkkA/D4REORA5IiSAW2PGFAm6poAxgyhtgnAjMT+D7MEnBQsiWCTy41IpHsFOtA/QzwC2ajLzEgwlUak02xZqcQj6252TPxOHfyIhHKypIz27cEiBD730YCZnStA7ggsKxt96cHtSdlS1vuH4xn5xPlokUhNWD9phZ7Q1u2KNiPxSplzoVZOLJUQBStUn4KbDHYlR6Ats7KicHp7sxLRqzEZA4I1RU6gbHkOHDr/z6SsFfOuNlxianvzyjUnK7+BHFCkmG4bI/DE1Cd4/O2/yE1PFx1tGmFXW7Kjdt7ch19uvwube1dnnqeo5+V544kP0FEqobe7W93XW2HawmsgXRO37oVkJC1XwghmbzjnL4tPXrqCwTfexs/fO4t/hR85fEDQS2aNCx0dHTpt5kLJxh7C7R3Y/VZkPhS250aLJVBllW4wAyg4m97+3ef/wN0TJ/HcXz8z+H3fW/KdnVUUiyU0uEBDLtoNCbeLZ3cl9Nv3Zfoz/FE4esp8rMPi2Zu1ueug+bmsjMyWuw1wOnBB50F2jSuPAkORFbC6sxPdXV2ubvh9rWHSZy64IYXHzu7YkPkElZfgSSK7DJGh5Gb0MM1dByyJYLvEb5/4gKQOS4AxdFar6OnuNi7Vt2slo8Gr0ZjkQuw7c/+G5DtzLoGAiPnEhJHkpq0je+27ayDeCMCHeQ986qDSAaZIVMpl3NDX68Bb72TXRUY24wJi3/R9A619YkpAHj1VAyDltTuWl85VAD4TkIjAk0sJtIRKpTJ6azV1zQKpGTMf+cTBqfsGlveRL88KR0+NGCJDtgEJSuqcz/zbb5uEJGzaoAgU0NfXp57xCxvVziQRHfrz4MDKf2bNs8LRU1vNPBlhZu+GcQ7+3TVVmwWZatj7q7t7UCoVXcBihHEiGvvbjru+nw/dscl5Ir/WF4hGGVGNSY8x85/A+3gSXT09yl0y4CojGmNE4x8/uGlBfX8vBELrOPauHI1Rqs9vbcxed/qW545qJ8rlyjRjNHb+x5v/f/6zR551vXp6iM/Njor63C45AuVy5UilY9XYxYe2rex/twHwXw0Lk7Fb9yjxAAAAAElFTkSuQmCC"}}))}}}));
System.register(["jimu-core","jimu-ui","jimu-for-builder"],(function(e){var t,n,i;return{setters:[function(e){t=e},function(e){n=e},function(e){i=e}],execute:function(){e(function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=117)}({0:function(e,n){e.exports=t},1:function(e,t){e.exports=n},11:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={};n.r(i),n.d(i,"isSupportLanguage",(function(){return a})),n.d(i,"getBuildAppsHelpLink",(function(){return l})),n.d(i,"getHomeHelpLink",(function(){return d})),n.d(i,"getWhatsNewLink",(function(){return c})),n.d(i,"getWidgetHelpLink",(function(){return p}));var o=n(0),r=n(30),s=["en","de","es","fr","ja","ru","zh-cn"];function a(){var e=window.locale.toLowerCase(),t=!1;if(s.indexOf(e)>-1)t=!0;else for(var n=e.split("-")[0],i=0;i<s.length;i++)if(n===s[i].split("-")[0]){t=!0;break}return t}function l(e){return u("build-apps",e)}function d(){return window.jimuConfig.isDevEdition?u(void 0,"home",!0):u("get-started","what-is-arcgis-experience-builder",!0)}function c(){return u("get-started","whats-new",!0)}function p(e){return u("widgets",e)}function u(e,t,n){var i,s,l=null;if(t=t.toLowerCase(),window.jimuConfig.isDevEdition){s="https://developers.arcgis.com/experience-builder/";var c=r.dev,p=s+"#";return(l=e?""+c[e].prefix+c[e][t]:""+c[t])?(p=s+l,Promise.resolve(p)):Promise.resolve(p)}var u=null===(i=o.SessionManager.getInstance().getMainPortal())||void 0===i?void 0:i.portalUrl;if(window.jimuConfig.isInPortal){var g=window.locale||"en";c=r.portal;l=e?""+c[e][t]:""+c[t];var m=function(e,t){var n="",i=Object(o.getAppStore)().getState().portalSelf,r=null==i?void 0:i.helpBase.split("/");if(r.includes("https:")){var s=a()?window.locale:"en";n=r.slice(0,3).join("/")+"/"+s}else n=e+"/"+r[2]+"/"+t;return n}(u,g),f=m.includes("https:")?m+"/experience-builder":m;return fetch(u+"/sharing/rest/portals/helpmap?f=json",{method:"get",headers:{"Content-Type":"text/json"}}).then((function(e){return e.json()})).then((function(e){if(e&&e.helpMap&&e.helpMap.m&&l&&e.helpMap.m[l]){var t=m+"/"+e.helpMap.m[l];return Promise.resolve(t)}return n?Promise.resolve(f):d()})).catch((function(e){return console.warn(e),n?Promise.resolve(f):d()}))}var c=r.online;l=e?""+c[e].prefix+c[e][t]:""+c[t];p=(s="https://"+(u.indexOf("maps.arcgis.com")>-1||u.indexOf("www.arcgis.com")>-1?"doc":"docdev")+".arcgis.com/en/experience-builder/")+"#";if(!l)return Promise.resolve(p);if(p=s+l,a()){o.portalUrlUtils.getPortalSelfInfoUrl(u);var h=function(e,t,n){var i,r=Object(o.getAppStore)().getState().portalSelf;if(r&&r.helpBase){try{var s=r.helpBase.split("/").slice(0,4);i=s.join("/")+"/experience-builder/"}catch(e){return n}return i?i+t:n}return n}(0,l,p);return Promise.resolve(h)}return Promise.resolve(p)}},117:function(e,t,n){"use strict";n.r(t);var i,o,r,s,a=n(0),l=n(1),d=n(2),c=n(11),p="Show help guide",u="What's new",g="Live view",m="Lock layout",f="Unable to add widgets in {liveViewElement} mode. Turn off {liveViewElement} to enable it.",h="Unable to insert a widget from here when layout editing is disabled. Turn off the {lockLayoutElement} option to enable it.",b=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),w=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},v={page:"./widgets/setting-navigator/dist/runtime/assets/page.svg",data:"./widgets/setting-navigator/dist/runtime/assets/data.svg",theme:"./widgets/setting-navigator/dist/runtime/assets/theme.svg",insert:"./widgets/setting-navigator/dist/runtime/assets/insert.svg"},j=function(e){function t(t){var n=e.call(this,t)||this;return n.viewLabel={page:n.props.intl.formatMessage({id:"page",defaultMessage:a.defaultMessages.page}),data:n.props.intl.formatMessage({id:"data",defaultMessage:l.defaultMessages.data}),theme:n.props.intl.formatMessage({id:"theme",defaultMessage:a.defaultMessages.theme}),insert:n.props.intl.formatMessage({id:"insert",defaultMessage:l.defaultMessages.insert})},n.onInsertMouseEnter=function(e){"insert"===e&&n.getWhetherViewDisabled("insert")&&n.setState({isInsertDisabledPopperShown:!0})},n.onInsertMouseLeave=function(e){"insert"===e&&n.setState({isInsertDisabledPopperShown:!1})},n.getHelpUrl=function(){var e;null===(e=null===c.a||void 0===c.a?void 0:c.a.getHomeHelpLink())||void 0===e||e.then((function(e){e&&n.setState({helpHref:e})}))},n.getStyle=function(e){return Object(a.css)(o||(o=w(["\n      height: 100%;\n      margin: 0;\n      padding: 0;\n      background-color: ",';\n\n      .jimu-nav-link-wrapper{\n        > div{\n          display: flex;\n          justify-content: center;\n        }\n      }\n\n      .nav.nav-underline {\n        border: 0 !important;\n        .nav-item{\n          display: flex !important;\n        }\n        .nav-item:focus{\n          border: 0;\n          outline: none;\n          box-shadow: 0 0 0;\n        }\n        .nav-item > .jimu-link{\n          height: auto !important;\n          padding-left: 0;\n          padding-right: 0;\n          position: relative;\n          border-width: 0 !important;\n          &::before {\n            content: " ";\n            display: block;\n            position: absolute;\n            width: 4px;\n            height: 100%;\n            top: 0;\n            left: -4px;\n            background-color: ',";\n            transition: left ease-in .2s .2s;\n            z-index: 1;\n          }\n          > .jimu-icon {\n            margin: 0;\n          }\n          &:active,\n          &.active {\n            border-left-width: 0 !important;\n            &::before {\n              left: 0;\n            }\n          }\n        }\n      }\n\n      .top-sections {\n        .link-icon-color{\n          svg{\n            margin-right: 0 !important;\n            margin-left: 0 !important;\n          }\n        }\n\n        .link-icon-color:not(.disable-setting){\n          &:hover{\n            svg{\n              color: "," !important;\n            }\n          }\n        }\n      }\n\n      .nav-item:hover{\n        background-color: ",";\n      }\n\n      .active-setting:not(.disable-setting){\n        background-color: ",";\n      }\n\n      .disable-setting{\n        &.nav-item:focus, &.nav-item button:focus, &.nav-item:active, &.nav-item button:active, &.nav-item:hover, &.nav-item button:hover{\n          outline: none !important;\n          cursor: default !important;\n          border: 0 !important;\n          box-shadow: 0 0 0 !important;\n        }\n        &.nav-item button:active::before{\n          width: 0 !important;\n        }\n      }\n\n      .link-focus{\n        &:focus, button:focus{\n          outline: 0;\n          border: 0;\n          box-shadow: 0 0 0;\n        }\n      }\n\n      .top-sections{\n        height: ",";\n      }\n      .bottom-sections{\n        position: absolute;\n        bottom: 0;\n        .func-buttons{\n          width: 100%;\n          >span{\n            display: inline-block;\n            position: relative;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n          }\n        }\n      }\n    "],["\n      height: 100%;\n      margin: 0;\n      padding: 0;\n      background-color: ",';\n\n      .jimu-nav-link-wrapper{\n        > div{\n          display: flex;\n          justify-content: center;\n        }\n      }\n\n      .nav.nav-underline {\n        border: 0 !important;\n        .nav-item{\n          display: flex !important;\n        }\n        .nav-item:focus{\n          border: 0;\n          outline: none;\n          box-shadow: 0 0 0;\n        }\n        .nav-item > .jimu-link{\n          height: auto !important;\n          padding-left: 0;\n          padding-right: 0;\n          position: relative;\n          border-width: 0 !important;\n          &::before {\n            content: " ";\n            display: block;\n            position: absolute;\n            width: 4px;\n            height: 100%;\n            top: 0;\n            left: -4px;\n            background-color: ',";\n            transition: left ease-in .2s .2s;\n            z-index: 1;\n          }\n          > .jimu-icon {\n            margin: 0;\n          }\n          &:active,\n          &.active {\n            border-left-width: 0 !important;\n            &::before {\n              left: 0;\n            }\n          }\n        }\n      }\n\n      .top-sections {\n        .link-icon-color{\n          svg{\n            margin-right: 0 !important;\n            margin-left: 0 !important;\n          }\n        }\n\n        .link-icon-color:not(.disable-setting){\n          &:hover{\n            svg{\n              color: "," !important;\n            }\n          }\n        }\n      }\n\n      .nav-item:hover{\n        background-color: ",";\n      }\n\n      .active-setting:not(.disable-setting){\n        background-color: ",";\n      }\n\n      .disable-setting{\n        &.nav-item:focus, &.nav-item button:focus, &.nav-item:active, &.nav-item button:active, &.nav-item:hover, &.nav-item button:hover{\n          outline: none !important;\n          cursor: default !important;\n          border: 0 !important;\n          box-shadow: 0 0 0 !important;\n        }\n        &.nav-item button:active::before{\n          width: 0 !important;\n        }\n      }\n\n      .link-focus{\n        &:focus, button:focus{\n          outline: 0;\n          border: 0;\n          box-shadow: 0 0 0;\n        }\n      }\n\n      .top-sections{\n        height: ",";\n      }\n      .bottom-sections{\n        position: absolute;\n        bottom: 0;\n        .func-buttons{\n          width: 100%;\n          >span{\n            display: inline-block;\n            position: relative;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n          }\n        }\n      }\n    "])),e.colors.secondary,e.colors.palette.primary[600],e.colors.dark,e.colors.palette.secondary[600],e.colors.palette.light[800],a.polished.rem(220))},n.state={isInsertDisabledPopperShown:!1,helpHref:"#"},n}return b(t,e),t.prototype.componentDidMount=function(){this.getHelpUrl(),this.getWhetherDisableInsert(this.props)&&"insert"===this.props.currentViewId&&a.jimuHistory.changeView("opts-section","page")},t.prototype.componentDidUpdate=function(e){this.getWhetherDisableInsert(this.props)&&!this.getWhetherDisableInsert(e)&&"insert"===this.props.currentViewId&&a.jimuHistory.changeView("opts-section","page")},t.prototype.getWhetherDisableInsert=function(e){return e.lockLayoutLabel||e.appMode===a.AppMode.Run},t.prototype.changeView=function(e){this.getWhetherViewDisabled(e)||(this.props.currentViewId===e?Object(a.getAppStore)().dispatch(a.appActions.widgetStatePropChange("left-sidebar","collapse",!this.props.sidebarVisible)):(a.jimuHistory.changeView("opts-section",e),this.props.sidebarVisible||Object(a.getAppStore)().dispatch(a.appActions.widgetStatePropChange("left-sidebar","collapse",!0))))},t.prototype.getWhetherViewDisabled=function(e){return this.getWhetherDisableInsert(this.props)&&"insert"===e},t.prototype.getWhetherViewActive=function(e){return e===this.props.currentViewId&&this.props.sidebarVisible},t.prototype.render=function(){var e=this,t=this.props,n=t.sectionJson,i=t.theme,o=this.props.intl.formatMessage({id:"liveView",defaultMessage:g}),c=this.props.intl.formatMessage({id:"lockLayouts",defaultMessage:m}),b=this.props.intl.formatMessage({id:"diableInsertDueToLiveViewTip",defaultMessage:f},{liveViewElement:Object(a.jsx)("strong",{key:"diableInsertDueToLiveViewTip"},o)});b[1]=Object(a.jsx)("strong",{key:"diableInsertDueToLiveViewTip_1"},o),b[3]=Object(a.jsx)("strong",{key:"diableInsertDueToLiveViewTip_2"},o);var j=this.props.intl.formatMessage({id:"diableInsertDueToLockLayoutTip",defaultMessage:h},{lockLayoutElement:Object(a.jsx)("strong",{key:"diableInsertDueToLockLayoutTip"},c)});return Object(a.jsx)("div",{css:this.getStyle(i),className:"widget-builder-setting-navigator h-100"},Object(a.jsx)(l.Popper,{open:this.state.isInsertDisabledPopperShown,showArrow:!0,reference:this.insertDom,placement:"right",offset:[0,2],css:Object(a.css)(r||(r=w(["\n            width: ",";\n            padding: ",";\n            background-color: ",";\n            color: ",";\n            font-size: ",";\n            strong{\n              font-size: ",";\n              color: ",";\n            }\n            .jimu-popper--arrow::after {\n              border-right-color: "," !important;\n            }\n          "],["\n            width: ",";\n            padding: ",";\n            background-color: ",";\n            color: ",";\n            font-size: ",";\n            strong{\n              font-size: ",";\n              color: ",";\n            }\n            .jimu-popper--arrow::after {\n              border-right-color: "," !important;\n            }\n          "])),a.polished.rem(300),a.polished.rem(12),i.colors.palette.light[500],i.colors.palette.dark[800],a.polished.rem(13),a.polished.rem(16),i.colors.black,i.colors.palette.light[500])},Object(a.jsx)("div",{className:"insert-disable-tooltip"},this.props.appMode===a.AppMode.Run?Object(a.jsx)("div",null,Object(a.jsx)("div",null,b)):Object(a.jsx)("div",null,Object(a.jsx)("div",null,j)))),Object(a.jsx)(l.Nav,{fill:!0,underline:!0,vertical:!0,right:!0,className:"top-sections"},n.views.map((function(t){var n,i,o=e.getWhetherViewDisabled(t),r=e.getWhetherViewActive(t);return Object(a.jsx)(l.NavItem,{key:t,className:Object(a.classNames)("link-icon-color",(n={},n["active-setting"]=r,n["disable-setting"]=o,n)),disabled:o,onMouseEnter:function(){return e.onInsertMouseEnter(t)},onMouseLeave:function(){return e.onInsertMouseLeave(t)}},Object(a.jsx)(l.NavLink,{iconPosition:"above",tag:"button",active:r,onClick:function(n){return e.changeView(t)},themeStyle:{icon:!0},title:e.viewLabel[t]},Object(a.jsx)("div",{className:"w-100 h-100",ref:function(n){"insert"===t&&(e.insertDom=n)}},Object(a.jsx)(l.Icon,{className:Object(a.classNames)((i={},i["active-setting"]=r,i)),icon:v[t],size:"20",color:o?e.props.theme.colors.palette.secondary[800]:r?e.props.theme.colors.dark:e.props.theme.colors.palette.dark[400]}))))}))),Object(a.jsx)("div",{className:"bottom-sections w-100"},Object(a.jsx)("div",{className:"func-buttons"},Object(a.jsx)(l.Dropdown,{direction:"right",className:"link-focus link-icon-color w-100 d-flex justify-content-center"},Object(a.jsx)(l.DropdownButton,{css:Object(a.css)(s||(s=w(["min-height: 3rem"],["min-height: 3rem"]))),icon:!0,arrow:!1,title:this.props.intl.formatMessage({id:"help",defaultMessage:l.defaultMessages.help})},Object(a.jsx)(l.Icon,{autoFlip:"ar"===window.locale.split("-")[0],icon:"./widgets/setting-navigator/dist/runtime/assets/help.svg",color:this.props.theme.colors.palette.dark[400]})),Object(a.jsx)(l.DropdownMenu,null,Object(a.jsx)(l.DropdownItem,{tag:"a",href:this.state.helpHref,target:"_blank",title:this.props.intl.formatMessage({id:"help",defaultMessage:l.defaultMessages.help})},Object(a.jsx)(l.Icon,{autoFlip:!0,icon:"./widgets/setting-navigator/dist/runtime/assets/help-document.svg",className:"mr-2"}),this.props.intl.formatMessage({id:"help",defaultMessage:l.defaultMessages.help})),Object(a.jsx)(l.DropdownItem,{title:this.props.intl.formatMessage({id:"showGuide",defaultMessage:p}),onClick:function(){Object(a.getAppStore)().dispatch(d.builderActions.startGuide("opening-tour"))}},Object(a.jsx)(l.Icon,{icon:"./widgets/setting-navigator/dist/runtime/assets/launch.svg",className:"mr-2"}),this.props.intl.formatMessage({id:"showGuide",defaultMessage:p})),Object(a.jsx)(l.DropdownItem,{title:this.props.intl.formatMessage({id:"whatsNew",defaultMessage:u}),onClick:function(){Object(a.getAppStore)().dispatch(d.builderActions.startGuide("whats-new"))}},Object(a.jsx)(l.Icon,{autoFlip:!0,icon:"./widgets/setting-navigator/dist/runtime/assets/whats-new.svg",className:"mr-2"}),this.props.intl.formatMessage({id:"whatsNew",defaultMessage:u})))))))},t.mapExtraStateProps=function(e,t){var n,i,o,r,s,a,l,d,c=Object.keys(e.appRuntimeInfo.sectionNavInfos||{}).map((function(t){return e.appRuntimeInfo.sectionNavInfos[t].currentViewId}));return{sectionJson:null===(n=e.appConfig)||void 0===n?void 0:n.sections[t.config.sectionId],currentViewId:c[0]?c[0]:"insert",sidebarVisible:null===(r=null===(o=null===(i=e.widgetsState)||void 0===i?void 0:i["left-sidebar"])||void 0===o?void 0:o.collapse)||void 0===r||r,lockLayoutLabel:null===(l=null===(a=null===(s=e.appStateInBuilder)||void 0===s?void 0:s.appConfig)||void 0===a?void 0:a.forBuilderAttributes)||void 0===l?void 0:l.lockLayout,appMode:null===(d=e.appStateInBuilder)||void 0===d?void 0:d.appRuntimeInfo.appMode}},t}(a.React.PureComponent);t.default=j},2:function(e,t){e.exports=i},30:function(e){e.exports=JSON.parse('{"online":{"home":"#","get-started":{"prefix":"get-started/","what-is-arcgis-experience-builder":"what-is-arcgis-experience-builder.htm","whats-new":"whats-new.htm"},"build-apps":{"prefix":"build-apps/","add-a-page":"add-a-page.htm","add-a-dialog":"add-windows.htm","add-screen-groups":"add-screen-groups.htm","select-data":"select-data.htm"},"widgets":{"prefix":"configure-widgets/","overview":"widgets-overview.htm","table":"table-widget.htm","button":"button-widget.htm","bookmark":"bookmark-widget.htm","card":"card-widget.htm","column":"column-widget.htm","divider":"divider-widget.htm","embed":"embed-widget.htm","feature-info":"feature-info-widget.htm","filter":"filter-widget.htm","fixed":"fixed-panel-widget.htm","fly-controller":"fly-controller-widget.htm","image":"image-widget.htm","legend":"legend-widget.htm","list":"list-widget.htm","arcgis-map":"map-widget.htm","map-layers":"map-layers-widget.htm","menu":"menu-widget.htm","placeholder":"placeholder-widget.htm","row":"row-widget.htm","section":"section-widget.htm","share":"share-widget.htm","sidebar":"sidebar-widget.htm","survey123":"survey-widget.htm","text":"text-widget.htm","navigator":"view-navigation-widget.htm","controller":"widget-controller-widget.htm"}},"portal":{"home":"120001864","get-started":{"what-is-arcgis-experience-builder":"120001877"},"build-apps":{"add-a-page":"120001863","add-a-dialog":"120002539","add-screen-groups":"120002592","select-data":"120002590"},"widgets":{"overview":"#","table":"120002591","button":"120001841","bookmark":"120002536","card":"120002537","column":"120001842","divider":"120002538","embed":"120001843","feature-info":"120001844","filter":"120001845","fixed":"120001846","fly-controller":"120001847","image":"120001848","legend":"120001849","list":"120001850","arcgis-map":"120001851","map-layers":"120001852","menu":"120001853","placeholder":"120001854","row":"120001855","section":"120001856","share":"120001857","sidebar":"120001858","survey123":"120001859","text":"120001860","navigator":"120001861","controller":"120001862"}},"dev":{"home":"#","get-started":{"prefix":"guide/","what-is-arcgis-experience-builder":"getting-started-widget","whats-new":"whats-new"},"build-apps":{"prefix":"guide/","add-a-page":"add-a-page","add-a-dialog":"add-windows","add-screen-groups":"add-screen-groups","select-data":"select-data"},"widgets":{"prefix":"guide/","overview":"widgets-overview","table":"table-widget","button":"button-widget","bookmark":"bookmark-widget","card":"card-widget","column":"column-widget","divider":"divider-widget","embed":"embed-widget","feature-info":"feature-info-widget","filter":"filter-widget","fixed":"fixed-panel-widget","fly-controller":"fly-controller-widget","image":"image-widget","legend":"legend-widget","list":"list-widget","arcgis-map":"map-widget","map-layers":"map-layers-widget","menu":"menu-widget","placeholder":"placeholder-widget","row":"row-widget","section":"section-widget","share":"share-widget","sidebar":"sidebar-widget","survey123":"survey-widget","text":"text-widget","navigator":"view-navigation-widget","controller":"widget-controller-widget"}}}')}}))}}}));
System.register(["jimu-core","jimu-ui"],(function(e){var n,t;return{setters:[function(e){n=e},function(e){t=e}],execute:function(){e(function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=33)}({0:function(e,t){e.exports=n},1:function(e,n){e.exports=t},27:function(e,n){e.exports="data:image/png;base64,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"},33:function(e,n,t){"use strict";t.r(n);var o,r,i=t(0),a=t(1),l={createNew:"Create new",newExperience:"New experience",experiences:"Experiences",templates:"Templates"},s=(o=function(e,n){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),p=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};!function(e){e.AppList="applist",e.TemplateList="templatelist"}(r||(r={}));var c,d=function(e){function n(n){var t=e.call(this,n)||this;return t.titleTextInput=i.React.createRef(),t.spanTextInput=i.React.createRef(),t.focusEditTitle=function(){t.titleTextInput.current.select()},t.titleTextChange=function(e){var n=e.target.value;t.setState({titleText:n})},t.newApp=function(){t.setState({menuPopoverOpen:!1}),i.jimuHistory.changePage("template")},t.handleKeydown=function(e){13===e.keyCode&&t.titleTextInput.current.blur()},t.toggleMenu=function(){t.setState({menuPopoverOpen:!t.state.menuPopoverOpen})},t.toggleNav=function(e){t.setState({views:e})},t.nls=function(e){return t.props.intl?t.props.intl.formatMessage({id:e,defaultMessage:l[e]}):e},t.initViews=function(){var e=t.getQueryString("views"),n=r.AppList;switch(e){case r.AppList:n=r.AppList;break;case r.TemplateList:n=r.TemplateList}t.setState({views:n})},t.checkUserPrivilege=function(){var e=i.privilegeUtils.CheckTarget;i.privilegeUtils.checkExbAccess(e.AppList).then((function(e){t.setState({valid:null==e?void 0:e.valid})}))},t.appTaskToggle=t.appTaskToggle.bind(t),t.state={appTaskDropdown:!1,titleText:"",titleLength:0,menuPopoverOpen:!1,views:r.AppList,valid:!1},t}return s(n,e),n.prototype.componentDidMount=function(){this.checkUserPrivilege(),this.initViews()},n.prototype.getStyle=function(){var e=this.props.theme,n=e.colors,t=window.jimuConfig.isDevEdition?'"(Developer Edition)"':"";return Object(i.css)(c||(c=p(["\n      min-width: ",";\n      min-height: ",";\n      .widget-site-header {\n        background-color: ",";\n        border: 1px solid ",";\n        padding-left: ",";\n        .header-nav-bar-con {\n          & {\n            margin-left:",";\n            padding-top: 0;\n            padding-bottom: 0;\n            height: 100%;\n          }\n          .jimu-nav {\n            border:none;\n            height: 100%;\n          }\n          .navbar-nav .nav-item {\n            margin-left: ",";\n            overflow: inherit;\n          }\n          .navbar-nav .nav-link {\n            color: ",";\n            white-space: nowrap;\n            line-height: ",";\n            margin-left: ",";\n            padding-left: 0;\n            padding-right: 0;\n            width: auto;\n            font-weight: 300;\n          }\n          .navbar-nav .nav-link .jimu-nav-link-wrapper{\n            margin-bottom: ",";\n          }\n          .nav-link.active {\n            font-weight: 500;\n            box-sizing: border-box;\n          }\n          .navbar-nav .nav-link:hover {\n            color: ",";\n          }\n        }\n        .header-logo {\n          .header-logo-item {\n            height: ",";\n            width: ",";\n          }\n\n          .header-logo-container {\n            display: block;\n            position: relative;\n          }\n\n          .header-logo-label {\n            font-size: 14px;\n            color: ",";\n          }\n\n          .header-logo-label:after {\n            color:  #A6A6A6;\n            font-size: 10px;\n            font-weight: 900;\n            content: ",";\n          }\n\n          .header-logo-label:not(:disabled):not(.disabled):active {\n            color: ",";\n          }\n        }\n\n\n\n        .header-dropdown {\n          float: left;\n          color: ",";\n\n          div {\n            background-color: ",";\n          }\n\n          &:hover {\n            background-color: ",";\n          }\n        }\n\n        .header-login {\n          cursor: pointer;\n          fill: ",";\n        }\n\n        .header-dropdown {\n          user-select: none;\n          transition: none;\n        }\n\n        .header-account {\n          float: left;\n          color: ",";\n          padding-right: ",";\n\n          div {\n            background-color: initial;\n          }\n\n        }\n        @media (max-width: 1080px) {\n          .header-nav-bar-con {\n            margin-left:",";\n          }\n        }\n      }\n\n      .popover-item {\n        padding: 0.75rem ",";\n\n        .popover-item-icon {\n          fill: ",";\n          color: ",";\n        }\n\n        .popover-item-label {\n          color: ","\n        }\n\n        &:hover {\n          background-color: ",";\n          color: ","\n        }\n\n      }"],["\n      min-width: ",";\n      min-height: ",";\n      .widget-site-header {\n        background-color: ",";\n        border: 1px solid ",";\n        padding-left: ",";\n        .header-nav-bar-con {\n          & {\n            margin-left:",";\n            padding-top: 0;\n            padding-bottom: 0;\n            height: 100%;\n          }\n          .jimu-nav {\n            border:none;\n            height: 100%;\n          }\n          .navbar-nav .nav-item {\n            margin-left: ",";\n            overflow: inherit;\n          }\n          .navbar-nav .nav-link {\n            color: ",";\n            white-space: nowrap;\n            line-height: ",";\n            margin-left: ",";\n            padding-left: 0;\n            padding-right: 0;\n            width: auto;\n            font-weight: 300;\n          }\n          .navbar-nav .nav-link .jimu-nav-link-wrapper{\n            margin-bottom: ",";\n          }\n          .nav-link.active {\n            font-weight: 500;\n            box-sizing: border-box;\n          }\n          .navbar-nav .nav-link:hover {\n            color: ",";\n          }\n        }\n        .header-logo {\n          .header-logo-item {\n            height: ",";\n            width: ",";\n          }\n\n          .header-logo-container {\n            display: block;\n            position: relative;\n          }\n\n          .header-logo-label {\n            font-size: 14px;\n            color: ",";\n          }\n\n          .header-logo-label:after {\n            color:  #A6A6A6;\n            font-size: 10px;\n            font-weight: 900;\n            content: ",";\n          }\n\n          .header-logo-label:not(:disabled):not(.disabled):active {\n            color: ",";\n          }\n        }\n\n\n\n        .header-dropdown {\n          float: left;\n          color: ",";\n\n          div {\n            background-color: ",";\n          }\n\n          &:hover {\n            background-color: ",";\n          }\n        }\n\n        .header-login {\n          cursor: pointer;\n          fill: ",";\n        }\n\n        .header-dropdown {\n          user-select: none;\n          transition: none;\n        }\n\n        .header-account {\n          float: left;\n          color: ",";\n          padding-right: ",";\n\n          div {\n            background-color: initial;\n          }\n\n        }\n        @media (max-width: 1080px) {\n          .header-nav-bar-con {\n            margin-left:",";\n          }\n        }\n      }\n\n      .popover-item {\n        padding: 0.75rem ",";\n\n        .popover-item-icon {\n          fill: ",";\n          color: ",";\n        }\n\n        .popover-item-label {\n          color: ","\n        }\n\n        &:hover {\n          background-color: ",";\n          color: ","\n        }\n\n      }"])),i.polished.rem(960),i.polished.rem(50),n.palette.light[500],n.palette.light[800],i.polished.rem(16),i.polished.rem(92),i.polished.rem(20),n.palette.dark[600],i.polished.rem(30),i.polished.rem(20),i.polished.rem(-4),n.black,i.polished.rem(24),i.polished.rem(24),e.colors.palette.dark[800],t,e.colors.black,e.colors.black,n.palette.light[500],e.colors.white,e.colors.black,e.colors.black,i.polished.rem(16),i.polished.rem(10),i.polished.rem(16),e.colors.black,e.colors.black,e.colors.black,e.colors.primary,e.colors.black)},n.prototype.appTaskToggle=function(){this.setState((function(e){return{appTaskDropdown:!e.appTaskDropdown}}))},n.prototype.getSnapshotBeforeUpdate=function(e,n){return!(!this.props.queryObject.id||e.queryObject.id===this.props.queryObject.id)},n.prototype.componentDidUpdate=function(e,n,t){t&&this.setState({titleText:""}),this.spanTextInput.current&&this.state.titleLength!==this.spanTextInput.current.offsetWidth&&this.setState({titleLength:this.spanTextInput.current.offsetWidth+2})},n.prototype.getQueryString=function(e){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(n);return null!=t?unescape(t[2]):null},n.prototype.render=function(){var e=this,n=null,o=this.props.user,s=i.SessionManager.getInstance().getSessionByUrl(this.props.portalUrl);o&&o.thumbnail&&(n=this.props.portalUrl+"/sharing/rest/community/users/"+o.username+"/info/"+o.thumbnail+"?token="+(null==s?void 0:s.token));var p=this.getQueryString("locale");return Object(i.jsx)("div",{css:this.getStyle(),className:"h-100"},Object(i.jsx)("div",{className:"widget-site-header d-flex justify-content-between h-100 border-left-0 border-right-0 border-top-0"},Object(i.jsx)("div",{className:"header-logo d-flex align-items-center"},Object(i.jsx)("img",{className:"header-logo-item mr-2 d-block",src:t(27)}),Object(i.jsx)("div",null,Object(i.jsx)("h4",{className:"mb-0 font-weight-normal header-logo-container"},Object(i.jsx)("a",{className:"header-logo-label px-0",href:""+window.jimuConfig.mountPath},"ArcGIS Experience Builder   "))),this.state.valid&&Object(i.jsx)(a.Navbar,{className:"header-nav-bar-con",border:!1,color:"false",light:!0},Object(i.jsx)(a.Nav,{underline:!0,navbar:!0,justified:!0,fill:!0},Object(i.jsx)(a.NavItem,{onClick:function(){e.toggleNav(r.AppList)},className:"link-con"},Object(i.jsx)(a.NavLink,{active:this.state.views==r.AppList,to:location.pathname+"?views=experienceslist"+(p?"&locale="+p:"")},this.props.intl.formatMessage({id:"experiences",defaultMessage:l.experiences}))),Object(i.jsx)(a.NavItem,{onClick:function(){e.toggleNav(r.TemplateList)}},Object(i.jsx)(a.NavLink,{active:this.state.views==r.TemplateList,to:location.pathname+"?views=templatelist"+(p?"&locale="+p:"")},this.props.intl.formatMessage({id:"templates",defaultMessage:l.templates})))))),Object(i.jsx)("span",{className:"px-1 border font-weight-normal",style:{fontSize:"16px",position:"absolute",opacity:0,whiteSpace:"pre",zIndex:-1},ref:this.spanTextInput},this.state.titleText),Object(i.jsx)("div",{className:"float-right d-flex"},this.props.user&&Object(i.jsx)(a.UserProfile,{user:this.props.user,theme:this.props.theme,userThumbnail:n,portalUrl:this.props.portalUrl,intl:this.props.intl}))))},n.mapExtraStateProps=function(e){return{queryObject:e.queryObject}},n}(i.React.PureComponent);n.default=d}}))}}}));
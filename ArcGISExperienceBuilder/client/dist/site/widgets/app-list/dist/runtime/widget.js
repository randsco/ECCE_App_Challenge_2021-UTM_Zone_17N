System.register(["jimu-core","jimu-ui","jimu-for-builder/service"],(function(e){var t,n,i;return{setters:[function(e){t=e},function(e){n=e},function(e){i=e}],execute:function(){e(function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=29)}([function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=i},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 0a.75.75 0 01.75.75v6.5h6.5a.75.75 0 110 1.5h-6.5v6.5a.75.75 0 11-1.5 0v-6.5H.75a.75.75 0 110-1.5h6.5V.75A.75.75 0 018 0z" fill="#000" fill-rule="evenodd"></path></svg>'},,,,,function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 6.598L14.308.29a.991.991 0 011.402 1.402L9.402 8l6.308 6.308a.991.991 0 01-1.402 1.402L8 9.402 1.692 15.71A.991.991 0 01.29 14.308L6.598 8 .29 1.692A.991.991 0 011.692.29L8 6.598z" fill="#000" fill-rule="nonzero"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M13 7.5a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm-6.5 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM0 7.5a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z" fill="#000"></path><path d="M0 0h16v16H0z"></path></g></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 15A7 7 0 108 1a7 7 0 000 14zm0 1A8 8 0 118 0a8 8 0 010 16zm2.544-8L6.455 4.986v6.028L10.545 8zm.556.802l-4.09 3.014a.937.937 0 01-1.332-.229 1.008 1.008 0 01-.178-.573V4.986c0-.545.428-.986.955-.986.2 0 .394.064.556.184L11.1 7.198a1.006 1.006 0 010 1.604z" fill="#000" fill-rule="nonzero"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 7a3 3 0 100-6 3 3 0 000 6zm0 1a4 4 0 110-8 4 4 0 010 8zm1 2H7a6.002 6.002 0 00-5.917 5h13.834A6.002 6.002 0 009 10zM7 9h2a7 7 0 017 7H0a7 7 0 017-7zm.646 3.721l1.768-1.767a.5.5 0 11.707.707l-2.475 2.475-1.767-1.768a.5.5 0 01.707-.707l1.06 1.06z" fill="#000" fill-rule="nonzero"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14 0a2 2 0 012 2v8.5a.5.5 0 01-1 0V2a1 1 0 00-1-1H2a1 1 0 00-1 1v12a1 1 0 001 1h8.5a.5.5 0 010 1H2a2 2 0 01-2-2V2a2 2 0 012-2h12zm-1.074 12.196l2.923 2.922a.517.517 0 01-.73.73l-2.923-2.922a.517.517 0 01.73-.73zM8 3a5 5 0 110 10A5 5 0 018 3zm0 1a4 4 0 100 8 4 4 0 000-8z" fill="#000" fill-rule="nonzero"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2.212 9.936L2 12.27l2.333-.212L13.27 3.12 11.149 1 2.212 9.936zm-.707-.707L10.441.293a1 1 0 011.415 0l2.12 2.121a1 1 0 010 1.414l-8.935 8.937a1 1 0 01-.617.289l-2.333.212a1 1 0 01-1.087-1.087l.212-2.333a1 1 0 01.289-.617zm7.434-6.497l2.829 2.829-.707.707-2.829-2.829.707-.707zM.5 15h15a.5.5 0 010 1H.5a.5.5 0 010-1z" fill="#000" fill-rule="nonzero"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 0a8 8 0 100 16A8 8 0 008 0zm3.83 3.162c.067.24.01.47-.273.47a.669.669 0 00.16-.55c.039.027.08.055.112.08h.001zm-.372-.95l.207.072a.803.803 0 00-.428.158.406.406 0 01.222-.23h-.001zM7.792 1.01c.212-.019.426-.015.638.012l-.054.083c-.123-.004-.54-.027-.653-.01.073-.074.015-.021.07-.085h-.001zM2.527 12.357a7.018 7.018 0 01-.414-.58c.2.125.394.26.58.405a.918.918 0 00-.166.175zm7.606 2.31a6.986 6.986 0 01-7.058-1.695c-.003-.07 0-.08.059-.122 1-.692.512-1.033-1.055-2.047-.123-.084-.179-.132-.19-.165-.075-1.662-.082-.85-.662-2.313a2.123 2.123 0 00-.222-.427 6.967 6.967 0 011.911-4.701c.616.008.934.146 1.176-.473.015-.04.06-.16.073-.121.7.04.593.475 1.518-.9.072-.11.126-.232.157-.36.2-.065.405-.119.613-.166-.465.623-.137 1.095.319 1.095.141 0 .731-.33 1.07-.387.608.03.853.118 1.201-.337.083-.15.183-.29.3-.416a6.936 6.936 0 011.548.498c-.508.388-.222.396-.56.838-.334.444-.017.803.425 1.138-.1.072-.194.153-.28.242a.59.59 0 00-.223-.321.669.669 0 00-.735-.596.599.599 0 00-.147 1.122c.01.197.12.376.292.473-.164.242-.081.414-.01.663-.052 0-.29-.069-.374-.069-.72 0-.785 1.215-.46 1.543-.79.68-.809.795-.917 1.017a1.921 1.921 0 00-1.248 1.686c0 .41-.25.36-.317.682-.102.485.146.728.435 1.006.32.311.152.587.628.973.572.477.863.374 1.603.268a2.339 2.339 0 011.257.134c.09.021.181.057.1.298a.596.596 0 00.133.739.275.275 0 01.11.19c.05.639-.197.474-.47 1.01v.001zm.383-8.91l.2.098a.313.313 0 01.255-.052c.37.233.57.424.93.066.12.1.23.214.325.339a.593.593 0 00.914.493c.214.276.447.177.757.255.04.091.07.186.088.284-.164.077-.34.123-.52.136-.114-.03-.231-.125-.35-.125a.533.533 0 00-.656.356 1.398 1.398 0 01-.698-.416c.1-.693-.948-.767-1.63-.616.02-.025.108-.16.089-.185a.665.665 0 00.094-.14.838.838 0 00.315-.284l-.113-.209zm-.996.222a.732.732 0 00-.064.138c0-.055.002-.102.005-.147l.059.01v-.001zm1.844 8.16a1.248 1.248 0 00-.241-1.173.955.955 0 00-.68-1.316c-.006-.002-.38-.081-.473-.113-1.052-.302-1.98.487-2.265-.484a2.546 2.546 0 00-.573-.79c.382-.424.237-.624.333-1.035.313-1.157.897-.378 1.276-1.376.017-.042.634-.564.768-.765.379.458.848.204 1.465.243.133.77 1.55 1.512 2.121.763.703.292 1.96-.216 1.646-1.118v.001a1.301 1.301 0 00-.112-.342.945.945 0 00-.935-.511.8.8 0 00-.72-.205c-.255-.554-.903-1.088-1.488-.733a.95.95 0 00-.705-.183.798.798 0 00-.36-.04 5.501 5.501 0 00-.033-.098.782.782 0 00.065-.216.87.87 0 00.691-.33c1.179.708 2.182-1.263.96-1.935.016 0 .03-.01.046-.011a6.994 6.994 0 01-.786 11.766v.001z" fill="#000" fill-rule="nonzero"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M8 2a2 2 0 10-4 0 2 2 0 004 0zM6 3a1 1 0 110-2 1 1 0 010 2zM4 7h1v5a1 1 0 01-1-1H3a1 1 0 01-1-1V6a2 2 0 012-2h3.78a3.05 3.05 0 00-.596 1H4a1 1 0 00-1 1v4h1V7zm8-1a2 2 0 10-4 0 2 2 0 004 0zm-2 1a1 1 0 110-2 1 1 0 010 2zm2 1H8a2 2 0 00-2 2v4a1 1 0 001 1h1a1 1 0 001 1h2a1 1 0 001-1h1a1 1 0 001-1v-4a2 2 0 00-2-2zm1 3v3h-1v-3h-1v4H9v-4H8v3H7v-4a1 1 0 011-1h4a1 1 0 011 1v1z" fill="#000" fill-rule="nonzero"></path><path d="M0 0h16v16H0z"></path></g></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 0a4 4 0 014 4v3a2 2 0 012 2v5a2 2 0 01-2 2H4a2 2 0 01-2-2V9a2 2 0 012-2V4a4 4 0 014-4zm4 8H4a1 1 0 00-1 1v5a1 1 0 001 1h8a1 1 0 001-1V9a1 1 0 00-1-1zM8 9v1h1v1H8v1h1v1H8v1H7V9h1zm0-8a3 3 0 00-3 3v3h1V4a2 2 0 114 0v3h1V4a3 3 0 00-3-3zm0 2a1 1 0 00-1 1v3h2V4a1 1 0 00-1-1z" fill="#000" fill-rule="nonzero"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M9 3V2a1 1 0 00-1-1H4a1 1 0 00-1 1v1a2 2 0 00-2 2v9a2 2 0 002 2h5v-4h1v4h5a2 2 0 002-2V5a2 2 0 00-2-2H9zm1 12v-3a1 1 0 00-1-1H8a1 1 0 00-1 1v3H3a1 1 0 01-1-1V5a1 1 0 011-1h1V2h4v2h6a1 1 0 011 1v9a1 1 0 01-1 1h-4zM7 9h3V6H7v3zm1-2h1v1H8V7zm3-1v3h3V6h-3zm2 2h-1V7h1v1zM3 9h3V6H3v3zm1-2h1v1H4V7z" fill="#000" fill-rule="nonzero"></path><path d="M0 0h16v16H0z"></path></g></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="#000" fill-rule="nonzero" d="M8 .5l2.373 5.07L16 6.23l-4.16 3.792 1.104 5.478L8 12.773 3.056 15.5l1.102-5.478L0 6.229l5.625-.66z"></path><path d="M0 0h16v16H0z"></path></g></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M8 3c2.583 0 5.166 1.45 7.75 4.349a.972.972 0 010 1.302C13.166 11.551 10.583 13 8 13S2.834 11.55.25 8.651a.972.972 0 010-1.302C2.834 4.449 5.417 3 8 3zm0 1C5.763 4 3.442 5.303 1.039 8 3.442 10.697 5.763 12 8 12s4.558-1.303 6.961-4C12.558 5.303 10.237 4 8 4zm0 7a3 3 0 110-6 3 3 0 010 6zm0-1a2 2 0 100-4 2 2 0 000 4z" fill="#000" fill-rule="nonzero"></path><path d="M0 0h16v16H0z"></path></g></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M8 .5l2.373 5.07L16 6.23l-4.16 3.792 1.104 5.478L8 12.773 3.056 15.5l1.102-5.478L0 6.229l5.625-.66L8 .5zm1.704 5.998L7.999 2.857 6.294 6.498l-4.002.469L5.25 9.664l-.789 3.918L8 11.631l3.537 1.951-.788-3.918 2.957-2.697-4.002-.469z" fill="#000" fill-rule="nonzero"></path><path d="M0 0h16v16H0z"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 32"><path d="M3.478 8.441c-.447.427-1.172.427-1.619 0s-.447-1.12 0-1.548L8.333.701a1.183 1.183 0 011.619 0l6.475 6.192c.447.427.447 1.121 0 1.548s-1.172.427-1.619 0L9.143 3.023 3.478 8.441zM3.478 23.559c-.447-.427-1.172-.427-1.619 0s-.447 1.12 0 1.548l6.474 6.192a1.183 1.183 0 001.619 0l6.475-6.192c.447-.427.447-1.12 0-1.548s-1.172-.427-1.619 0l-5.665 5.418-5.665-5.418z"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M4.586 8.657l6.01-6.01a.5.5 0 01.707.707l-6.01 6.01a1 1 0 01-1.414 0L.697 6.182a.5.5 0 01.707-.707l3.182 3.182z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7 1a6 6 0 100 12A6 6 0 007 1zm0 13a7 7 0 115.621-2.828l-.222.284 3.405 3.404a.668.668 0 01-.944.944L11.456 12.4A6.974 6.974 0 017 14z" fill="#000" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M7.745 7l4.1 4.1a.527.527 0 01-.745.746L7 7.746l-4.1 4.1a.527.527 0 01-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 01.746-.746l4.1 4.1 4.1-4.1a.527.527 0 01.746.746L7.746 7z" fill="#000"></path><path d="M1 1h12v12H1z"></path></g></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 13a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm14 1a.5.5 0 010 1h-10a.5.5 0 010-1h10zm-14-7.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm14 1a.5.5 0 010 1h-10a.5.5 0 010-1h10zM1.5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm14 1a.5.5 0 010 1h-10a.5.5 0 010-1h10z" fill="#000" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14 0a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2h12zM7.5 8.5H1V14a1 1 0 001 1h5.5V8.5zm7.5 0H8.5V15H14a1 1 0 001-1V8.5zM2 1a1 1 0 00-1 1v5.5h6.5V1H2zm6.5 6.5H15V2a1 1 0 00-1-1H8.5v6.5z" fill="#000" fill-rule="nonzero"></path></svg>'},,,function(e,t,n){"use strict";n.r(t);var i,o,a,r,s,l,p,c,d,m=n(0);!function(e){e.Me="me",e.NotMe="notme",e.Anyone="anyone",e.MyFavorites="MyFavorites",e.Public="Public",e.Default="Default"}(i||(i={})),function(e){e.AllFolder="AllFolder",e.OtherFolder="OtherFolder"}(o||(o={})),function(e){e.AllGroup="AllGroup",e.Org="Org",e.OtherGroup="OtherGroup"}(a||(a={})),function(e){e.Default="Default",e.My="My",e.Shared="Shared"}(r||(r={})),function(e){e.ExperienceType='"Web Experience"',e.TemplateType='"Web Experience Template"'}(s||(s={})),function(e){e.Modified="modified",e.Title="title",e.NumViews="numViews"}(l||(l={})),function(e){e.Org="Org",e.Group="Group",e.OrgAndGroupNotMe="OrgAndGroupNotMe",e.ExbAdmin="ExbAdmin",e.My="My",e.Folder="Folder",e.All="All",e.Favorites="Favorites",e.AllFavorites="AllFavorites",e.PubLic="Public"}(p||(p={})),function(e){e.OrgAdmin="org_admin",e.OrgPublisher="org_publisher",e.OrgUser="org_user",e.CustomRoles="custom_roles"}(c||(c={})),function(e){e.Published="Published",e.Draft="Draft",e.Changed="Changed"}(d||(d={}));var u,h,g,f,v,b,w=n(1),x=m.React.createContext({deleteApp:function(e){},refreshList:function(){},duplicateAppItem:function(e,t,n){void 0===n&&(n="")},createApp:function(e,t){},favoriteTogle:function(e,t){return Promise.resolve(!0)},isLoadSkeleton:!1,theme:null,skeletonNum:null}),y={homePageSearch:"Search",newApp:"Create new",labelByModified:"Recent experiences",labelByTitle:"Experiences sorted by title",labelByView:"Experiences sorted by view count",templateLabelByModified:"Recent templates",templateLabelByTitle:"Templates sorted by title",templateLabelByView:"Templates sorted by view count",ownByMe:"Owned by me",ownByAnyone:"Owned by anyone",sharedWithMe:"Shared with me",orderByModified:"Last modified",orderByTitle:"Title",orderByView:"Most views",applistViews:"View count",applistItemViews:"Views",applistView:"view",editInfo:"Edit info",viewDetail:"View details",appListDelete:"Delete",appListName:"Name",appListDescription:"Description",download:"Download",editExperienceInfo:"Edit experience info",editExperienceTemplateInfo:"Edit experience template info",launchApp:"Launch",appListMore:"More",popUpOk:"OK",popUpCancel:"Cancel",popUpTitle:"Warning",popUpDiscription1:"You don't have permission to edit this web experience. Currently, you can only edit your own items.",popUpDiscription2:"You can view or duplicate it.",descriptionRemind:"Here is the description of the item.",editThumbnail:"Edit thumbnail",itemDeleteRemind:"Are you sure you want to delete this item?",untitledExperience:"Untitled experience",webExperience:"Web Experience",webExperienceTemplate:"Web Experience Template",createExperience:"Create your first experience",toCreate:"Click {createNewElement} to start a new experience",click:"Click",appListEdit:"Edit",everyone:"Shared: Everyone",noOne:"Shared: No One",organization:"Shared: Organization",group:"Shared: Group",appListPublished:"Published",appListDraft:"Draft",unpublishedChanges:"Unpublished changes",appTypeTemplate:"Experience Template",appTypeExperience:"Experience",publishedTitle:"This item can be viewed by users you've shared with.",publishedUnsaveTitle:"There are unpublished changes since last publishing.",itemStatusDraft:"Draft",draftStatusTitle:"This item is not published. It can only be viewed by you.",cardView:"Card view",listView:"List view",createNewTitle:"Create a new experience from this template",itemDescribtion:"Here is the description of the item.",editAppErrorMessage:"You have specified an image type that is not supported. Please use one of these types: PNG, GIF or JPEG.",favorites:"Favorites",myFavorites:"My favorites",itemInFavorites:"Item in Favorites",addFavorites:"Add to favorites",removeFromFavorites:"Remove from Favorites",noItemsYet:"No items yet.",templateEmptyText:"You can generate a template from an experience in the builder.",sharedEmptyText:"No items are shared with you. ",favoritesEmptyText:"When you find an item you like, click Add to Favorites to see it here.",noPublicItems:"No public items.",publicTemplate:"Public",allApp:"All",myOrg:"Organization",defaultTemplate:"Default",unableDelete:"Item could not be deleted since it is delete protected.",deleteError:"There was a problem deleting this application.",createError:"There was a problem when create new application.",duplicateError:"There was a problem when duplicate application.",noResource:"Resource does not exist or is inaccessible",noSearchResult:"No experiences found. Please try other search criteria.",noTemplates:"No templates found. Please try other search criteria.",tags:"Tags",tagsLowerCase:"tags",summaryField:"Summary",summaryPlaceholder:"Enter a summary",saveInFolder:"Save in folder"},j=n(2),O=(u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),I=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},k=function(){return(k=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},S=n(8),T=function(e){function t(t){var n,i,o,a,r=e.call(this,t)||this;return r.__unmount=!1,r.supportedResourceSuffix={IMAGE:[".png",".jpeg",".jpg",".gif",".bmp"]},r.getItemData=function(){var e=r.props.appItem.id;j.appServices.getItemInfo(e).then((function(e){r.updateAppItem(e)}),(function(e){console.error(e)}))},r.updateAppItem=function(e){var t,n=r.props,i=n.appItem,o=n.appIndex;for(var a in e)i[a]=e[a];r.setState({localAppItem:Object(m.Immutable)(i)},(function(){r.updateState()})),null===(t=null==r?void 0:r.props)||void 0===t||t.updateAppList(i,o)},r.updateState=function(){var e=r.state.localAppItem,t=((null==e?void 0:e.tags.asMutable())||[]).filter((function(e){if(e)return e}));r.setState({currentTitleInput:e.title,currentDescriptInput:e.description?e.description:"",summary:(null==e?void 0:e.snippet)||"",tags:t,ownerFolder:e.ownerFolder})},r.uploadThumbnail=function(){var e=r.getFiles();if(!e)return Promise.resolve(!0);var t=m.SessionManager.getInstance().getSessionByUrl(r.props.portalUrl),n={id:r.props.appItem.id,f:"json",token:null==t?void 0:t.token,thumbnail:e[0]};return j.appServices.updateAppThumbnails(n,r.props.appItem.owner).then((function(){return r.isUpdateThumbnail=!0,Promise.resolve(!0)}),(function(e){return r.setState({loading:!1}),Promise.reject(e)}))},r.getFiles=function(){var e=r.fileInput.current.files;if(!e||!e[0])return!1;var t=e[0].name,n="."+t.split(".")[t.split(".").length-1];if(-1===r.supportedResourceSuffix.IMAGE.indexOf(n.toLowerCase()))return r.handleToggle(),!1;var i=window.URL.createObjectURL(e[0]);return r.setState({files:i}),e},r.titleInputChange=function(e,t){void 0===t&&(t=!1);var n=e.target.value;n=n.length>250?n.slice(0,250):n;var i=Object(m.Immutable)(r.state.localAppItem);window.jimuConfig.isDevEdition&&(i=i.set("text",""));t&&(n=(n=/^[ ]*$/.test(n)?r.props.appItem.title:n).replace(/(^\s*)|(\s*$)/g,"")),i=i.set("title",n),r.setState({localAppItem:i,currentTitleInput:n})},r.descriptInputChange=function(e){var t=Object(m.Immutable)(r.state.localAppItem);window.jimuConfig.isDevEdition&&(t=t.set("text","")),t=t.set("description",e),r.setState({currentDescriptInput:e,localAppItem:t})},r.nls=function(e){return r.props.intl?r.props.intl.formatMessage({id:e,defaultMessage:y[e]}):e},r.nlsCommonMessage=function(e){return r.props.intl?r.props.intl.formatMessage({id:e,defaultMessage:m.defaultMessages[e]}):m.defaultMessages[e]},r.onConfirm=function(){r.setState({loading:!0}),r.uploadThumbnail().then((function(){r.changeItemsFolder().then((function(){r.updateAppInfo()}),(function(e){r.setState({loading:!1}),console.error(e)}))}),(function(e){r.setState({loading:!1}),console.error(e)}))},r.updateAppInfo=function(){var e=r.props.appIndex,t=r.state.localAppItem.asMutable({deep:!0});t.clearEmptyFields=!0,j.appServices.updateAppItem(t).then((function(){var n;r.isUpdateThumbnail?r.getItemData():null===(n=null==r?void 0:r.props)||void 0===n||n.updateAppList(t,e),r.setState({loading:!1}),r.props.onEditInfoOk()}),(function(e){r.setState({loading:!1}),console.error(e)}))},r.changeItemsFolder=function(){var e=r.props.appItem.id,t=r.state.ownerFolder,n={itemId:e,folderId:r.state.ownerFolder,authentication:null};return r.props.appItem.ownerFolder!=t&&t?j.appServices.changeItemsFolder(n).then((function(){var e=Object(m.Immutable)(r.state.localAppItem);return e.set("ownerFolder",t),r.setState({localAppItem:e}),Promise.resolve(!0)}),(function(e){return Promise.reject(!1)})):Promise.resolve(!0)},r.nameOnChange=function(e){var t=e.target.value;t.length>250&&(t=t.slice(0,250)),r.setState({currentTitleInput:t})},r.getUserTags=function(){if(window.jimuConfig.isDevEdition)return!1;var e=Object(m.getAppStore)().getState().user.username;j.appServices.getUsersTags(e).then((function(e){var t,n=null===(t=null==e?void 0:e.tags)||void 0===t?void 0:t.map((function(e){return e.tag}));r.setState({userTags:n||[]})}))},r.getThumbnailUrl=function(){var e=r.props.appItem.thumbnail,t=e,n=m.SessionManager.getInstance().getSessionByUrl(r.props.portalUrl);return t=t?r.props.portalUrl+"/sharing/rest/content/items/"+r.props.appItem.id+"/info/"+t+"?token="+(null==n?void 0:n.token):r.props.folderUrl+"./dist/runtime/assets/defaultthumb.png",e&&window.jimuConfig.isDevEdition&&(t=window.location.origin+"/apps/"+r.props.appItem.id+"/"+e),t},r.alignButtonWidth=function(e,t){r[e]=t},r.handleToggle=function(){var e=r.state.isShowAlertPopup;r.setState({isShowAlertPopup:!e})},r.descriptionEditorFocus=function(e){e.stopPropagation(),r.props.setDescribtionFocusStatus(!0),r.setState({isDescriptionEditorEnabled:!0})},r.editInfoContentClick=function(e){var t,n=e.target||e.srcElement;e.stopPropagation(),n&&(null===(t=null==n?void 0:n.className)||void 0===t?void 0:t.indexOf("info-content-textarea"))<0&&(r.props.setDescribtionFocusStatus(!1),r.setState({isDescriptionEditorEnabled:!1}))},r.onTagInputChange=function(e){var t=k({},r.state.localAppItem);t.tags=Object(m.Immutable)(e),r.setState({tags:e,localAppItem:Object(m.Immutable)(t)})},r.onSummaryChange=function(e,t){void 0===t&&(t=!1),e.stopPropagation();var n=e.target.value;n=n.length>250?n.slice(0,250):n;var i=Object(m.Immutable)(r.state.localAppItem);t&&(n=n&&n.replace(/(^\s*)|(\s*$)/g,"")),i=i.set("snippet",n),r.setState({localAppItem:i,summary:n})},r.onFolderChange=function(e){var t=e.target.value;r.setState({ownerFolder:t})},r.state={localAppItem:Object(m.Immutable)(r.props.appItem),currentTitleInput:r.props.appItem.title,currentDescriptInput:r.props.appItem.description?r.props.appItem.description:"",summary:(null===(i=null===(n=null==r?void 0:r.props)||void 0===n?void 0:n.appItem)||void 0===i?void 0:i.snippet)||"",loading:!1,files:"",buttonWidth:"",isShowAlertPopup:!1,isDescriptionEditorEnabled:!1,RichTextEditor:null,tags:(null===(a=null===(o=null==r?void 0:r.props)||void 0===o?void 0:o.appItem)||void 0===a?void 0:a.tags)||[],userTags:[],ownerFolder:r.props.appItem.ownerFolder},r.fileInput=m.React.createRef(),r.isUpdateThumbnail=!1,r}return O(t,e),t.prototype.componentDidMount=function(){this.getUserTags(),this.getItemData()},t.prototype.getStyle=function(){var e=this.props.theme,t=this.state.buttonWidth,n=e.colors&&e.colors.palette?e.colors.palette.dark[300]:"#9fa4a7",i=e.colors&&e.colors.palette?e.colors.palette.light[300]:"#282828",o=e.colors&&e.colors.palette?e.colors.palette.light[800]:"#6a6a6a",a=e.colors&&e.colors.palette?e.colors.palette.dark[400]:"#a8a8a8",r=e.colors&&e.colors.palette?e.colors.palette.light[200]:"#181818",s=e.colors&&e.colors.palette?e.colors.palette.primary[700]:"#00D8ED";return Object(m.css)(h||(h=I(["\n      .app-editinfo {\n        width: ",";\n        height: auto;\n        left:50%;\n        top:50%;\n        margin-left:",";\n        transform: translateY(-50%);\n        background: ",";\n        border: 1px solid ",";\n        padding-bottom: ",";\n        .info-title {\n          height: ",";\n          border-bottom: 1px solid ",";\n          font-weight:500;\n        }\n\n        .info-title-text {\n          padding-left: ",";\n          font-size: ",";\n          color:",";\n          overflow: hidden;\n          max-width: 85%;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        .info-title-close {\n          padding-right: ",";\n          cursor: pointer;\n        }\n\n        .info-content {\n          padding: "," "," 0;\n          height: calc(100% - ",");\n\n          .info-content-pic {\n            width: ",";\n            height: ",";\n            background-size: cover;\n            background-position: top center;\n            margin-right: ",";\n          }\n          .edit-thumbnail-btn {\n            width: ",";\n            margin-top:",";\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            box-sizing: border-box;\n            display: block;\n          }\n          .edit-thumbnail-btn-con:hover .edit-thumbnail-btn {\n            background: ",";\n          }\n          .edit-thumbnail-inp {\n            bottom:0;\n            left:0;\n            width: ",";\n            height: ",";\n            opacity:0;\n            cursor: pointer;\n          }\n          .info-content-btn-group {\n            padding-top: ",";\n          }\n\n          .info-content-otherinfo {\n            width: ",";\n\n            .info-content-label {\n              font-size: ",";\n              line-height: ",";\n              color: ",";\n              font-weight: 600;\n              margin-bottom: "," !important;\n              overflow: hidden;\n              text-overflow: ellipsis;\n              box-sizing: border-box;\n              max-width:",";\n            }\n\n            .info-title-input {\n              margin-bottom: ",";\n            }\n\n            .info-content-text {\n\n            }\n            .info-content-textarea-con {\n              height: ",";\n              margin-bottom: ",";\n            }\n            .info-content-textarea {\n              width: ",";\n              height: ",";\n              resize: none;\n              padding: "," ",";\n              box-sizing: border-box;\n              border-radius: 2px;\n              background: ",";\n              border: 1px solid ",";\n              font-size: ",";\n            }\n            .focus {\n              border-color: ",";\n            }\n            .info-content-btn {\n              min-width:",";\n            }\n            .select-choices-con {\n              margin-bottom: ",";\n            }\n          }\n        }\n      }"],["\n      .app-editinfo {\n        width: ",";\n        height: auto;\n        left:50%;\n        top:50%;\n        margin-left:",";\n        transform: translateY(-50%);\n        background: ",";\n        border: 1px solid ",";\n        padding-bottom: ",";\n        .info-title {\n          height: ",";\n          border-bottom: 1px solid ",";\n          font-weight:500;\n        }\n\n        .info-title-text {\n          padding-left: ",";\n          font-size: ",";\n          color:",";\n          overflow: hidden;\n          max-width: 85%;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        .info-title-close {\n          padding-right: ",";\n          cursor: pointer;\n        }\n\n        .info-content {\n          padding: "," "," 0;\n          height: calc(100% - ",");\n\n          .info-content-pic {\n            width: ",";\n            height: ",";\n            background-size: cover;\n            background-position: top center;\n            margin-right: ",";\n          }\n          .edit-thumbnail-btn {\n            width: ",";\n            margin-top:",";\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            box-sizing: border-box;\n            display: block;\n          }\n          .edit-thumbnail-btn-con:hover .edit-thumbnail-btn {\n            background: ",";\n          }\n          .edit-thumbnail-inp {\n            bottom:0;\n            left:0;\n            width: ",";\n            height: ",";\n            opacity:0;\n            cursor: pointer;\n          }\n          .info-content-btn-group {\n            padding-top: ",";\n          }\n\n          .info-content-otherinfo {\n            width: ",";\n\n            .info-content-label {\n              font-size: ",";\n              line-height: ",";\n              color: ",";\n              font-weight: 600;\n              margin-bottom: "," !important;\n              overflow: hidden;\n              text-overflow: ellipsis;\n              box-sizing: border-box;\n              max-width:",";\n            }\n\n            .info-title-input {\n              margin-bottom: ",";\n            }\n\n            .info-content-text {\n\n            }\n            .info-content-textarea-con {\n              height: ",";\n              margin-bottom: ",";\n            }\n            .info-content-textarea {\n              width: ",";\n              height: ",";\n              resize: none;\n              padding: "," ",";\n              box-sizing: border-box;\n              border-radius: 2px;\n              background: ",";\n              border: 1px solid ",";\n              font-size: ",";\n            }\n            .focus {\n              border-color: ",";\n            }\n            .info-content-btn {\n              min-width:",";\n            }\n            .select-choices-con {\n              margin-bottom: ",";\n            }\n          }\n        }\n      }"])),m.polished.rem(700),m.polished.rem(-350),i,o,m.polished.rem(30),m.polished.rem(54),o,m.polished.rem(30),m.polished.rem(16),a,m.polished.rem(30),m.polished.rem(40),m.polished.rem(30),m.polished.rem(55),m.polished.rem(240),m.polished.rem(160),m.polished.rem(20),m.polished.rem(240),m.polished.rem(11),o,m.polished.rem(240),m.polished.rem(34),m.polished.rem(36),m.polished.rem(450),m.polished.rem(14),m.polished.rem(18),n,m.polished.rem(10),m.polished.rem(380),m.polished.rem(16),m.polished.rem(80),m.polished.rem(16),m.polished.rem(378),m.polished.rem(80),m.polished.rem(4),m.polished.rem(6),r,r,m.polished.rem(14),s,t||m.polished.rem(100),m.polished.rem(16))},t.prototype.render=function(){var e=this,t=this.getThumbnailUrl(),n=this.props.theme.colors&&this.props.theme.colors.palette?this.props.theme.colors.palette.dark[400]:"#a8a8a8",i=this.state,o=i.isShowAlertPopup,a=i.tags,r=i.userTags,s=i.summary,l=i.ownerFolder,p=this.props.folderListData;return Object(m.jsx)("div",{css:this.getStyle(),className:"edit-info-con",onClick:function(t){e.editInfoContentClick(t)},"data-testid":"editInfo"},Object(m.jsx)("div",{className:"app-editinfo position-fixed"},Object(m.jsx)("div",{className:"bg-light-300 info-title align-items-center d-flex justify-content-between"},Object(m.jsx)("div",{className:"info-title-text",title:this.nls("editExperienceInfo")},this.props.isTemplateList?this.nls("editExperienceTemplateInfo"):this.nls("editExperienceInfo")),Object(m.jsx)("div",{className:"info-title-close",onClick:function(t){t.stopPropagation(),e.props.onEditInfoCancel()}},Object(m.jsx)(w.Icon,{width:16,height:16,color:n,icon:S}))),Object(m.jsx)("div",{className:"bg-light-300 info-content"},Object(m.jsx)("div",{className:"d-flex justify-content-center"},Object(m.jsx)("div",null,Object(m.jsx)("div",{"data-testid":"thumbnailCon",className:"info-content-pic",style:{backgroundImage:"url("+(this.state.files||t)+")"}}),Object(m.jsx)("div",{className:"position-relative edit-thumbnail-btn-con"},Object(m.jsx)(w.Button,{className:"edit-thumbnail-btn",title:this.nls("editThumbnail"),onClick:this.updateAppInfo},this.nls("editThumbnail")),Object(m.jsx)("input",{"data-testid":"thumbnailInput",title:this.nls("editThumbnail"),ref:this.fileInput,className:"position-absolute edit-thumbnail-inp",type:"file",accept:".png, .jpeg, .jpg, .gif, .bmp",onChange:this.getFiles}))),Object(m.jsx)("div",{className:"info-content-otherinfo"},Object(m.jsx)("div",{className:"info-content-label",title:this.nls("appListName")},this.nls("appListName")),Object(m.jsx)(w.TextInput,{value:this.state.currentTitleInput,className:" info-title-input",onChange:this.nameOnChange,onBlur:function(t){e.titleInputChange(t,!0)},onKeyUp:function(t){e.titleInputChange(t)}}),Object(m.jsx)("div",{className:"info-content-label",title:this.nls("summaryField")},this.nls("summaryField")),Object(m.jsx)(w.TextInput,{type:"textarea",placeholder:this.nls("summaryPlaceholder"),value:s,className:"info-content-textarea form-control mb-3",onBlur:function(t){e.onSummaryChange(t,!0)},onKeyDown:function(t){e.onSummaryChange(t)},onChange:function(t){e.setState({summary:t.target.value})}}),!window.jimuConfig.isDevEdition&&Object(m.jsx)("div",{className:"select-choices-con"},Object(m.jsx)("div",{className:"info-content-label",title:this.nls("tags")},this.nls("tags")),Object(m.jsx)(w.TagInput,{data:a,selectListData:r,onChange:this.onTagInputChange,name:this.nls("tagsLowerCase"),menuProps:{maxHeight:80}})),!window.jimuConfig.isDevEdition&&Object(m.jsx)("div",null,Object(m.jsx)("div",{className:"info-content-label",title:this.nls("saveInFolder")},this.nls("saveInFolder")),Object(m.jsx)(w.Select,{value:l,onChange:this.onFolderChange},p.map((function(e){return Object(m.jsx)(w.Option,{value:e.value,key:e.value},e.text)})))),Object(m.jsx)("div",{className:"d-flex justify-content-end info-content-btn-group"},Object(m.jsx)(w.Button,{type:"primary",className:"info-content-btn mr-2",ref:function(t){e.alignButtonWidth("okButton",t)},onClick:this.onConfirm,title:this.nlsCommonMessage("ok")},this.nlsCommonMessage("ok")),Object(m.jsx)(w.Button,{className:"info-content-btn",onClick:function(){e.props.onEditInfoCancel()},ref:function(t){e.alignButtonWidth("cancelButton",t)},title:this.nlsCommonMessage("cancel")},this.nlsCommonMessage("cancel"))))))),this.state.loading&&Object(m.jsx)("div",{style:{position:"absolute",left:"50%",top:"50%"},className:"jimu-primary-loading"}),Object(m.jsx)(w.AlertPopup,{isOpen:o,hideCancel:!0,toggle:this.handleToggle},Object(m.jsx)("div",{style:{fontSize:"1rem"}},this.nls("editAppErrorMessage"))))},t}(m.React.PureComponent),E=m.themeUtils.withTheme(T),N=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),C=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},D=function(e){function t(t){var n=e.call(this,t)||this;return n.getStyle=function(){return Object(m.css)(g||(g=C(["\n      svg {\n        color: #fff;\n      }\n      /* &.modal-header button.close {\n        padding: 0;\n        margin: 0;\n      } */\n    "],["\n      svg {\n        color: #fff;\n      }\n      /* &.modal-header button.close {\n        padding: 0;\n        margin: 0;\n      } */\n    "])))},n.stopPropagation=function(e){e.stopPropagation()},n}return N(t,e),t.prototype.render=function(){var e=this,t=this.props.isOpen,n=this.props.intl?this.props.intl.formatMessage({id:"appListDelete",defaultMessage:y.appListDelete}):y.appListDelete,i=this.props.intl?this.props.intl.formatMessage({id:"popUpCancel",defaultMessage:y.popUpCancel}):y.popUpCancel,o=this.props.intl?this.props.intl.formatMessage({id:"itemDeleteRemind",defaultMessage:y.itemDeleteRemind}):y.itemDeleteRemind;return Object(m.jsx)(x.Consumer,null,(function(a){var r=a.deleteApp;return Object(m.jsx)(w.Modal,{className:Object(m.classNames)("d-flex justify-content-center"),isOpen:t,centered:!0,toggle:e.props.deleteToggle,onClick:function(t){e.stopPropagation(t)}},Object(m.jsx)(w.ModalHeader,{tag:"h4",toggle:e.props.deleteToggle,className:"item-delete-header",css:e.getStyle()},n),Object(m.jsx)(w.ModalBody,null,o),Object(m.jsx)(w.ModalFooter,null,Object(m.jsx)(w.Button,{type:"danger",onClick:function(t){e.stopPropagation(t),r(e.props.itemId),e.props.deleteToggle()}},n),Object(m.jsx)(w.Button,{type:"secondary",onClick:function(t){e.stopPropagation(t),e.props.deleteToggle()}},i)))}))},t}(m.React.PureComponent),L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),M=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},P=n(9),A=function(e){function t(t){var n=e.call(this,t)||this;return n.eidtInfoStyle={width:"100%",height:"100%",maxWidth:"5000px",margin:0},n.getStyle=function(){return Object(m.css)(f||(f=M(["\n      .modal-content {\n        background:none;\n      }\n    "],["\n      .modal-content {\n        background:none;\n      }\n    "])))},n.appLaunch=function(){var e=n.props.isTemplateList?"template":"experience",t=window.jimuConfig.useStructuralUrl?""+window.jimuConfig.mountPath+e+"/"+n.props.appItem.id+"/":""+window.jimuConfig.mountPath+e+"/?id="+n.props.appItem.id;window.open(t)},n.viewDetails=function(){var e=n.props.portalUrl+"/home/item.html?id="+n.props.appItem.id;window.open(e)},n.showEditInfo=function(){n.setState({isShownEditInfo:!0})},n.onEditInfoCancel=function(){n.setState({isShownEditInfo:!1})},n.onEditInfoOk=function(){n.setState({isShownEditInfo:!1})},n.deleteToggle=function(){n.setState({isShowDeleteAlertPopup:!n.state.isShowDeleteAlertPopup})},n.setDescribtionFocusStatus=function(e){void 0===e&&(e=!1),n.setState({isDescriptionEditorFocus:e})},n.editInfoModalClick=function(e){e.stopPropagation(),n.setDescribtionFocusStatus(!1)},n.state={isOpen:!1,isShownEditInfo:!1,isShowDeleteAlertPopup:!1,isDescriptionEditorFocus:!1},n}return L(t,e),t.prototype.render=function(){var e=this,t=window.jimuConfig.isDevEdition,n=this.state.isShownEditInfo,i=this.props,o=i.editPrivileges,a=i.isTemplateList,r=i.updateAppList,s=i.appIndex,l=i.isPublish,p=this.state,c=p.isShowDeleteAlertPopup,d=p.isDescriptionEditorFocus,u=this.props.appItem,h=u.id,g=u.owner,f=a?"Web Experience Template":"Web Experience";return Object(m.jsx)(x.Consumer,null,(function(i){i.deleteApp,i.refreshList;var a=i.duplicateAppItem;return Object(m.jsx)("div",{css:e.getStyle(),className:e.props.className,title:e.props.intl?e.props.intl.formatMessage({id:"appListMore",defaultMessage:y.appListMore}):y.appListMore},Object(m.jsx)(w.Dropdown,{direction:"right",size:"sm",isOpen:e.state.isOpen,className:"app-list-dropdown",onClick:function(e){return e.stopPropagation()},toggle:function(){return e.setState({isOpen:!e.state.isOpen})}},Object(m.jsx)(w.DropdownToggle,{size:"sm",type:"tertiary"},Object(m.jsx)(w.Icon,{style:{transform:"rotate(0deg)",marginRight:"3px"},icon:P,className:"app-list-iconfill app-list-icon-margin dropdown-icon"})),Object(m.jsx)(w.DropdownMenu,{className:"app-list-dropdown"},o.canCreate&&Object(m.jsx)(w.DropdownItem,{className:"pb-1",onClick:function(){return a(h,f,g)},title:e.props.intl.formatMessage({id:"duplicate",defaultMessage:w.defaultMessages.duplicate})},e.props.intl.formatMessage({id:"duplicate",defaultMessage:w.defaultMessages.duplicate})),o.canEdit&&Object(m.jsx)(w.DropdownItem,{className:"pb-1",onClick:e.showEditInfo,title:e.props.intl.formatMessage({id:"editInfo",defaultMessage:y.editInfo})},e.props.intl.formatMessage({id:"editInfo",defaultMessage:y.editInfo})),!t&&Object(m.jsx)(w.DropdownItem,{className:"pb-1",onClick:e.viewDetails,title:e.props.intl.formatMessage({id:"viewDetail",defaultMessage:y.viewDetail})},e.props.intl.formatMessage({id:"viewDetail",defaultMessage:y.viewDetail})),o.canDelete&&Object(m.jsx)(w.DropdownItem,{className:"pb-1",onClick:function(){e.deleteToggle()},title:e.props.intl.formatMessage({id:"appListDelete",defaultMessage:y.appListDelete})},e.props.intl.formatMessage({id:"appListDelete",defaultMessage:y.appListDelete})),t&&l&&Object(m.jsx)(w.DropdownItem,{href:"/download/"+e.props.appItem.id+"?locale="+e.props.intl.locale,target:"_blank"},e.props.intl.formatMessage({id:"download",defaultMessage:y.download})))),n&&Object(m.jsx)(w.Modal,{onClick:function(t){e.editInfoModalClick(t)},css:e.getStyle(),isOpen:n,style:e.eidtInfoStyle,contentClassName:"h-100 w-100"},Object(m.jsx)(E,{appIndex:s,updateAppList:r,appItem:e.props.appItem,portalUrl:e.props.portalUrl,folderUrl:e.props.folderUrl,onEditInfoCancel:e.onEditInfoCancel,intl:e.props.intl,isDescriptionEditorFocus:d,isTemplateList:e.props.isTemplateList,setDescribtionFocusStatus:e.setDescribtionFocusStatus,folderListData:e.props.folderListData,onEditInfoOk:e.onEditInfoOk})),Object(m.jsx)(D,{isOpen:c,deleteToggle:e.deleteToggle,itemId:e.props.appItem.id,intl:e.props.intl}))}))},t}(m.React.PureComponent),z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),R=function(e){function t(t){var i=e.call(this,t)||this;return i.toggle=function(){i.setState({tooltipOpen:!i.state.tooltipOpen})},i.handleItemClick=function(){var e=i.judgeUserEditPrivileges(i.props.updateGroupItemId);if(i.props.isTemplateList||!i.props.isPrivilegeCheckEnd)return!1;if(e.canEdit){var t=i.getQueryString("locale");t=t?"&locale="+t:"";var n=window.jimuConfig.mountPath+"builder?id="+i.props.appItem.id+t;window.location.href=n}else i.setState({isShowAlertPopup:!0})},i.editTemplateClick=function(){if(!i.judgeUserEditPrivileges(i.props.updateGroupItemId).canEdit||!i.props.isPrivilegeCheckEnd)return!1;var e=i.getQueryString("locale");e=e?"&locale="+e:"";var t=window.jimuConfig.mountPath+"builder?id="+i.props.appItem.id+e;window.location.href=t},i.appLaunch=function(e){e.stopPropagation()},i.checkIsOwner=function(){var e=Object(m.getAppStore)().getState().user;return!(!e||!i.props.appItem.owner||(null==e?void 0:e.username)!==i.props.appItem.owner)},i.viewDetails=function(e){i.appLaunch(e);var t=i.props.portalUrl+"/home/item.html?id="+i.props.appItem.id;window.open(t)},i.handleToggle=function(){i.setState({isShowAlertPopup:!i.state.isShowAlertPopup})},i.initExtraState=function(){var e=i.props.portalUrl+"/home/item.html?id="+i.props.appItem.id;i.setState({detailUrl:e})},i.getThumbnail=function(){var e=i.props.appItem.thumbnail,t=i.props.appItem,n=t.isExbTeamCommonTemplate,o=t.id,a=t.isDefaultTemplate,r=i.props,s=r.portalUrl,l=r.folderUrl,p=e,c=r.isTemplateList?"templateDefaultthumb.png":"defaultthumb.png",d=m.SessionManager.getInstance().getSessionByUrl(s),u=d&&(null==d?void 0:d.token)?"?token="+d.token:"";return p=p?s+"/sharing/rest/content/items/"+o+"/info/"+e+u:l+"./dist/runtime/assets/"+c,e&&i.state.isDevEdition&&(p=window.location.origin+"/apps/"+o+"/"+e),a&&(p=e),n&&e&&(p=s+"/sharing/rest/content/items/"+o+"/info/"+e+u),p},i.getPreviewUrl=function(){var e=i.props.isTemplateList,t=i.props.appItem,n=t.id,o=t.isExbTeamCommonTemplate;return m.urlUtils.getAppUrl({appId:n,isTemplate:e,isArcGisOnlineTemplate:o})},i.getShareState=function(e){var t={icon:i.state.IconSharedEveryone,tips:i.nls("everyone")};if(!e)return null;switch(e){case"public":t.tips=i.nls("everyone"),t.icon=i.state.IconSharedEveryone;break;case"private":t.tips=i.nls("noOne"),t.icon=i.state.IconSharedNoOne;break;case"org":t.tips=i.nls("organization"),t.icon=i.state.IconSharedOrganization;break;case"shared":t.tips=i.nls("group"),t.icon=i.state.IconSharedGroup}return t},i.getPublishStatus=function(e){var t=e.typeKeywords||[],n=i.state,o=n.publishStatus,a=n.publishStatusText;t.forEach((function(e){if(e.indexOf("status:")>-1)switch(e.split(": ")[1]){case d.Published:o=d.Published,a=i.nls("appListPublished");break;case d.Draft:o=d.Draft,a=i.nls("appListDraft");break;case d.Changed:o=d.Changed,a=i.nls("unpublishedChanges")}})),i.setState({publishStatus:o,publishStatusText:a})},i.isHideEditDropBtn=function(){return!!i.state.isDevEdition||!i.props.appItem.isDefaultTemplate&&void 0},i.nls=function(e,t){return void 0===t&&(t=!1),t?i.props.intl?i.props.intl.formatMessage({id:e,defaultMessage:m.defaultMessages[e]}):e:i.props.intl?i.props.intl.formatMessage({id:e,defaultMessage:y[e]}):e},i.getFavoriteStatus=function(e){var t=i.props.appItem;return e.indexOf(t.id)>-1},i.judgeUserEditPrivileges=function(e){void 0===e&&(e=Object(m.Immutable)([]));var t=i.props,n=t.appItem,o=t.capabilities,a=null==n?void 0:n.userRole,r=n.isDefaultTemplate,s=n.isExbTeamCommonTemplate,l=Object(m.getAppStore)().getState().user,p=o.canUpdateExperience,d=o.canDeleteExperience,u=o.canViewExperience,h=o.canCreateExperience,g=e.asMutable().indexOf(n.id)>-1,f={canDelete:!1,canEdit:!1,canCreate:!1,canView:!1};f.canEdit=p||!1,f.canDelete=d||!1,f.canView=u||!1,f.canCreate=h||!1,g&&(f.canDelete=!1,f.canEdit=p,f.canCreate=h);var v=i.checkIsOwner()||a==c.OrgAdmin&&(null==n?void 0:n.isOrgItem);return v&&(f.canDelete=d,f.canEdit=p,f.canCreate=h),(r||s&&"ExB_team"!=(null==l?void 0:l.username))&&(f.canDelete=!1,f.canEdit=!1,f.canCreate=h),g||v||(f.canDelete=!1,f.canEdit=!1),Object(m.Immutable)(f)},i.state={tooltipOpen:!1,itemSelected:!1,isShowAlertPopup:!1,IconPlay:n(10),IconPeople:n(11),IconAppPreview:n(12),IconToolEdit:n(13),IconAdd:n(3),IconSharedEveryone:n(14),IconSharedGroup:n(15),IconSharedNoOne:n(16),IconSharedOrganization:n(17),star:n(18),view16:n(19),starOutline:n(20),isDevEdition:window.jimuConfig.isDevEdition,thumbnail:"",detailUrl:"",limitsTips:"",publishStatus:"",publishStatusText:""},i}return z(t,e),t.prototype.componentDidMount=function(){this.initExtraState(),this.getPublishStatus(this.props.appItem)},t.prototype.getQueryString=function(e){return m.queryString.parse(window.location.search)[e]||""},t}(m.React.PureComponent),F=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.IconPlay,i=t.IconAppPreview,o=t.IconToolEdit,a=t.IconAdd,r=t.isDevEdition,s=t.isShowAlertPopup,l=t.publishStatus,p=t.publishStatusText,c=t.star,u=t.starOutline,h=this.props.appItem,g=h.id,f=h.type,v=this.props,b=v.updateAppList,y=v.appIndex,j=!!this.props.appItem.isExbTeamCommonTemplate,O=this.getShareState(this.props.appItem.access),I=this.getFavoriteStatus(this.props.allFavoritesIdData),k=this.judgeUserEditPrivileges(this.props.updateGroupItemId),S=this.props.isTemplateList?"template":"experience";return m.React.createElement(x.Consumer,null,(function(t){var h=t.createApp,v=t.favoriteTogle;return m.React.createElement(w.Card,{button:!0,className:"detailview-item",onClick:e.handleItemClick,style:{position:"relative",cursor:e.props.isTemplateList?"auto":"pointer"}},m.React.createElement("div",{className:"h-100 w-100",style:{position:"absolute"},"data-testid":"card-item"},m.React.createElement("div",{className:"w-100 app-list-detailview-pic position-relative",style:{backgroundImage:"url("+e.getThumbnail()+")"}},l&&m.React.createElement("div",{className:Object(m.classNames)("publish-status position-absolute text-truncate",l),title:p},p)),m.React.createElement(w.CardBody,{className:"w-100  justify-content-between flex-column item-message-con",style:{height:"48%"}},m.React.createElement("h2",{className:"app-list-h2 item-card-title",title:e.props.appItem.title},e.props.appItem.title),m.React.createElement("div",{className:"app-list-h3 app-list-detailview-name",title:e.props.appItem.owner},e.props.appItem.owner),m.React.createElement("div",{className:"app-list-h3 app-list-detailview-time"},e.props.appItem.modified&&m.React.createElement(m.FormattedDate,{value:new Date(e.props.appItem.modified),year:"numeric",month:"2-digit",day:"2-digit"})),!e.props.isTemplateList&&m.React.createElement("div",{className:"d-flex justify-content-between align-items-center edit-item-con"},r?m.React.createElement("div",{className:"app-list-h3"}):m.React.createElement("div",{className:"app-list-h3 item-views-number",title:e.nls("applistItemViews")+": "+e.props.appItem.numViews},m.React.createElement(w.Button,{rel:"noreferrer",title:e.nls("applistItemViews")+": "+e.props.appItem.numViews,type:"tertiary",className:"pl-1 pr-1 border-0 mr-1",onClick:e.viewDetails},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:e.state.view16})),m.React.createElement("span",null,e.props.appItem.numViews)),m.React.createElement("div",{className:"d-flex align-items-center item-btn-box"},!r&&m.React.createElement(w.Button,{rel:"noreferrer",title:O.tips,type:"tertiary",className:"pl-1 pr-1 app-item-launch border-0 mr-2",onClick:e.viewDetails},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:O.icon})),!r&&k.canView&&m.React.createElement(w.Button,{rel:"noreferrer",title:I?e.nls("removeFromFavorites"):e.nls("addFavorites"),type:"tertiary",className:Object(m.classNames)("pl-1 pr-1 app-item-launch border-0 mr-2",{favorite:I}),onClick:function(t){e.appLaunch(t),v(I,g)}},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:I?c:u})),k.canView&&m.React.createElement(w.Button,{type:"tertiary",tag:"a",href:window.jimuConfig.useStructuralUrl?""+window.jimuConfig.mountPath+S+"/"+e.props.appItem.id+"/":""+window.jimuConfig.mountPath+S+"/?id="+e.props.appItem.id,rel:"noreferrer",target:"_blank",title:e.nls("launchApp"),className:" pl-1 pr-1 app-item-launch border-0 margin-4",onClick:e.appLaunch},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:n})),m.React.createElement(A,{appIndex:y,updateAppList:b,className:"app-item-more",portalUrl:e.props.portalUrl,intl:e.props.intl,appItem:e.props.appItem,folderUrl:e.props.folderUrl,isOwner:e.checkIsOwner(),isPublish:l!=d.Draft,isTemplateList:e.props.isTemplateList,folderListData:e.props.folderListData,editPrivileges:k}))),e.props.isTemplateList&&m.React.createElement("div",{className:"d-flex justify-content-between align-items-center edit-item-con"},m.React.createElement("div",{className:"item-btn-box template-item-btn-box"},k.canView&&m.React.createElement(w.Button,{type:"tertiary",tag:"a",href:e.getPreviewUrl(),rel:"noreferrer",target:"_blank",title:e.nls("launchApp"),className:"float-left pl-1 pr-1 app-item-launch border-0 mr-2",onClick:e.appLaunch},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:i})),!r&&"Web Experience"!=f&&k.canView&&m.React.createElement(w.Button,{rel:"noreferrer",title:I?e.nls("removeFromFavorites"):e.nls("addFavorites"),type:"tertiary",className:Object(m.classNames)("pl-1 pr-1 app-item-launch border-0 mr-2 float-left",{favorite:I}),onClick:function(t){e.appLaunch(t),v(I,g)}},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:I?c:u})),k.canEdit&&m.React.createElement(w.Button,{rel:"noreferrer",type:"tertiary",className:"float-left pl-1 pr-1 app-item-launch border-0 mr-2",title:e.nls("appListEdit"),onClick:e.editTemplateClick},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:o})),k.canCreate&&l!=d.Draft&&m.React.createElement(w.Button,{rel:"noreferrer",type:"tertiary",className:"float-left pl-1 pr-1 app-item-launch border-0 mr-2",onClick:function(t){e.appLaunch(t),h(g,j)},title:e.nls("createNewTitle")},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:a}))),m.React.createElement("div",{className:"d-flex align-items-center item-btn-box"},m.React.createElement(A,{className:"float-right app-item-more",appIndex:y,updateAppList:b,portalUrl:e.props.portalUrl,intl:e.props.intl,appItem:e.props.appItem,folderUrl:e.props.folderUrl,isOwner:e.checkIsOwner(),isPublish:l!=d.Draft,isTemplateList:e.props.isTemplateList,folderListData:e.props.folderListData,editPrivileges:k}))))),m.React.createElement(w.AlertPopup,{isOpen:s,title:e.nls("popUpTitle"),hideCancel:!0,toggle:e.handleToggle},m.React.createElement("div",{style:{fontSize:"1rem"}},e.nls("noEditContentPrivilegesError",!0))))}))},t}(R),U=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),B=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},V=function(e){function t(t){var n=e.call(this,t)||this;return n.renderCardSkeleton=function(){return Object(m.jsx)(w.Card,{button:!0,className:"detailview-item",css:n.getStyle()},Object(m.jsx)("div",{className:"h-100 w-100"},Object(m.jsx)("div",{className:"w-100 app-list-detailview-pic position-relative skeleton-pic"}),Object(m.jsx)(w.CardBody,{className:"w-100  justify-content-between flex-column item-message-con",style:{height:"48%"}},Object(m.jsx)("h2",{className:"app-list-h2 item-card-title skeleton-title"}),Object(m.jsx)("div",{className:"app-list-h3 app-list-detailview-name skeleton-name"}),Object(m.jsx)("div",{className:"app-list-h3 app-list-detailview-time skeleton-time"}),Object(m.jsx)("div",{className:"d-flex align-items-center item-btn-box skeleton-btn-box position-relative"},Object(m.jsx)("div",null,Object(m.jsx)("span",{className:"skeleton-btn"}),Object(m.jsx)("span",{className:"skeleton-btn skeleton-lg-btn"})),Object(m.jsx)("div",{className:"text-right flex-grow-1 right-btn-con"},Object(m.jsx)("span",{className:"skeleton-btn"}),Object(m.jsx)("span",{className:"skeleton-btn"}),Object(m.jsx)("span",{className:"skeleton-btn"}),Object(m.jsx)("span",{className:"skeleton-btn"}))))))},n.renderListSkeleton=function(){var e=window.jimuConfig.isDevEdition;return Object(m.jsx)("div",{className:"mb-3 ml-0 mr-0 position-relative app-item-backcolor listview-item item-list-con d-flex",css:n.getStyle()},Object(m.jsx)("div",{className:"p-0 position-absolute app-list-listview-pic-con"},Object(m.jsx)("div",{className:"app-list-listview-pic skeleton-list-pic"})),Object(m.jsx)("div",{className:Object(m.classNames)("d-flex align-items-center item-list-name-con",{"item-list-name-con-dev":e})},Object(m.jsx)("div",{className:"app-list-h2 d-flex align-items-center"},Object(m.jsx)("div",{className:"flex-grow-1 text-truncate skeleton-list-title"}))),Object(m.jsx)("div",{className:"d-flex align-items-center item-list-owner "},Object(m.jsx)("div",{className:"app-list-h3 app-list-listview-name item-list-border-l"},Object(m.jsx)("span",{className:"skeleton-list-name"}))),Object(m.jsx)("div",{className:"d-flex align-items-center item-list-border-l item-list-time"},Object(m.jsx)("div",{className:"app-list-h3 skeleton-list-time"})),!e&&Object(m.jsx)("div",{className:"d-flex align-items-center item-list-border-l app-list-views-con app-list-views"},!n.props.isTemplateList&&Object(m.jsx)("div",{className:"app-list-h3 app-list-listview-view"},Object(m.jsx)("span",{className:"skeleton-btn cir-btn"}),Object(m.jsx)("span",{className:"skeleton-btn skeleton-view-num"}))),Object(m.jsx)("div",{className:Object(m.classNames)("align-items-center d-flex item-list-icon-con justify-content-end skeleton-list-icon-con")},Object(m.jsx)("span",{className:"skeleton-btn cir-btn mr-16"}),Object(m.jsx)("span",{className:"skeleton-btn cir-btn mr-16"}),Object(m.jsx)("span",{className:"skeleton-btn cir-btn mr-16"}),Object(m.jsx)("span",{className:"skeleton-btn cir-btn mr-16"})))},n}return U(t,e),t.prototype.getStyle=function(){var e,t,n,i,o,a,r,s,l,p=this.props.theme;return Object(m.css)(v||(v=B(["\n      .skeleton-pic, .skeleton-time, .skeleton-name,\n      .skeleton-title, .skeleton-btn, .skeleton-list-pic,\n      .skeleton-list-title, .skeleton-list-name, .skeleton-list-time {\n        background: ",";\n      }\n      .item-message-con {\n        .skeleton-title {\n          height: ",";\n        }\n        .skeleton-name {\n          height: ",";\n          width: ",";\n          margin-bottom: ",";\n        }\n        .skeleton-time {\n          height: ",";\n          width: ",";\n          margin-bottom: ",";\n        }\n        .skeleton-btn-box {\n          border-top: 1px solid ",";\n          box-sizing: border-box;\n          padding-top: ",";\n        }\n        .skeleton-btn {\n          display: inline-block;\n          width: ",";\n          height: ",";\n          border-radius: 50%;\n          margin-right: ",";\n        }\n        .skeleton-lg-btn {\n          border-radius: 0;\n          width: ",";\n        }\n        .right-btn-con .skeleton-btn {\n          margin-right: 0;\n          margin-left: ",";\n        }\n      }\n      &.listview-item {\n        .item-list-owner .app-list-listview-name {\n          margin-top: 0;\n        }\n        .app-list-listview-pic-con .skeleton-list-pic{\n          background: ",";\n        }\n        .skeleton-list-title {\n          width: ",";\n          height: ",";\n        }\n        .skeleton-list-name {\n          display: inline-block;\n          width: ",";\n          height: ",";\n        }\n        .skeleton-list-time {\n          width: ",";\n          height: ",";\n        }\n        .cir-btn {\n          display: inline-block;\n          width: ",";\n          height: ",";\n          border-radius: 50%;\n        }\n        .skeleton-view-num {\n          width: ",";\n          height: ",";\n          margin-left: ",";\n        }\n        .mr-16 {\n          margin-right: ",";\n        }\n      }\n    "],["\n      .skeleton-pic, .skeleton-time, .skeleton-name,\n      .skeleton-title, .skeleton-btn, .skeleton-list-pic,\n      .skeleton-list-title, .skeleton-list-name, .skeleton-list-time {\n        background: ",";\n      }\n      .item-message-con {\n        .skeleton-title {\n          height: ",";\n        }\n        .skeleton-name {\n          height: ",";\n          width: ",";\n          margin-bottom: ",";\n        }\n        .skeleton-time {\n          height: ",";\n          width: ",";\n          margin-bottom: ",";\n        }\n        .skeleton-btn-box {\n          border-top: 1px solid ",";\n          box-sizing: border-box;\n          padding-top: ",";\n        }\n        .skeleton-btn {\n          display: inline-block;\n          width: ",";\n          height: ",";\n          border-radius: 50%;\n          margin-right: ",";\n        }\n        .skeleton-lg-btn {\n          border-radius: 0;\n          width: ",";\n        }\n        .right-btn-con .skeleton-btn {\n          margin-right: 0;\n          margin-left: ",";\n        }\n      }\n      &.listview-item {\n        .item-list-owner .app-list-listview-name {\n          margin-top: 0;\n        }\n        .app-list-listview-pic-con .skeleton-list-pic{\n          background: ",";\n        }\n        .skeleton-list-title {\n          width: ",";\n          height: ",";\n        }\n        .skeleton-list-name {\n          display: inline-block;\n          width: ",";\n          height: ",";\n        }\n        .skeleton-list-time {\n          width: ",";\n          height: ",";\n        }\n        .cir-btn {\n          display: inline-block;\n          width: ",";\n          height: ",";\n          border-radius: 50%;\n        }\n        .skeleton-view-num {\n          width: ",";\n          height: ",";\n          margin-left: ",";\n        }\n        .mr-16 {\n          margin-right: ",";\n        }\n      }\n    "])),null===(n=null===(t=null===(e=null==p?void 0:p.colors)||void 0===e?void 0:e.palette)||void 0===t?void 0:t.secondary)||void 0===n?void 0:n[600],m.polished.rem(32),m.polished.rem(18),m.polished.rem(173),m.polished.rem(12),m.polished.rem(18),m.polished.rem(120),m.polished.rem(12),null===(a=null===(o=null===(i=null==p?void 0:p.colors)||void 0===i?void 0:i.palette)||void 0===o?void 0:o.secondary)||void 0===a?void 0:a[600],m.polished.rem(10),m.polished.rem(16),m.polished.rem(16),m.polished.rem(4),m.polished.rem(32),m.polished.rem(16),null===(l=null===(s=null===(r=null==p?void 0:p.colors)||void 0===r?void 0:r.palette)||void 0===s?void 0:s.secondary)||void 0===l?void 0:l[600],m.polished.rem(200),m.polished.rem(22),m.polished.rem(120),m.polished.rem(22),m.polished.rem(74),m.polished.rem(22),m.polished.rem(16),m.polished.rem(16),m.polished.rem(32),m.polished.rem(18),m.polished.rem(4),m.polished.rem(16))},t.prototype.render=function(){return this.props.isCardSkeleton?this.renderCardSkeleton():this.renderListSkeleton()},t}(m.React.PureComponent),G=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),H=function(e){function t(t){var n=e.call(this,t)||this;return n.renderSkeleton=function(){for(var e,t=[],i=n.context.skeletonNum||6,o=0;o<i;o++)t.push(m.React.createElement(V,{key:o,theme:null===(e=null==n?void 0:n.context)||void 0===e?void 0:e.theme,isTemplateList:n.props.isTemplateList,isCardSkeleton:!0}));return t},n}return G(t,e),t.prototype.getViewContent=function(){var e,t=this,n=this.props.apps.length,i=this.props,o=i.isPrivilegeCheckEnd,a=i.updateAppList;return m.React.createElement("div",{className:"app-list-detailview-content","data-testid":"app-item-list-card"},n>0&&this.props.apps.map((function(e,n){return m.React.createElement(_,{appIndex:n,updateAppList:a,allFavoritesIdData:t.props.allFavoritesIdData,updateGroupItemId:t.props.updateGroupItemId,portalUrl:t.props.portalUrl,intl:t.props.intl,key:e.id,folderUrl:t.props.folderUrl,appItem:e.asMutable({deep:!0}),itemIdx:n,capabilities:t.props.capabilities,folderListData:t.props.folderListData,isPrivilegeCheckEnd:o,isTemplateList:t.props.isTemplateList})})),(null===(e=null==this?void 0:this.context)||void 0===e?void 0:e.isLoadSkeleton)&&this.renderSkeleton())},t.prototype.render=function(){var e=this.getViewContent();return m.React.createElement("div",{className:"app-list-detailview"},e)},t.contextType=x,t}(m.React.PureComponent),W=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.IconPlay,i=t.IconAppPreview,o=t.IconToolEdit,a=t.IconAdd,r=t.isDevEdition,s=t.publishStatus,l=t.publishStatusText,p=t.star,c=t.starOutline,u=this.props,h=u.isTemplateList,g=u.appIndex,f=u.appItem,v=u.updateAppList,b=f.id,y=f.modified,j=f.type,O=!!this.props.appItem.isExbTeamCommonTemplate,I=this.getShareState(this.props.appItem.access),k=this.getFavoriteStatus(this.props.allFavoritesIdData),S=this.judgeUserEditPrivileges(this.props.updateGroupItemId),T=this.props.isTemplateList?"template":"experience";return m.React.createElement(x.Consumer,null,(function(t){var u=t.createApp,f=t.favoriteTogle;return m.React.createElement("div",{onClick:e.handleItemClick,style:{cursor:h?"auto":"pointer"},className:Object(m.classNames)("mb-3 ml-0 mr-0 position-relative app-item-backcolor  listview-item item-list-con d-flex"),onMouseEnter:function(){e.setState({itemSelected:!0})},onMouseLeave:function(){e.setState({itemSelected:!1})},"data-testid":"list-item"},m.React.createElement("div",{className:"p-0 position-absolute app-list-listview-pic-con"},m.React.createElement("div",{className:"app-list-listview-pic",style:{backgroundImage:"url("+e.getThumbnail()+")"}})),m.React.createElement("div",{className:Object(m.classNames)("d-flex align-items-center item-list-name-con",{"item-list-name-con-dev":r})},m.React.createElement("div",{className:"app-list-h2 d-flex align-items-center",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:e.props.appItem.title},m.React.createElement("div",{className:"flex-grow-1 text-truncate"},e.props.appItem.title),s&&m.React.createElement("div",{className:Object(m.classNames)("publish-status text-truncate list-publish-status ",s),title:l},l))),m.React.createElement("div",{className:"d-flex align-items-center item-list-owner "},m.React.createElement("div",{className:"app-list-h3 app-list-listview-name item-list-border-l",title:e.props.appItem.owner},e.props.appItem.owner)),m.React.createElement("div",{className:"d-flex align-items-center item-list-border-l item-list-time"},m.React.createElement("div",{className:"app-list-h3"},y&&m.React.createElement(m.FormattedDate,{value:new Date(e.props.appItem.modified),year:"numeric",month:"2-digit",day:"2-digit"}))),!r&&m.React.createElement("div",{title:e.nls("applistItemViews")+": "+e.props.appItem.numViews,className:"d-flex align-items-center item-list-border-l app-list-views-con app-list-views"},!h&&m.React.createElement("div",{className:"app-list-h3 app-list-listview-view"},m.React.createElement(w.Button,{rel:"noreferrer",title:e.nls("applistItemViews")+": "+e.props.appItem.numViews,type:"tertiary",className:"pl-1 pr-1 border-0 mr-1",onClick:e.viewDetails},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:e.state.view16})),m.React.createElement("span",null,e.props.appItem.numViews))),m.React.createElement("div",{className:Object(m.classNames)("align-items-center d-flex item-list-icon-con justify-content-end",{templateIconCon:h,decIconCon:r})},!h&&m.React.createElement("div",{className:"d-flex align-items-center"},!r&&m.React.createElement(w.Button,{rel:"noreferrer",type:"tertiary",title:I.tips,className:"float-right pl-1 pr-1 app-item-launch border-0 mr-2",onClick:e.viewDetails},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:I.icon})),!r&&S.canView&&m.React.createElement(w.Button,{rel:"noreferrer",title:k?e.nls("removeFromFavorites"):e.nls("addFavorites"),type:"tertiary",className:Object(m.classNames)("pl-1 pr-1 app-item-launch border-0 mr-2",{favorite:k}),onClick:function(t){e.appLaunch(t),f(k,b)}},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:k?p:c})),S.canView&&m.React.createElement("a",{"data-testid":"launchApp",href:window.jimuConfig.useStructuralUrl?""+window.jimuConfig.mountPath+T+"/"+e.props.appItem.id+"/":""+window.jimuConfig.mountPath+T+"/?id="+e.props.appItem.id,rel:"noreferrer",target:"_blank"},m.React.createElement(w.Button,{title:e.nls("launchApp"),className:"float-right  btn  app-item-launch border-0 margin-4",type:"tertiary",onClick:e.appLaunch},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:n}))),m.React.createElement(A,{updateAppList:v,appIndex:g,className:"float-right mr-2",portalUrl:e.props.portalUrl,intl:e.props.intl,appItem:e.props.appItem,folderUrl:e.props.folderUrl,isOwner:e.checkIsOwner(),isPublish:s!=d.Draft,isTemplateList:h,folderListData:e.props.folderListData,editPrivileges:S})),h&&m.React.createElement("div",{className:Object(m.classNames)("d-flex align-items-center justify-content-end",!e.checkIsOwner()&&"icon-con-padding-r")},S.canView&&m.React.createElement(w.Button,{type:"tertiary",tag:"a",href:window.jimuConfig.useStructuralUrl?"../"+T+"/"+e.props.appItem.id+"/":"../"+T+"/?id="+e.props.appItem.id,rel:"noreferrer",target:"_blank",title:e.nls("launchApp"),className:"float-right pl-1 pr-1 app-item-launch border-0 mr-2",onClick:e.appLaunch},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:i})),!r&&"Web Experience"!=j&&S.canView&&m.React.createElement(w.Button,{rel:"noreferrer",title:k?e.nls("removeFromFavorites"):e.nls("addFavorites"),type:"tertiary",className:Object(m.classNames)("pl-1 pr-1 app-item-launch border-0 mr-2 float-right",{favorite:k}),onClick:function(t){e.appLaunch(t),f(k,b)}},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:k?p:c})),S.canEdit&&m.React.createElement(w.Button,{rel:"noreferrer",type:"tertiary",className:"float-right pl-1 pr-1 app-item-launch border-0 mr-2",title:e.nls("appListEdit"),onClick:e.editTemplateClick},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:o})),S.canCreate&&s!=d.Draft&&m.React.createElement(w.Button,{rel:"noreferrer",type:"tertiary",className:"float-right pl-1 pr-1 app-item-launch border-0 margin-4",title:e.nls("createNewTitle"),onClick:function(t){e.appLaunch(t),u(b,O)}},m.React.createElement(w.Icon,{className:"app-list-iconfill mr-0",icon:a})),m.React.createElement(A,{className:"float-right mr-2",updateAppList:v,appIndex:g,portalUrl:e.props.portalUrl,intl:e.props.intl,appItem:e.props.appItem,folderUrl:e.props.folderUrl,isOwner:e.checkIsOwner(),isTemplateList:h,isPublish:s!=d.Draft,folderListData:e.props.folderListData,editPrivileges:S}))),m.React.createElement(w.AlertPopup,{isOpen:e.state.isShowAlertPopup,title:e.nls("popUpTitle"),hideCancel:!0,toggle:e.handleToggle},m.React.createElement("div",{style:{fontSize:"1rem"}},e.nls("noEditContentPrivilegesError",!0))))}))},t}(R),Q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Y=function(e){function t(t){var n=e.call(this,t)||this;return n.renderSkeleton=function(){for(var e,t=n.context.skeletonNum||6,i=[],o=0;o<t;o++)i.push(m.React.createElement(V,{key:o,theme:null===(e=null==n?void 0:n.context)||void 0===e?void 0:e.theme,isCardSkeleton:!1,isTemplateList:n.props.isTemplateList}));return i},n.toggle=function(){n.setState({tooltipOpen:!n.state.tooltipOpen})},n.state={tooltipOpen:!1},n}return Q(t,e),t.prototype.getViewContent=function(){var e=this,t=this.props.apps.length,n=this.props,i=n.isPrivilegeCheckEnd,o=n.updateAppList;if(t<1)return null;var a;return a=this.props.apps.map((function(t,n){return m.React.createElement(q,{appIndex:n,updateAppList:o,allFavoritesIdData:e.props.allFavoritesIdData,updateGroupItemId:e.props.updateGroupItemId,portalUrl:e.props.portalUrl,folderUrl:e.props.folderUrl,key:t.id,itemIdx:n,appItem:t.asMutable({deep:!0}),intl:e.props.intl,capabilities:e.props.capabilities,folderListData:e.props.folderListData,isPrivilegeCheckEnd:i,isTemplateList:e.props.isTemplateList})})),m.React.createElement(w.Container,{className:"app-list-listview-container",style:{maxWidth:"100%"}},a)},t.prototype.render=function(){var e,t=this.getViewContent();return m.React.createElement("div",{className:"app-list-listview w-100","data-testid":"app-item-list-list"},t,m.React.createElement(w.Container,{className:"app-list-listview-container",style:{maxWidth:"100%"}},(null===(e=null==this?void 0:this.context)||void 0===e?void 0:e.isLoadSkeleton)&&this.renderSkeleton()))},t.contextType=x,t}(m.React.PureComponent),K=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$=function(e){function t(t){return e.call(this,t)||this}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.apps,n=e.isDetailContent,i=e.portalUrl,o=e.intl,a=e.folderUrl,r=e.switchListView,s=e.isTemplateList,l=e.allFavoritesIdData,p=e.capabilities,c=e.updateGroupItemId,d=e.folderListData,u=e.isPrivilegeCheckEnd,h=e.updateAppList;return m.React.createElement("div",{className:"app-list-view"},n&&m.React.createElement(H,{updateAppList:h,allFavoritesIdData:l,updateGroupItemId:c,portalUrl:i,intl:o,folderUrl:a,apps:t,capabilities:p,switchListView:r,folderListData:d,isPrivilegeCheckEnd:u,isTemplateList:s}),!n&&m.React.createElement(Y,{updateAppList:h,allFavoritesIdData:l,updateGroupItemId:c,portalUrl:this.props.portalUrl,intl:this.props.intl,folderUrl:a,apps:t,capabilities:p,switchListView:r,folderListData:d,isPrivilegeCheckEnd:u,isTemplateList:s}))},t}(m.React.PureComponent),X=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};function J(e){return Object(m.css)(b||(b=X(["\n    &.invalid-message {\n      text-align: center;\n      top: 50%;\n      font-size: ",";\n      color: ",";\n      min-width: ",";\n      width: 100%;\n      box-sizing: border-box;\n      padding:0 ",";\n    }\n    .loading-con {\n      position: fixed;\n      left: 0;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      background: ",";\n    }\n    .widget-builder-app-list {\n      overflow-y: auto;\n\n      .widget-builder-app-list-screen {\n        width:824px;\n        margin: auto;\n      }\n\n      button.app-list-newapp:hover{\n        color: "," !important;\n      }\n\n      .modal-content {\n        background:none;\n      }\n\n      .app-list-newapp {\n        padding-left: ",";\n        padding-right: ",";\n        font-size: ",";\n        margin-left: ",";\n        height:",";\n        white-space: nowrap;\n        .app-list-newapp-icon {\n          margin-right: ",";\n        }\n      }\n\n      .app-list-search-container {\n        padding-left: ",";\n        padding-right: ",";\n      }\n\n      .app-list-h1 {\n        font-size: ",";\n      }\n\n      .app-list-h2 {\n        font-size: ",";\n      }\n\n      .app-list-h3 {\n        font-size: ",";\n      }\n\n      .app-list-maxwidth {\n        max-width: ","rem;\n        top:40px;\n      }\n\n      .app-list-banner {\n        overflow: hidden;\n        width: 100%;\n        height: ","rem;\n        align-items: center;\n        .list-title {\n          font-size:","rem;\n          color: ",";\n          margin-bottom: 0;\n        }\n      }\n\n      .app-list-filterbar {\n        margin-left: auto;\n        margin-right: auto;\n        width: 100%;\n        padding-top: ","rem;\n        padding-bottom: ","rem;\n        border-top: 1px solid ",";\n        .search-con {\n          position:relative;\n          align-items:center;\n          border-radius:2px;\n          background:",";\n          /* width:","; */\n          width:",";\n        }\n        .app-list-switchview-con {\n          border-radius: 2px;\n          overflow:hidden;\n          display: inline-block;\n          vertical-align: middle;\n        }\n        .app-list-switchview {\n          border-radius: 0;\n        }\n        .app-list-switchview-right {\n          border-radius: 0;\n        }\n        .app-list-searchIconFill {\n          padding-left: ",";\n          color: ",";\n        }\n        .app-list-searchbox:focus + .clear-con{\n          display: block;\n        }\n        .clear-con {\n          right: ",";\n          cursor: pointer;\n          color: ",";\n          transition: all ease .5s;\n          /* display: none; */\n        }\n        .clear-con:hover {\n          color: ",";\n        }\n        .app-list-searchbox {\n          color: ",";\n          padding-left: ","rem !important;\n          width: 100%;\n          height: ","rem;\n          font-size:","rem;\n          box-sizing: border-box;\n          padding-right: ",";\n        }\n        .app-list-searchbox::-ms-clear{\n          display: none;\n        }\n        .app-list-searchbox::-webkit-input-placeholder {\n          color: ",";\n        }\n        .app-list-searchbox:-moz-placeholder {\n          color: ",";\n        }\n        .app-list-searchbox:-ms-input-placeholder {\n          color: ",";\n        }\n        .filterbar-input {\n          width: ","rem;\n          margin-right:",";\n          height:",";\n          line-height:",";\n          padding-top:0;\n          padding-bottom:0;\n          cursor: pointer;\n          display: inline-block;\n          vertical-align: middle;\n        }\n\n        .app-list-filterbar-title {\n          padding-left: ",";\n          padding-right: ",";\n        }\n      }\n      .favorite {\n        color: ",";\n      }\n      .margin-4 {\n        margin-right: ",";\n      }\n      .app-list-item-scroll-con {\n        height: calc(100% - 200px);\n        overflow-y: auto;\n        min-width: 824px;\n      }\n      .app-list-content {\n        width: 100%;\n        padding-bottom: ","rem;\n      }\n      .top-space {\n        height: ","rem;\n      }\n      .app-list-detailview {\n        width: 100%;\n\n        .app-list-detailview-name {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          /* max-width: ","; */\n        }\n\n        .app-list-detailview-content {\n          width: 100%;\n\n          display: flex;\n          flex-wrap: wrap;\n\n          .app-list-detailview-pic {\n            background-size: cover;\n            background-position: center center;\n            background-repeat: no-repeat;\n            height: ",";\n          }\n          .app-list-detailview-pic-cursor {\n            cursor: pointer;\n          }\n        }\n\n        .dropdown-toggle::after {\n          display: none !important;\n        }\n      }\n\n      .app-list-listview {\n\n        .app-list-listview-name {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        .app-list-listview-view {\n          &{\n            width: 100%;\n            overflow: hidden;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n          }\n          button {\n            vertical-align: middle;\n          }\n          button:hover {\n            color:",";\n          }\n          span {\n            display: inline-block;\n            vertical-align: middle;\n            margin-bottom: ",";\n            color:",";\n          }\n        }\n        .app-list-views-con {\n          padding-right: 5px;\n        }\n        .app-list-listview-container {\n          position: relative;\n          padding-left: ",";\n          padding-right: ",";\n        }\n\n        .app-list-listview-pic {\n          width:",";\n          height:",";\n          left:0;\n          top:0;\n          background-size: cover;\n          background-position: center center;\n          background-color: ",";\n          position: inherit;\n        }\n        .app-list-detailview-pic-cursor {\n          cursor: pointer;\n        }\n        .app-list-listview-pic-con {\n          z-index: 10;\n        }\n      }\n\n      .detailview-item {\n        width: ",";\n        height: ",";\n        margin: 0 "," "," ",";\n        border: 1px solid ",";\n        background: ","\n      }\n\n      .app-item-more {\n        margin-right: -0.625rem;\n      }\n\n      .app-item-backcolor {\n        background-color: ",";\n      }\n\n      .app-item-launch:focus {\n        outline: none;\n        box-shadow: none !important;\n      }\n      .icon-con-padding-r {\n        padding-right:",";\n      }\n      .app-list-icon-margin {\n        fill: #BCC4CD !important;\n        margin-right: 0;\n        margin-left: 0;\n      }\n\n      .app-list-dropdown {\n        padding: 0;\n        margin: 0;\n        min-width: 0;\n      }\n\n      .dropdown-toggle::after {\n        display: none !important;\n      }\n\n      .app-list-searchIconFill {\n        fill: "," !important;\n        color: "," !important;\n      }\n\n      .item-message-con {\n        padding:",";\n        padding-bottom:0;\n      }\n      .item-card-title {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n        height:",";\n        color:",";\n        font-size:","rem;\n        margin-bottom:",";\n      }\n      .app-list-detailview-name, .app-list-detailview-time {\n        color:",";\n        font-size:","rem;\n        line-height:","rem;\n        min-height:","rem;\n        margin-bottom:",";\n      }\n      .edit-item-con {\n        & {\n          border-top:1px solid ",";\n          padding-top:",";\n        }\n        .item-views-number {\n          color:",";\n          max-width: ",";\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n        }\n        .item-views-number button {\n          vertical-align: middle;\n        }\n        .item-views-number button:hover {\n          color:",";\n        }\n        .item-views-number span {\n          display: inline-block;\n          line-height: ",";\n          vertical-align: middle;\n          margin-bottom: ",";\n        }\n        .template-item-btn-box {\n          margin-left: ",";\n        }\n      }\n      .description-con {\n        & {\n          background-color: ",";\n          left:0;\n          top:0;\n          right:0;\n          bottom:0;\n          box-sizing: border-box;\n          padding:",";\n          color:",";\n          font-size:","rem;\n          opacity: 0;\n          transition: all ease .2s;\n          overflow-y:scroll;\n        }\n        div {\n\n        }\n      }\n      .dropdown-toggle svg.jimu-icon {\n        transform: rotate(0deg);\n        margin-right: 3px;\n      }\n      .app-list-detailview-pic:hover .description-con {\n        opacity: 1;\n      }\n      .publish-status {\n        background: ",";\n        height: ",";\n        line-height: ",";\n        right: ",";\n        top: ",";\n        color: ",";\n        padding: 0 ",";\n        border-radius: 2px;\n        font-size: ",";\n        box-sizing: border-box;\n        font-weight: bold;\n      }\n      .list-publish-status {\n        max-width: ",";\n        margin: 0 "," 0 ",";\n        min-width: ",";\n        text-align: center;\n      }\n      .Published {\n        color: ",";\n        background: ",";\n      }\n      .Changed {\n        color: ",";\n        background: ",";\n      }\n      .item-list-con {\n        & {\n          height:",";\n          background: ",";\n          border: 2px solid ",";;\n          transition: all ease .3s;\n        }\n        &:hover {\n          border: 2px solid ",";\n        }\n        .item-list-name-con {\n          padding-left:",";\n          font-size:","rem;\n          color:",";\n          flex-grow: 1;\n          max-width: 36%;\n        }\n        .item-list-owner {\n          width: ",";\n          box-sizing: border-box;\n        }\n        .item-list-time {\n          width: ",";\n        }\n        .app-list-views {\n          width: ",";\n        }\n        .item-list-icon-con {\n          padding-right:0;\n          width: ",";\n        }\n\n        .item-list-icon-con>div {\n          height: ",";\n        }\n        .item-list-name-con-dev {\n          max-width: 46%;\n        }\n        .item-list-name-con-default {\n          max-width: 83%;\n        }\n        .app-list-h3 {\n          color:",";\n        }\n        .item-list-border-l {\n          border-left: 1px solid ",";\n          box-sizing:border-box;\n          padding-left:",";\n          height:",";\n          margin-top:",";\n          box-sizing: border-box;\n        }\n\n      }\n      @media only screen and (min-width: 1280px) {\n        .widget-builder-app-list-screen {\n          width:1100px;\n        }\n        .app-list-filterbar .search-con {\n            width:",";\n        }\n        .app-list-filterbar .filterbar-input {\n          width: ",";\n          margin-right:",";\n        }\n        .item-list-con {\n          .item-list-name-con {\n            max-width: 53%;\n          }\n          .item-list-name-con-dev {\n            max-width: 60%;\n          }\n          .item-list-name-con-default {\n            max-width: 88%;\n          }\n        }\n      }\n      @media only screen and (min-width: 1400px) {\n        .widget-builder-app-list-screen {\n            width:1372px;\n        }\n        .app-list-filterbar .filterbar-input {\n          width: ",";\n        }\n        .item-list-con {\n          .item-list-name-con{\n            max-width: 48%;\n          }\n          .item-list-owner {\n            width: ",";\n          }\n          .item-list-time {\n            width: ",";\n          }\n          .app-list-views {\n            width: ",";\n          }\n          .item-list-name-con-dev {\n            max-width: 59%;\n          }\n          .item-list-name-con-default {\n            max-width: 90%;\n          }\n        }\n      }\n\n      @media only screen and (min-width: 1680px) {\n        .widget-builder-app-list-screen {\n            width:1654px;\n        }\n        .item-list-con {\n          .item-list-name-con{\n            max-width: 57.5%;\n          }\n          .item-list-name-con-dev {\n            max-width: 64%;\n          }\n          .item-list-name-con-default {\n            max-width: 90%;\n          }\n        }\n      }\n    }\n  "],["\n    &.invalid-message {\n      text-align: center;\n      top: 50%;\n      font-size: ",";\n      color: ",";\n      min-width: ",";\n      width: 100%;\n      box-sizing: border-box;\n      padding:0 ",";\n    }\n    .loading-con {\n      position: fixed;\n      left: 0;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      background: ",";\n    }\n    .widget-builder-app-list {\n      overflow-y: auto;\n\n      .widget-builder-app-list-screen {\n        width:824px;\n        margin: auto;\n      }\n\n      button.app-list-newapp:hover{\n        color: "," !important;\n      }\n\n      .modal-content {\n        background:none;\n      }\n\n      .app-list-newapp {\n        padding-left: ",";\n        padding-right: ",";\n        font-size: ",";\n        margin-left: ",";\n        height:",";\n        white-space: nowrap;\n        .app-list-newapp-icon {\n          margin-right: ",";\n        }\n      }\n\n      .app-list-search-container {\n        padding-left: ",";\n        padding-right: ",";\n      }\n\n      .app-list-h1 {\n        font-size: ",";\n      }\n\n      .app-list-h2 {\n        font-size: ",";\n      }\n\n      .app-list-h3 {\n        font-size: ",";\n      }\n\n      .app-list-maxwidth {\n        max-width: ","rem;\n        top:40px;\n      }\n\n      .app-list-banner {\n        overflow: hidden;\n        width: 100%;\n        height: ","rem;\n        align-items: center;\n        .list-title {\n          font-size:","rem;\n          color: ",";\n          margin-bottom: 0;\n        }\n      }\n\n      .app-list-filterbar {\n        margin-left: auto;\n        margin-right: auto;\n        width: 100%;\n        padding-top: ","rem;\n        padding-bottom: ","rem;\n        border-top: 1px solid ",";\n        .search-con {\n          position:relative;\n          align-items:center;\n          border-radius:2px;\n          background:",";\n          /* width:","; */\n          width:",";\n        }\n        .app-list-switchview-con {\n          border-radius: 2px;\n          overflow:hidden;\n          display: inline-block;\n          vertical-align: middle;\n        }\n        .app-list-switchview {\n          border-radius: 0;\n        }\n        .app-list-switchview-right {\n          border-radius: 0;\n        }\n        .app-list-searchIconFill {\n          padding-left: ",";\n          color: ",";\n        }\n        .app-list-searchbox:focus + .clear-con{\n          display: block;\n        }\n        .clear-con {\n          right: ",";\n          cursor: pointer;\n          color: ",";\n          transition: all ease .5s;\n          /* display: none; */\n        }\n        .clear-con:hover {\n          color: ",";\n        }\n        .app-list-searchbox {\n          color: ",";\n          padding-left: ","rem !important;\n          width: 100%;\n          height: ","rem;\n          font-size:","rem;\n          box-sizing: border-box;\n          padding-right: ",";\n        }\n        .app-list-searchbox::-ms-clear{\n          display: none;\n        }\n        .app-list-searchbox::-webkit-input-placeholder {\n          color: ",";\n        }\n        .app-list-searchbox:-moz-placeholder {\n          color: ",";\n        }\n        .app-list-searchbox:-ms-input-placeholder {\n          color: ",";\n        }\n        .filterbar-input {\n          width: ","rem;\n          margin-right:",";\n          height:",";\n          line-height:",";\n          padding-top:0;\n          padding-bottom:0;\n          cursor: pointer;\n          display: inline-block;\n          vertical-align: middle;\n        }\n\n        .app-list-filterbar-title {\n          padding-left: ",";\n          padding-right: ",";\n        }\n      }\n      .favorite {\n        color: ",";\n      }\n      .margin-4 {\n        margin-right: ",";\n      }\n      .app-list-item-scroll-con {\n        height: calc(100% - 200px);\n        overflow-y: auto;\n        min-width: 824px;\n      }\n      .app-list-content {\n        width: 100%;\n        padding-bottom: ","rem;\n      }\n      .top-space {\n        height: ","rem;\n      }\n      .app-list-detailview {\n        width: 100%;\n\n        .app-list-detailview-name {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          /* max-width: ","; */\n        }\n\n        .app-list-detailview-content {\n          width: 100%;\n\n          display: flex;\n          flex-wrap: wrap;\n\n          .app-list-detailview-pic {\n            background-size: cover;\n            background-position: center center;\n            background-repeat: no-repeat;\n            height: ",";\n          }\n          .app-list-detailview-pic-cursor {\n            cursor: pointer;\n          }\n        }\n\n        .dropdown-toggle::after {\n          display: none !important;\n        }\n      }\n\n      .app-list-listview {\n\n        .app-list-listview-name {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        .app-list-listview-view {\n          &{\n            width: 100%;\n            overflow: hidden;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n          }\n          button {\n            vertical-align: middle;\n          }\n          button:hover {\n            color:",";\n          }\n          span {\n            display: inline-block;\n            vertical-align: middle;\n            margin-bottom: ",";\n            color:",";\n          }\n        }\n        .app-list-views-con {\n          padding-right: 5px;\n        }\n        .app-list-listview-container {\n          position: relative;\n          padding-left: ",";\n          padding-right: ",";\n        }\n\n        .app-list-listview-pic {\n          width:",";\n          height:",";\n          left:0;\n          top:0;\n          background-size: cover;\n          background-position: center center;\n          background-color: ",";\n          position: inherit;\n        }\n        .app-list-detailview-pic-cursor {\n          cursor: pointer;\n        }\n        .app-list-listview-pic-con {\n          z-index: 10;\n        }\n      }\n\n      .detailview-item {\n        width: ",";\n        height: ",";\n        margin: 0 "," "," ",";\n        border: 1px solid ",";\n        background: ","\n      }\n\n      .app-item-more {\n        margin-right: -0.625rem;\n      }\n\n      .app-item-backcolor {\n        background-color: ",";\n      }\n\n      .app-item-launch:focus {\n        outline: none;\n        box-shadow: none !important;\n      }\n      .icon-con-padding-r {\n        padding-right:",";\n      }\n      .app-list-icon-margin {\n        fill: #BCC4CD !important;\n        margin-right: 0;\n        margin-left: 0;\n      }\n\n      .app-list-dropdown {\n        padding: 0;\n        margin: 0;\n        min-width: 0;\n      }\n\n      .dropdown-toggle::after {\n        display: none !important;\n      }\n\n      .app-list-searchIconFill {\n        fill: "," !important;\n        color: "," !important;\n      }\n\n      .item-message-con {\n        padding:",";\n        padding-bottom:0;\n      }\n      .item-card-title {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n        height:",";\n        color:",";\n        font-size:","rem;\n        margin-bottom:",";\n      }\n      .app-list-detailview-name, .app-list-detailview-time {\n        color:",";\n        font-size:","rem;\n        line-height:","rem;\n        min-height:","rem;\n        margin-bottom:",";\n      }\n      .edit-item-con {\n        & {\n          border-top:1px solid ",";\n          padding-top:",";\n        }\n        .item-views-number {\n          color:",";\n          max-width: ",";\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n        }\n        .item-views-number button {\n          vertical-align: middle;\n        }\n        .item-views-number button:hover {\n          color:",";\n        }\n        .item-views-number span {\n          display: inline-block;\n          line-height: ",";\n          vertical-align: middle;\n          margin-bottom: ",";\n        }\n        .template-item-btn-box {\n          margin-left: ",";\n        }\n      }\n      .description-con {\n        & {\n          background-color: ",";\n          left:0;\n          top:0;\n          right:0;\n          bottom:0;\n          box-sizing: border-box;\n          padding:",";\n          color:",";\n          font-size:","rem;\n          opacity: 0;\n          transition: all ease .2s;\n          overflow-y:scroll;\n        }\n        div {\n\n        }\n      }\n      .dropdown-toggle svg.jimu-icon {\n        transform: rotate(0deg);\n        margin-right: 3px;\n      }\n      .app-list-detailview-pic:hover .description-con {\n        opacity: 1;\n      }\n      .publish-status {\n        background: ",";\n        height: ",";\n        line-height: ",";\n        right: ",";\n        top: ",";\n        color: ",";\n        padding: 0 ",";\n        border-radius: 2px;\n        font-size: ",";\n        box-sizing: border-box;\n        font-weight: bold;\n      }\n      .list-publish-status {\n        max-width: ",";\n        margin: 0 "," 0 ",";\n        min-width: ",";\n        text-align: center;\n      }\n      .Published {\n        color: ",";\n        background: ",";\n      }\n      .Changed {\n        color: ",";\n        background: ",";\n      }\n      .item-list-con {\n        & {\n          height:",";\n          background: ",";\n          border: 2px solid ",";;\n          transition: all ease .3s;\n        }\n        &:hover {\n          border: 2px solid ",";\n        }\n        .item-list-name-con {\n          padding-left:",";\n          font-size:","rem;\n          color:",";\n          flex-grow: 1;\n          max-width: 36%;\n        }\n        .item-list-owner {\n          width: ",";\n          box-sizing: border-box;\n        }\n        .item-list-time {\n          width: ",";\n        }\n        .app-list-views {\n          width: ",";\n        }\n        .item-list-icon-con {\n          padding-right:0;\n          width: ",";\n        }\n\n        .item-list-icon-con>div {\n          height: ",";\n        }\n        .item-list-name-con-dev {\n          max-width: 46%;\n        }\n        .item-list-name-con-default {\n          max-width: 83%;\n        }\n        .app-list-h3 {\n          color:",";\n        }\n        .item-list-border-l {\n          border-left: 1px solid ",";\n          box-sizing:border-box;\n          padding-left:",";\n          height:",";\n          margin-top:",";\n          box-sizing: border-box;\n        }\n\n      }\n      @media only screen and (min-width: 1280px) {\n        .widget-builder-app-list-screen {\n          width:1100px;\n        }\n        .app-list-filterbar .search-con {\n            width:",";\n        }\n        .app-list-filterbar .filterbar-input {\n          width: ",";\n          margin-right:",";\n        }\n        .item-list-con {\n          .item-list-name-con {\n            max-width: 53%;\n          }\n          .item-list-name-con-dev {\n            max-width: 60%;\n          }\n          .item-list-name-con-default {\n            max-width: 88%;\n          }\n        }\n      }\n      @media only screen and (min-width: 1400px) {\n        .widget-builder-app-list-screen {\n            width:1372px;\n        }\n        .app-list-filterbar .filterbar-input {\n          width: ",";\n        }\n        .item-list-con {\n          .item-list-name-con{\n            max-width: 48%;\n          }\n          .item-list-owner {\n            width: ",";\n          }\n          .item-list-time {\n            width: ",";\n          }\n          .app-list-views {\n            width: ",";\n          }\n          .item-list-name-con-dev {\n            max-width: 59%;\n          }\n          .item-list-name-con-default {\n            max-width: 90%;\n          }\n        }\n      }\n\n      @media only screen and (min-width: 1680px) {\n        .widget-builder-app-list-screen {\n            width:1654px;\n        }\n        .item-list-con {\n          .item-list-name-con{\n            max-width: 57.5%;\n          }\n          .item-list-name-con-dev {\n            max-width: 64%;\n          }\n          .item-list-name-con-default {\n            max-width: 90%;\n          }\n        }\n      }\n    }\n  "])),m.polished.rem(16),e.colors.palette.dark[600],m.polished.rem(800),m.polished.rem(50),m.polished.rgba(e.colors.white,.2),e.colors.black,m.polished.rem(16),m.polished.rem(16),m.polished.rem(16),m.polished.rem(20),m.polished.rem(40),m.polished.rem(8),m.polished.rem(16),m.polished.rem(16),m.polished.rem(24),m.polished.rem(16),m.polished.rem(13),75,5,1.25,e.colors.palette.dark[600],1.875,1.875,e.colors.palette.secondary[800],e.colors.palette.light[200],m.polished.rem(257),m.polished.rem(228),m.polished.rem(6),e.colors.palette.dark[600],m.polished.rem(6),e.colors.palette.dark[600],e.colors.black,e.colors.black,1.75,2,.875,m.polished.rem(22),e.colors.palette.dark[400],e.colors.palette.dark[400],e.colors.palette.dark[400],8.75,m.polished.rem(10),m.polished.rem(32),m.polished.rem(32),m.polished.rem(16),m.polished.rem(16),e.colors.palette.warning[500],m.polished.rem(4),3.125,11.625,m.polished.rem(120),m.polished.rem(160),e.colors.palette.dark[600],m.polished.rem(-2),e.colors.palette.dark[600],m.polished.rem(16),m.polished.rem(16),m.polished.rem(60),m.polished.rem(40),e.colors.palette.dark[600],m.polished.rem(244),m.polished.rem(330),m.polished.rem(15),m.polished.rem(30),m.polished.rem(15),e.colors.palette.light[300],e.colors.palette.light[500],e.colors.palette.light[500],m.polished.rem(5),e.colors.palette.dark[600],e.colors.palette.dark[600],m.polished.rem(12),m.polished.rem(46),e.colors.palette.dark[800],1,m.polished.rem(18),e.colors.palette.dark[600],13/16,1,1,m.polished.rem(9),e.colors.palette.light[800],m.polished.rem(4),e.colors.palette.dark[600],m.polished.rem(118),e.colors.palette.dark[600],m.polished.rem(30),m.polished.rem(-2),m.polished.rem(-4),m.polished.rgba(e.colors.white,.8),m.polished.rem(16),e.colors.palette.dark[800],.75,e.colors.palette.warning[800],m.polished.rem(18),m.polished.rem(18),m.polished.rem(8),m.polished.rem(8),e.colors.palette.warning[100],m.polished.rem(6),m.polished.rem(10),m.polished.rem(100),m.polished.rem(16),m.polished.rem(10),m.polished.rem(40),e.colors.palette.success[100],e.colors.palette.success[800],e.colors.palette.danger[100],e.colors.palette.danger[800],m.polished.rem(44),e.colors.palette.light[500],e.colors.palette.light[300],e.colors.palette.primary[700],m.polished.rem(76),1,e.colors.palette.dark[800],m.polished.rem(160),m.polished.rem(99),m.polished.rem(80),m.polished.rem(167),m.polished.rem(24),e.colors.palette.dark[600],e.colors.palette.secondary[800],m.polished.rem(16),m.polished.rem(24),m.polished.rem(8),m.polished.rem(400),m.polished.rem(170),m.polished.rem(20),m.polished.rem(200),m.polished.rem(260),m.polished.rem(159),m.polished.rem(106))}var Z,ee,te,ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ie=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},oe=function(e){function t(t){var n=e.call(this,t)||this;return n.getEmptyText=function(){var e=n.props,t=e.isTemplateList,o=e.accessType,a=n.state,r=a.emptyTextTop,s=a.emptyTextBottom;switch(o){case i.Me:case i.Anyone:t?(r=n.nls("noItemsYet"),s=n.nls("templateEmptyText")):r=n.nls("createExperience");break;case i.NotMe:r=n.nls("sharedEmptyText");break;case i.MyFavorites:r=n.nls("noItemsYet"),s=n.nls("favoritesEmptyText");break;case i.Public:r=n.nls("noPublicItems");break;case i.Default:r=n.nls("noItemsYet")}n.setState({emptyTextTop:r,emptyTextBottom:s})},n.nls=function(e){return n.props.intl?n.props.intl.formatMessage({id:e,defaultMessage:y[e]}):e},n.state={emptyTextTop:"",emptyTextBottom:""},n}return ne(t,e),t.prototype.componentDidMount=function(){this.getEmptyText()},t.prototype.getStyle=function(){var e=this.props.theme,t=e.colors&&e.colors.palette?e.colors.palette.dark[400]:"#a8a8a8",n=e.colors&&e.colors.palette?e.colors.palette.dark[600]:"#c5c5c5",i=this.props.folderUrl+"./dist/runtime/assets/empty.png",o=this.props.folderUrl+"./dist/runtime/assets/no_item.png";return Object(m.css)(Z||(Z=ie(["\n        & {\n          width:100%;\n          margin-top:",";\n        }\n        div {\n          text-align: center;\n        }\n        .empty-con {\n          width:100%;\n          top:50%;\n        }\n        .icon-con {\n          width:",";\n          height:",";\n          background:url(",") no-repeat left top;\n          background-size: contain;\n          margin: 0 auto;\n          opacity:0.4;\n        }\n        .search-empty {\n          background-image: url(",");\n          height:",";\n        }\n        .create-experience {\n          color:",";\n          font-size:",";\n          line-height:",";\n          margin-top:",";\n          font-weight:500;\n        }\n        .remind-to-click {\n          color:",";\n          font-size:",";\n          line-height:",";\n          margin-top:",";\n        }\n        .remind-to-click span {\n          color:",";\n          font-weight:500;\n        }\n        @media only screen and (max-width: 1600px) {\n          & {\n            margin-top:",";\n          }\n        }\n        @media only screen and (max-width: 1360px) {\n          & {\n            width:100%;\n            margin-top:",";\n          }\n          .icon-con {\n            width:",";\n            height:",";\n          }\n          .search-empty {\n            height:",";\n          }\n          .create-experience {\n            margin-top:",";\n           }\n           .remind-to-click {\n              margin-top:",";\n           }\n        }\n        @media only screen and (max-width: 1176PX) {\n          & {\n            margin-top:",";\n          }\n        }\n      "],["\n        & {\n          width:100%;\n          margin-top:",";\n        }\n        div {\n          text-align: center;\n        }\n        .empty-con {\n          width:100%;\n          top:50%;\n        }\n        .icon-con {\n          width:",";\n          height:",";\n          background:url(",") no-repeat left top;\n          background-size: contain;\n          margin: 0 auto;\n          opacity:0.4;\n        }\n        .search-empty {\n          background-image: url(",");\n          height:",";\n        }\n        .create-experience {\n          color:",";\n          font-size:",";\n          line-height:",";\n          margin-top:",";\n          font-weight:500;\n        }\n        .remind-to-click {\n          color:",";\n          font-size:",";\n          line-height:",";\n          margin-top:",";\n        }\n        .remind-to-click span {\n          color:",";\n          font-weight:500;\n        }\n        @media only screen and (max-width: 1600px) {\n          & {\n            margin-top:",";\n          }\n        }\n        @media only screen and (max-width: 1360px) {\n          & {\n            width:100%;\n            margin-top:",";\n          }\n          .icon-con {\n            width:",";\n            height:",";\n          }\n          .search-empty {\n            height:",";\n          }\n          .create-experience {\n            margin-top:",";\n           }\n           .remind-to-click {\n              margin-top:",";\n           }\n        }\n        @media only screen and (max-width: 1176PX) {\n          & {\n            margin-top:",";\n          }\n        }\n      "])),m.polished.rem(120),m.polished.rem(458),m.polished.rem(303),i,o,m.polished.rem(458/1.32),n,m.polished.rem(16),m.polished.rem(16),m.polished.rem(30),t,m.polished.rem(14),m.polished.rem(14),m.polished.rem(20),n,m.polished.rem(80),m.polished.rem(0),m.polished.rem(200),m.polished.rem(132),m.polished.rem(200/1.32),m.polished.rem(20),m.polished.rem(10),m.polished.rem(20))},t.prototype.render=function(){var e=this.props,t=e.accessType,n=e.isTemplateList,o=e.searchText,a=this.state,r=a.emptyTextTop,s=a.emptyTextBottom,l=this.props.intl.formatMessage({id:"toCreate",defaultMessage:y.toCreate},{createNewElement:Object(m.jsx)("span",{key:"toCreate"},"+ ",this.nls("newApp"))});return Object(m.jsx)("div",{css:this.getStyle(),className:"app-list-empty-con"},0==o.length&&Object(m.jsx)("div",{className:"empty-con"},Object(m.jsx)("div",{className:"icon-con"}),r&&Object(m.jsx)("div",{className:"create-experience"},r),s&&Object(m.jsx)("div",{className:"create-experience"},s),!n&&(t==i.Me||t==i.Anyone)&&Object(m.jsx)("div",{className:"remind-to-click"},l)),o.length>0&&Object(m.jsx)("div",{className:"empty-con"},Object(m.jsx)("div",{className:"icon-con search-empty"}),Object(m.jsx)("div",{className:"create-experience"},n?this.nls("noTemplates"):this.nls("noSearchResult"))))},t}(m.React.PureComponent),ae=m.themeUtils.withTheme(oe),re=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),se=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},le=n(21),pe=n(22),ce=function(e){function t(t){var n=e.call(this,t)||this;return n.getTextAndIndexById=function(e,t){var i=n.state.text;return e.forEach((function(e,n){t==e.value&&(i=e.text)})),i},n.toggleDropdown=function(){var e=n.state.dropdownOpen;n.setState({dropdownOpen:!e})},n.optionClick=function(e,t,i){var o=n.props,a=o.onChange,r=o.onOptionClick,s=o.value;n.setState({text:t}),n.toggleDropdown(),s!=i&&a&&a(i),r&&r(i)},n.state={dropdownOpen:!1,text:""},n}return re(t,e),t.prototype.componentDidMount=function(){},t.prototype.getStyle=function(){var e=this.props.theme.colors;return Object(m.css)(ee||(ee=se(["\n      .dropdown button, .dropdown button:not(:disabled):not(.disabled):active{\n        background: ",";\n        padding-right: 0;\n      }\n      .dropdown button {\n\n      }\n      .dropdown span {\n        position: relative;\n        text-align: left;\n        font-size: ",";\n        color: ",";\n        text-align: left;\n        width: 100%;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding-right: ",";\n        height: ",";\n      }\n      .dropdown span svg {\n        position: absolute;\n        right: ",";\n        top: ",";\n      }\n    "],["\n      .dropdown button, .dropdown button:not(:disabled):not(.disabled):active{\n        background: ",";\n        padding-right: 0;\n      }\n      .dropdown button {\n\n      }\n      .dropdown span {\n        position: relative;\n        text-align: left;\n        font-size: ",";\n        color: ",";\n        text-align: left;\n        width: 100%;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        padding-right: ",";\n        height: ",";\n      }\n      .dropdown span svg {\n        position: absolute;\n        right: ",";\n        top: ",";\n      }\n    "])),e.palette.light[200],m.polished.rem(14),e.black,m.polished.rem(24),m.polished.rem(32),m.polished.rem(6),m.polished.rem(7))},t.prototype.getDropdownStyle=function(){var e=this.props.theme.colors;return Object(m.css)(te||(te=se(["\n      & {\n        background: ",";\n        border: 1px solid ",";\n        border-radius: 2px;\n        font-size: ",";\n        padding: 0;\n      }\n      .dropdown-menu--inner .active {\n        background: ",";\n      }\n      .icon-con {\n        width: ",";\n        height: ",";\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: ",";\n      }\n      .icon-con svg {\n        display: block;\n      }\n    "],["\n      & {\n        background: ",";\n        border: 1px solid ",";\n        border-radius: 2px;\n        font-size: ",";\n        padding: 0;\n      }\n      .dropdown-menu--inner .active {\n        background: ",";\n      }\n      .icon-con {\n        width: ",";\n        height: ",";\n        display: inline-block;\n        vertical-align: middle;\n        margin-right: ",";\n      }\n      .icon-con svg {\n        display: block;\n      }\n    "])),e.palette.secondary[400],e.palette.secondary[600],m.polished.rem(14),e.palette.primary[500],m.polished.rem(12),m.polished.rem(12),m.polished.rem(8))},t.prototype.render=function(){var e=this,t=this.state.dropdownOpen,n=this.props,i=n.dropDownData,o=n.isShowSelectIcon,a=n.className,r=n.value,s=this.getTextAndIndexById(i,r);return Object(m.jsx)("div",{className:Object(m.classNames)("d-inline-block align-middle",a),css:this.getStyle()},Object(m.jsx)(w.Dropdown,{size:"sm",toggle:this.toggleDropdown,isOpen:t,className:"h-100"},Object(m.jsx)(w.DropdownToggle,{size:"sm",type:"tertiary",className:"dropdown d-flex filterbar-input",title:s},s,Object(m.jsx)(w.Icon,{icon:le,className:"toollist-item-icon",width:8,height:18})),Object(m.jsx)(w.DropdownMenu,{css:this.getDropdownStyle()},i.map((function(t,n){return Object(m.jsx)(w.DropdownItem,{key:n,onClick:function(n){e.optionClick(n,t.text,t.value)},className:Object(m.classNames)({active:r==t.value})},o&&Object(m.jsx)("span",{className:"icon-con"},r==t.value&&Object(m.jsx)(w.Icon,{icon:pe,width:12,height:12})),t.text)})))))},t}(m.React.PureComponent),de=m.themeUtils.withTheme(ce),me=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ue=n(23),he=n(24),ge=n(3),fe=n(25),ve=n(26),be=function(e){function t(n){var d=e.call(this,n)||this;return d.searchPromise=null,d.isLoadModuleForBuilder=!0,d.scrollPosition=0,d.isHasPreload=!1,d.nextStart=null,d.appListTotal=null,d.isHadSearchList=!1,d.preloadData=function(){d.getRole(),d.checkUserPrivilege(),d.getFoldersAndGroup(),d.getParamsAndRefresh(),d.initDropdownData(),d.contentNode&&(d.contentNode.addEventListener("scroll",d.onScrollHandle.bind(d)),d.contentNode.scrollTop=t.scrollTop),d.isHasPreload=!0},d.preloadModule=function(){if(!d.isLoadModuleForBuilder)return!1;var e=[m.moduleLoader.loadModule("jimu-arcgis"),m.moduleLoader.loadModule("jimu-for-builder"),m.moduleLoader.loadModule("jimu-layouts/layout-runtime.js"),m.moduleLoader.loadModule("jimu-for-builder/service.js"),m.moduleLoader.loadModule("jimu-layouts/layout-builder.js"),m.moduleLoader.loadModule("jimu-ui/advanced/style-setting-components.js"),m.moduleLoader.loadModule("jimu-ui/basic/color-picker.js"),m.moduleLoader.loadModule("jimu-ui/advanced/setting-components.js"),m.moduleLoader.loadModule("jimu-ui/advanced/theme-components.js"),m.moduleLoader.loadModule("jimu-ui/advanced/data-source-selector.js"),m.moduleLoader.loadModule("jimu-ui/basic/item-selector.js"),m.moduleLoader.loadModule("jimu-ui/advanced/resource-selector.js"),m.moduleLoader.loadModule("jimu-core/data-source.js"),m.moduleLoader.loadModule("jimu-ui/basic/imagecrop.js"),m.moduleLoader.loadModule("jimu-core/react-dom/server.js")];Promise.all(e).then((function(e){d.isLoadModuleForBuilder=!1}))},d.getRole=function(){var e,t,n=d.state.userRole;switch(null===(t=null===(e=d.props)||void 0===e?void 0:e.user)||void 0===t?void 0:t.role){case c.OrgAdmin:n=c.OrgAdmin;break;case c.OrgPublisher:n=c.OrgPublisher;break;case c.OrgUser:n=c.OrgUser;break;default:n=c.CustomRoles}d.setState({userRole:n})},d.initDropdownData=function(){var e=d.state,t=e.sortDropdownData,n=e.classifyDropdownData;window.jimuConfig.isDevEdition||(t.push({value:"numViews",text:d.nls("applistViews")}),n.push({value:i.MyFavorites,text:d.nls("myFavorites")}),n.push({value:i.NotMe,text:d.nls("sharedWithMe")})),d.setState({sortDropdownData:t,classifyDropdownData:n})},d.nls=function(e,t){return void 0===t&&(t=!1),t?d.props.intl?d.props.intl.formatMessage({id:e,defaultMessage:w.defaultMessages[e]}):e:d.props.intl?d.props.intl.formatMessage({id:e,defaultMessage:y[e]}):e},d.getRequestOption=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=p.My);var i=Object(m.Immutable)({});i=i.merge({q:d.getSharedRequestOptionAttrQ(n)}),e&&(i="title"===e?i.merge({sortField:e,sortOrder:"asc"}):i.merge({sortField:e,sortOrder:"desc"})),window.jimuConfig.isDevEdition&&(i=i.merge({portalUrl:d.props.portalUrl}));var o=d.getPageNumAndStartNum(t,n);return i=i.merge({num:o.num,start:o.start})},d.getPageNumAndStartNum=function(e,t){void 0===t&&(t=p.Group);var n={num:30,start:1},i=d.state,o=i.exbAdminTemplate,a=i.myTemplate;if(e)switch(t){case p.ExbAdmin:n.start=o.length+1;break;default:n.start=a.length+1}return n},d.getSharedRequestOptionAttrQ=function(e){void 0===e&&(e=p.Group);var t=d.state,n=t.groupId,i=t.folderId,o=t.userRole,a=t.searchTextForRequest,r=m.SessionManager.getInstance().getMainSession(),s=d.props.user,l=d.getExperienceType(),u=d.props.config.isTemplateList,h=(null==s?void 0:s.favGroupId)||"",g=(null==r?void 0:r.username)||"",f=a?"("+a+")":"";if(!r||!s)return"type: "+l+" "+f;var v=(null==s?void 0:s.groups.map((function(e){return e.id})))||[],b="type: "+d.getExperienceType(),w=v.length>0?v.join(" OR "):"",x=w?"OR "+w:"",y="NOT owner:"+g,j="(access:shared OR access:public OR access:org)",O=o==c.OrgAdmin?"(access:org OR access:private)":"access:org",I=o==c.OrgAdmin?"(access:org OR access:private)":"(access:org)",k=u?I:O,S=w?"((orgid:"+(null==s?void 0:s.orgId)+" "+O+") OR (group: ("+w+") "+j+"))":"(orgid:"+(null==s?void 0:s.orgId)+" "+O+")",T="(orgid:"+(null==s?void 0:s.orgId)+" "+k+") OR (group: ("+h+" "+x+"))";switch(e){case p.Group:return"group:("+n+") type: "+l+" "+j+" NOT owner:"+g+" "+f;case p.Org:return"orgid:"+(null==s?void 0:s.orgId)+" "+b+" "+O+" NOT owner:"+g+" "+f;case p.OrgAndGroupNotMe:return S+" "+b+" "+y+" "+f;case p.All:return window.jimuConfig.isDevEdition?"type: "+l+" "+f:b+" ("+T+" OR (owner:"+g+" AND NOT owner:ExB_team)) "+f;case p.ExbAdmin:return'type: "Web Experience Template" AND owner:ExB_team '+f;case p.My:return"type: "+l+" orgid:"+(null==s?void 0:s.orgId)+" AND owner:"+g+" "+f;case p.Folder:return"type: "+l+" ownerfolder: "+i+" AND owner:"+g+" "+f;case p.Favorites:case p.AllFavorites:return'group: "'+h+'" type: '+l+" "+f;case p.PubLic:return"type: "+l+" access:public NOT owner:"+g+" AND NOT owner:ExB_team "+f}},d.refresh=function(e,t){void 0===t&&(t=!1),e&&!d.isRefuseSearchRequest()&&(d.searchPromise=null,d.searchPromise=d.appServiceSearchApp(e),d.searchPromise.then((function(e){var n=e.results;d.searchPromise?(d.refreshSetState(n,t),d.nextStart=e.nextStart,d.appListTotal=e.total,d.setState({isLoadSkeleton:!1})):d.setState({isLoadSkeleton:!1})}),(function(){d.setState({isLoadSkeleton:!1})})))},d.refreshSetState=function(e,t){void 0===t&&(t=!1);var n=d.state.userRole,i=t?d.state.apps.asMutable({deep:!0}):[],o=t?d.state.myTemplate.asMutable({deep:!0}):[],a=[];a=t?o.concat(e):e,e=e.map((function(e){return e.userRole=n,e})),d.setState({myTemplate:Object(m.Immutable)(a),apps:Object(m.Immutable)(i.concat(e))},(function(){d.getItemsGroups(Object(m.Immutable)(e),!1,t),d.getItemsGroups(Object(m.Immutable)(e),!0,t),d.isHadSearchList=!0})),clearTimeout(d.preloadModulesTimeout),d.preloadModulesTimeout=setTimeout((function(){d.preloadModule()}),1e3)},d.isRefuseSearchRequest=function(){var e=d.state.accessType,t=d.props.config.isTemplateList;return!(!window.jimuConfig.isDevEdition||!t||e!=i.NotMe)},d.getItemsGroups=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=d.props.user,a=null==o?void 0:o.favGroupId,r=d.state,s=r.updateGroupIdData,l=r.accessType,p=n?d.state.allFavoritesIdData.asMutable({deep:!0}):[],c=n?d.state.updateGroupItemId.asMutable({deep:!0}):[];if(l==i.Me&&t||0==e.length||t&&0==s.length)return!1;var u=t?c:p,h={items:e.map((function(e){return e.id})).join(","),groups:t?s.join(","):a};j.appServices.getItemGroups(h).then((function(e){var n,i;for(var o in e)null===(i=null===(n=e[o])||void 0===n?void 0:n.items)||void 0===i||i.forEach((function(e){u=u.concat([e.itemId])}));t?d.setState({updateGroupItemId:Object(m.Immutable)(u)}):d.setState({allFavoritesIdData:Object(m.Immutable)(u)})}))},d.appServiceSearchApp=function(e){return j.appServices.searchApp(e)},d.newApp=function(){var e=window.jimuConfig.mountPath+"builder/";window.jimuConfig.useStructuralUrl?e+="page/template":e+="?page=template";var t=d.getQueryString("locale");t&&(e=m.urlUtils.appendQueryParam(e,"locale",t)),e=m.urlUtils.appendQueryParam(e,"redirect","homePage"),window.location.assign(e)},d.deleteApp=function(e){d.setState({loading:!0}),j.appServices.deleteApp(e).then((function(){var t=d;t.setState({loading:!1}),t.removeItem(e)}),(function(e){var t="CONT_0048"==(null==e?void 0:e.code)?d.nls("unableDelete"):d.nls("deleteError");d.setState({loading:!1,isShowAlertPopup:!0,alertPopupMessage:t})}))},d.refreshList=function(e){void 0===e&&(e=!0);var t=d;d.setState({filterTitle:d.props.config.isTemplateList?d.nls("templateLabelByModified"):d.nls("labelByModified")}),e&&d.setState({searchText:""}),setTimeout((function(){t.getParamsAndRefresh()}),1e3)},d.getFilterTitle=function(){},d.duplicateAppItem=function(e,t,n){void 0===n&&(n=""),d.setState({loading:!0}),j.appServices.duplicateApp(e,t).then((function(e){d.setState({loading:!1}),e&&d.refreshList(!1)}),(function(e){var t=e&&e.indexOf("Resource does not exist")>-1?d.nls("noResource"):d.nls("duplicateError");d.setState({loading:!1,isShowAlertPopup:!0,alertPopupMessage:t})}))},d.createApp=function(e,t){void 0===t&&(t=!1);var n=d.getQueryString("locale");n=n?"&locale="+n:"",d.setState({loading:!0}),j.appServices.createAppByItemTemplate(e,t).then((function(e){if(e){var t=window.jimuConfig.mountPath+"builder?id="+e+n;window.location.href=t}d.setState({loading:!1})}),(function(e){var t=e&&e.indexOf("Resource does not exist")>-1?d.nls("noResource"):d.nls("createError");d.setState({loading:!1,isShowAlertPopup:!0,alertPopupMessage:t})}))},d.switchListView=function(e){d.setState({isDetailContent:e})},d.accessChange=function(e){var t=d.state.subclassification;e==i.Me?t=o.AllFolder:e==i.NotMe&&(t=a.AllGroup),d.setState({accessType:e,subclassification:t,subclassificationValue:t},(function(){d.getParamsAndRefresh()}))},d.sharedAccessChange=function(e){var t=e.target.value;if(t==r.Default){var n=d.props.config.isTemplateList?d.nls("templateLabelByTitle"):d.nls("labelByTitle");d.setState({filterField:"title",filterTitle:n})}d.setState({sharedAccesstype:t},(function(){d.getParamsAndRefresh()}))},d.filterFieldChange=function(e){var t="",n=d.props.config.isTemplateList;e==l.Title?t=n?d.nls("templateLabelByTitle"):d.nls("labelByTitle"):e==l.NumViews?t=n?d.nls("templateLabelByView"):d.nls("labelByView"):e==l.Modified&&(t=n?d.nls("templateLabelByModified"):d.nls("labelByModified")),d.setState({filterField:e,filterTitle:t},(function(){0!=d.state.apps.length&&d.getParamsAndRefresh()}))},d.handleKeydown=function(e){var t=e.target.value;13===e.keyCode&&t&&d.setState({searchTextForRequest:t},(function(){clearTimeout(d.onSearchTextInputed),d.getParamsAndRefresh()}))},d.searchTextChange=function(e){var t=e.target.value,n=t.length<3&&t.length>0,i=d.state.searchTextForRequest;i=n?i:t,d.setState({searchText:t,searchTextForRequest:i},(function(){if(n)return!1;clearTimeout(d.onSearchTextInputed),d.onSearchTextInputed=setTimeout((function(){d.getParamsAndRefresh()}),500)}))},d.clearSearchText=function(){var e=d.state.searchTextForRequest;clearTimeout(d.onSearchTextInputed),d.setState({searchText:"",searchTextForRequest:""},(function(){e&&d.getParamsAndRefresh()}))},d._matchearchText=function(e){var t=d.state.searchText;return!t||!e||e.toLowerCase().indexOf(t.toLowerCase())>-1},d.getSubclassification=function(e){var t=d.state,n=t.folderId,r=t.groupId,s=t.subclassification;switch(d.state.accessType){case i.Me:e==o.AllFolder?(s=o.AllFolder,n=""):(s=o.OtherFolder,n=e);break;case i.NotMe:e==a.AllGroup||e==a.Org?(s=e,r=""):(s=a.OtherGroup,r=e)}d.setState({folderId:n,groupId:r,subclassification:s,subclassificationValue:e},(function(){d.getParamsAndRefresh()}))},d.favoriteTogle=function(e,t){var n=d.props.user,i={everyone:!1,org:!1,groups:null==n?void 0:n.favGroupId,items:t};return d.setState({loading:!0}),e?d.removeFromFavorites(i):d.addToFavorite(i)},d.addToFavorite=function(e){var t=d.state.allFavoritesIdData.asMutable();return j.appServices.addToFavorites(e).then((function(n){return t.push(e.items),d.setState({allFavoritesIdData:Object(m.Immutable)(t),loading:!1}),Promise.resolve(n)}),(function(e){return d.setState({loading:!1}),Promise.reject(e)}))},d.removeFromFavorites=function(e){var t=d.state,n=t.accessType,o=t.allFavoritesIdData.filter((function(t){return t!=e.items}));return j.appServices.removeFromFavorites(e).then((function(t){return d.setState({loading:!1,allFavoritesIdData:Object(m.Immutable)(o)}),n==i.MyFavorites&&d.removeItem(e.items),Promise.resolve(t)}),(function(e){return d.setState({loading:!1}),Promise.reject(e)}))},d.removeItem=function(e){var t=d.state.apps.asMutable({deep:!0}),n=d.state.myTemplate.asMutable({deep:!0}),i=t.filter((function(t){return t.id!=e})),o=n.filter((function(t){return t.id!=e}));d.setState({apps:Object(m.Immutable)(i),myTemplate:Object(m.Immutable)(o)})},d.getSubclassificationData=function(e){var t=d.state,n=t.folderListData,o=t.groupListData,a=[];return e==i.Me&&(a=n),e==i.NotMe&&(a=o),a},d.isShowClassifyDropdown=function(){var e=!!m.SessionManager.getInstance().getMainSession(),t=window.jimuConfig.isDevEdition,n=d.state.accessType;return e&&(n==i.Me||n==i.NotMe)&&!t},d.checkUserPrivilege=function(){var e=m.privilegeUtils.CheckTarget,t=d.state.capabilities;return m.privilegeUtils.checkExbAccess(e.AppList).then((function(e){d.setState({valid:null==e?void 0:e.valid,invalidMessage:null==e?void 0:e.invalidMessage,capabilities:(null==e?void 0:e.capabilities)||t,isPrivilegeCheckEnd:!0})}))},d.toggleAlertPopup=function(){d.setState({isShowAlertPopup:!d.state.isShowAlertPopup,alertPopupMessage:""})},d.filterUserFolder=function(){return d.state.folderListData.filter((function(e){return e.value.indexOf("AllFolder")<0}))},d.updateAppList=function(e,t){if(e){var n=d.state.apps.asMutable({deep:!0});n[t]=e,d.setState({apps:Object(m.Immutable)(n)})}},d.isShowAccessTypeDropdown=function(){var e=d.state.userRole;return!!m.SessionManager.getInstance().getMainSession()&&(!window.jimuConfig.isDevEdition||!(!window.jimuConfig.isDevEdition||e!=c.OrgAdmin))},d.getItemRowNumber=function(){var e,t=null===(e=d.appListContainer)||void 0===e?void 0:e.clientWidth;return Math.floor(t/244)},d.state={apps:Object(m.Immutable)([]),exbAdminTemplate:Object(m.Immutable)([]),myTemplate:Object(m.Immutable)([]),isDetailContent:!0,accessType:i.Me,filterTitle:d.props.config.isTemplateList?d.nls("templateLabelByModified"):d.nls("labelByModified"),filterField:l.Modified,searchText:"",searchTextForRequest:"",loading:!1,isLoadSkeleton:!1,experienceType:s.ExperienceType,sharedAccesstype:r.Default,isRoleViewer:!0,folderId:"",groupId:"",subclassification:o.AllFolder,subclassificationValue:o.AllFolder,folderListData:[],groupListData:[],allFavoritesIdData:Object(m.Immutable)([]),updateGroupIdData:[],updateGroupItemId:Object(m.Immutable)([]),userRole:c.CustomRoles,valid:!0,invalidMessage:"",isShowAlertPopup:!1,alertPopupMessage:"",isPrivilegeCheckEnd:!1,capabilities:{canCreateExperience:!1,canDeleteExperience:!1,canShareExperience:!1,canUpdateExperience:!1,canViewExperience:!1},classifyDropdownData:[{value:i.Anyone,text:d.nls("allApp")},{value:i.Me,text:d.nls("ownByMe")}],sortDropdownData:[{value:"modified",text:d.nls("orderByModified")},{value:"title",text:d.nls("orderByTitle")}]},d.onScrollHandle=d.onScrollHandle.bind(d),d}return me(t,e),t.prototype.componentDidMount=function(){this.props.isTest&&this.preloadData()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.config,i=t.queryObject,o=n.isTemplateList||!1;"templatelist"==(null==i?void 0:i.views)!=o||this.isHasPreload||this.preloadData(),(null==e?void 0:e.user)!==this.props.user&&this.isHasPreload&&this.getParamsAndRefresh()},t.prototype.getFoldersAndGroup=function(){var e,t=this,n=(null===(e=this.props.user)||void 0===e?void 0:e.groups)||Object(m.Immutable)([]);j.appServices.getFolders({num:1}).then((function(e){var i=e||[];t.getFolderOrGroupList(i,n)}),(function(e){t.getFolderOrGroupList([],Object(m.Immutable)([]))}))},t.prototype.getFolderOrGroupList=function(e,t){if(window.jimuConfig.isDevEdition)return!1;var n=[{value:o.AllFolder,text:this.nls("allApp")}],i=[{value:a.AllGroup,text:this.nls("allApp")},{value:a.Org,text:this.nls("myOrganization",!0)}],r=this.state.updateGroupIdData;e.forEach((function(e){var t={value:e.id,text:e.title};n.push(t)})),t.forEach((function(e){var t={value:e.id,text:e.title};e.capabilities.indexOf("updateitemcontrol")>-1&&r.push(e.id),i.push(t)})),this.setState({folderListData:n,groupListData:i,updateGroupIdData:r})},t.prototype.onScrollHandle=function(e){var t=e.target.clientHeight,n=e.target.scrollHeight-2,i=e.target.scrollTop;if(i>this.scrollPosition){var o=t+i>=n;!this.state.isLoadSkeleton&&o&&0!=this.state.apps.length&&this.getParamsAndRefresh(!0)}this.scrollPosition=i},t.prototype.componentWillUnmount=function(){this.contentNode&&(this.contentNode.removeEventListener("scroll",this.onScrollHandle.bind(this)),t.scrollTop=this.contentNode.scrollTop)},t.prototype.getExperienceType=function(){var e=s.ExperienceType;return this.props.config.isTemplateList&&(e=s.TemplateType),this.setState({experienceType:e}),e},t.prototype.getQueryString=function(e){return m.queryString.parse(window.location.search)[e]||""},t.prototype.getParamsAndRefresh=function(e){void 0===e&&(e=!1);var t=this.nextStart,n=this.appListTotal,r=t&&n&&(t>n||t<0)&&e;if(this.props.user&&!r){e?this.isHadSearchList=!1:(this.nextStart=null,this.appListTotal=null,this.setState({apps:Object(m.Immutable)([])})),this.setState({isLoadSkeleton:!0});var s=this.state,l=s.accessType,c=s.subclassification;if(l==i.Default)return this.setState({isLoadSkeleton:!1}),!1;var d=p.My;switch(l){case i.Me:d=c==o.AllFolder?p.My:p.Folder;break;case i.Anyone:d=p.All;break;case i.NotMe:d=c==a.AllGroup?p.OrgAndGroupNotMe:c==a.Org?p.Org:p.Group;break;case i.MyFavorites:d=p.Favorites;break;case i.Public:d=p.PubLic}var u=this.getRequestOption(this.state.filterField,e,d);this.refresh(u,e)}},t.prototype.experiencesRefresh=function(e){void 0===e&&(e=!1);var t=this.getRequestOption(this.state.filterField,e);this.setState({isLoadSkeleton:!0}),this.refresh(t,e)},t.prototype.render=function(){var e=this,t=this.state,n=t.isDetailContent,i=t.loading,o=t.accessType,a=t.classifyDropdownData,r=t.sortDropdownData,s=t.subclassificationValue,l=t.allFavoritesIdData,p=t.capabilities,c=t.updateGroupItemId,d=t.valid,u=t.invalidMessage,h=t.apps,g=t.isShowAlertPopup,f=t.alertPopupMessage,v=t.searchText,b=t.isPrivilegeCheckEnd,y=t.isLoadSkeleton,j=this.props.config.isTemplateList||!1,O=this.getSubclassificationData(o),I=this.getItemRowNumber(),k={deleteApp:this.deleteApp,refreshList:this.refreshList,duplicateAppItem:this.duplicateAppItem,createApp:this.createApp,favoriteTogle:this.favoriteTogle,isLoadSkeleton:y,theme:this.props.theme,skeletonNum:I};return d||this.props.isTest?Object(m.jsx)(x.Provider,{value:k},Object(m.jsx)("div",{css:J(this.props.theme),className:"h-100","data-testid":"app-list"},Object(m.jsx)("div",{className:"widget-builder-app-list bg-light-300 h-100"},Object(m.jsx)("div",{className:"banner-con bg-light-300"},Object(m.jsx)("div",{className:"widget-builder-app-list-screen"},Object(m.jsx)("div",{style:{overflow:"hidden"},className:"app-list-search-container"},Object(m.jsx)("div",{className:"app-list-banner d-flex justify-content-between",style:{position:"relative"}},Object(m.jsx)("h2",{className:" list-title"},this.state.filterTitle),!j&&p.canCreateExperience&&Object(m.jsx)(w.Button,{className:"float-left btn-lg pt-0 pb-0 app-list-newapp",size:"lg",type:"primary",onClick:this.newApp},Object(m.jsx)(w.Icon,{className:"app-list-newapp-icon",width:16,height:16,icon:ge}),this.nls("newApp"))))),Object(m.jsx)("div",{className:"app-list-filterbar "},Object(m.jsx)("div",{className:"d-flex justify-content-between align-items-center app-list-filterbar-title widget-builder-app-list-screen"},Object(m.jsx)("div",{className:"search-con d-flex position-relative"},Object(m.jsx)("div",{style:{position:"absolute"},onClick:function(){e.getParamsAndRefresh()}},Object(m.jsx)(w.Icon,{width:22,height:22,icon:ue,className:"app-list-searchIconFill"})),Object(m.jsx)(w.TextInput,{className:"float-left pt-2 pb-2 app-list-searchbox app-list-h1 flex-sm-fill",placeholder:this.nls("homePageSearch"),onChange:this.searchTextChange,value:v,ref:function(t){e.searchInput=t},onKeyDown:function(t){e.handleKeydown(t)}}),v.length>0&&Object(m.jsx)("div",{onClick:this.clearSearchText,className:"clear-con position-absolute"},Object(m.jsx)(w.Icon,{width:14,height:14,icon:he,className:"app-list-clear "}))),Object(m.jsx)("div",{className:"text-right align-middle"},this.isShowAccessTypeDropdown()&&Object(m.jsx)(de,{onChange:this.accessChange,value:o,isShowSelectIcon:!0,dropDownData:a}),this.isShowClassifyDropdown()&&O.length>0&&Object(m.jsx)(de,{onChange:this.getSubclassification,value:s,isShowSelectIcon:!0,dropDownData:O}),Object(m.jsx)(de,{onChange:this.filterFieldChange,value:this.state.filterField,isShowSelectIcon:!0,dropDownData:r}),Object(m.jsx)("div",{className:"app-list-switchview-con","data-testid":"icon-view-con"},Object(m.jsx)(w.Button,{icon:!0,type:n?"primary":void 0,title:this.nls("cardView"),className:" app-list-switchview ",onClick:function(){return e.switchListView(!0)},"data-testid":"icon-view-card"},Object(m.jsx)(w.Icon,{icon:ve,width:14,height:14,className:"app-list-iconfill app-list-iconmargin"})),Object(m.jsx)(w.Button,{icon:!0,"data-testid":"icon-view-list",type:n?void 0:"primary",title:this.nls("listView"),className:" app-list-switchview app-list-switchview-btton app-list-switchview-right",onClick:function(){return e.switchListView(!1)}},Object(m.jsx)(w.Icon,{icon:fe,width:14,height:14,className:"app-list-iconfill app-list-iconmargin"}))))))),Object(m.jsx)("div",{className:"app-list-item-scroll-con",ref:function(t){return e.contentNode=t}},Object(m.jsx)("div",{className:"widget-builder-app-list-screen",ref:function(t){e.appListContainer=t}},Object(m.jsx)("div",{className:"app-list-content",id:"itemContent"},Object(m.jsx)($,{isDetailContent:this.state.isDetailContent,portalUrl:this.props.portalUrl,intl:this.props.intl,folderUrl:this.props.context.folderUrl,apps:h,switchListView:this.switchListView,isTemplateList:j,allFavoritesIdData:l,capabilities:p,updateGroupItemId:c,folderListData:this.filterUserFolder(),isPrivilegeCheckEnd:b,updateAppList:this.updateAppList}))),h.length<1&&!i&&!y&&this.isHadSearchList&&Object(m.jsx)(ae,{searchText:v,isTemplateList:j,accessType:o,intl:this.props.intl,portalUrl:this.props.portalUrl,folderUrl:this.props.context.folderUrl}))),this.state.loading&&Object(m.jsx)("div",{className:"loading-con"},Object(m.jsx)("div",{style:{position:"absolute",left:"50%",top:"50%"},className:"jimu-primary-loading"})),Object(m.jsx)(w.AlertPopup,{isOpen:g,title:this.nls("popUpTitle"),hideCancel:!0,toggle:this.toggleAlertPopup},Object(m.jsx)("div",{style:{fontSize:"1rem"}},f)))):Object(m.jsx)("div",{css:J(this.props.theme),className:"invalid-message position-absolute"},u)},t.scrollTop=0,t.mapExtraStateProps=function(e,t){return{queryObject:e.queryObject}},t}(m.React.PureComponent);t.default=be}]))}}}));
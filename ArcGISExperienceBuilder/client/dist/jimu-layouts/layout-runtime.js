System.register(["jimu-core","jimu-ui"],(function(t){var n,e;return{setters:[function(t){n=t},function(t){e=t}],execute:function(){t(function(t){var n={};function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(o,i,function(n){return t[n]}.bind(null,i));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=103)}({0:function(t,e){t.exports=n},103:function(t,n,e){"use strict";e.r(n),e.d(n,"registerLayoutBuilder",(function(){return c})),e.d(n,"registerLayoutViewer",(function(){return d})),e.d(n,"findLayoutBuilder",(function(){return p})),e.d(n,"findLayoutViewer",(function(){return f})),e.d(n,"LayoutEntry",(function(){return G})),e.d(n,"PageRenderer",(function(){return kn})),e.d(n,"FixedLayoutViewer",(function(){return mt})),e.d(n,"ColumnLayoutViewer",(function(){return Pt})),e.d(n,"WidgetRenderer",(function(){return F})),e.d(n,"SectionRenderer",(function(){return Y})),e.d(n,"LayoutItem",(function(){return nt})),e.d(n,"PageContext",(function(){return a.a})),e.d(n,"PageVisibilityContext",(function(){return a.b})),e.d(n,"ViewVisibilityContext",(function(){return a.d})),e.d(n,"ViewportVisibilityContext",(function(){return a.e})),e.d(n,"LayoutContext",(function(){return u})),e.d(n,"defaultMessages",(function(){return r.a})),e.d(n,"utils",(function(){return y})),e.d(n,"searchUtils",(function(){return o})),e.d(n,"OrderAdjustType",(function(){return h.i})),e.d(n,"COLS_IN_ONE_ROW",(function(){return h.b})),e.d(n,"CONTEXT_MENU_ITEM_SIZE",(function(){return h.d})),e.d(n,"CONTEXT_MENU_ICON_SIZE",(function(){return h.c})),e.d(n,"MIN_LAYOUT_ITEM_SIZE",(function(){return h.h})),e.d(n,"CLICK_TOLRERANCE",(function(){return h.a})),e.d(n,"DEFAULT_AUTOPLAY_INTERVAL",(function(){return h.e})),e.d(n,"LayoutZIndex",(function(){return h.g})),e.d(n,"LayoutItemSizeModes",(function(){return h.f})),e.d(n,"init",(function(){return Ln}));var o={};e.r(o),e.d(o,"generateLayoutMap",(function(){return w})),e.d(o,"findLowestAncestor",(function(){return I})),e.d(o,"findParentLayoutItem",(function(){return O})),e.d(o,"findLayoutId",(function(){return x.a})),e.d(o,"findLayoutItem",(function(){return x.b})),e.d(o,"findSectionId",(function(){return x.d})),e.d(o,"findParentViewId",(function(){return x.c})),e.d(o,"getContentIdInLayoutItem",(function(){return x.j})),e.d(o,"getContentsInLayout",(function(){return x.l})),e.d(o,"getContentsInLayoutRecursive",(function(){return x.m})),e.d(o,"getContainerLayoutItem",(function(){return x.h})),e.d(o,"getLayoutItemIds",(function(){return x.w})),e.d(o,"getLayoutInfosByType",(function(){return x.u})),e.d(o,"getWidgetIdThatUseTheLayoutId",(function(){return x.A})),e.d(o,"getContentContainerInfo",(function(){return x.i})),e.d(o,"getRelatedLayoutItemsInWidgetByLayoutInfo",(function(){return x.z})),e.d(o,"getRelatedLayoutInfosInWidgetByLayoutInfo",(function(){return x.y})),e.d(o,"getLayoutInfosHoldcontent",(function(){return x.v})),e.d(o,"getBrowserSizeModeByLayoutIdAndWidgetId",(function(){return x.f})),e.d(o,"getBrowserSizeModeByLayoutId",(function(){return x.e})),e.d(o,"getChildrenContents",(function(){return x.g})),e.d(o,"getContentLayoutInfosInOneSizeMode",(function(){return x.k})),e.d(o,"getContentsInView",(function(){return x.t})),e.d(o,"getContentsInPageHeader",(function(){return x.q})),e.d(o,"getContentsInPageFooter",(function(){return x.p})),e.d(o,"getContentsInPageBody",(function(){return x.o})),e.d(o,"getContentsInScreen",(function(){return x.r})),e.d(o,"getContentsInLayoutWithLayoutWidgetOnly",(function(){return x.n})),e.d(o,"getContentsInTheSameContainer",(function(){return x.s})),e.d(o,"getParentWidgetIdOfContent",(function(){return x.x})),e.d(o,"getSectionInfo",(function(){return j})),e.d(o,"getPendingLayoutItemsInPage",(function(){return S})),e.d(o,"getPendingLayoutItemsInDialog",(function(){return P})),e.d(o,"getPendingLayoutItemsInLayoutWithDeep",(function(){return R})),e.d(o,"getPendingLayoutItemsFromOtherSizeMode",(function(){return M})),e.d(o,"getPendingLayoutItemsFromOtherSizeModeInPage",(function(){return C})),e.d(o,"getPendingLayoutItemsFromOtherSizeModeInDialog",(function(){return T}));var i=e(0),r=e(22);var a=e(7),u=i.React.createContext({}),l={},s={};function c(t,n){l[t]=n}function d(t,n){s[t]=n}function p(t){return l[t]}function f(t){return s[t]}var g=e(2),y=e(4),v=e(24),h=e(5),m=e(31),b=function(){return(b=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function w(t,n,e){var o,r=null===(o=null==n?void 0:n.layouts)||void 0===o?void 0:o[t];m(r,"rootLayout must exist");for(var a={},u={},l={},s=[{layoutId:t}],c=function(t){var o,r,c,d,p,f=null!==(c=null===(r=null===(o=null==n?void 0:n.layouts)||void 0===o?void 0:o[t.layoutId])||void 0===r?void 0:r.content)&&void 0!==c?c:{},g=b(b({},t),{embedLayouts:[]}),y=function(o){var r=f[o];if(r.type===i.LayoutItemType.Widget&&r.widgetId){var a=null===(d=null==n?void 0:n.widgets)||void 0===d?void 0:d[r.widgetId];if(a){var c={id:r.widgetId,type:i.LayoutItemType.Widget,itemIdInParent:o,containerLayoutId:t.layoutId};if(a.layouts)for(var y in c.embedLayouts=[],a.layouts){var v=a.layouts[y][e];c.embedLayouts.push(v),g.embedLayouts.push(v),s.push({layoutId:v,parentLayoutId:t.layoutId,itemIdInParent:o,parentType:i.LayoutItemType.Widget,containerWidgetId:r.widgetId})}u[r.widgetId]=c}}else if(r.type===i.LayoutItemType.Section&&r.sectionId){var h=null===(p=null==n?void 0:n.sections)||void 0===p?void 0:p[r.sectionId];if(h){var m={id:r.sectionId,type:i.LayoutItemType.Section,itemIdInParent:o,containerLayoutId:t.layoutId,embedLayouts:[]};h.views.forEach((function(a){var u,l,c=null===(u=null==n?void 0:n.views)||void 0===u?void 0:u[a],d=null===(l=null==c?void 0:c.layout)||void 0===l?void 0:l[e];m.embedLayouts.push(d),g.embedLayouts.push(d),s.push({layoutId:d,parentLayoutId:t.layoutId,parentType:i.LayoutItemType.Section,itemIdInParent:o,containerViewId:a,containerSectionId:r.sectionId})})),l[r.sectionId]=m}}};for(var v in f)y(v);a[t.layoutId]=g};s.length>0;){c(s.pop())}return{layouts:a,widgets:u,sections:l}}function I(t,n,e){for(var o=n,i=t.layouts[o.parentLayoutId];null==i?void 0:i.parentLayoutId;){if(i.layoutId===e||i.embedLayouts.indexOf(e)>=0)return o;o=i,i=t.layouts[o.parentLayoutId]}return o}function O(t,n,e,o){var i=t.layoutId,r=w(e,n,o).layouts[i];return(null==r?void 0:r.parentLayoutId)?{layoutId:r.parentLayoutId,layoutItemId:r.itemIdInParent}:null}var x=e(8);function j(t,n){var e,o=t.appConfig.sections[n];if(!o||!o.views)return null;var i,r=null===(e=t.appRuntimeInfo.sectionNavInfos)||void 0===e?void 0:e[o.id];if(!r){var a=o.views[0];i=t.appConfig.views[a]}return{sectionId:n,navInfo:r,activeView:i,views:o.views,sectionStyle:o.style,transition:o.transition,autoPlay:o.autoPlay,interval:o.interval,loop:o.loop}}function S(t,n,e,o){var r=t.pages[n];return r?o===i.PagePart.Header?r.header&&t.header?R(t,t.header.layout[e],e):[]:o===i.PagePart.Footer?r.footer&&t.footer?R(t,t.footer.layout[e],e):[]:o===i.PagePart.Body?R(t,r.layout[e],e):[]:[]}function C(t,n,e,o){var r=t.pages[n];return r?o===i.PagePart.Header?r.header&&t.header?M(t,t.header.layout,e):[]:o===i.PagePart.Footer?r.footer&&t.footer?M(t,t.footer.layout,e):[]:o===i.PagePart.Body?M(t,r.layout,e):[]:[]}function P(t,n,e){var o=t.dialogs[n];return o?R(t,o.layout[e],e):[]}function T(t,n,e){var o=t.dialogs[n];return o?M(t,o.layout,e):[]}function R(t,n,e){var o=[];return Object(x.u)(t.layouts[n],i.LayoutItemType.Widget,!0).forEach((function(n){var i=t.layouts[n.layoutId].content[n.layoutItemId];i.isPending?o.push(n):t.widgets[i.widgetId].layouts&&Object.keys(t.widgets[i.widgetId].layouts).forEach((function(n){o=o.concat(R(t,t.widgets[i.widgetId].layouts[n][e],e))}))})),Object(x.u)(t.layouts[n],i.LayoutItemType.Section,!0).forEach((function(n){var i=t.layouts[n.layoutId].content[n.layoutItemId];i.isPending?o.push(n):t.sections[i.sectionId].views&&t.sections[i.sectionId].views.forEach((function(n){o=o.concat(R(t,t.views[n].layout[e],e))}))})),Object(x.u)(t.layouts[n],i.LayoutItemType.ScreenGroup,!0).forEach((function(n){var i,r,a=t.layouts[n.layoutId].content[n.layoutItemId].screenGroupId;null===(r=null===(i=t.screenGroups)||void 0===i?void 0:i[a].screens)||void 0===r||r.forEach((function(n){var i=null==t?void 0:t.screens[n];i.main&&(o=o.concat(R(t,i.main.layout[e],e))),i.panel&&(o=o.concat(R(t,i.panel.layout[e],e)))}))})),o}function M(t,n,e,o,r){void 0===o&&(o=null),void 0===r&&(r=null);var a=[];return o||(o=Object(x.m)(t,n[e],i.LayoutItemType.Widget,e,!0)),r||(r=Object(x.m)(t,n[e],i.LayoutItemType.Section,e,!0)),Object.keys(i.BrowserSizeMode).filter((function(t){return i.BrowserSizeMode[t]!==e})).map((function(t){return i.BrowserSizeMode[t]})).forEach((function(u){Object(x.u)(t.layouts[n[u]],i.LayoutItemType.Widget,!0).forEach((function(n){var u=t.layouts[n.layoutId].content[n.layoutItemId];t.widgets[u.widgetId].manifest.widgetType!==i.WidgetType.Layout&&o.indexOf(u.widgetId)<0?!k(t,a,n)&&a.push(n):t.widgets[u.widgetId].layouts&&Object.keys(t.widgets[u.widgetId].layouts).forEach((function(n){M(t,t.widgets[u.widgetId].layouts[n],e,o,r).forEach((function(n){!k(t,a,n)&&a.push(n)}))}))})),Object(x.u)(t.layouts[n[u]],i.LayoutItemType.Section,!0).forEach((function(n){var i=t.layouts[n.layoutId].content[n.layoutItemId];r.indexOf(i.sectionId)<0?!k(t,a,n)&&a.push(n):t.sections[i.sectionId].views&&t.sections[i.sectionId].views.forEach((function(n){M(t,t.views[n].layout,e,o,r).forEach((function(n){!k(t,a,n)&&a.push(n)}))}))})),Object(x.u)(t.layouts[n[u]],i.LayoutItemType.ScreenGroup,!0).forEach((function(n){var i,u,l=t.layouts[n.layoutId].content[n.layoutItemId];(null===(u=null===(i=t.screenGroups)||void 0===i?void 0:i[l.screenGroupId])||void 0===u?void 0:u.screens)&&t.screenGroups[l.screenGroupId].screens.forEach((function(n){var i,u=null===(i=t.screens)||void 0===i?void 0:i[n];(null==u?void 0:u.main)&&M(t,u.main.layout,e,o,r).forEach((function(n){!k(t,a,n)&&a.push(n)})),(null==u?void 0:u.panel)&&M(t,u.panel.layout,e,o,r).forEach((function(n){!k(t,a,n)&&a.push(n)}))}))}))})),a}function k(t,n,e){var o=t.layouts[e.layoutId].content[e.layoutItemId];return!!n.find((function(n){var e=t.layouts[n.layoutId].content[n.layoutItemId];return e.type===o.type&&(e.type===i.LayoutItemType.Widget&&e.widgetId===o.widgetId||e.type===i.LayoutItemType.Section&&e.sectionId===o.sectionId)}))}var L,z,A,_=(L=function(t,n){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}L(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),B=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},E=function(){return(E=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},N=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(t);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(e[o[i]]=t[o[i]])}return e},V=function(t){function n(n){var e=t.call(this,n)||this;return e.onMouseDown=e.onMouseDown.bind(e),e.ref=i.React.createRef(),e.state={error:null},e}return _(n,t),n.prototype.loadWidgetClass=function(){var t=this,n=this.props,e=n.widgetId,o=n.isClassLoaded;e&&!o&&i.WidgetManager.getInstance().loadWidgetClass(e).catch((function(n){t.setState({error:i.i18n.getIntl().formatMessage({id:"widgetLoadError"})})}))},n.prototype.componentDidMount=function(){this.loadWidgetClass()},n.prototype.componentDidUpdate=function(){this.loadWidgetClass()},n.prototype.renderWidgetContent=function(){var t,n=this.props,e=n.widgetId,o=n.layoutId,r=n.layoutItemId;return e&&(t=i.WidgetManager.getInstance().getWidgetClass(e)),this.state.error?Object(i.jsx)("div",{className:"widget-content"},this.state.error):Object(i.jsx)("div",{className:"widget-content"},t&&Object(i.jsx)(i.ErrorBoundary,null,Object(i.jsx)(t,{widgetId:e,layoutId:o,layoutItemId:r})))},n.prototype.getStyle=function(){var t=Object(i.css)(z||(z=B(["\n      -webkit-overflow-scrolling: touch;\n    "],["\n      -webkit-overflow-scrolling: touch;\n    "])));return Object(i.css)(A||(A=B(["\n      ",";\n      overflow: ",";\n      position: relative;\n\n      &.aspect-ratio-wrapper {\n        padding-top: ","%;\n      }\n\n      .widget-content {\n        position: relative;\n        height: 100%;\n        width: 100%;\n        z-index: 0;\n      }\n\n      &.aspect-ratio-wrapper > .widget-content {\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n      }\n    "],["\n      ",";\n      overflow: ",";\n      position: relative;\n\n      &.aspect-ratio-wrapper {\n        padding-top: ","%;\n      }\n\n      .widget-content {\n        position: relative;\n        height: 100%;\n        width: 100%;\n        z-index: 0;\n      }\n\n      &.aspect-ratio-wrapper > .widget-content {\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n      }\n    "])),"app-loader"===this.props.widgetId?t:"",this.props.canCrossLayoutBoundary?"visible":"hidden",100*(this.props.aspectRatio||0))},n.prototype.onMouseDown=function(t){var n;(null===(n=Object(i.getAppStore)().getState().widgetsRuntimeInfo[this.props.widgetId])||void 0===n?void 0:n.state)!==i.WidgetState.Active&&Object(i.getAppStore)().dispatch(i.appActions.activateWidget(this.props.widgetId))},n.prototype.render=function(){var t=this.props,n=t.className,e=t.widgetStyle,o=t.widgetId,r=t.forceAspectRatio,a=t.aspectRatio,u=t.rotate,l=g.styleUtils.toCSSStyle(e),s=l.transform,c=N(l,["transform"]),d=u>0||u<0?"rotateZ("+u+"deg)":"",p=d;return s&&(p=s+" "+d),Object(i.jsx)("div",{className:Object(i.classNames)("widget-renderer w-100",n,{"aspect-ratio-wrapper":r&&a>0}),css:this.getStyle(),style:E(E({},c),{transform:p}),onMouseDownCapture:this.onMouseDown,"data-widgetid":o,ref:this.ref},this.renderWidgetContent(),this.props.children)},n}(i.React.PureComponent),F=i.ReactRedux.connect(y.mapStateToWidgetProps)(V),W=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),H=function(){return(H=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},D=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return W(n,t),n.prototype.render=function(){var t=this.props.layout;if(!t)return null;var n=f(t.type||i.LayoutType.FlowLayout);return n?i.React.createElement(n,H({},this.props)):null},n}(i.React.PureComponent),G=i.ReactRedux.connect(y.mapStateToLayoutProps)(D),U=e(42),J=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),X=function(){return(X=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},Y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return J(n,t),n.prototype.render=function(){return i.React.createElement(U.a,X({},this.props,{layoutEntryComponent:G,viewVisibilityContext:a.d}))},n}(i.React.PureComponent);function Z(t,n){var e=i.React.useState(!0),o=e[0],r=e[1],u=i.React.useContext(a.b);return i.React.useEffect((function(){null!=t&&r(u)}),[t,u]),o}var q,$=e(38),K=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},Q=function(){return(Q=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},tt=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(t);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(e[o[i]]=t[o[i]])}return e};function nt(t){var n,e,o,r,u,l,s,c=i.ReactRedux.useSelector((function(n){return function(t,n){var e=Object(y.mapStateToLayoutItemProps)(t,n);if(!e.layoutItem)return e;if(e.layoutItem.type===i.LayoutItemType.Widget)return Q({},e);var o=j(t,e.layoutItem.sectionId);return Q(Q({},e),o)}(n,t)}),i.ReactRedux.shallowEqual),d=Q(Q({},t),c),p=i.React.useRef(),f=d.layoutId,g=d.layoutItemId,v=d.layoutItem,m=d.className,b=(d.children,d.isParentPlaying),w=d.isParentRevert,I=d.isParentEnableScroll,O=d.parentAnimationStyle,x=d.parentPlayId,S=tt(d,["className","children","isParentPlaying","isParentRevert","isParentEnableScroll","parentAnimationStyle","parentPlayId"]),C=(null==v?void 0:v.type)===i.LayoutItemType.Widget,P=(null==v?void 0:v.type)===i.LayoutItemType.Section,T=null!==(e=null===(n=d.layoutItem)||void 0===n?void 0:n.setting)&&void 0!==e?e:{},R=T.effect,M=T.oneByOneEffect,k=i.React.useState(!1),L=(k[0],k[1]),z=Object($.a)(p.current,d.watchViewportVisibility);i.React.useEffect((function(){L(!0)}),[]);var A=function(t){var n,e=t.effect,o=(i.React.useContext(a.a).pageId,null===(n=null==e?void 0:e[i.AnimationTriggerType.ScrollIntoView])||void 0===n?void 0:n.type),r=Z(o=o&&o!==i.AnimationType.None?o:null),u=i.React.useState(Symbol("page load")),l=u[0],s=u[1],c=i.React.useRef(i.AnimationTriggerType.Manual),d=i.React.useRef(r);i.React.useEffect((function(){o&&d.current!==r&&(d.current=r,s(Symbol("autoplay when visible change")),c.current=i.AnimationTriggerType.Manual)}),[o,r]);var p=i.React.useCallback((function(){l&&(c.current=i.AnimationTriggerType.ScrollIntoView,s(null))}),[l]);return o?{onAnimationEnd:p,playId:l,type:o,trigger:l?i.AnimationTriggerType.Manual:c.current,revert:!r}:{}}({effect:R}),_=A.type,B=A.trigger,E=A.playId,N=A.revert,V=A.onAnimationEnd,W=function(t){var n,e,o=t.effect,r=t.isInSection,u=(i.React.useContext(a.a).pageId,null==o?void 0:o[i.AnimationTriggerType.ScrollIntoView]),l=Z(u=u&&u!==i.AnimationType.None?u:null),s=i.React.useContext(i.AnimationContext),c=i.React.useRef(l),d=i.React.useRef(i.AnimationTriggerType.Manual),p=i.React.useState(Symbol("page load")),f=p[0],g=p[1];i.React.useEffect((function(){u&&c.current!==l&&(c.current=l,g(Symbol("autoplay when visible change")),d.current=i.AnimationTriggerType.Manual)}),[u,l]);var y=i.React.useCallback((function(){f&&(d.current=i.AnimationTriggerType.ScrollIntoView,g(null))}),[f]);return u?{setting:null==o?void 0:o[i.AnimationTriggerType.ScrollIntoView],onAnimationEnd:y,trigger:f?i.AnimationTriggerType.Manual:d.current,inheritedOneByOneSetting:r?null:null==s?void 0:s.setting,playId:f,revert:!l,depth:(null!==(e=null==s?void 0:s.depth)&&void 0!==e?e:0)+1}:{inheritedOneByOneSetting:r?null:null==s?void 0:s.setting,depth:(null!==(n=null==s?void 0:s.depth)&&void 0!==n?n:0)+1}}({effect:M,isInSection:t.isInSection}),H=W.setting,D=W.trigger,G=W.inheritedOneByOneSetting,U=W.playId,J=W.depth,X=W.revert,nt=W.onAnimationEnd,et=i.React.useMemo((function(){return{trigger:D,setting:H,inheritedOneByOneSetting:G,playId:U,depth:J,revert:X,onAnimationEnd:nt}}),[D,H,G,U,J,X,nt]);if(!d.layoutItem||C&&!v.widgetId||P&&!v.sectionId)return null;var ot=null===(o=null==R?void 0:R[i.AnimationTriggerType.ScrollIntoView])||void 0===o?void 0:o.option,it=null!==(s=null===(l=null===(u=null===(r=v.setting)||void 0===r?void 0:r.style)||void 0===u?void 0:u.transform)||void 0===l?void 0:l.rotate)&&void 0!==s?s:0;return Object(i.jsx)(i.AnimationContext.Provider,{value:et},Object(i.jsx)(a.e.Provider,{value:z},Object(i.jsx)(i.Animation,{type:_,trigger:B,configType:null==ot?void 0:ot.configType,direction:null==ot?void 0:ot.direction,playId:E,revert:N,onAnimationEnd:V,parentAnimationStyle:O,isParentPlaying:b,isParentRevert:w,isParentEnableScroll:I,parentPlayId:x,ref:p,css:Object(i.css)(q||(q=K(["\n            position: relative;\n            overflow: visible;\n            min-width: ","px;\n            min-height: ","px;\n          "],["\n            position: relative;\n            overflow: visible;\n            min-width: ","px;\n            min-height: ","px;\n          "])),h.h,h.h),className:Object(i.classNames)("d-flex layout-item",m,{"is-widget":C,"is-section":P}),"data-layoutitemid":g,"data-layoutid":f},C&&Object(i.jsx)(F,Q({rotate:it},S)),P&&Object(i.jsx)(Y,Q({rotate:it},S)),t.children)))}var et,ot,it,rt,at,ut,lt,st=e(17),ct=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),dt=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},pt=function(){return(pt=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},ft=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return ct(n,t),n.prototype.getPositionStyle=function(t){var n=this.props,e=n.layoutItem,o=n.transformedBBox||e.bbox,r=Object(st.e)(o,t),a=pt(pt({},r),Object(st.a)(e.bbox,t));return Object(i.css)(et||(et=dt(["\n      position: absolute;\n      transform: ",";\n      left: ",";\n      right: ",";\n      top: ",";\n      bottom: ",";\n      width: ",";\n      height: ",";\n    "],["\n      position: absolute;\n      transform: ",";\n      left: ",";\n      right: ",";\n      top: ",";\n      bottom: ",";\n      width: ",";\n      height: ",";\n    "])),a.transform,Object(y.getValueOfBBox)(a,"left"),Object(y.getValueOfBBox)(a,"right"),Object(y.getValueOfBBox)(a,"top"),Object(y.getValueOfBBox)(a,"bottom"),Object(y.getValueOfBBox)(a,"width"),Object(y.getValueOfBBox)(a,"height"))},n.prototype.render=function(){var t=this.props,n=t.layoutItem,e=t.layoutId;if(!n||n.isPending)return null;var o=i.lodash.assign({},v.a,n.setting),r=Object(y.parseAspectRatio)(o.aspectRatio),a=Object(st.d)(n.bbox,o),u=Object(y.handleOnebyOneAnimation)(this.props);return Object(i.jsx)(nt,pt({css:this.getPositionStyle(o),layoutId:e,layoutItemId:n.id,forceAspectRatio:a,aspectRatio:r,isInSection:this.props.isInSection},u))},n}(i.React.PureComponent),gt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),yt=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},vt=function(){return(vt=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},ht=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return gt(n,t),n.prototype.createItem=function(t,n,e,o){var r=t.content[n];return Object(i.jsx)(ft,{key:n,index:e,layoutId:t.id,layoutItemId:n,layoutItem:r,transformedBBox:o?t.content[n].bbox:null,isInSection:this.props.isInSection})},n.prototype.render=function(){var t=this,n=this.props,e=n.layout,o=n.layouts,r=n.className,u=n.style;return e?Object(i.jsx)(a.a.Consumer,null,(function(n){t.pageContext=n;var a,l=e,s=!1;o[n.browserSizeMode]!==e.id&&t.layoutTransform&&(Object.keys(o).some((function(t){if(o[t]===e.id)return a=t,!0})),l=t.layoutTransform(e,a,n.browserSizeMode),s=!0);var c=i.lodash.assign({},v.b,l.setting),d=l.order||[],p=Object(i.classNames)("layout fixed-layout d-flex",r);return Object(i.jsx)("div",{className:p,style:vt(vt(vt({position:"relative",height:"auto"},u),g.styleUtils.toCSSStyle(c.style)),{width:"100%",overflow:"hidden"}),"data-layoutid":l.id},d.length>0&&Object(i.jsx)(i.OneByOneAnimation,{css:Object(i.css)(ot||(ot=yt(["\n                  position: absolute;\n                  left: 0;\n                  right: 0;\n                  top: 0;\n                  bottom: 0;\n                "],["\n                  position: absolute;\n                  left: 0;\n                  right: 0;\n                  top: 0;\n                  bottom: 0;\n                "]))),"data-layoutid":e.id},d.map((function(n,e){return t.createItem(l,n,e,s)}))))})):null},n}(i.React.PureComponent),mt=i.ReactRedux.connect(y.mapStateToLayoutProps)(ht),bt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),wt=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},It=function(){return(It=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},Ot=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return bt(n,t),n.prototype.isStretchInCrossAxis=function(){var t,n;return(null===(n=null===(t=this.props.layoutItem.setting)||void 0===t?void 0:t.autoProps)||void 0===n?void 0:n.width)!==h.f.Custom},n.prototype.calHeight=function(t,n){var e,o;return(null===(e=t.autoProps)||void 0===e?void 0:e.height)===h.f.Auto||"ratio"===t.heightMode?"ratio"===t.heightMode?{height:"auto",flex:"0 0 auto"}:{height:"auto"}:(null===(o=t.autoProps)||void 0===o?void 0:o.height)===h.f.Stretch||"fit"===t.heightMode?{flex:"1 1 auto"}:{height:n.height,flexShrink:0}},n.prototype.getStyle=function(t,n){var e,o,r=this.props,a=r.index,u=r.layoutItem,l=r.space,s=u.bbox||{},c=this.calHeight(t,s);return c.width=n?"auto":s.width,Object(i.css)(it||(it=wt(["\n      margin-top: ",";\n      align-self: ",";\n      width: ",";\n      height: ",";\n      flex: ",";\n      flex-shrink: ",";\n    "],["\n      margin-top: ",";\n      align-self: ",";\n      width: ",";\n      height: ",";\n      flex: ",";\n      flex-shrink: ",";\n    "])),a>0?l+"px":"unset",n?"stretch":null!==(o=null===(e=t.style)||void 0===e?void 0:e.alignSelf)&&void 0!==o?o:"auto",Object(y.getValueOfBBox)(c,"width"),Object(y.getValueOfBBox)(c,"height"),c.flex,c.flexShrink)},n.prototype.render=function(){var t=this.props,n=t.layoutId,e=t.layoutItem,o=t.onClick;if(!e||e.isPending)return null;var r=Object(i.classNames)("flexbox-layout-item","d-flex"),a=e.setting||{},u=this.isStretchInCrossAxis(),l="ratio"===a.heightMode,s=Object(y.parseAspectRatio)(a.aspectRatio),c=Object(y.handleOnebyOneAnimation)(this.props);return Object(i.jsx)(nt,It({css:this.getStyle(a,u),layoutId:n,layoutItemId:e.id,onClick:o,className:r,forceAspectRatio:l,aspectRatio:s},c))},n}(i.React.PureComponent),xt=e(39),jt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),St=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},Ct=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return jt(n,t),n.prototype.createItem=function(t,n,e){var o=this.props.layout;return Object(i.jsx)(Ot,{key:t,index:n,space:e.space,layoutId:o.id,layoutItemId:t,layoutItem:o.content[t]})},n.prototype.render=function(){var t=this,n=this.props,e=n.layout,o=n.className,r=e.order||Object(i.Immutable)([]),a=Object.assign({},xt.a,e.setting),u=Object(i.classNames)("layout column-layout d-flex w-100",o);return Object(i.jsx)("div",{className:u,style:{position:"relative",overflow:"hidden"},"data-layoutid":e.id},Object(i.jsx)(i.OneByOneAnimation,{enableScroll:!0,className:"trail-container d-flex flex-column w-100",css:Object(i.css)(rt||(rt=St(["\n          height: 100%;\n          overflow-x: hidden;\n          padding: ",";\n          justify-content: ",";\n          overflow-y: ","\n        "],["\n          height: 100%;\n          overflow-x: hidden;\n          padding: ",";\n          justify-content: ",";\n          overflow-y: ","\n        "])),g.styleUtils.toCSSPadding(a.padding),a.justifyContent,!1===a.overflowY?"hidden !important":null)},r.asMutable().map((function(n,e){return t.createItem(n,e,a)}))))},n}(i.React.PureComponent),Pt=i.ReactRedux.connect(y.mapStateToLayoutProps)(Ct),Tt=e(40),Rt=e(21),Mt=e(27),kt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Lt=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},zt=function(){return(zt=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},At=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return kt(n,t),n.prototype.calHeight=function(t){var n=this.props.layoutItem.bbox||{},e=Object(y.getValueOfBBox)(n,"height");if(!e||Object(y.isPercentage)(e))return"auto";switch(t.heightMode){case"auto":return"auto";case"fixed":return e}},n.prototype.getStyle=function(t){var n=this.props,e=n.index,o=n.gutter;return Object(i.css)(at||(at=Lt(["\n      margin-top: ",";\n      width: ",";\n      height: ",";\n      flex-shrink: 0;\n      transform: ",";\n    "],["\n      margin-top: ",";\n      width: ",";\n      height: ",";\n      flex-shrink: 0;\n      transform: ",";\n    "])),e>0?o+"px":"unset",Object(Mt.a)(t),this.calHeight(t),t.offsetX||t.offsetY?"translate("+(t.offsetX||0)+"px, "+(t.offsetY||0)+"px)":null)},n.prototype.render=function(){var t=this.props,n=t.layoutId,e=t.layoutItem,o=t.onClick,r=t.isEmpty;if(!e||r)return null;var a=Object(i.classNames)("flow-layout-item","d-flex"),u=i.lodash.assign({},Rt.a,e.setting),l=Object(y.handleOnebyOneAnimation)(this.props);return Object(i.jsx)(nt,zt({css:this.getStyle(u),layoutId:n,layoutItemId:e.id,onClick:o,className:a},l))},n}(i.React.PureComponent),_t=i.ReactRedux.connect(Mt.b)(At),Bt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Et=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},Nt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Bt(n,t),n.prototype.calculatePosition=function(){var t,n,e,o,r,a,u=this.props.layoutItem,l=null!==(n=null===(t=u.setting)||void 0===t?void 0:t.floatingArea)&&void 0!==n?n:1,s=(null!==(o=null===(e=u.setting)||void 0===e?void 0:e.offsetX)&&void 0!==o?o:0)+"px",c=(null!==(a=null===(r=u.setting)||void 0===r?void 0:r.offsetY)&&void 0!==a?a:0)+"px",d={};switch(l){case 1:d.left=s,d.top=c;break;case 2:d.left="50%",d.top=c,d.transform="translateX(calc(-50% + "+s+"px))";break;case 3:d.right=s,d.top=c;break;case 4:d.left=s,d.top="50%",d.transform="translateY(calc(-50% + "+c+"px))";break;case 5:d.left="50%",d.top="50%",d.transform="translate(calc(-50% + "+s+"px), calc(-50% + "+c+"px))";break;case 6:d.right=s,d.top="50%",d.transform="translateY(calc(-50% + "+c+"px))";break;case 7:d.left=s,d.bottom=c;break;case 8:d.left="50%",d.bottom=c,d.transform="translateX(calc(-50% + "+s+"px))";break;case 9:d.right=s,d.bottom=c}return Object(i.css)(ut||(ut=Et(["\n      position: fixed;\n      z-index: 1;\n      width: ",";\n      height: ",";\n      left: ",";\n      right: ",";\n      top: ",";\n      bottom: ",";\n      transform: ",";\n    "],["\n      position: fixed;\n      z-index: 1;\n      width: ",";\n      height: ",";\n      left: ",";\n      right: ",";\n      top: ",";\n      bottom: ",";\n      transform: ",";\n    "])),Object(y.getValueOfBBox)(u.bbox,"width"),Object(y.getValueOfBBox)(u.bbox,"height"),d.left,d.right,d.top,d.bottom,d.transform)},n.prototype.render=function(){var t=this.props,n=t.layoutId,e=t.layoutItem,o=t.onClick;if(!e)return null;var r=Object(i.classNames)("flow-layout-item","d-flex");return Object(i.jsx)(nt,{css:this.calculatePosition(),layoutId:n,layoutItemId:e.id,onClick:o,className:r})},n}(i.React.PureComponent),Vt=e(36),Ft=e(15),Wt=e(41),Ht=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t};function Dt(t,n){return Object(i.css)(lt||(lt=Ht(["\n    position: relative;\n    width: 100%;\n\n    .main-panels {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      pointer-events: none;\n      z-index: 0;\n    }\n\n    .side-panels {\n      position: relative;\n      z-index: 1;\n      pointer-events: none;\n\n      > div:first-of-type > div.panel-content {\n        padding-top: ","vh;\n      }\n\n      /* > div:nth-last-of-type(2) {\n        min-height: 100vh;\n      } */\n    }\n\n    &.small-size .main-panels {\n      z-index: ",";\n    }\n\n    &.small-size .side-panels {\n      z-index: ",";\n    }\n  "],["\n    position: relative;\n    width: 100%;\n\n    .main-panels {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      pointer-events: none;\n      z-index: 0;\n    }\n\n    .side-panels {\n      position: relative;\n      z-index: 1;\n      pointer-events: none;\n\n      > div:first-of-type > div.panel-content {\n        padding-top: ","vh;\n      }\n\n      /* > div:nth-last-of-type(2) {\n        min-height: 100vh;\n      } */\n    }\n\n    &.small-size .main-panels {\n      z-index: ",";\n    }\n\n    &.small-size .side-panels {\n      z-index: ",";\n    }\n  "])),Math.round(100*Ft.b),n?0:1,n?1:0)}function Gt(t){var n,e=t.layoutId,o=t.layoutItemId,r=t.layoutItem,u=r.screenGroupId,l=i.ReactRedux.useSelector((function(t){return t.appConfig.screenGroups[r.screenGroupId]})),s=i.ReactRedux.useSelector((function(t){var n=t.appConfig.screenGroups[r.screenGroupId].screens[0];return null!=t.appConfig.screens[n].panel})),c=i.ReactRedux.useSelector((function(t){return t.browserSizeMode})),d=i.React.useContext(a.a).pageId,p=i.ReactRedux.useSelector((function(t){var n=t.appConfig.pages[d];if(null==n?void 0:n.header){var e=t.appConfig.header;if(null==e?void 0:e.sticky){var o=t.browserSizeMode,i=t.appConfig.mainSizeMode,r=e.height[o]||e.height[i]||Ft.a;return parseInt(r,10)}}return 0})),f=l.screens,g=l.stretchPanel,y=void 0===g||g,v=l.triggerType,h=void 0===v?i.ScreenTriggerType.Bottom:v,m=l.verticalSpace,b=void 0===m?"0":m,w=l.panelTransitionType,I=void 0===w?i.ScreenTransitionType.Push:w,O=null!==(n=l.transitionType)&&void 0!==n?n:i.ScreenTransitionType.Fade;c!==i.BrowserSizeMode.Small||s||(O=i.ScreenTransitionType.Cover);var x=i.ReactRedux.useSelector((function(t){var n;return null===(n=t.appRuntimeInfo.screenGroupNavInfos)||void 0===n?void 0:n[u]})),j=i.React.useRef(),S=i.React.useRef(),C=i.React.useRef(),P=i.React.useState(0),T=P[0],R=P[1],M=i.React.useMemo((function(){var t,n,e;if(c!==i.BrowserSizeMode.Small)return!1;var o=Object(i.getAppStore)().getState().appConfig,r=null===(n=null===(t=o.screenGroups)||void 0===t?void 0:t[u])||void 0===n?void 0:n.screens;return!!(null==r?void 0:r[T])&&!0===(null===(e=o.screens[r[T]].panel)||void 0===e?void 0:e.overlay)}),[u,T,c]);i.React.useEffect((function(){null!=(null==x?void 0:x.activeIndex)&&x.activeIndex!==T&&R(x.activeIndex)}),[x,T]);var k=i.React.useCallback((function(t,n){n&&t!==T?Object(i.getAppStore)().dispatch(i.appActions.screenGroupNavInfoChanged(u,t,!1)):!n&&t>0&&Object(i.getAppStore)().dispatch(i.appActions.screenGroupNavInfoChanged(u,t-1,!1))}),[T,u]),L=i.React.useCallback((function(){if(S.current){var t=S.current.children[0],n=S.current.children[1];t.style.height=n.clientHeight+"px"}}),[]),z=i.React.useMemo((function(){return i.lodash.debounce(L,200)}),[L]),A=i.React.useCallback((function(t,n){if(S.current){var e=S.current.children[0],o=S.current.children[1];if(O!==i.ScreenTransitionType.Fade)if(O!==i.ScreenTransitionType.Cover){if(O===i.ScreenTransitionType.Push){var r=e.querySelector('div.screen-main-panel[data-index="'+t+'"]'),a=o.querySelector('div.screen-side-panel[data-index="'+t+'"]');return r.style.height=a.clientHeight+"px",void(e.style.height=o.clientHeight+"px")}}else Object(Wt.a)(e,o,c);else e.style.height=o.clientHeight+"px"}}),[c,O]);return f.length>0?Object(i.jsx)("div",{className:Object(i.classNames)("flow-layout-item",{"small-size":c===i.BrowserSizeMode.Small}),css:Dt(0,M),"data-layoutitemid":o,"data-layoutid":e,ref:j},Object(i.jsx)("div",{className:"screen-group",ref:S},Object(i.jsx)("div",{className:"main-panels",ref:C},Object(i.jsx)(Vt.a,{pageId:d,activeIndex:T,screens:f,transitionType:O,layoutEntry:G,headerHeight:p,isSmallSize:c===i.BrowserSizeMode.Small})),Object(i.jsx)("div",{className:"side-panels"},f.map((function(t,n){return Object(i.jsx)(Vt.b,{key:t,index:n,isLast:n===f.length-1,screenId:t,refElement:null,layoutEntry:G,isActive:n===T,stretched:y,triggerType:h,verticalSpace:b,transitionType:I,screenTransitionType:O,onHeightChange:A,onInterctionChange:k,isSmallSize:c===i.BrowserSizeMode.Small,headerHeight:p})})),Object(i.jsx)(i.ReactResizeDetector,{handleHeight:!0,onResize:z})))):null}var Ut,Jt,Xt,Yt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Zt=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},qt=function(){return(qt=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},$t=function(t){function n(n){var e,o=t.call(this,n)||this,r=i.ExtensionManager.getInstance().getExtensions(""+i.extensionSpec.ExtensionPoints.LayoutTransformer);if(r&&r.length>0){var a=r.find((function(t){return t.layoutType===o.props.layout.type}));o.layoutTransform=null===(e=a)||void 0===e?void 0:e.transformLayout}return o}return Yt(n,t),n.prototype._createItem=function(t,n,e){var o,r=this.props.layout;return t.type===i.LayoutItemType.ScreenGroup?Object(i.jsx)(Gt,{key:t.id+"_"+n,itemIndex:n,layoutId:r.id,layoutItemId:t.id,layoutItem:t}):(null===(o=t.setting)||void 0===o?void 0:o.isFloating)?Object(i.jsx)(Nt,{key:t.id,index:n,gutter:e.gutter,layoutId:r.id,layoutItemId:t.id,layoutItem:t}):Object(i.jsx)(_t,{key:t.id,index:n,gutter:e.gutter,layoutId:r.id,layoutItemId:t.id,layoutItem:t})},n.prototype.render=function(){var t=this,n=this.props,e=n.layout,o=n.className,r=n.style,u=n.layouts;return e?Object(i.jsx)(a.a.Consumer,null,(function(n){var a,l=e;u[n.browserSizeMode]!==e.id&&t.layoutTransform&&(Object.keys(u).some((function(t){if(u[t]===e.id)return a=t,!0})),l=t.layoutTransform(e,a,n.browserSizeMode));var s=l.order||[],c=i.lodash.assign({},Rt.b,l.setting),d=qt(qt(qt({},r),g.styleUtils.toCSSStyle(c.style)),{position:"relative"}),p=Object(i.classNames)("layout flow-layout w-100",o);return Object(i.jsx)("div",{className:p,style:d,"data-layoutid":e.id},Object(i.jsx)(i.OneByOneAnimation,{"data-layoutid":l.id,enableScroll:!0,className:"trail-container d-flex flex-column align-items-center",css:Object(i.css)(Ut||(Ut=Zt(["\n                  width: 100%;\n                "],["\n                  width: 100%;\n                "])))},s.map((function(n,e){return t._createItem(l.content[n],e,c)}))))})):null},n}(i.React.PureComponent),Kt=i.ReactRedux.connect(y.mapStateToLayoutProps)($t),Qt=e(12),tn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),nn=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},en=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return tn(n,t),n.prototype.render=function(){var t=this.props,n=t.layoutId,e=t.layoutItem;if(!e)return null;var o=Object(i.css)(Jt||(Jt=nn(["\n      position: relative;\n      width: ",";\n      height: ",";\n      flex-shrink: 1;\n      flex-grow: 1;\n    "],["\n      position: relative;\n      width: ",";\n      height: ",";\n      flex-shrink: 1;\n      flex-grow: 1;\n    "])),Object(y.getValueOfBBox)(e.bbox,"width"),Object(y.getValueOfBBox)(e.bbox,"height"));return Object(i.jsx)(nt,{css:o,layoutId:n,layoutItemId:e.id,onClick:this.props.onClick})},n}(i.React.PureComponent),on=i.ReactRedux.connect(y.mapStateToLayoutItemProps)(en),rn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),an=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},un=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return rn(n,t),n.prototype.getStyle=function(){var t=this.props,n=t.direction,e=t.size,o=t.color,r=e+"px";return Object(i.css)(Xt||(Xt=an(["\n      width: ",";\n      height: ",";\n      background: ",";\n      position: relative;\n      z-index: ",";\n\n      .horizontal-splitter {\n        width: 15px;\n        height: 100%;\n        position: absolute;\n        left: -5px;\n      }\n\n      .vertical-splitter {\n        width: 100%;\n        height: 15px;\n        position: absolute;\n        top: -5px;\n      }\n    "],["\n      width: ",";\n      height: ",";\n      background: ",";\n      position: relative;\n      z-index: ",";\n\n      .horizontal-splitter {\n        width: 15px;\n        height: 100%;\n        position: absolute;\n        left: -5px;\n      }\n\n      .vertical-splitter {\n        width: 100%;\n        height: 15px;\n        position: absolute;\n        top: -5px;\n      }\n    "])),n===Qt.b.Vertical?"100%":r,n===Qt.b.Vertical?r:"100%",o,h.g.HandlerTools)},n.prototype.render=function(){var t=this,n=this.props.direction;return Object(i.jsx)("div",{ref:function(n){return t.ref=n},css:this.getStyle()},Object(i.jsx)("div",{className:Object(i.classNames)({"horizontal-splitter":n===Qt.b.Horizontal,"vertical-splitter":n===Qt.b.Vertical})}))},n}(i.React.PureComponent),ln=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),sn=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return ln(n,t),n.prototype.createItems=function(t,n){var e=this.props,o=e.layoutId,r=e.layoutItem,a=e.splitterColor,u=e.splitterSize,l=[];return t.forEach((function(e,s){var c=n.indexOf(e)>=0?dn:on;l.push(i.React.createElement(c,{key:e,layoutId:o,layoutItemId:e})),s!==t.length-1&&l.push(i.React.createElement(un,{key:e+"_splitter",layoutId:o,direction:r.direction,prevItemId:t[s],nextItemId:t[s+1],size:u,color:a}))})),l},n.prototype.render=function(){var t=this,n=this.props,e=n.layoutItem,o=n.subContainerIds;if(!e)return null;var r=e.items&&e.items.length>0?e.items:[e.id],a=o.split(","),u=Object(i.classNames)("grid-container d-flex justify-content-start",{"flex-column":e.direction===Qt.b.Vertical}),l={width:e.bbox.width,height:e.bbox.height,flexShrink:1,flexGrow:1};return i.React.createElement("div",{className:u,"data-layoutitemid":e.id,"data-layoutid":this.props.layoutId,style:l,ref:function(n){return t.ref=n}},this.createItems(r,a))},n}(i.React.PureComponent);var cn,dn=i.ReactRedux.connect((function(t,n){var e=n.layoutId,o=n.layoutItemId,i=t.appConfig.layouts[e],r=i.content[o],a=[];return r&&r.items&&r.items.forEach((function(t){var n=i.content[t];n&&n.items&&a.push(t)})),{layoutItem:r,subContainerIds:a.join(",")}}))(sn),pn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),fn=function(){return(fn=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},gn=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return pn(n,t),n.prototype.render=function(){var t,n,e=this.props,o=e.layout,r=e.className,a=i.lodash.assign({},Qt.a,o.setting&&o.setting.splitter),u=null===(t=o.setting)||void 0===t?void 0:t.style,l=null===(n=o.setting)||void 0===n?void 0:n.rootItemId,s=fn(fn({position:"relative"},g.styleUtils.toCSSStyle(u)),{overflow:"hidden"}),c=Object(i.classNames)("layout grid-layout d-flex w-100",r);return Object(i.jsx)("div",{className:c,style:s,"data-layoutid":o.id},l&&Object(i.jsx)(dn,{layoutId:o.id,layoutItemId:l,splitterSize:a.size,splitterColor:a.color}))},n}(i.React.PureComponent),yn=i.ReactRedux.connect(y.mapStateToLayoutProps)(gn),vn=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},hn=function(){return(hn=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function mn(t){var n=t.pageJson,e=t.visible,o=t.pageContext,r=t.browserSizeMode,u=i.React.useState(),l=u[0],s=u[1],c=n.layout,d=n.oneByOneEffect&&n.oneByOneEffect.type!==i.AnimationType.None?n.oneByOneEffect:null,p=d?!e:null;i.React.useEffect((function(){d&&s(Symbol("autoplay when switching to visible"))}),[e]);var f,g=i.React.useMemo((function(){return{trigger:i.AnimationTriggerType.Manual,setting:d,revert:p,inheritedOneByOneSetting:null,playId:d?l:null,depth:0}}),[d,p,l]);n.mode!==i.PageMode.FitWindow&&n.maxWidth>0&&(f=n.maxWidth);var y=i.React.useMemo((function(){return hn(hn({},o),{maxWidth:f,browserSizeMode:r,viewOnly:!0,pageId:n.id})}),[o,r]);if(c)return Object(i.jsx)(a.a.Provider,{key:n.id,value:y},Object(i.jsx)(a.b.Provider,{value:e},Object(i.jsx)("div",{id:n.id,"data-pageid":n.id,className:"page",style:{display:e?"flex":"none",backgroundColor:n.bodyBackgroundColor||"transparent",height:"auto",flex:"1 0 auto",zIndex:0}},Object(i.jsx)(i.AnimationContext.Provider,{value:g},Object(i.jsx)(G,{layouts:c,className:"w-100 flex-grow-1",css:Object(i.css)(cn||(cn=vn(["\n                margin: 0 auto;\n                background-color: transparent;\n              "],["\n                margin: 0 auto;\n                background-color: transparent;\n              "])))})))))}var bn,wn=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},In=function(){return(In=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function On(t){var n,e,o=t.headerJson,r=t.visible,u=t.browserSizeMode,l=t.theme,s=t.mainSizeMode,c=t.pageContext,d=o.height[u]||o.height[s]||50,p=o.layout,f=void 0;o.backgroundIMage&&("string"==typeof o.backgroundIMage?f=o.backgroundIMage:"object"==typeof o.backgroundIMage&&(f=o.backgroundIMage.url));var g=i.React.useMemo((function(){var t;return Object(i.css)(bn||(bn=wn(["\n      display: ",";\n      position: ",";\n      z-index: ",";\n      top: 0;\n      width: 100%;\n      min-height: ","px;\n      height: auto;\n      overflow: hidden;\n      background-color: ",";\n      background-image: ",";\n      background-position: ",";\n      color: ",";\n      flex: 0 0 auto;\n    "],["\n      display: ",";\n      position: ",";\n      z-index: ",";\n      top: 0;\n      width: 100%;\n      min-height: ","px;\n      height: auto;\n      overflow: hidden;\n      background-color: ",";\n      background-image: ",";\n      background-position: ",";\n      color: ",";\n      flex: 0 0 auto;\n    "])),r?"flex":"none",o.sticky?"sticky":"relative",o.sticky?1:"auto",Math.round(parseFloat(d)),o.backgroundColor||l.header.bg||"transparent",f,o.backgroundPosition,null===(t=null==l?void 0:l.header)||void 0===t?void 0:t.color)}),[r,d,o.sticky,o.backgroundColor,f,o.backgroundPosition,null===(n=null==l?void 0:l.header)||void 0===n?void 0:n.bg,null===(e=null==l?void 0:l.header)||void 0===e?void 0:e.color]),y=i.React.useMemo((function(){return In(In({},c),{browserSizeMode:u,viewOnly:!0})}),[c,u]);return Object(i.jsx)(a.a.Provider,{value:y},Object(i.jsx)(a.b.Provider,{value:r},Object(i.jsx)("div",{className:"header",css:g},Object(i.jsx)(G,{layouts:p,className:"w-100 flex-grow-1"}))))}var xn,jn=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},Sn=function(){return(Sn=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function Cn(t){var n,e,o=t.footerJson,r=t.visible,u=t.browserSizeMode,l=t.theme,s=t.mainSizeMode,c=t.pageContext,d=o.height[u]||o.height[s]||50,p=o.layout,f=void 0;o.backgroundIMage&&("string"==typeof o.backgroundIMage?f=o.backgroundIMage:"object"==typeof o.backgroundIMage&&(f=o.backgroundIMage.url));var g=i.React.useMemo((function(){var t;return Object(i.css)(xn||(xn=jn(["\n      display: ",";\n      width: 100%;\n      min-height: ","px;\n      height: auto;\n      overflow: hidden;\n      background-color: ",";\n      background-image: ",";\n      background-position: ",";\n      color: ",";\n    "],["\n      display: ",";\n      width: 100%;\n      min-height: ","px;\n      height: auto;\n      overflow: hidden;\n      background-color: ",";\n      background-image: ",";\n      background-position: ",";\n      color: ",";\n    "])),r?"flex":"none",Math.round(parseFloat(d)),o.backgroundColor||l.footer.bg||"transparent",f,o.backgroundPosition,null===(t=null==l?void 0:l.footer)||void 0===t?void 0:t.color)}),[r,d,o.backgroundColor,f,o.backgroundPosition,null===(n=null==l?void 0:l.footer)||void 0===n?void 0:n.bg,null===(e=null==l?void 0:l.footer)||void 0===e?void 0:e.color]),y=i.React.useMemo((function(){return Sn(Sn({},c),{browserSizeMode:u,viewOnly:!0})}),[c,u]);return Object(i.jsx)(a.a.Provider,{value:y},Object(i.jsx)(a.b.Provider,{value:r},Object(i.jsx)("div",{className:"footer",css:g},Object(i.jsx)(G,{layouts:p,className:"w-100 flex-grow-1"}))))}var Pn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Tn=function(){return(Tn=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};d(i.LayoutType.FixedLayout,mt),d(i.LayoutType.FlowLayout,Kt),d(i.LayoutType.GridLayout,yn),d(i.LayoutType.ColumnLayout,Pt);var Rn=function(t){function n(n){var e=t.call(this,n)||this;return i.ExtensionManager.getInstance().registerExtension({epName:i.extensionSpec.ExtensionPoints.LayoutTransformer,extension:new Tt.a}),e.pageContext={theme:e.props.theme,mainSizeMode:e.props.mainSizeMode},e}return Pn(n,t),n.prototype.componentDidUpdate=function(t){Mn(t.pageStatus)!==Mn(this.props.pageStatus)&&(this.pageRef.scrollTop=0)},n.prototype.render=function(){var t=this,n=this.props,e=n.pageStatus,o=n.pages,r=n.theme,a="100%",u=o[Mn(e)]||{};u&&!isNaN(+u.width)&&(a=+u.width);var l={width:a,margin:"0 auto",minHeight:"100%",overflow:"auto",height:"100%",backgroundColor:u&&u.backgroundColor};return Object(i.jsx)("div",{className:"page-renderer d-flex flex-column",css:l,ref:function(n){return t.pageRef=n},"data-testid":"pageRenderer"},this.renderDialog(),this.renderHeader(),Object.keys(e).map((function(n){return t.renderPageBody(n,r)})),this.renderFooter())},n.prototype.renderHeader=function(){if(!this.props.header)return null;var t=this.props,n=t.header,e=t.headerVisible,o=t.browserSizeMode,r=t.theme,a=t.mainSizeMode;return Object(i.jsx)(On,{headerJson:n,pageContext:this.pageContext,visible:e,browserSizeMode:o,mainSizeMode:a,theme:r})},n.prototype.renderFooter=function(){if(!this.props.footer)return null;var t=this.props,n=t.footer,e=t.footerVisible,o=t.browserSizeMode,r=t.mainSizeMode,a=t.theme;return Object(i.jsx)(Cn,{footerJson:n,pageContext:this.pageContext,visible:e,browserSizeMode:o,mainSizeMode:r,theme:a})},n.prototype.renderPageBody=function(t,n){var e=this.props,o=e.pageStatus,r=e.pages[t];if(r){var a=!!o[t];return Object(i.jsx)(mn,{key:r.id,pageJson:r,pageContext:this.pageContext,browserSizeMode:this.props.browserSizeMode,visible:a})}},n.prototype.renderDialog=function(){var t=this.props,n=t.dialogId,e=t.urlDialogJson,o=t.splashDialogJson,r=t.isSplashClosed,u=t.isPageDlgClosed,l=t.pageDialogJson,s=t.pageDialogId,c=t.browserSizeMode;return Object(i.jsx)(i.React.Fragment,null,e&&Object(i.jsx)(a.a.Provider,{value:Tn(Tn({},this.pageContext),{browserSizeMode:c,dialogId:n,viewOnly:!0})},Object(i.jsx)(i.AppDialog,{dialogJson:e,runtime:!0})),!u&&l&&(null==e?void 0:e.id)!==l.id&&Object(i.jsx)(a.a.Provider,{value:Tn(Tn({},this.pageContext),{browserSizeMode:c,dialogId:s,viewOnly:!0})},Object(i.jsx)(i.AppDialog,{dialogJson:l,runtime:!0,isOpenByPage:!0})),!r&&o&&(null==e?void 0:e.id)!==o.id&&Object(i.jsx)(a.a.Provider,{value:Tn(Tn({},this.pageContext),{browserSizeMode:c,dialogId:o.id,viewOnly:!0})},Object(i.jsx)(i.AppDialog,{dialogJson:o,runtime:!0})))},n.displayName="RuntimePageRenderer",n}(i.React.PureComponent);function Mn(t){return Object.keys(t).find((function(n){return!0===t[n]}))}var kn=i.ReactRedux.connect((function(t,n){var e,o,i,r,a,u,l=Mn(n.pageStatus),s=window.jimuConfig.isBuilder?t.appStateInBuilder:t,c=null===(e=null==s?void 0:s.appRuntimeInfo)||void 0===e?void 0:e.dialogInfos,d=null===(o=null==s?void 0:s.appRuntimeInfo)||void 0===o?void 0:o.currentPageId,p=null===(r=null===(i=null==s?void 0:s.appConfig)||void 0===i?void 0:i.pages[d])||void 0===r?void 0:r.autoOpenDialogId,f=t.appConfig.dialogs,g=f[Object.keys(f).find((function(t){return f[t].isSplash}))];return{pages:t.appConfig.pages,header:t.appConfig.header,headerVisible:!!t.appConfig.pages[l].header,footer:t.appConfig.footer,footerVisible:!!t.appConfig.pages[l].footer,browserSizeMode:t.browserSizeMode,mainSizeMode:t.appConfig.mainSizeMode,theme:t.theme,splashDialogJson:g,isSplashClosed:null===(a=null==c?void 0:c[null==g?void 0:g.id])||void 0===a?void 0:a.isClosed,pageDialogId:p,pageDialogJson:f[p],isPageDlgClosed:null===(u=null==c?void 0:c[d+"-"+p])||void 0===u?void 0:u.isClosed,urlDialogJson:f[n.dialogId]}}))(Rn);function Ln(){return Promise.all([(t=Object(i.getAppStore)().getState().appContext.locale,(t=i.i18n.getLocaleToLoad(t,i.translatedLocales))?i.i18n.loadLocaleMessages("jimu-layouts/lib/translations",t).then((function(t){return Object(i.getAppStore)().dispatch(i.appActions.i18nMessagesLoaded("jimu-layouts",t)),t})):Promise.resolve(r.a))]);var t}},12:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"a",(function(){return r}));var o,i=e(0);!function(t){t.Horizontal="H",t.Vertical="V"}(o||(o={}));var r={showSplitter:!0,splitterSize:5,splitterColor:"#000"};i.React.createContext(r)},15:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"a",(function(){return i}));var o=.33,i=75},17:function(t,n,e){"use strict";e.d(n,"f",(function(){return a})),e.d(n,"e",(function(){return u})),e.d(n,"c",(function(){return l})),e.d(n,"a",(function(){return s})),e.d(n,"d",(function(){return c})),e.d(n,"b",(function(){return d}));var o=e(4),i=e(0),r=e(5);function a(t,n,e,i){void 0===i&&(i=!1);var r={};r.left=t.left+e.dx,r.width=t.width+e.dw;var a=n.right-t.right;0===e.dw?r.right=a-e.dx:0===e.dx?r.right=a-e.dw:r.right=a,r.top=t.top+e.dy,r.height=t.height+e.dh;var u=n.bottom-t.bottom;return 0===e.dh?r.bottom=u-e.dy:0===e.dy?r.bottom=u-e.dh:r.bottom=u,i&&Object(o.isRTL)()?l(r):r}function u(t,n){var e,i,a,u,l={},s=n&&n.autoProps||{},c=t,d=Object(o.getLayoutItemSizeMode)("height",t,s),p=Object(o.getLayoutItemSizeMode)("width",t,s);if(d===r.f.Stretch)l.top=c.top,l.bottom=c.bottom;else{var f=null!==(e=s.top)&&void 0!==e&&e,g=null!==(i=s.bottom)&&void 0!==i&&i;d===r.f.Custom&&(l.height=c.height),f!==g&&!g||null==t.top?l.bottom=c.bottom:l.top=c.top}if(p===r.f.Stretch)l.left=c.left,l.right=c.right;else{var y=null!==(a=s.left)&&void 0!==a&&a,v=null!==(u=s.right)&&void 0!==u&&u;p===r.f.Custom&&(l.width=c.width),y===v?null!=c.left?l.left=c.left:l.right=c.right:y&&null!=c.right?l.right=c.right:l.left=c.left}return l}function l(t){var n=Object(i.Immutable)(t),e=t.left;return n.set("left",t.right).set("right",e)}function s(t,n,e){void 0===e&&(e=!1);var o={},i=n.hCenter&&"50%"===t.left,r=n.vCenter&&"50%"===t.top;return i&&r?(o.right="auto",o.bottom="auto",o.transform="translate(-50%, -50%)"):i?(o.right="auto",o.transform="translateX(-50%)"):r&&(o.bottom="auto",o.transform="translateY(-50%)"),!e&&c(t,n)&&(o.height="auto"),o}function c(t,n){return Object(o.getLayoutItemSizeMode)("width",t,n.autoProps)===r.f.Custom&&Object(o.getLayoutItemSizeMode)("height",t,n.autoProps)===r.f.Custom&&"ratio"===n.heightMode}function d(t,n,e){var r=Object(i.Immutable)(t),a=Object(o.isPercentage)(t.left)?Object(o.fromRatio)(t.left,n.width):parseFloat(t.left),u=Object(o.isPercentage)(t.right)?Object(o.fromRatio)(t.right,n.width):parseFloat(t.right),l=Object(o.isPercentage)(t.width)?Object(o.fromRatio)(t.width,n.width):parseFloat(t.width);isNaN(a)&&(r=r.set("left",n.width-u-l)),isNaN(u)&&(r=r.set("right",n.width-a-l)),isNaN(l)&&(r=r.set("width",n.width-u-a)),e.left&&(r=r.set("left",Object(o.isPercentage)(t.left)?"0%":"0px")),e.right&&(r=r.set("right",Object(o.isPercentage)(t.right)?"0%":"0px"));var s=Object(o.isPercentage)(t.top)?Object(o.fromRatio)(t.top,n.height):parseFloat(t.top),c=Object(o.isPercentage)(t.bottom)?Object(o.fromRatio)(t.bottom,n.height):parseFloat(t.bottom),d=Object(o.isPercentage)(t.height)?Object(o.fromRatio)(t.height,n.height):parseFloat(t.height);return isNaN(s)&&(r=r.set("top",n.height-c-d)),isNaN(c)&&(r=r.set("bottom",n.height-s-d)),isNaN(d)&&(r=r.set("height",n.height-c-s)),e.top&&(r=r.set("top",Object(o.isPercentage)(t.top)?"0%":"0px")),e.bottom&&(r=r.set("bottom",Object(o.isPercentage)(t.bottom)?"0%":"0px")),r}},2:function(t,n){t.exports=e},21:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"a",(function(){return r}));var o=e(2),i={gutter:0,style:{padding:{number:[0],unit:"px"},justifyContent:"flex-start",alignItems:"stretch",borderRadius:{number:[0],unit:o.UnitTypes.PIXEL}}},r={lockParent:!0,heightMode:"auto",offsetX:0,offsetY:0}},22:function(t,n,e){"use strict";n.a={previousView:"Previous view",nextView:"Next view",originTL:"Top left as origin",originTR:"Top right as origin",originBL:"Bottom left as origin",originBR:"Bottom right as origin",alignLeft:"Align left",alignRight:"Align right",alignTop:"Align top",alignCenter:"Align center",alignHCenter:"Horizontal center",alignVCenter:"Vertical center",alignBottom:"Align bottom",alignStretch:"Align stretch",sendBackward:"Send backward",bringForward:"Bring forward",sendToBack:"Send to back",bringToFront:"Bring to front",zoomoutFixed:"Zoom out fixed",order:"Order",moveToLeft:"Move to left",moveToRight:"Move to right",moveToTop:"Move to top",moveToBottom:"Move to bottom",addView:"Add view",duplicateScreen:"Duplicate screen",deleteScreen:"Delete screen",applyToFirstPanel:"Apply to the first panel",deleteView:"Delete view",duplicateView:"Duplicate view",insertABlock:"Insert block",insertAScreenGroup:"Insert screen group",moveup:"Move up",movedown:"Move down",chooseTemplate:"Choose a {type} template",chooseHeaderTemplate:"Choose a header template",chooseFooterTemplate:"Choose a footer template",dropWidgetToAdd:"Or drag a widget here",snapToLeft:"Snap to left",snapToTop:"Snap to top",snapToBottom:"Snap to bottom",snapToRight:"Snap to right",fullWidth:"Full width",fullHeight:"Full height",fullSize:"Full size",restoreSize:"Restore size",pendingTip:"Move to the pending list",setting:"Settings",dragToMove:"Drag to move",lockLayout:"Lock position and size",unlockLayout:"Unlock position and size",editHeader:"Edit header",editFooter:"Edit footer",transform:"Transform",rotation:"Rotation",angle:"Angle",floating:"Pin",sinking:"Unpin",floatingArea:"Floating area",changeToAuto:"Change to auto",changeToCustom:"Change to custom",positionType:"Position type",sticky:"Sticky",fixed:"Fixed",flow:"Flow",stack:"Stack",fixedAtTop:"Floating at the top when scrolling",actNormal:"Act as normal widget",hideInDesignView:"Hide in design view",showInDesignView:"Show in design view"}},24:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"a",(function(){return r}));var o=e(0),i=o.lodash.assign({},{gridSize:1}),r=o.lodash.assign({},{order:0},{lockParent:!1,lockLayout:!1,autoProps:{}})},27:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"a",(function(){return u}));var o=e(0),i=e(2),r=e(8);function a(t,n){var e,a,u,l,s=!0,c=!1,d=n.layoutItem,p=null===(e=t.appRuntimeInfo)||void 0===e?void 0:e.selection;if(p&&(c=p.layoutId===n.layoutId&&p.layoutItemId===d.id),d.type===o.LayoutItemType.Widget){var f=d.widgetId,g=t.appConfig.widgets[f],y=[0,0,0,0];if(g){y=i.styleUtils.expandStyleArray(null===(l=null===(u=null===(a=g.config)||void 0===a?void 0:a.style)||void 0===u?void 0:u.padding)||void 0===l?void 0:l.number);var v=Object.keys(g.layouts)[0],h=Object(r.a)(g.layouts[v],t.browserSizeMode,t.appConfig.mainSizeMode),m=t.appConfig.layouts[h];m&&Object.keys(m.content||[]).length>0&&Object.keys(m.content||[]).some((function(t){if(!m.content[t].isPending)return s=!1,!0}))}return{isEmpty:s,selected:c,padding:y[0]+y[2]}}return{selected:c,isEmpty:!1,padding:0}}function u(t){var n=parseFloat(null==t?void 0:t.width);return n>0?(""+t.width).indexOf("px")>=0?Math.round(n)+"px":Math.round(n)+"%":"100%"}},28:function(t,n,e){"use strict";e.d(n,"b",(function(){return c})),e.d(n,"a",(function(){return d}));var o,i,r=e(0),a=e(2),u=e(33),l=e(15),s=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t};function c(t,n,e,u,c,d,p,f,g){var y=t.panel||{},v=y.side,h=y.size,m=y.offset,b=y.background,w=y.overlay,I=y.padding,O=Object(r.getAppStore)().getState().appContext.isRTL?"left"===v?"-":"":"right"===v?"-":"",x=a.styleUtils.toBackgroundEmotionStyle(null!=b?b:{}),j=parseFloat(c);if(g){var S=!1===w;return Object(r.css)(o||(o=s(["\n      width: 100%;\n      background: transparent;\n      pointer-events: none;\n      position: relative;\n      opacity: ",";\n      min-height: ",";\n      padding-top: ",";\n\n      &.top-spacing > .panel-content {\n        /* margin-top: ","px; */\n      }\n\n      .panel-content {\n        width: 100%;\n        ",";\n        /* margin-top: ","; */\n\n        > .layout, > .layout-wrapper > .layout {\n          pointer-events: all;\n          ",";\n          min-height: ","px;\n          padding: ",";\n        }\n\n        > .layout-wrapper > .column-layout > .trail-container,\n        > .column-layout > .trail-container {\n          overflow-y: hidden;\n        }\n\n        > .layout-wrapper > .placeholder-btn {\n          pointer-events: all;\n          ",";\n        }\n\n        .panel-spacing {\n          height: ","px;\n        }\n      }\n\n      .panel-content-placeholder {\n        width: 1px;\n        min-height: ","px;\n      }\n\n      body:not(.design-mode) & {\n        min-height: ",";\n        padding-top: ",";\n        &.top-spacing > .panel-content {\n          /* margin-top: ","vh; */\n        }\n\n        .panel-content {\n          /* margin-top: ","; */\n        }\n\n        > .layout, > .layout-wrapper > .layout {\n          min-height: ","vh;\n        }\n\n        .panel-content-placeholder {\n          min-height: 100vh;\n        }\n\n        .panel-spacing {\n          height: ","vh;\n        }\n      }\n    "],["\n      width: 100%;\n      background: transparent;\n      pointer-events: none;\n      position: relative;\n      opacity: ",";\n      min-height: ",";\n      padding-top: ",";\n\n      &.top-spacing > .panel-content {\n        /* margin-top: ","px; */\n      }\n\n      .panel-content {\n        width: 100%;\n        ",";\n        /* margin-top: ","; */\n\n        > .layout, > .layout-wrapper > .layout {\n          pointer-events: all;\n          ",";\n          min-height: ","px;\n          padding: ",";\n        }\n\n        > .layout-wrapper > .column-layout > .trail-container,\n        > .column-layout > .trail-container {\n          overflow-y: hidden;\n        }\n\n        > .layout-wrapper > .placeholder-btn {\n          pointer-events: all;\n          ",";\n        }\n\n        .panel-spacing {\n          height: ","px;\n        }\n      }\n\n      .panel-content-placeholder {\n        width: 1px;\n        min-height: ","px;\n      }\n\n      body:not(.design-mode) & {\n        min-height: ",";\n        padding-top: ",";\n        &.top-spacing > .panel-content {\n          /* margin-top: ","vh; */\n        }\n\n        .panel-content {\n          /* margin-top: ","; */\n        }\n\n        > .layout, > .layout-wrapper > .layout {\n          min-height: ","vh;\n        }\n\n        .panel-content-placeholder {\n          min-height: 100vh;\n        }\n\n        .panel-spacing {\n          height: ","vh;\n        }\n      }\n    "])),p===r.ScreenTransitionType.Fade?u?"1":"0.5":null,f===r.ScreenTransitionType.Cover?n+"px":null,f!==r.ScreenTransitionType.Fade&&S?Math.round(n*l.b)+"px":null,Math.round(n*l.b),w?"":x,p===r.ScreenTransitionType.Push?"${Math.round(viewHeight * SCREEN_RATIO_IN_SMALL_SIZE)}px":"unset",w?x:"",Math.round(.25*n),a.styleUtils.toCSSPadding(I),w?x:"",Math.round(n*j/100),n,f===r.ScreenTransitionType.Cover?"100vh":null,f!==r.ScreenTransitionType.Fade&&S?100*l.b+"vh":null,100*l.b,p===r.ScreenTransitionType.Push?"${Math.round(100 * SCREEN_RATIO_IN_SMALL_SIZE)}vh":"unset",Math.round(25),j)}return Object(r.css)(i||(i=s(["\n    width: 100%;\n    background: transparent;\n    pointer-events: none;\n    display: flex;\n    flex-direction: ",";\n    justify-content: ",";\n    position: relative;\n    opacity: ",";\n\n    &.top-spacing > .panel-content {\n      /* margin-top: ","px; */\n    }\n\n    .panel-content {\n      width: ",";\n      transform: ",";\n      flex: 0 auto;\n      min-height: ",";\n      ",";\n\n      > .layout,\n      > .layout-wrapper > .layout {\n        pointer-events: all;\n        ",";\n        min-height: ","px;\n        padding: ",";\n      }\n\n      > .layout-wrapper > .column-layout > .trail-container,\n      > .column-layout > .trail-container {\n        overflow-y: hidden;\n      }\n\n      > .layout-wrapper > .placeholder-btn {\n        pointer-events: all;\n        ",";\n      }\n\n      .panel-spacing {\n        height: ","px;\n\n        &.last-item {\n          height: ","px;\n        }\n      }\n    }\n\n    .panel-content-placeholder {\n      width: 1px;\n      min-height: ","px;\n    }\n\n    body:not(.design-mode) & {\n      &.top-spacing > .panel-content {\n        /* margin-top: ","vh; */\n      }\n\n      .panel-content {\n        min-height: ",";\n        > .layout, > .layout-wrapper > .layout {\n          min-height: unset;\n        }\n\n        .panel-spacing {\n          height: ","vh;\n\n          &.last-item {\n            height: ","vh;\n          }\n        }\n      }\n      .panel-content-placeholder {\n        min-height: ","vh;\n      }\n    }\n  "],["\n    width: 100%;\n    background: transparent;\n    pointer-events: none;\n    display: flex;\n    flex-direction: ",";\n    justify-content: ",";\n    position: relative;\n    opacity: ",";\n\n    &.top-spacing > .panel-content {\n      /* margin-top: ","px; */\n    }\n\n    .panel-content {\n      width: ",";\n      transform: ",";\n      flex: 0 auto;\n      min-height: ",";\n      ",";\n\n      > .layout,\n      > .layout-wrapper > .layout {\n        pointer-events: all;\n        ",";\n        min-height: ","px;\n        padding: ",";\n      }\n\n      > .layout-wrapper > .column-layout > .trail-container,\n      > .column-layout > .trail-container {\n        overflow-y: hidden;\n      }\n\n      > .layout-wrapper > .placeholder-btn {\n        pointer-events: all;\n        ",";\n      }\n\n      .panel-spacing {\n        height: ","px;\n\n        &.last-item {\n          height: ","px;\n        }\n      }\n    }\n\n    .panel-content-placeholder {\n      width: 1px;\n      min-height: ","px;\n    }\n\n    body:not(.design-mode) & {\n      &.top-spacing > .panel-content {\n        /* margin-top: ","vh; */\n      }\n\n      .panel-content {\n        min-height: ",";\n        > .layout, > .layout-wrapper > .layout {\n          min-height: unset;\n        }\n\n        .panel-spacing {\n          height: ","vh;\n\n          &.last-item {\n            height: ","vh;\n          }\n        }\n      }\n      .panel-content-placeholder {\n        min-height: ","vh;\n      }\n    }\n  "])),"right"===v?"row-reverse":"row","center"===v&&w?"center":"flex-start",p===r.ScreenTransitionType.Fade?u?"1":"0.5":null,Math.round(2*n/3),h,w&&Math.abs(parseFloat(m))>0?"translateX("+O+m+")":null,d?n+"px":"unset",w?"":x,w?x:"",Math.round(.25*n),a.styleUtils.toCSSPadding(I),w?x:"",Math.round(n*j/100),d?""+Math.round(n*j/100):n,d?n:Math.round(.25*n),66.7,d?e>0?"calc(100vh - "+e+"px)":"100vh":"unset",j,d?j:100,d?"100":Math.round(25))}function d(t){var n,e=t.index,o=t.screenId,i=t.onInterctionChange,a=t.onHeightChange,l=t.viewHeight,s=t.headerHeight,d=t.layoutEntry,p=t.isActive,f=t.isSmallSize,g=t.transitionType,y=t.screenTransitionType,v=t.triggerType,h=t.stretched,m=t.verticalSpace,b=void 0===m?"0":m,w=r.ReactRedux.useSelector((function(t){return t.appConfig.screens[o]})),I=w.panel,O=r.React.useRef(),x=r.React.useState(!1),j=(x[0],x[1]),S=r.React.useCallback((function(t){i(e,t)}),[e,i]),C=r.React.useCallback((function(t,n){a(e,n)}),[e,a]);return Object(u.a)(O.current,t.refElement,f?r.ScreenTriggerType.Lower:null!=v?v:r.ScreenTriggerType.Bottom,S),r.React.useEffect((function(){j(!0)}),[]),Object(r.jsx)("div",{className:Object(r.classNames)("screen-side-panel",{"top-spacing":0===e&&((null===(n=w.panel)||void 0===n?void 0:n.overlay)||f)}),"data-screenid":o,"data-index":e,ref:O,css:c(w,l,s,p,b,h,g,y,f)},I&&Object(r.jsx)("div",{className:"panel-content"},Object(r.jsx)(d,{layouts:I.layout}),Object(r.jsx)("div",{className:Object(r.classNames)("panel-spacing",{"last-item":t.isLast})})),!I&&Object(r.jsx)("div",{className:"panel-content-placeholder"}),Object(r.jsx)(r.ReactResizeDetector,{handleHeight:!0,onResize:C}))}},31:function(t,n,e){"use strict";t.exports=function(t,n,e,o,i,r,a,u){if(!t){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[e,o,i,r,a,u],c=0;(l=new Error(n.replace(/%s/g,(function(){return s[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},33:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var o=e(0);function i(){for(var t=[0],n=1;n<=100;n++)t.push(n/100);return t}function r(t){switch(t){case o.ScreenTriggerType.Top:return"0% 0% -98% 0%";case o.ScreenTriggerType.Bottom:return"-98% 0% -2px 0%";case o.ScreenTriggerType.Upper:return"-"+(100/3-1)+"% 0% -"+(200/3-1)+"% 0%";case o.ScreenTriggerType.Lower:return"-"+(200/3-1)+"% 0% -"+(100/3-1)+"% 0%";default:return}}function a(t,n,e,a){var u=o.React.useRef(),l=o.React.useRef();o.React.useEffect((function(){u.current&&(u.current.unobserve(t),u.current=null);if(t&&"function"==typeof IntersectionObserver){var o=new IntersectionObserver((function(t){!function(t){var n=t.boundingClientRect,e=t.rootBounds,o=Math.abs(n.bottom-e.top)>=Math.abs(n.top-e.top);if(t.isIntersecting){if(l.current=!0,o)a(!0)}else if(l.current&&(l.current=!1,o))a(!1)}(t[0])}),{threshold:i(),root:n||document.body,rootMargin:r(e)});return o.observe(t),u.current=o,function(){u.current.unobserve(t),u.current=null}}}),[t,n,a,e])}},36:function(t,n,e){"use strict";e.d(n,"b",(function(){return a.a})),e.d(n,"a",(function(){return O}));var o,i,r,a=e(28),u=e(0),l=e(2),s=e(7),c=e(15),d=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},p=e(52);function f(t){var n=t.viewHeight,e=t.headerHeight,a=t.screenId,f=t.isActive,g=t.isAbsolute,y=t.isLast,v=t.isSmallSize,h=t.layoutEntry,m=t.isDesignMode,b=t.formatMessage,w=t.builderTheme,I=u.ReactRedux.useSelector((function(t){return t.appConfig.screens[a]})),O=u.ReactRedux.useSelector((function(t){var n,e,o;return null===(o=null===(e=null===(n=t.appRuntimeInfo)||void 0===n?void 0:n.screenPanelStates)||void 0===e?void 0:e[a])||void 0===o||o})),x=I.main,j=I.panel||{},S=j.side,C=j.size,P=j.overlay,T=u.React.useRef(),R=u.React.useCallback((function(){Object(u.getAppStore)().dispatch(u.appActions.screenPanelVisibleChanged(a,!0))}),[a]);var M=Object(u.classNames)("screen-main-panel",{"is-active":f,"last-one":y});return Object(u.jsx)(s.b.Provider,{value:!g||f},Object(u.jsx)("div",{className:M,css:function(){var t,a,s,p;if(v){var f=!1===P,y=f?Math.round(n*c.b)+"px":n+"px",h=f?Math.round(100*c.b)+"vh":"100vh";return Object(u.css)(o||(o=d(["\n        pointer-events: all;\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        height: ","px;\n\n        > .layout {\n          ",";\n          height: "," !important;\n          border: none !important;\n        }\n\n        body:not(.design-mode) & {\n          height: ",";\n          > .layout {\n            height: "," !important;\n          }\n        }\n\n        .spacing-area {\n          flex: 1;\n          background: transparent;\n          pointer-events: none;\n        }\n      "],["\n        pointer-events: all;\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        height: ","px;\n\n        > .layout {\n          ",";\n          height: "," !important;\n          border: none !important;\n        }\n\n        body:not(.design-mode) & {\n          height: ",";\n          > .layout {\n            height: "," !important;\n          }\n        }\n\n        .spacing-area {\n          flex: 1;\n          background: transparent;\n          pointer-events: none;\n        }\n      "])),n,l.styleUtils.toBackgroundEmotionStyle(null!==(a=null===(t=I.main)||void 0===t?void 0:t.background)&&void 0!==a?a:{}),y,e>0?"calc(100vh - "+e+"px)":"100vh",h)}var m="0px",b="0px";"none"!==S&&(P||"right"===S||(m=C),P||"right"!==S||(b=C));var O=w?Object(u.css)(i||(i=d(["\n      color: ",";\n      background-color: ",";\n      border-color: ",";\n      &:hover {\n        color: ",";\n        background-color: ",";\n      }\n    "],["\n      color: ",";\n      background-color: ",";\n      border-color: ",";\n      &:hover {\n        color: ",";\n        background-color: ",";\n      }\n    "])),w.colors.palette.dark[900],w.colors.palette.light[400],w.colors.palette.light[600],w.colors.black,w.colors.palette.light[600]):null;return Object(u.css)(r||(r=d(["\n      ",";\n      left: ",";\n      right: ",";\n      margin-left: ",";\n      margin-right: ",";\n      pointer-events: all;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n\n      > .layout {\n        height: ","px !important;\n        background: transparent;\n        border: none !important;\n      }\n\n      body:not(.design-mode) & {\n        > .layout {\n          height: "," !important;\n        }\n      }\n\n      .spacing-area {\n        flex: 1;\n        background: transparent;\n        pointer-events: none;\n      }\n\n      .toggle-visible-btn {\n        position: absolute;\n        bottom: 0;\n        right: 0;\n\n        > button {\n          ",";\n          svg {\n            margin-right: 0;\n            margin-left: 0;\n          }\n        }\n      }\n    "],["\n      ",";\n      left: ",";\n      right: ",";\n      margin-left: ",";\n      margin-right: ",";\n      pointer-events: all;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n\n      > .layout {\n        height: ","px !important;\n        background: transparent;\n        border: none !important;\n      }\n\n      body:not(.design-mode) & {\n        > .layout {\n          height: "," !important;\n        }\n      }\n\n      .spacing-area {\n        flex: 1;\n        background: transparent;\n        pointer-events: none;\n      }\n\n      .toggle-visible-btn {\n        position: absolute;\n        bottom: 0;\n        right: 0;\n\n        > button {\n          ",";\n          svg {\n            margin-right: 0;\n            margin-left: 0;\n          }\n        }\n      }\n    "])),l.styleUtils.toBackgroundEmotionStyle(null!==(p=null===(s=I.main)||void 0===s?void 0:s.background)&&void 0!==p?p:{}),g?m:null,g?b:null,g?null:m,g?null:b,n,e>0?"calc(100vh - "+e+"px)":"100vh",O)}(),ref:T,"data-screenid":a,"data-index":t.index},Object(u.jsx)(h,{layouts:x.layout,isInWidget:!0}),Object(u.jsx)("div",{className:"spacing-area"}),m&&!O&&Object(u.jsx)("div",{className:"toggle-visible-btn",onClick:R,"data-testid":"toggleBtn"},Object(u.jsx)(l.Tooltip,{placement:"auto",title:b("showInDesignView")},Object(u.jsx)(l.Button,{type:"default",size:"sm",className:"rounded"},Object(u.jsx)(l.Icon,{icon:p,size:16}))))))}var g,y,v,h,m,b=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t};function w(t,n,e,o,i){return t===u.ScreenTransitionType.Fade?Object(u.css)(g||(g=b(["\n      position: sticky;\n      height: ","px;\n      top: 0;\n\n      body:not(.design-mode) & {\n        height: ",";\n        top: ",";\n        .layout .exb-drop-area {\n          pointer-events: none !important;\n        }\n      }\n\n      .screen-main-panel {\n        position: absolute;\n        opacity: 0;\n        visibility: hidden;\n        z-index: 0;\n        transition: ",";\n        top: 0;\n        /* height: ","; */\n\n        .layout .exb-drop-area {\n          pointer-events: none;\n        }\n\n        &.is-active {\n          opacity: 1;\n          visibility: visible;\n          pointer-events: all;\n          z-index: 1;\n\n          .layout .exb-drop-area {\n            pointer-events: all;\n          }\n        }\n      }\n    "],["\n      position: sticky;\n      height: ","px;\n      top: 0;\n\n      body:not(.design-mode) & {\n        height: ",";\n        top: ",";\n        .layout .exb-drop-area {\n          pointer-events: none !important;\n        }\n      }\n\n      .screen-main-panel {\n        position: absolute;\n        opacity: 0;\n        visibility: hidden;\n        z-index: 0;\n        transition: ",";\n        top: 0;\n        /* height: ","; */\n\n        .layout .exb-drop-area {\n          pointer-events: none;\n        }\n\n        &.is-active {\n          opacity: 1;\n          visibility: visible;\n          pointer-events: all;\n          z-index: 1;\n\n          .layout .exb-drop-area {\n            pointer-events: all;\n          }\n        }\n      }\n    "])),n,e>0?"calc(100vh - "+e+"px)":"100vh",e>0?e+"px":0,o?null:"opacity 400ms",o?"unset":"100% !important"):t===u.ScreenTransitionType.Cover?Object(u.css)(y||(y=b(["\n      position: sticky;\n      height: ","px;\n      overflow: hidden;\n      top: 0;\n\n      body:not(.design-mode) & {\n        height: 100%;\n        overflow: unset;\n        position: relative;\n\n        .screen-main-panel {\n          top: ",";\n        }\n      }\n\n      & > div:first-of-type {\n        margin-top: 0 !important;\n      }\n\n      .screen-main-panel {\n        position: sticky;\n        top: 0;\n        margin-top: ",";\n\n        .spacing-area {\n          display: none;\n        }\n      }\n    "],["\n      position: sticky;\n      height: ","px;\n      overflow: hidden;\n      top: 0;\n\n      body:not(.design-mode) & {\n        height: 100%;\n        overflow: unset;\n        position: relative;\n\n        .screen-main-panel {\n          top: ",";\n        }\n      }\n\n      & > div:first-of-type {\n        margin-top: 0 !important;\n      }\n\n      .screen-main-panel {\n        position: sticky;\n        top: 0;\n        margin-top: ",";\n\n        .spacing-area {\n          display: none;\n        }\n      }\n    "])),n,e>0?e+"px":0,1===i?"0 !important":null):t===u.ScreenTransitionType.Push?Object(u.css)(v||(v=b(["\n      position: sticky;\n      height: ","px;\n      overflow: hidden;\n      top: 0;\n\n      body:not(.design-mode) & {\n        height: auto;\n        overflow: unset;\n\n        .screen-main-panel > .layout {\n          top: ",";\n        }\n      }\n\n      .screen-main-panel > .layout {\n        position: sticky !important;\n        top: 0;\n      }\n    "],["\n      position: sticky;\n      height: ","px;\n      overflow: hidden;\n      top: 0;\n\n      body:not(.design-mode) & {\n        height: auto;\n        overflow: unset;\n\n        .screen-main-panel > .layout {\n          top: ",";\n        }\n      }\n\n      .screen-main-panel > .layout {\n        position: sticky !important;\n        top: 0;\n      }\n    "])),n,e>0?e+"px":0):void 0}function I(t,n,e){return t===u.ScreenTransitionType.Fade?Object(u.css)(h||(h=b(["\n      height: calc(100% - ","px);\n      background: transparent;\n      pointer-events: none;\n\n      body:not(.design-mode) & {\n        height: calc(100% - 100vh);\n      }\n    "],["\n      height: calc(100% - ","px);\n      background: transparent;\n      pointer-events: none;\n\n      body:not(.design-mode) & {\n        height: calc(100% - 100vh);\n      }\n    "])),n):t===u.ScreenTransitionType.Cover||t===u.ScreenTransitionType.Push?Object(u.css)(m||(m=b(["\n      height: calc(100% - ","px);\n      background: transparent;\n      pointer-events: none;\n      display: block;\n\n      body:not(.design-mode) & {\n        height: calc(100% - 100vh);\n        display: none;\n      }\n    "],["\n      height: calc(100% - ","px);\n      background: transparent;\n      pointer-events: none;\n      display: block;\n\n      body:not(.design-mode) & {\n        height: calc(100% - 100vh);\n        display: none;\n      }\n    "])),n):void 0}function O(t){var n=t.activeIndex,e=t.viewHeight,o=t.headerHeight,i=t.screens,r=t.transitionType,a=t.isSmallSize,l=t.layoutEntry,s=t.isDesignMode,c=t.formatMessage,d=t.builderTheme;return Object(u.jsx)(u.React.Fragment,null,Object(u.jsx)("div",{className:"screen-container",css:w(r,e,o,a,i.length)},i.map((function(t,p){return Object(u.jsx)(f,{key:t,index:p,isActive:n===p,screenId:t,viewHeight:e,headerHeight:o,isAbsolute:r===u.ScreenTransitionType.Fade,isLast:p===i.length-1,isSmallSize:a,layoutEntry:l,isDesignMode:s,formatMessage:c,builderTheme:d})}))),Object(u.jsx)("div",{className:"screen-placeholder",css:I(r,e)}))}},38:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var o=e(0);function i(){for(var t=[0],n=1;n<=10;n++)t.push(n/10);return t}function r(t,n){var e=o.React.useRef(),r=o.React.useState(!0),a=r[0],u=r[1];return o.React.useEffect((function(){if(e.current&&(e.current.unobserve(t),e.current=null),n){if(t&&"function"==typeof IntersectionObserver){var o=new IntersectionObserver((function(t){var n;(n=t[0]).target.classList.contains("playing-animation")||n.boundingClientRect.width>0&&n.boundingClientRect.height>0&&u(n.isIntersecting)}),{threshold:i(),root:document.body,rootMargin:"20%"});return o.observe(t),e.current=o,function(){e.current.unobserve(t),e.current=null}}}}),[t,n]),a}},39:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var o={min:16,space:10}},4:function(t,n,e){"use strict";e.r(n),e.d(n,"emptyFunc",(function(){return r})),e.d(n,"autoBindHandlers",(function(){return a})),e.d(n,"getMaximumId",(function(){return u})),e.d(n,"isPercentage",(function(){return l})),e.d(n,"isNumber",(function(){return s})),e.d(n,"getValueOfBBox",(function(){return c})),e.d(n,"toRatio",(function(){return d})),e.d(n,"fromRatio",(function(){return p})),e.d(n,"mapStateToLayoutProps",(function(){return f})),e.d(n,"mapStateToLayoutItemProps",(function(){return g})),e.d(n,"mapStateToWidgetProps",(function(){return y})),e.d(n,"isWidgetHasEmbeddedLayout",(function(){return v})),e.d(n,"isFunctionalWidget",(function(){return h})),e.d(n,"isWidgetPlaceholder",(function(){return m})),e.d(n,"replaceBoundingBox",(function(){return b})),e.d(n,"updateBoundingBoxProp",(function(){return w})),e.d(n,"relativeClientRect",(function(){return I})),e.d(n,"getBuilderThemeVariables",(function(){return O})),e.d(n,"isRTL",(function(){return x})),e.d(n,"parseAspectRatio",(function(){return j})),e.d(n,"expandStyleArray",(function(){return S})),e.d(n,"calHeightOfLayoutItem",(function(){return C})),e.d(n,"getAppConfig",(function(){return P})),e.d(n,"getCurrentSizeMode",(function(){return T})),e.d(n,"getCurrentPageId",(function(){return R})),e.d(n,"getCurrentDialogId",(function(){return M})),e.d(n,"getActivePagePart",(function(){return k})),e.d(n,"getCurrentDialogRootLayoutId",(function(){return L})),e.d(n,"getCurrentPageRootLayoutId",(function(){return z})),e.d(n,"getHeaderRootLayoutId",(function(){return A})),e.d(n,"getFooterRootLayoutId",(function(){return _})),e.d(n,"contains",(function(){return B})),e.d(n,"intersects",(function(){return E})),e.d(n,"getLayoutItemSizeMode",(function(){return N})),e.d(n,"gcd",(function(){return V})),e.d(n,"handleOnebyOneAnimation",(function(){return F}));var o=e(0),i=e(5),r=function(){};function a(t,n){n.forEach((function(n){t[n]&&(t[n]=t[n].bind(t))}))}function u(t){var n=-1;return t.content&&Object.keys(t.content).forEach((function(t){var e=parseInt(t,10);e>n&&(n=e)})),n}function l(t){return/^-?\d*(\.\d+)?%$/.test(t)}function s(t){var n=parseFloat(t);return!isNaN(n)&&isFinite(n)}function c(t,n){return null==(null==t?void 0:t[n])?null:"string"==typeof t[n]?t[n]:s(t[n])?Math.round(parseFloat(t[n]))+"px":null}function d(t,n){return(100*t/n).toFixed(4)+"%"}function p(t,n){return parseFloat(""+t)*n/100}function f(t,n){var e,o,i=(null===(e=n.layouts)||void 0===e?void 0:e[t.browserSizeMode])||(null===(o=n.layouts)||void 0===o?void 0:o[t.appConfig.mainSizeMode]),r=t.appConfig.layouts;return r[i]?{layout:r[i]}:{layout:null}}function g(t,n){var e,i,r,a,u,l,s,c=n.layoutId,d=t.appConfig,p=d.layouts,f=d.widgets,g=n.layoutItemId;if(!(null===(i=null===(e=null==p?void 0:p[c])||void 0===e?void 0:e.content)||void 0===i?void 0:i[g]))return{layoutItem:null,selected:!1};var y,v=!1,h=p[c].content[g],m=!1;h&&(m=Boolean(h.isPending));var b=null===(r=t.appRuntimeInfo)||void 0===r?void 0:r.selection;b&&(v=b.layoutId===n.layoutId&&b.layoutItemId===h.id,y=b.autoScroll);var w=!1;if(h.type===o.LayoutItemType.Widget&&h.widgetId){var I=f[h.widgetId];w=null!==(l=null===(u=null===(a=null==I?void 0:I.manifest)||void 0===a?void 0:a.properties)||void 0===u?void 0:u.watchViewportVisibility)&&void 0!==l&&l}var O={selected:v,watchViewportVisibility:w,layoutItem:m?null:h};v&&(O.autoScroll=y);var x=null===(s=t.appRuntimeInfo)||void 0===s?void 0:s.animationPreview;if(v&&(null==x?void 0:x.layoutInfo)){var j=x.layoutInfo,S=j.layoutId,C=j.layoutItemId;O.animationPreview=S===n.layoutId&&C===n.layoutItemId,O.playMode=O.animationPreview?x.playMode:null,O.previewId=O.animationPreview?x.id:null}return O}function y(t,n){var e,o,i,r,a,u,l,s,c,d=n.layoutId,p=t.appConfig.layouts;if(!p[d])return null;var f,g,y,m=p[d],b=n.layoutItemId,w=m.content[b],I=!1,O=!1,x=!1,j=!1,S=!1,C=!1,P=!1,T=!1;if(w&&w.widgetId){var R=t.appConfig.widgets[w.widgetId];f=R.style,I=!0===(null===(o=null===(e=R.manifest)||void 0===e?void 0:e.properties)||void 0===o?void 0:o.supportInlineEditing),j=!0===(null===(r=null===(i=R.manifest)||void 0===i?void 0:i.properties)||void 0===r?void 0:r.supportRepeat),P=!0===(null===(u=null===(a=R.manifest)||void 0===a?void 0:a.properties)||void 0===u?void 0:u.canCrossLayoutBoundary);var M=t.widgetsRuntimeInfo[w.widgetId];O=null!==(l=null==M?void 0:M.isClassLoaded)&&void 0!==l&&l,x=I&&(null==M?void 0:M.isInlineEditing),(T=(null===(c=null===(s=R.manifest)||void 0===s?void 0:s.extensions)||void 0===c?void 0:c.length)>0)&&(g=R),y=t.widgetsState[w.widgetId],S=h(w.widgetId,t.appConfig),C=v(w.widgetId,t.appConfig)}return{hasEmbeddedLayout:C,supportInlineEditing:I,supportRepeat:j,isClassLoaded:O,isInlineEditing:x,widgetStyle:f,canCrossLayoutBoundary:P,hasExtension:T,widgetJson:g,widgetId:w.widgetId,isFunctionalWidget:S,widgetState:y}}function v(t,n){var e,o,i,r,a=null===(e=null==n?void 0:n.widgets)||void 0===e?void 0:e[t];return!!(null===(i=null===(o=null==a?void 0:a.manifest)||void 0===o?void 0:o.properties)||void 0===i?void 0:i.hasEmbeddedLayout)&&Object.keys(null!==(r=null==a?void 0:a.layouts)&&void 0!==r?r:{}).length>0}function h(t,n){var e,i,r=null===(e=null==n?void 0:n.widgets)||void 0===e?void 0:e[t];return(null===(i=null==r?void 0:r.manifest)||void 0===i?void 0:i.widgetType)!==o.WidgetType.Layout}function m(t,n){var e,i;if(!n||n.itemType!==o.LayoutItemType.Widget)return!1;if(n.layoutInfo){var r=n.layoutInfo,a=r.layoutId,u=r.layoutItemId,l=null===(i=null===(e=t.layouts)||void 0===e?void 0:e[a].content)||void 0===i?void 0:i[u];if(l&&!l.widgetId)return!0}return!n.layoutInfo&&!n.uri}function b(t,n,e){if(!t)return Object(o.Immutable)({left:l(n.left)?n.left:Math.round(n.left)+"px",right:l(n.right)?n.right:Math.round(n.right)+"px",top:l(n.top)?n.top:Math.round(n.top)+"px",bottom:l(n.bottom)?n.bottom:Math.round(n.bottom)+"px",width:l(n.width)?n.width:Math.round(n.width)+"px",height:l(n.height)?n.height:Math.round(n.height)+"px"});var i=t;return["left","right","top","bottom","width","height"].forEach((function(t){null!=i[t]?i=w(t,i,n[t],e):null!=n[t]&&(i=i.set(t,Math.round(n[t])+"px"))})),i}function w(t,n,e,o){if(null==n[t]||"auto"===n[t])return n;return l(n[t])?"left"===t||"right"===t||"width"===t?l(e)?n.set(t,e):n.set(t,(100*+e/o.width).toFixed(4)+"%"):l(e)?n.set(t,e):n.set(t,(100*+e/o.height).toFixed(4)+"%"):l(e)?"left"===t||"right"===t||"width"===t?n.set(t,Math.round(parseFloat(""+e)*o.width/100)):n.set(t,Math.round(parseFloat(""+e)*o.height/100)):isNaN(+e)?n.without(t):n.set(t,Math.round(+e)+"px")}function I(t,n){return{left:t.left-n.left,top:t.top-n.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height,id:null}}function O(){var t=window.parent;if(t&&t.jimuConfig&&t.jimuConfig.isBuilder)return t._appState.theme}function x(){var t,n;return null!==(n=null===(t=Object(o.getAppStore)().getState().appContext)||void 0===t?void 0:t.isRTL)&&void 0!==n&&n}function j(t){var n=100,e=100;if("number"==typeof t)n=100,e=Math.round(100*t);else if("string"==typeof t){var o=t.split(":");n=parseInt(o[0],10),e=parseInt(o[1],10)}return e/n}function S(t){return t&&0!==t.length?1===t.length?[t[0],t[0],t[0],t[0]]:2===t.length?[t[0],t[1],t[0],t[1]]:3===t.length?[t[0],t[1],t[2],0]:[t[0],t[1],t[2],t[3]]:[0,0,0,0]}function C(t,n){var e,o,r,a,u,s=null!==(e=n.setting)&&void 0!==e?e:{},c=N("height",n.bbox,s.autoProps);if(c!==i.f.Custom)return{height:c===i.f.Stretch?t:null,setting:{autoProps:{height:c}}};if("ratio"===s.heightMode)u={setting:{heightMode:"ratio",aspectRatio:null!==(o=s.aspectRatio)&&void 0!==o?o:1,autoProps:{height:i.f.Custom}}};else{var d=null!==(a=null===(r=n.bbox)||void 0===r?void 0:r.height)&&void 0!==a?a:t;l(d)&&(d=p(d,t)),u={height:d,setting:{heightMode:"fixed",autoProps:{height:i.f.Custom}}}}return u}function P(){var t;return window.jimuConfig.isBuilder?null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appConfig:Object(o.getAppStore)().getState().appConfig}function T(){var t;return window.jimuConfig.isBuilder?null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.browserSizeMode:Object(o.getAppStore)().getState().browserSizeMode}function R(){var t,n,e;return window.jimuConfig.isBuilder?null===(n=null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appRuntimeInfo)||void 0===n?void 0:n.currentPageId:null===(e=Object(o.getAppStore)().getState().appRuntimeInfo)||void 0===e?void 0:e.currentPageId}function M(){var t,n,e;return window.jimuConfig.isBuilder?null===(n=null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appRuntimeInfo)||void 0===n?void 0:n.currentDialogId:null===(e=Object(o.getAppStore)().getState().appRuntimeInfo)||void 0===e?void 0:e.currentDialogId}function k(){var t,n,e;return window.jimuConfig.isBuilder?null===(n=null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appRuntimeInfo)||void 0===n?void 0:n.activePagePart:null===(e=Object(o.getAppStore)().getState().appRuntimeInfo)||void 0===e?void 0:e.activePagePart}function L(){var t,n,e,i=window.jimuConfig.isBuilder?null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appConfig:Object(o.getAppStore)().getState().appConfig,r=M();return null===(e=null===(n=null==i?void 0:i.dialogs[r])||void 0===n?void 0:n.layout)||void 0===e?void 0:e[o.BrowserSizeMode.Large]}function z(){var t,n,e,i=window.jimuConfig.isBuilder?null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appConfig:Object(o.getAppStore)().getState().appConfig,r=R(),a=T();return null===(e=null===(n=null==i?void 0:i.pages[r])||void 0===n?void 0:n.layout)||void 0===e?void 0:e[a]}function A(){var t,n,e,i=window.jimuConfig.isBuilder?null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appConfig:Object(o.getAppStore)().getState().appConfig,r=T();return null===(e=null===(n=null==i?void 0:i.header)||void 0===n?void 0:n.layout)||void 0===e?void 0:e[r]}function _(){var t,n,e,i=window.jimuConfig.isBuilder?null===(t=Object(o.getAppStore)().getState().appStateInBuilder)||void 0===t?void 0:t.appConfig:Object(o.getAppStore)().getState().appConfig,r=T();return null===(e=null===(n=null==i?void 0:i.footer)||void 0===n?void 0:n.layout)||void 0===e?void 0:e[r]}function B(t,n){return n.left>=t.left&&n.left+n.width<=t.left+t.width&&n.top>=t.top&&n.top+n.height<=t.top+t.height}function E(t,n){return!(n.left>t.left+t.width||n.left+n.width<t.left||n.top>t.top+t.height||n.top+n.height<t.top)}function N(t,n,e){var o=null==e?void 0:e[t],r="width"===t?"left":"top",a="width"===t?"right":"bottom";if(!o)return null!=n[t]?i.f.Custom:null!=n[r]&&null!=n[a]?i.f.Stretch:i.f.Auto;if(!0===o)return null!=n[r]&&null!=n[a]?i.f.Stretch:i.f.Auto;switch(o){case i.f.Auto:return i.f.Auto;case i.f.Stretch:return i.f.Stretch;default:return i.f.Custom}}function V(t,n){for(var e=Math.max(t,n),o=Math.min(t,n);0!==o;){var i=o;o=e%o,e=i}return e}function F(t){return t.animationStyle?{isParentPlaying:t.isPlaying,isParentRevert:t.revert,isParentEnableScroll:t.enableScroll,parentAnimationStyle:t.animationStyle,parentPlayId:t.playId}:{}}},40:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var o=e(0),i=function(){function t(){this.id="flow-layout-transformer",this.layoutType=o.LayoutType.FlowLayout}return t.prototype.transformLayout=function(t,n,e){if(n!==e&&e===o.BrowserSizeMode.Small){var i=Object(o.Immutable)(t);return(t.order||[]).forEach((function(t){i=i.setIn(["content",t,"setting","heightMode"],"auto")})),i}return t},t.prototype.transformLayoutItem=function(t,n,e,o,i,r){return{index:n,item:t}},t}()},41:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var o=e(0);function i(t,n,e){for(var i=t.querySelectorAll("div.screen-main-panel"),r=n.querySelectorAll("div.screen-side-panel"),a=i.length,u=1;u<a;u++){var l=i.item(u),s=i.item(u-1),c=r.item(u-1);l.style.marginTop=c.clientHeight-s.clientHeight+"px"}e!==o.BrowserSizeMode.Small&&(t.style.height=n.clientHeight+"px")}},42:function(t,n,e){"use strict";e.d(n,"a",(function(){return I}));var o=e(0),i=e(5),r=e(2);function a(t,n){if(!t)return null;var e={};t.backgroundIMage&&(e="string"==typeof t.backgroundIMage?{}:t.backgroundIMage);var o=t.backgroundPosition?r.FillType[t.backgroundPosition.toUpperCase()]:r.FillType.FILL,i={color:null==t.backgroundColor?n:""===t.backgroundColor?"transparent":t.backgroundColor?t.backgroundColor:"",fillType:o,image:e};return r.styleUtils.toBackgroundStyle(i)}function u(t){var n=t.viewId,e=t.isActive,i=t.layoutEntryComponent,r=t.viewVisibilityContext,u=o.ReactRedux.useSelector((function(t){var e,o;return null===(o=null===(e=t.appConfig)||void 0===e?void 0:e.views)||void 0===o?void 0:o[n]})),l=o.ReactRedux.useSelector((function(t){var n,e;return null===(e=null===(n=t.theme)||void 0===n?void 0:n.body)||void 0===e?void 0:e.bg})),s=i,c=r,d=o.React.useMemo((function(){return{isInView:!0,isInCurrentView:e}}),[e]);return Object(o.jsx)("div",{className:"w-100 h-100 d-flex section-view",style:a(u,l),key:n},Object(o.jsx)(o.ErrorBoundary,null,Object(o.jsx)(c.Provider,{value:d},Object(o.jsx)(s,{layouts:null==u?void 0:u.layout,isInSection:!0,className:"w-100"}))))}function l(t){var n,e,i=t.views,r=t.navInfo,a=t.animationPreview,l=t.playMode,s=t.currentIndex,c=t.previousIndex,d=t.progress,p=t.loop,f=t.viewTransition,g=a&&l===o.AnimationPlayMode.OneByOne,y=o.React.useContext(o.AnimationContext),v=y.setting,h=y.playId,m=y.onAnimationEnd,b=y.depth,w=o.ReactRedux.useSelector((function(t){var n;return v&&v.type!==o.AnimationType.None?(null===(n=t.appRuntimeInfo)||void 0===n?void 0:n.appMode)===o.AppMode.Design:null})),I=!1===w||g||(null==r?void 0:r.playId)&&(null==r?void 0:r.withOneByOne)?v:null,O=o.React.useMemo((function(){return{trigger:o.AnimationTriggerType.Manual,setting:I,playId:!1===w||g?h:null,inheritedOneByOneSetting:null,depth:b+1,onAnimationEnd:m}}),[w,I,g,h,b,m]);return Object(o.jsx)(o.AnimationContext.Provider,{value:O},Object(o.jsx)("div",{className:"section-content"},Object(o.jsx)(o.TransitionContainer,{useProgress:null!==(n=null==r?void 0:r.useProgress)&&void 0!==n&&n,useStep:null!==(e=null==r?void 0:r.useStep)&&void 0!==e&&e,previousIndex:c,currentIndex:s,progress:d,transitionType:null==f?void 0:f.type,direction:null==f?void 0:f.direction,playId:null==r?void 0:r.playId,withOneByOne:null==r?void 0:r.withOneByOne,loop:p},i.map((function(n){var e=n===i[s];return Object(o.jsx)(u,{key:n,viewId:n,isActive:e,layoutEntryComponent:t.layoutEntryComponent,viewVisibilityContext:t.viewVisibilityContext})})))))}var s,c,d=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},p=e(49),f=e(50);function g(t){var n,e,i,a=t.sectionId,u=t.currentIndex,l=t.numOfViews,g=t.onCurrentViewChange,y=o.ReactRedux.useSelector((function(t){var n;return null===(n=t.appConfig.sections[a])||void 0===n?void 0:n.arrowsNav})),v=o.ReactRedux.useSelector((function(t){var n;return null===(n=t.appConfig.sections[a])||void 0===n?void 0:n.dotsNav})),h=null!==(n=null==v?void 0:v.position)&&void 0!==n?n:"b",m=o.React.useMemo((function(){for(var t=[],n=0;n<l;n++)t.push(n);return t}),[l]),b=function(){var t,n,e,i;return Object(o.css)(s||(s=d(["\n      position: absolute;\n      cursor: pointer;\n\n      &.disabled {\n        cursor: default;\n        svg {\n          color: var(--light-400);\n        }\n      }\n\n      &.first {\n        left: ","px;\n        top: 50%;\n        transform: translateY(-50%);\n\n        &.vertical {\n          top: ","px;\n          left: 50%;\n          transform: translateX(-50%) rotate(90deg);\n        }\n      }\n      &.second {\n        right: ","px;\n        top: 50%;\n        transform: translateY(-50%);\n\n        &.vertical {\n          bottom: ","px;\n          left: 50%;\n          top: auto;\n          right: auto;\n          transform: translateX(-50%) rotate(90deg);\n        }\n      }\n    "],["\n      position: absolute;\n      cursor: pointer;\n\n      &.disabled {\n        cursor: default;\n        svg {\n          color: var(--light-400);\n        }\n      }\n\n      &.first {\n        left: ","px;\n        top: 50%;\n        transform: translateY(-50%);\n\n        &.vertical {\n          top: ","px;\n          left: 50%;\n          transform: translateX(-50%) rotate(90deg);\n        }\n      }\n      &.second {\n        right: ","px;\n        top: 50%;\n        transform: translateY(-50%);\n\n        &.vertical {\n          bottom: ","px;\n          left: 50%;\n          top: auto;\n          right: auto;\n          transform: translateX(-50%) rotate(90deg);\n        }\n      }\n    "])),null!==(t=y.offset)&&void 0!==t?t:0,null!==(n=y.offset)&&void 0!==n?n:0,null!==(e=y.offset)&&void 0!==e?e:0,null!==(i=y.offset)&&void 0!==i?i:0)},w=o.React.useCallback((function(t,n){return Object(o.jsx)("div",{key:t,className:Object(o.classNames)("dot",{active:n,disabled:l<=1}),onClick:n?void 0:function(){return g(t)}})}),[g,l]),I=o.React.useCallback((function(){g(u>0?u-1:l-1)}),[u,l,g]),O=o.React.useCallback((function(){g(u<l-1?u+1:0)}),[u,l,g]);return Object(o.jsx)(o.React.Fragment,null,(null==y?void 0:y.visible)&&Object(o.jsx)("div",{className:Object(o.classNames)("arrows-nav first",{vertical:"v"===y.direction,disabled:l<=1}),css:b(),onClick:I},Object(o.jsx)(r.Icon,{icon:p,autoFlip:"v"!==y.direction,size:null!==(e=y.size)&&void 0!==e?e:12})),(null==y?void 0:y.visible)&&Object(o.jsx)("div",{className:Object(o.classNames)("arrows-nav second",{vertical:"v"===y.direction,disabled:l<=1}),css:b(),onClick:O},Object(o.jsx)(r.Icon,{icon:f,autoFlip:"v"!==y.direction,size:null!==(i=y.size)&&void 0!==i?i:12})),(null==v?void 0:v.visible)&&Object(o.jsx)("div",{className:Object(o.classNames)("dots-nav",{"snap-left":"l"===h,"snap-top":"t"===h,"snap-right":"r"===h,"snap-bottom":"b"===h}),css:function(){var t,n,e,i,r,a,u,l,s,p,f,g,y,m;return Object(o.css)(c||(c=d(["\n      position: absolute;\n      display: flex;\n      flex-direction: ",";\n      justify-content: center;\n      align-items: center;\n      overflow: visible;\n      pointer-events: none;\n      background: transparent;\n\n      .dot {\n        pointer-events: all;\n        cursor: pointer;\n        background: var(--black);\n        width: ","px;\n        height: ","px;\n        border-radius: 50%;\n\n        &.active {\n          outline: 1px solid var(--black);\n          background: var(--white);\n          border-radius: 0;\n        }\n\n        &.disabled {\n          cursor: default;\n        }\n      }\n\n      &.snap-left {\n        height: 100%;\n        top: 0;\n        left: ","px;\n        width: ","px;\n\n        > div:not(:first-child) {\n          margin-top: ","px;\n        }\n      }\n      &.snap-right {\n        height: 100%;\n        top: 0;\n        right: ","px;\n        width: ","px;\n\n        > div:not(:first-child) {\n          margin-top: ","px;\n        }\n      }\n      &.snap-top {\n        width: 100%;\n        top: ","px;\n        height: ","px;\n\n        > div:not(:first-child) {\n          margin-left: ","px;\n        }\n      }\n      &.snap-bottom {\n        width: 100%;\n        bottom: ","px;\n        height: ","px;\n\n        > div:not(:first-child) {\n          margin-left: ","px;\n        }\n      }\n    "],["\n      position: absolute;\n      display: flex;\n      flex-direction: ",";\n      justify-content: center;\n      align-items: center;\n      overflow: visible;\n      pointer-events: none;\n      background: transparent;\n\n      .dot {\n        pointer-events: all;\n        cursor: pointer;\n        background: var(--black);\n        width: ","px;\n        height: ","px;\n        border-radius: 50%;\n\n        &.active {\n          outline: 1px solid var(--black);\n          background: var(--white);\n          border-radius: 0;\n        }\n\n        &.disabled {\n          cursor: default;\n        }\n      }\n\n      &.snap-left {\n        height: 100%;\n        top: 0;\n        left: ","px;\n        width: ","px;\n\n        > div:not(:first-child) {\n          margin-top: ","px;\n        }\n      }\n      &.snap-right {\n        height: 100%;\n        top: 0;\n        right: ","px;\n        width: ","px;\n\n        > div:not(:first-child) {\n          margin-top: ","px;\n        }\n      }\n      &.snap-top {\n        width: 100%;\n        top: ","px;\n        height: ","px;\n\n        > div:not(:first-child) {\n          margin-left: ","px;\n        }\n      }\n      &.snap-bottom {\n        width: 100%;\n        bottom: ","px;\n        height: ","px;\n\n        > div:not(:first-child) {\n          margin-left: ","px;\n        }\n      }\n    "])),"l"===h||"r"===h?"column":"row",null!==(t=v.size)&&void 0!==t?t:8,null!==(n=v.size)&&void 0!==n?n:8,null!==(e=v.offset)&&void 0!==e?e:50,null!==(i=v.size)&&void 0!==i?i:8,null!==(r=v.spacing)&&void 0!==r?r:10,null!==(a=v.offset)&&void 0!==a?a:50,null!==(u=v.size)&&void 0!==u?u:8,null!==(l=v.spacing)&&void 0!==l?l:10,null!==(s=v.offset)&&void 0!==s?s:50,null!==(p=v.size)&&void 0!==p?p:8,null!==(f=v.spacing)&&void 0!==f?f:10,null!==(g=v.offset)&&void 0!==g?g:50,null!==(y=v.size)&&void 0!==y?y:8,null!==(m=v.spacing)&&void 0!==m?m:10)}()},m.map((function(t){return w(t,t===u)}))))}function y(t){var n=t.sectionId,e=t.autoPlay,r=t.interval,a=void 0===r?i.e:r,u=t.loop,l=void 0!==u&&u,s=o.React.useRef(),c=o.ReactRedux.useSelector((function(t){var n;return e?(null===(n=t.appRuntimeInfo)||void 0===n?void 0:n.appMode)===o.AppMode.Design:null})),d=o.React.useRef(c),p=o.React.useCallback((function(){s.current&&(clearInterval(s.current),s.current=null)}),[]),f=o.React.useCallback((function(){p(),s.current=setInterval((function(){(function(t,n){var e,i,r=Object(o.getAppStore)().getState(),a=r.appConfig.sections[t].views,u=null===(i=null===(e=r.appRuntimeInfo)||void 0===e?void 0:e.sectionNavInfos)||void 0===i?void 0:i[t],l=(null==u?void 0:u.currentViewId)?a.indexOf(u.currentViewId):0,s=l<a.length-1?l+1:0;return!(!n&&0===s)&&(o.jimuHistory.changeView(t,a[s]),!0)})(n,l)||p()}),1e3*a)}),[n,l,a,p]);o.React.useEffect((function(){if(!d.current){if(!e)return void p();f()}return function(){p()}}),[e,a,l,p,f]),o.React.useEffect((function(){if(d.current!==c&&null!==c){if(d.current=c,c)return void p();e&&f()}}),[c,f,p,e])}var v,h=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},m=function(){return(m=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},b=function(t,n){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(t);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(e[o[i]]=t[o[i]])}return e};function w(t){return Object(o.css)(v||(v=h(["\n    overflow: visible;\n    position: relative;\n\n    .section-content {\n      position: relative;\n      overflow: hidden;\n      width: 100%;\n      height: 100%;\n      z-index: 0;\n    }\n\n    .section-view {\n      position: absolute;\n    }\n\n    &.aspect-ratio-wrapper {\n      padding-top: ","%;\n    }\n    &.aspect-ratio-wrapper > .section-content {\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n    }\n\n    .hidden {\n      display: none !important;\n    }\n  "],["\n    overflow: visible;\n    position: relative;\n\n    .section-content {\n      position: relative;\n      overflow: hidden;\n      width: 100%;\n      height: 100%;\n      z-index: 0;\n    }\n\n    .section-view {\n      position: absolute;\n    }\n\n    &.aspect-ratio-wrapper {\n      padding-top: ","%;\n    }\n    &.aspect-ratio-wrapper > .section-content {\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n    }\n\n    .hidden {\n      display: none !important;\n    }\n  "])),100*(t||0))}function I(t){var n=t.views,e=t.navInfo,a=t.activeView,u=t.animationPreview,s=t.playMode,c=t.transition,d=t.sectionId,p=t.autoPlay,f=t.interval,v=void 0===f?i.e:f,h=t.loop,I=void 0===h||h,O=t.className,x=t.sectionStyle,j=t.forceAspectRatio,S=t.aspectRatio,C=t.rotate,P=t.layoutEntryComponent,T=t.viewVisibilityContext,R=o.React.useRef(),M=o.React.useState(!1),k=M[0],L=M[1],z=null==a?void 0:a.id,A=o.React.useMemo((function(){var t,i,r,a,u=n;e?(u=null!==(t=e.visibleViews)&&void 0!==t?t:n,e.useProgress?(a=e.progress,i=Object(o.getIndexFromProgress)(a,u.length).currentIndex):(i=Math.max(0,u.indexOf(e.currentViewId)),r=e.previousViewId?Math.max(0,u.indexOf(e.previousViewId)):Math.max(0,i-1))):r=i=Math.max(0,u.indexOf(z));return R.current=i,{currentIndex:i,previousIndex:r,progress:a}}),[z,e,n]),_=o.React.useMemo((function(){return r.styleUtils.toCSSStyle(x)}),[x]),B=_.transform,E=b(_,["transform"]),N=C>0||C<0?"rotateZ("+C+"deg)":"",V=N;B&&(V=B+" "+N);var F=o.React.useCallback((function(){L(!0)}),[]),W=o.React.useCallback((function(){L(!1)}),[]);y({sectionId:d,interval:v,loop:I,autoPlay:p&&!k});var H=o.React.useCallback((function(t){o.jimuHistory.changeView(d,n[t])}),[d,n]);return Object(o.jsx)("div",{className:Object(o.classNames)("section-layout w-100",O,{"aspect-ratio-wrapper":j&&S>0}),css:w(S),"data-sectionid":d,style:m(m({},E),{transform:V}),onMouseEnter:p?F:null,onMouseLeave:p?W:null},Object(o.jsx)(l,{views:n,navInfo:e,animationPreview:u,playMode:s,currentIndex:A.currentIndex,previousIndex:A.previousIndex,progress:A.progress,loop:I,viewTransition:c,layoutEntryComponent:P,viewVisibilityContext:T}),Object(o.jsx)(g,{sectionId:d,numOfViews:n.length,currentIndex:A.currentIndex,onCurrentViewChange:H}))}},49:function(t,n){t.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.305 7.294L10.693.215a.79.79 0 011.083 0c.299.287.299.751 0 1.038L4.736 8l7.04 6.747c.299.287.299.751 0 1.038a.79.79 0 01-1.083 0l-7.388-7.08a.968.968 0 010-1.41z" fill="#000"></path><path d="M0 0h16v16H0z"></path></g></svg>'},5:function(t,n,e){"use strict";var o;e.d(n,"i",(function(){return o})),e.d(n,"b",(function(){return a})),e.d(n,"d",(function(){return u})),e.d(n,"c",(function(){return l})),e.d(n,"h",(function(){return s})),e.d(n,"a",(function(){return c})),e.d(n,"e",(function(){return d})),e.d(n,"g",(function(){return i})),e.d(n,"f",(function(){return r})),function(t){t[t.BringForward=0]="BringForward",t[t.SendBackward=1]="SendBackward",t[t.BringToFront=2]="BringToFront",t[t.SendToBack=3]="SendToBack"}(o||(o={}));var i,r,a=12,u=28,l=16,s=16,c=5,d=3;!function(t){t.Auto="auto",t[t.Normal=0]="Normal",t[t.BoundaryDropArea=10]="BoundaryDropArea",t[t.DragMoveTip=20]="DragMoveTip",t[t.HandlerTools=30]="HandlerTools",t[t.DraggingItem=40]="DraggingItem"}(i||(i={})),function(t){t.Auto="AUTO",t.Stretch="STRETCH",t.Custom="CUSTOM"}(r||(r={}))},50:function(t,n){t.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M12.695 7.294L5.307.215a.79.79 0 00-1.083 0c-.299.287-.299.751 0 1.038L11.264 8l-7.04 6.747c-.299.287-.299.751 0 1.038a.79.79 0 001.083 0l7.388-7.08a.968.968 0 000-1.41z" fill="#000"></path><path d="M0 0h16v16H0z"></path></g></svg>'},52:function(t,n){t.exports='<svg viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><path d="M6 5.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm0 1a2.5 2.5 0 110-5 2.5 2.5 0 010 5zM6 1c-2.124 0-3.714.967-4.867 3C2.286 6.033 3.876 7 6 7s3.714-.967 4.867-3C9.714 1.967 8.124 1 6 1zm0 7C3.333 8 1.333 6.667 0 4c1.333-2.667 3.333-4 6-4s4.667 1.333 6 4c-1.333 2.667-3.333 4-6 4z"></path></svg>'},7:function(t,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"e",(function(){return r})),e.d(n,"b",(function(){return a})),e.d(n,"d",(function(){return u})),e.d(n,"c",(function(){return l}));var o=e(0),i=o.React.createContext({viewOnly:!0,mainSizeMode:o.BrowserSizeMode.Large,browserSizeMode:o.BrowserSizeMode.Large}),r=o.React.createContext(!0),a=o.React.createContext(!0),u=o.React.createContext({isInView:!1,isInCurrentView:!1}),l=o.React.createContext("")},8:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"d",(function(){return r})),e.d(n,"c",(function(){return a})),e.d(n,"j",(function(){return u})),e.d(n,"l",(function(){return l})),e.d(n,"m",(function(){return s})),e.d(n,"n",(function(){return c})),e.d(n,"h",(function(){return d})),e.d(n,"w",(function(){return p})),e.d(n,"u",(function(){return f})),e.d(n,"A",(function(){return g})),e.d(n,"i",(function(){return y})),e.d(n,"o",(function(){return v})),e.d(n,"r",(function(){return h})),e.d(n,"t",(function(){return m})),e.d(n,"q",(function(){return b})),e.d(n,"p",(function(){return w})),e.d(n,"a",(function(){return I})),e.d(n,"v",(function(){return O})),e.d(n,"x",(function(){return x})),e.d(n,"g",(function(){return j})),e.d(n,"k",(function(){return S})),e.d(n,"f",(function(){return C})),e.d(n,"e",(function(){return P})),e.d(n,"y",(function(){return T})),e.d(n,"z",(function(){return R})),e.d(n,"s",(function(){return k}));var o=e(0);function i(t,n){var e,o,i;if(!n)return null;var r=n.layoutId,a=n.layoutItemId;return null===(i=null===(o=null===(e=t.layouts)||void 0===e?void 0:e[r])||void 0===o?void 0:o.content)||void 0===i?void 0:i[a]}function r(t,n){if(t.sections)for(var e in t.sections){if(t.sections[e].views.indexOf(n)>=0)return e}return null}function a(t,n){if(t.views)for(var e in t.views){var o=t.views[e];for(var i in o.layout)if(o.layout[i]==n)return e}return null}function u(t){switch(t.type){case o.LayoutItemType.Widget:return"string"==typeof t.widgetId?t.widgetId:null;case o.LayoutItemType.Section:return"string"==typeof t.sectionId?t.sectionId:null;case o.LayoutItemType.ScreenGroup:return"string"==typeof t.screenGroupId?t.screenGroupId:null;default:return null}}function l(t,n,e){return void 0===e&&(e=!1),(null==t?void 0:t.content)?Object.keys(t.content).filter((function(o){return t.content[o].type===n&&!!u(t.content[o])&&(e||!t.content[o].isPending)})).map((function(n){return u(t.content[n])})):[]}function s(t,n,e,i,r){void 0===r&&(r=!1);var a=[],u=l(t.layouts[n],o.LayoutItemType.Widget,r),c=l(t.layouts[n],o.LayoutItemType.Section,r),d=l(t.layouts[n],o.LayoutItemType.ScreenGroup,r);return e===o.LayoutItemType.Widget?a=a.concat(u):e===o.LayoutItemType.Section?a=a.concat(c):e===o.LayoutItemType.ScreenGroup&&(a=a.concat(d)),u.filter((function(n){var e,i,r,a,u;return(null===(i=null===(e=t.widgets[n])||void 0===e?void 0:e.manifest)||void 0===i?void 0:i.widgetType)===o.WidgetType.Layout||(null===(u=null===(a=null===(r=t.widgets[n])||void 0===r?void 0:r.manifest)||void 0===a?void 0:a.properties)||void 0===u?void 0:u.hasEmbeddedLayout)})).forEach((function(n){var o;Object.keys(null!==(o=t.widgets[n].layouts)&&void 0!==o?o:{}).forEach((function(o){var u=t.widgets[n].layouts[o][i];a=a.concat(s(t,u,e,i,r))}))})),c.forEach((function(n){var o,u;null===(u=null===(o=t.sections)||void 0===o?void 0:o[n])||void 0===u||u.views.forEach((function(n){t.views[n]&&t.views[n].layout[i]&&(a=a.concat(s(t,t.views[n].layout[i],e,i,r)))}))})),d.forEach((function(n){var o,u;null===(u=null===(o=t.screenGroups)||void 0===o?void 0:o[n])||void 0===u||u.screens.forEach((function(n){var o,u,l,c,d,p,f;(null===(l=null===(u=null===(o=t.screens)||void 0===o?void 0:o[n])||void 0===u?void 0:u.main.layout)||void 0===l?void 0:l[i])&&(a=a.concat(s(t,t.screens[n].main.layout[i],e,i,r))),(null===(f=null===(p=null===(d=null===(c=t.screens)||void 0===c?void 0:c[n])||void 0===d?void 0:d.panel)||void 0===p?void 0:p.layout)||void 0===f?void 0:f[i])&&(a=a.concat(s(t,t.screens[n].panel.layout[i],e,i,r)))}))})),a}function c(t,n,e,i,r){void 0===r&&(r=!1);var a=[],u=l(t.layouts[n],o.LayoutItemType.Widget,r),s=l(t.layouts[n],o.LayoutItemType.Section,r),d=l(t.layouts[n],o.LayoutItemType.ScreenGroup,r);return a=e===o.LayoutItemType.Widget?a.concat(u):e===o.LayoutItemType.ScreenGroup?a.concat(d):a.concat(s),u.filter((function(n){return t.widgets&&t.widgets[n]&&t.widgets[n].manifest.widgetType===o.WidgetType.Layout})).forEach((function(n){Object.keys(t.widgets[n].layouts).forEach((function(o){var u=I(t.widgets[n].layouts[o],i,t.mainSizeMode);a=a.concat(c(t,u,e,i,r))}))})),a}function d(t,n,e){if(!(null==t?void 0:t.content))return null;var o=Object.keys(t.content).find((function(o){return t.content[o].type===e&&(t.content[o].widgetId===n||t.content[o].sectionId===n||t.content[o].screenGroupId===n)&&!t.content[o].isPending}));return t.content[o]}function p(t,n,e){void 0===e&&(e=!1);var o=t.layouts[n];return(null==o?void 0:o.content)?e?Object.keys(o.content):Object.keys(o.content).filter((function(t){return!o.content[t].isPending})):[]}function f(t,n,e){return void 0===e&&(e=!1),(null==t?void 0:t.content)?Object.keys(t.content).filter((function(o){return t.content[o].type===n&&!!u(t.content[o])&&(e||!t.content[o].isPending)})).map((function(n){return{layoutId:t.id,layoutItemId:n}})):[]}function g(t,n){return Object.keys(t.widgets).find((function(e){var o=t.widgets[e];if(o.layouts)return Object.keys(o.layouts).some((function(t){return void 0!==Object.keys(o.layouts[t]).find((function(e){return o.layouts[t][e]===n}))}))}))}function y(t,n,e,i){var r=t.pages&&Object.keys(t.pages).find((function(o){var r=I(t.pages[o].layout,i,t.mainSizeMode);return c(t,r,e,i).indexOf(n)>-1}));if(r)return{type:o.ContainerType.Page,id:r};var a=t.dialogs&&Object.keys(t.dialogs).find((function(o){var r=I(t.dialogs[o].layout,i,t.mainSizeMode);return c(t,r,e,i).indexOf(n)>-1}));if(a)return{type:o.ContainerType.Dialog,id:a};if(t.header){var u=I(t.header.layout,i,t.mainSizeMode);if(c(t,u,e,i).indexOf(n)>-1)return{type:o.ContainerType.Header,id:"header"}}if(t.footer){u=I(t.footer.layout,i,t.mainSizeMode);if(c(t,u,e,i).indexOf(n)>-1)return{type:o.ContainerType.Footer,id:"footer"}}var l=t.views&&Object.keys(t.views).find((function(o){var r=I(t.views[o].layout,i,t.mainSizeMode);return c(t,r,e,i).indexOf(n)>-1}));if(l)return{type:o.ContainerType.View,id:l};if(t.screens){var s=Object.keys(t.screens).find((function(o){var r=I(t.screens[o].main.layout,i,t.mainSizeMode);return c(t,r,e,i).indexOf(n)>-1}));if(s)return{type:o.ContainerType.ScreenMain,id:s};var d=Object.keys(t.screens).find((function(o){var r,a=I(null===(r=t.screens[o].panel)||void 0===r?void 0:r.layout,i,t.mainSizeMode);return c(t,a,e,i).indexOf(n)>-1}));if(d)return{type:o.ContainerType.ScreenPanel,id:d}}}function v(t,n,e,o){return c(t,I(t.pages[n].layout,o,t.mainSizeMode),e,o)}function h(t,n,e,o){var i,r=c(t,I(t.screens[n].main.layout,o,t.mainSizeMode),e,o);if(t.screens[n].panel){var a=c(t,I(null===(i=t.screens[n].panel)||void 0===i?void 0:i.layout,o,t.mainSizeMode),e,o);return r.concat(a)}return r}function m(t,n,e,o){var i;return c(t,I(null===(i=t.views[n])||void 0===i?void 0:i.layout,o,t.mainSizeMode),e,o)}function b(t,n,e){return c(t,I(t.header.layout,e,t.mainSizeMode),n,e)}function w(t,n,e){return c(t,I(t.footer.layout,e,t.mainSizeMode),n,e)}function I(t,n,e){return t?t[n]||t[e]:null}function O(t,n,e,i){if(i){var r=x(t,e,n,i);if(r)return M(t,e,n,r,i);var a=y(t,e,n,i);if(!a)return[];var u=function(t,n,e){var i;return n.type===o.ContainerType.Footer?t.footer.layout[e]:n.type===o.ContainerType.Header?t.header.layout[e]:n.type===o.ContainerType.ScreenMain?t.screens[n.id].main.layout[e]:n.type===o.ContainerType.ScreenPanel?null===(i=t.screens[n.id].panel)||void 0===i?void 0:i.layout[e]:t[n.type][n.id].layout[e]}(t,a,i);return[{layoutId:u,layoutItemId:d(t.layouts[u],e,n).id}]}var l=[];return Object.keys(t.layouts).forEach((function(o){p(t,o,!0).forEach((function(i){var r=t.layouts[o].content[i];n!==r.type||r.widgetId!==e&&r.sectionId!==e&&r.screenGroupId!==e||l.push({layoutId:o,layoutItemId:i})}))})),l}function x(t,n,e,o){return Object.keys(t.widgets).find((function(i){var r=t.widgets[i];if(r.layouts)return Object.keys(r.layouts).some((function(i){var a=r.layouts[i][o],u=t.layouts[a];return u&&u.content&&void 0!==Object.keys(u.content).find((function(t){return u.content[t].type===e&&(u.content[t].widgetId===n||u.content[t].sectionId===n)}))}))}))}function j(t,n,e,o){var i=t.widgets[n];if(!i.layouts)return[];var r=[];return Object.keys(i.layouts).forEach((function(n){Object.keys(i.layouts[n]).forEach((function(a){var u=t.layouts[i.layouts[n][a]];r=r.concat(l(u,e,o))}))})),Array.from(new Set(r))}function S(t,n,e,o){var i=[],r=!1,a=function(t,n,e,a){var u=I(e,o,void 0),l=d(t.layouts[u],n,a),s=void 0;return l&&(s={layoutId:u,layoutItemId:l.id},i.push(s),r=!0),s};return t.pages&&Object.keys(t.pages).find((function(o){var i=t.pages[o];return!(!i.layout||!a(t,n,i.layout,e))})),r?i:(t.views&&Object.keys(t.views).find((function(o){var i=t.views[o];return!!a(t,n,i.layout,e)})),r?i:(t.dialogs&&Object.keys(t.dialogs).find((function(o){var i=t.dialogs[o];return!!a(t,n,i.layout,e)})),r?i:(t.header&&a(t,n,t.header.layout,e),r?i:(t.footer&&a(t,n,t.footer.layout,e),r||t.widgets&&Object.keys(t.widgets).find((function(o){var i=t.widgets[o];return i.layouts&&Object.keys(i.layouts).forEach((function(o){a(t,n,i.layouts[o],e)})),!!r})),i))))}function C(t,n,e){var o=t.widgets[e];if(o){var i=void 0;return Object.keys(o.layouts).find((function(t){if(Object.keys(o.layouts[t]).find((function(e){if(o.layouts[t][e]===n)return i=e,!0})))return!0})),i}}function P(t,n){var e,o,i=null,r=function(t){return t?Object.keys(t).find((function(e){return t[e]===n})):null};return Object.keys(t.widgets||{}).some((function(n){return Object.keys(t.widgets[n].layouts||{}).some((function(e){if(i)return!0;i=r(t.widgets[n].layouts[e])}))})),i||(Object.keys(t.views||{}).some((function(n){if(i)return!0;i=r(t.views[n].layout)})),i||(Object.keys(t.pages||{}).some((function(n){if(i)return!0;i=r(t.pages[n].layout)})),i||(Object.keys(t.dialogs||{}).some((function(n){if(i)return!0;i=r(t.dialogs[n].layout)})),i||(Object.keys(t.screens||{}).some((function(n){var e,o;return!!i||(!!(i=r(null===(e=t.screens[n].main)||void 0===e?void 0:e.layout))||void(i=r(null===(o=t.screens[n].panel)||void 0===o?void 0:o.layout)))})),i||((i=r(null===(e=t.header)||void 0===e?void 0:e.layout))?i:(i=r(null===(o=t.footer)||void 0===o?void 0:o.layout))||null)))))}function T(t,n,e,i){if(!t.widgets[e])return[];var r=t.layouts[n.layoutId]&&t.layouts[n.layoutId].content&&t.layouts[n.layoutId].content[n.layoutItemId];if(!r)return[];var a=r.type,u=void 0;return a===o.LayoutItemType.Section?u=r.sectionId:a===o.LayoutItemType.Widget&&(u=r.widgetId),u?M(t,u,a,e,i):function(t,n,e){var o=t.widgets[n];if(!o)return!1;var i=!1;return o.layouts&&Object.keys(o.layouts).forEach((function(n){i||Object.keys(o.layouts[n]).forEach((function(r){if(!i){var a=o.layouts[n][r];p(t,a,!0).forEach((function(t){i||e.layoutId===a&&e.layoutItemId===t&&(i=!0)}))}}))})),i}(t,e,n)?[n]:[]}function R(t,n,e,o){return T(t,n,e,o).map((function(n){return t.layouts[n.layoutId][n.layoutItemId]}))}function M(t,n,e,i,r){var a=t.widgets[i];if(!a||!n)return[];var u=[];return a.layouts&&Object.keys(a.layouts).forEach((function(i){var l=a.layouts[i][r],s=t.layouts[l];s&&s.content&&Object.keys(s.content).forEach((function(i){var a=s.content[i];if(a.type!==e||a.widgetId!==n&&a.sectionId!==n&&a.screenGroupId!==n){if(a.type===o.LayoutItemType.Widget){var l=t.widgets[a.widgetId];l&&l.manifest.widgetType===o.WidgetType.Layout&&u.push.apply(u,M(t,n,e,l.id,r))}}else u.push({layoutId:s.id,layoutItemId:a.id})}))})),u}function k(t,n,e,i,r){var a=y(t,n,e,r);if(!a)return[];switch(a.type){case o.ContainerType.Page:return v(t,a.id,i,r);case o.ContainerType.Header:return b(t,i,r);case o.ContainerType.Footer:return w(t,i,r);case o.ContainerType.View:return m(t,a.id,i,r);case o.ContainerType.Dialog:return function(t,n,e,o){return c(t,I(t.dialogs[n].layout,o,t.mainSizeMode),e,o)}(t,a.id,i,r);case o.ContainerType.ScreenMain:case o.ContainerType.ScreenPanel:return h(t,a.id,i,r)}}}}))}}}));
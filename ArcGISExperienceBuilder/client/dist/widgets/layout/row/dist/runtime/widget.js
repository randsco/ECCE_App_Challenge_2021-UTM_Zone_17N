System.register(["jimu-core","jimu-ui","jimu-layouts/layout-runtime"],(function(t){var n,e,r;return{setters:[function(t){n=t},function(t){e=t},function(t){r=t}],execute:function(){t(function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=385)}({0:function(t,e){t.exports=n},1:function(t,n){t.exports=e},20:function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return o}));var r=2,o=12},334:function(t,n){t.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M11 2v13h-1V2H6v13H5V2H1v12a1 1 0 001 1h12a1 1 0 001-1V2h-4zM2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2z"></path></svg>'},385:function(t,n,e){"use strict";e.r(n);var r,o,i,s,a,l,f,u,c=e(0),p="Row",h=e(1),d=e(5),g=e(42),y=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),m=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},v=function(){return(v=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},b=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return y(n,t),n.prototype.calHeight=function(t,n){var e,r,o,i,s,a,l,f,u,c,p,h,g;return this.props.isMultiRow?{height:n.height,alignSelf:null!==(r=null===(e=t.style)||void 0===e?void 0:e.alignSelf)&&void 0!==r?r:"flex-start"}:"ratio"===t.heightMode?{alignSelf:null!==(i=null===(o=t.style)||void 0===o?void 0:o.alignSelf)&&void 0!==i?i:"flex-start"}:(null===(s=t.autoProps)||void 0===s?void 0:s.height)===d.LayoutItemSizeModes.Auto?{height:"auto",alignSelf:null!==(l=null===(a=t.style)||void 0===a?void 0:a.alignSelf)&&void 0!==l?l:"flex-start"}:(null===(f=t.autoProps)||void 0===f?void 0:f.height)===d.LayoutItemSizeModes.Custom?{height:n.height,alignSelf:null!==(c=null===(u=t.style)||void 0===u?void 0:u.alignSelf)&&void 0!==c?c:"flex-start"}:(null===(p=t.autoProps)||void 0===p?void 0:p.height)===d.LayoutItemSizeModes.Stretch||"fit"===t.heightMode?{alignSelf:"stretch"}:parseFloat(n.height)>0?{height:n.height,alignSelf:null!==(g=null===(h=t.style)||void 0===h?void 0:h.alignSelf)&&void 0!==g?g:"flex-start"}:{alignSelf:"stretch"}},n.prototype.getStyle=function(t){var n=this.props,e=n.gutter,r=n.layoutItem,s=n.isMultiRow,a=r.bbox,l=this.calHeight(t,a);return(t.offsetX||t.offsetY)&&(l.transform="translate("+(t.offsetX||0)+"px, "+(t.offsetY||0)+"px)"),s?Object(c.css)(o||(o=m(["\n        padding: ","px 0;\n        transform: ",";\n        height: ",";\n        align-self: ",";\n      "],["\n        padding: ","px 0;\n        transform: ",";\n        height: ",";\n        align-self: ",";\n      "])),e/2,t.offsetX||t.offsetY?"translate("+(t.offsetX||0)+"px, "+(t.offsetY||0)+"px)":null,d.utils.getValueOfBBox(l,"height"),l.alignSelf):Object(c.css)(i||(i=m(["\n      padding-left: ","px;\n      padding-right: ","px;\n      transform: ",";\n      height: ",";\n      align-self: ",";\n    "],["\n      padding-left: ","px;\n      padding-right: ","px;\n      transform: ",";\n      height: ",";\n      align-self: ",";\n    "])),e/2,e/2,t.offsetX||t.offsetY?"translate("+(t.offsetX||0)+"px, "+(t.offsetY||0)+"px)":null,d.utils.getValueOfBBox(l,"height"),l.alignSelf)},n.prototype.render=function(){var t=this.props,n=t.span,e=t.offset,r=t.layoutId,o=t.layoutItem;if(!o||o.isPending)return null;var i=c.lodash.assign({},g.a,o.setting),s=Object(c.classNames)("row-layout-item","col-"+n,"offset-"+e),a=d.utils.parseAspectRatio(i.aspectRatio),l=d.utils.handleOnebyOneAnimation(this.props);return Object(c.jsx)(d.LayoutItem,v({css:this.getStyle(i),className:s,layoutId:r,layoutItemId:o.id,forceAspectRatio:"ratio"===i.heightMode,aspectRatio:a,onClick:this.props.onClick},l))},n}(c.React.PureComponent),j=e(65),O=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),x=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},w=function(t){function n(n){var e=t.call(this,n)||this;return e.flipLeftRight=d.utils.isRTL(),e}return O(n,t),n.prototype.collectBounds=function(){var t=this,n=this.props.transformedLayout,e=n.order||[];return this.childRects=[],e.forEach((function(e){var r,o,i=null===(o=null===(r=n.content)||void 0===r?void 0:r[e])||void 0===o?void 0:o.bbox;i&&t.childRects.push({layoutId:n.id,id:e,left:parseInt(i.left,10),width:parseInt(i.width,10),height:parseInt(i.height,10)})})),this.childRects.sort((function(t,n){return t.left-n.left}))},n.prototype.createItem=function(t,n,e){var r,o=this.props,i=o.layout,s=o.config,a=o.isMultiRow,l=t[n],f=s.space||0;if(0===n)r=l.left;else{var u=t[n-1];r=l.left-u.left-u.width}return Object(c.jsx)(b,{key:l.id,offset:r,gutter:f,span:l.width,isMultiRow:a,layoutId:i.id,layoutItemId:l.id,layoutItem:i.content[l.id],alignItems:e.alignItems})},n.prototype.render=function(){var t=this,n=this.props,e=n.layout,r=n.className,o=n.config;this.collectBounds();var i=this.childRects,f=o.style||{},u=o.space||0;return Object(c.jsx)(d.PageContext.Consumer,null,(function(n){return Object(c.jsx)("div",{className:Object(c.classNames)("row-layout",r,{"row-rtl":t.flipLeftRight}),css:j.a,"data-layoutid":e.id},Object(c.jsx)("div",{css:Object(c.css)(s||(s=x(["\n              width: 100%;\n              max-width: ",";\n            "],["\n              width: 100%;\n              max-width: ",";\n            "])),n.maxWidth>0?n.maxWidth+"px":"none")},Object(c.jsx)("div",{css:Object(c.css)(a||(a=x(["\n                  position: relative;\n                  height: 100%;\n                  margin-left: ","px;\n                  margin-right: ","px;\n                  display: flex;\n                  flex-direction: column;\n              "],["\n                  position: relative;\n                  height: 100%;\n                  margin-left: ","px;\n                  margin-right: ","px;\n                  display: flex;\n                  flex-direction: column;\n              "])),-u/2,-u/2)},i.length>0&&Object(c.jsx)(c.OneByOneAnimation,{className:Object(c.classNames)("row h-100 m-0",{"flex-nowrap":!t.props.isMultiRow}),css:Object(c.css)(l||(l=x(["\n                      position: relative;\n                      margin-left: ","px;\n                      margin-right: ","px;\n                      height: 100%;\n                    "],["\n                      position: relative;\n                      margin-left: ","px;\n                      margin-right: ","px;\n                      height: 100%;\n                    "])),-u/2,-u/2)},i.map((function(n,e){return t.createItem(i,e,f)}))))))}))},n}(c.React.PureComponent),S=e(20),P=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),I=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},R=function(){return(R=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},_=function(t){function n(n){var e=t.call(this,n)||this;return e.onResize=function(t,n){var r;if(e.browserSizeMode===e.mainSizeMode&&(t||n)){var o=e.props.widgetId;(null===(r=window.runtimeInfo.widgets)||void 0===r?void 0:r[o])?window.runtimeInfo.widgets[o].height=n:window.runtimeInfo.widgets[o]={height:n}}},e.debounceResizeHandler=c.lodash.debounce(e.onResize,200),e}return P(n,t),n.prototype.findExtension=function(){var t,n=c.ExtensionManager.getInstance().getExtensions(""+c.extensionSpec.ExtensionPoints.LayoutTransformer);if(n&&n.length>0){var e=n.find((function(t){return"ROW"===t.layoutType}));this.layoutTransform=null===(t=e)||void 0===t?void 0:t.transformLayout}},n.prototype.collectRowItems=function(){var t=this.props,n=t.layout,e=t.layouts;this.layoutTransform||this.findExtension();var r=n;e[this.browserSizeMode]!==n.id&&this.layoutTransform&&(r=this.layoutTransform(n,this.mainSizeMode,this.browserSizeMode)),this.finalLayout=r;var o=r.order||[],i=[],s=[],a=0;return i.push(s),o.forEach((function(t){var n=r.content[t].bbox,e=parseInt(n.left,10),o=Math.floor(e/S.b);o>a&&(s=[],a=o,i.push(s)),s.push(t)})),i},n.prototype.createRow=function(){var t=this.props,n=t.layout,e=t.config,r=t.layouts;return Object(c.jsx)(w,{layouts:r,layout:n,transformedLayout:this.finalLayout,config:e,theme:this.theme,isMultiRow:this.rows.length>1})},n.prototype.render=function(){var t=this,n=this.props,e=n.layout,r=n.className,o=n.config.style||{},i=R({},h.styleUtils.toCSSStyle(o));return Object(c.jsx)(d.PageContext.Consumer,null,(function(n){return t.browserSizeMode=n.browserSizeMode,t.mainSizeMode=n.mainSizeMode,t.theme=n.theme,t.rows=t.collectRowItems(),Object(c.jsx)("div",{className:Object(c.classNames)("layout d-flex",r),css:Object(c.css)(f||(f=I(["\n          width: 100%;\n        "],["\n          width: 100%;\n        "]))),style:i,"data-layoutid":e.id},t.createRow(),Object(c.jsx)(c.ReactResizeDetector,{handleHeight:!0,onResize:t.debounceResizeHandler}))}))},n}(c.React.PureComponent),M=c.ReactRedux.connect(d.utils.mapStateToLayoutProps)(_),z=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),L=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},C=function(){return(C=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},N=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e},T=e(334),B=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return z(n,t),n.prototype.render=function(){var t=this.props,n=t.layouts,e=t.id,r=t.intl,o=t.builderSupportModules,i=N(t,["layouts","id","intl","builderSupportModules"]),s=window.jimuConfig.isInBuilder?o.widgetModules.RowLayoutBuilder:M;if(!s)return Object(c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},"No layout component!");var a=Object.keys(n)[0];return Object(c.jsx)("div",{className:"widget-row-layout d-flex justify-content-center d-flex w-100",css:Object(c.css)(u||(u=L(["height: 100%;"],["height: 100%;"])))},Object(c.jsx)(s,C({layouts:n[a],widgetId:e,config:this.props.config},i),Object(c.jsx)(h.WidgetPlaceholder,{icon:T,widgetId:e,style:{border:"none",pointerEvents:"none"},message:r.formatMessage({id:"tips",defaultMessage:p})})))},n}(c.React.PureComponent);n.default=B},42:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"a",(function(){return s}));var r=e(0),o=e(1),i=Object(r.Immutable)({space:20,style:{padding:{number:[10],unit:o.UnitTypes.PIXEL}}}),s={heightMode:"fixed",aspectRatio:1,offsetX:0,offsetY:0,style:{alignSelf:"flex-start"}}},5:function(t,n){t.exports=r},65:function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return l}));var r,o=e(0),i=e(20),s=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},a=Object(o.css)(r||(r=s(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n\n  .offset-1 {\n    margin-left: 8.33333%;\n    margin-right: 0;\n  }\n  .offset-2 {\n    margin-left: 16.66667%;\n    margin-right: 0;\n  }\n  .offset-3 {\n    margin-left: 25%;\n    margin-right: 0;\n  }\n  .offset-4 {\n    margin-left: 33.33333%;\n    margin-right: 0;\n  }\n  .offset-5 {\n    margin-left: 41.66667%;\n    margin-right: 0;\n  }\n  .offset-6 {\n    margin-left: 50%;\n    margin-right: 0;\n  }\n  .offset-7 {\n    margin-left: 58.33333%;\n    margin-right: 0;\n  }\n  .offset-8 {\n    margin-left: 66.66667%;\n    margin-right: 0;\n  }\n  .offset-9 {\n    margin-left: 75%;\n    margin-right: 0;\n  }\n  .offset-10 {\n    margin-left: 83.33333%;\n    margin-right: 0;\n  }\n  .offset-11 {\n    margin-left: 91.66667%;\n    margin-right: 0;\n  }\n"],["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n\n  .offset-1 {\n    margin-left: 8.33333%;\n    margin-right: 0;\n  }\n  .offset-2 {\n    margin-left: 16.66667%;\n    margin-right: 0;\n  }\n  .offset-3 {\n    margin-left: 25%;\n    margin-right: 0;\n  }\n  .offset-4 {\n    margin-left: 33.33333%;\n    margin-right: 0;\n  }\n  .offset-5 {\n    margin-left: 41.66667%;\n    margin-right: 0;\n  }\n  .offset-6 {\n    margin-left: 50%;\n    margin-right: 0;\n  }\n  .offset-7 {\n    margin-left: 58.33333%;\n    margin-right: 0;\n  }\n  .offset-8 {\n    margin-left: 66.66667%;\n    margin-right: 0;\n  }\n  .offset-9 {\n    margin-left: 75%;\n    margin-right: 0;\n  }\n  .offset-10 {\n    margin-left: 83.33333%;\n    margin-right: 0;\n  }\n  .offset-11 {\n    margin-left: 91.66667%;\n    margin-right: 0;\n  }\n"])));function l(t){return Object(o.Immutable)(t).set("left",i.b-parseInt(t.left,10)-parseInt(t.width,10))}}}))}}}));
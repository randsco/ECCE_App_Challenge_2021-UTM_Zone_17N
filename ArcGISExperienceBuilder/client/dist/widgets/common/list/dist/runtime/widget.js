System.register(["jimu-core","jimu-ui","jimu-layouts/layout-runtime","jimu-core/react","jimu-ui/basic/sql-expression-runtime"],(function(e){var t,n,o,i,r;return{setters:[function(e){t=e},function(e){n=e},function(e){o=e},function(e){i=e},function(e){r=e}],execute:function(){e(function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=369)}({0:function(e,n){e.exports=t},1:function(e,t){e.exports=n},101:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M3.88 12.14c.16.185.16.486 0 .671l-1.64 1.91a.738.738 0 01-1.155 0L.12 13.599a.532.532 0 010-.672.369.369 0 01.577 0l.965 1.124 1.641-1.91a.369.369 0 01.577 0zM15.5 13a.5.5 0 110 1h-9a.5.5 0 110-1h9zM3.88 6.14c.16.185.16.486 0 .671l-1.64 1.91a.738.738 0 01-1.155 0L.12 7.599a.532.532 0 010-.672.369.369 0 01.577 0l.965 1.124 1.641-1.91a.369.369 0 01.577 0zM15.5 7a.5.5 0 110 1h-9a.5.5 0 010-1h9zM3.88.14c.16.185.16.486 0 .671l-1.64 1.91a.738.738 0 01-1.155 0L.12 1.599a.532.532 0 010-.672.369.369 0 01.577 0l.965 1.124L3.303.14a.369.369 0 01.577 0zM15.5 1a.5.5 0 110 1h-9a.5.5 0 010-1h9z" fill="#000" fill-rule="evenodd"></path></svg>'},16:function(e,t){e.exports=i},235:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14 8a.522.522 0 01-.516.527H3.976L7.473 12.1a.535.535 0 010 .746.508.508 0 01-.73 0L2 8l4.743-4.846a.508.508 0 01.73 0 .535.535 0 010 .746L3.976 7.473h9.508c.285 0 .516.236.516.527z" fill="#000" fill-rule="nonzero"></path></svg>'},236:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M6.3 9a.7.7 0 01.7.7v5.6a.7.7 0 01-.7.7H.7a.7.7 0 01-.7-.7V9.7A.7.7 0 01.7 9h5.6zm9 0a.7.7 0 01.7.7v5.6a.7.7 0 01-.7.7H9.7a.7.7 0 01-.7-.7V9.7a.7.7 0 01.7-.7h5.6zM6 10H1v5h5v-5zm9 0h-5v5h5v-5zM6.3 0a.7.7 0 01.7.7v5.6a.7.7 0 01-.7.7H.7a.7.7 0 01-.7-.7V.7A.7.7 0 01.7 0h5.6zm3.616.157L12.5 2.741 15.084.157a.537.537 0 11.759.76L13.259 3.5l2.584 2.584a.537.537 0 11-.76.759L12.5 4.259 9.916 6.843a.537.537 0 11-.759-.76L11.741 3.5 9.157.916a.537.537 0 11.76-.759zM6 1H1v5h5V1z" fill="#C5C5C5" fill-rule="nonzero"></path></svg>'},237:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M15.5 12a.5.5 0 110 1H.5a.5.5 0 110-1h15zm0-5a.5.5 0 110 1H.5a.5.5 0 010-1h15zm0-5a.5.5 0 110 1H.5a.5.5 0 010-1h15z" fill="#076FE5" fill-rule="nonzero"></path></svg>'},238:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 3a1 1 0 100-2 1 1 0 000 2zm0 1a2 2 0 110-4 2 2 0 010 4zm5-3a1 1 0 000 2h7a1 1 0 000-2H7zm0-1h7a2 2 0 110 4H7a2 2 0 110-4zm0 7a1 1 0 000 2h7a1 1 0 000-2H7zm0-1h7a2 2 0 110 4H7a2 2 0 110-4zm0 7a1 1 0 000 2h7a1 1 0 000-2H7zm0-1h7a2 2 0 110 4H7a2 2 0 110-4zM2 9a1 1 0 100-2 1 1 0 000 2zm0 1a2 2 0 110-4 2 2 0 010 4zm0 5a1 1 0 100-2 1 1 0 000 2zm0 1a2 2 0 110-4 2 2 0 010 4z" fill="#FFF" fill-rule="nonzero"></path></svg>'},3:function(e,t,n){"use strict";n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return S})),n.d(t,"j",(function(){return b})),n.d(t,"l",(function(){return o})),n.d(t,"k",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"m",(function(){return u}));var o,i,r,s,a,l,c,d,u,p=0,h=20,g=42,f=40,m=0,v=14,S=14,b=175;!function(e){e.None="NONE",e.Single="SINGLE",e.Multiple="MULTIPLE"}(o||(o={})),function(e){e.Scroll="SCROLL",e.MultiPage="MULTIPAGE"}(i||(i={})),function(e){e.Start="FLEX-START",e.Center="CENTER",e.End="FLEX-END"}(r||(r={})),function(e){e.Horizon="HORIZON",e.Vertical="VERTICAL"}(s||(s={})),function(e){e.Glide="GLIDE",e.Fade="FADE",e.Float="FLOAT"}(a||(a={})),function(e){e.Hover0="HOVER0",e.Hover1="HOVER1",e.Hover2="HOVER2",e.Hover3="HOVER3"}(l||(l={})),function(e){e.Style0="STYLE0",e.Style1="STYLE1",e.Style2="STYLE2",e.Style3="STYLE3"}(c||(c={})),function(e){e.Style0="STYLE0",e.Style1="STYLE1",e.Style2="STYLE2",e.Style3="STYLE3",e.Style4="STYLE4",e.Style5="STYLE5",e.Style6="STYLE6",e.Style7="STYLE7"}(d||(d={})),function(e){e.Regular="REGULAR",e.Selected="SELECTED",e.Hover="HOVER"}(u||(u={}))},369:function(e,t,n){"use strict";n.r(t),n.d(t,"Widget",(function(){return nt}));var o,i,r,s,a,l,c,d,u,p,h,g,f,m=n(0),v=n(1),S=n(3),b=n(5),w=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getNewProviderData=function(){var e=t.props;return{widgetId:e.widgetId,dataSourceId:e.datasourceId,recordIndex:e.index,record:e.record}},t.shouldComponentUpdateExcept=function(e,n,o,i){void 0===i&&(i=[]);var r=!1;return t.props&&Object.keys(t.props).some((function(n){return!(o.indexOf(n)>-1)&&(t.props[n]!==e[n]?(r=!0,!0):void 0)})),t.state&&Object.keys(t.state).some((function(e){return!(i.indexOf(e)>-1)&&(t.state[e]!==n[e]?(r=!0,!0):void 0)})),r},t.isProviderEqual=function(e,t){var n=!0;if(e)Object.keys(e).some((function(o){return t?e[o]!==t[o]?(n=!1,!0):void 0:(n=!1,!0)}));else if(t)return!1;return n},t.formatMessage=function(e,n){return t.props.formatMessage(e,n)},t.getStyle=function(){var e=t.props,n=e.widgetId,o=e.selectable,r=e.appMode;return Object(m.css)(i||(i=y(["\n    "," {\n      padding: 0;\n      border: 0;\n      background-color: transparent;\n      .list-card-content {\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n      }\n    }\n    &.surface-1{\n      border: none !important;\n    }\n    .list-clear-background {\n      background: transparent;\n    }\n    ",":hover {\n      ","\n    }\n    "],["\n    "," {\n      padding: 0;\n      border: 0;\n      background-color: transparent;\n      .list-card-content {\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n      }\n    }\n    &.surface-1{\n      border: none !important;\n    }\n    .list-clear-background {\n      background: transparent;\n    }\n    ",":hover {\n      ","\n    }\n    "])),"&.list-card-"+n,"&.list-card-"+n,window.jimuConfig.isInBuilder&&r!==m.AppMode.Run||!o?"":"cursor: pointer;")},t}return w(t,e),t}(m.React.Component),I=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),C=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},O=function(){return(O=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},j=n(88),R=n(89),M=[0,5],T=[{name:"flip",options:{boundary:document.body,fallbackPlacements:["right-start","bottom-start","top-end"]}}],z=[{name:"offset",options:{offset:[0,10]}},{name:"arrow",enabled:!0}],L=function(e){function t(t){var n=e.call(this,t)||this;return n.lastResizeCall=null,n.handleItemClick=function(e){var t=n.props.selectCard;e&&e.stopPropagation(),t()},n.handleCopyTo=function(e,t,o,i){if(o){var r=n.props,s=r.layouts,a=r.builderSupportModules,l=r.browserSizeMode,c=r.builderStatus,d=a.jimuForBuilderLib.getAppConfigAction(),u=d.appConfig,p=b.searchUtils.findLayoutId(s[c],l,u.mainSizeMode),h=b.searchUtils.findLayoutId(s[t],l,u.mainSizeMode);if(i){var g=a.widgetModules.searchUtils.getContainerLayoutItem(u.layouts[h],o.widgetId,m.LayoutItemType.Widget);g&&d.removeLayoutItem({layoutId:h,layoutItemId:g.id},!1)}d.duplicateLayoutItem(p,h,o.id,!1,i),d.exec(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},n.editStatus=function(e,t){var o=n.props,i=o.dispatch,r=o.widgetId;i(m.appActions.widgetStatePropChange(r,e,t))},n.handleBreakLink=function(e){var t=n.props,o=t.layouts,i=t.builderSupportModules,r=t.browserSizeMode,s=t.selection,a=t.builderStatus,l=t.dispatch,c=i.jimuForBuilderLib.getAppConfigAction(),d=c.appConfig,u=b.searchUtils.findLayoutItem(d,s);if(u){var p=b.searchUtils.findLayoutId(o[a],r,d.mainSizeMode);c.duplicateLayoutItem(p,p,u.id,!0),c.removeLayoutItem({layoutId:p,layoutItemId:u.id},!1),c.exec(),s.layoutId===p&&s.layoutItemId===u.id&&l(m.appActions.selectionChanged(null));var h=c.appConfig.layouts[p].content,g=Object.keys(h)[Object.keys(h).length-1];if(g){var f=h[g];l(m.appActions.selectionChanged({layoutId:p,layoutItemId:f.id}))}e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},n.getCopyDropdownItems=function(e){var t=n.props,o=t.cardConfigs,i=t.layouts,r=t.browserSizeMode,s=t.selection,a=t.builderStatus,l=t.builderSupportModules,c=l.jimuForBuilderLib.getAppConfigAction().appConfig,d=b.searchUtils.findLayoutItem(c,s);if(!s||!d||!window.jimuConfig.isInBuilder)return{items:Object(m.Immutable)([]),title:""};var u=[],p="",h=!0,g=o[S.m.Selected].selectionMode!==S.l.None,f=!!o[S.m.Hover].enable,v=function(e,t){return l.widgetModules.searchUtils.getContentsInLayoutWithLayoutWidgetOnly(c,e,m.LayoutItemType.Widget,r).indexOf(t)>-1},w=function(){if(o[S.m.Hover].enable){var e=b.searchUtils.findLayoutId(i[S.m.Hover],r,c.mainSizeMode);v(e,c.layouts[s.layoutId].content[s.layoutItemId].widgetId)||(f=!1),u.push({label:n.formatMessage("applyTo",{status:n.formatMessage("hover").toLocaleLowerCase()}),event:function(e){n.handleCopyTo(e,S.m.Hover,d,f)}})}},y=function(){if(o[S.m.Selected].selectionMode!==S.l.None){var e=b.searchUtils.findLayoutId(i[S.m.Selected],r,c.mainSizeMode);v(e,c.layouts[s.layoutId].content[s.layoutItemId].widgetId)||(g=!1),u.push({label:n.formatMessage("applyTo",{status:n.formatMessage("selected").toLocaleLowerCase()}),event:function(e){n.handleCopyTo(e,S.m.Selected,d,g)}})}},x=function(){var e=b.searchUtils.findLayoutId(i[S.m.Regular],r,c.mainSizeMode);v(e,c.layouts[s.layoutId].content[s.layoutItemId].widgetId)||(h=!1),u.push({label:n.formatMessage("applyTo",{status:n.formatMessage("regular").toLocaleLowerCase()}),event:function(e){n.handleCopyTo(e,S.m.Regular,d,h)}})};return a===S.m.Regular?(w(),y(),f&&g?p=n.formatMessage("linkedToAnd",{where1:n.formatMessage("selected").toLocaleLowerCase(),where2:n.formatMessage("hover").toLocaleLowerCase()}):f?p=n.formatMessage("linkedTo",{where:n.formatMessage("hover").toLocaleLowerCase()}):g&&(p=n.formatMessage("linkedTo",{where:n.formatMessage("selected").toLocaleLowerCase()}))):a===S.m.Hover?(x(),y(),h&&g?p=n.formatMessage("linkedToAnd",{where1:n.formatMessage("regular").toLocaleLowerCase(),where2:n.formatMessage("selected").toLocaleLowerCase()}):h?p=n.formatMessage("linkedTo",{where:n.formatMessage("regular").toLocaleLowerCase()}):g&&(p=n.formatMessage("linkedTo",{where:n.formatMessage("selected").toLocaleLowerCase()}))):(x(),w(),h&&f?p=n.formatMessage("linkedToAnd",{where1:n.formatMessage("regular").toLocaleLowerCase(),where2:n.formatMessage("hover").toLocaleLowerCase()}):h?p=n.formatMessage("linkedTo",{where:n.formatMessage("regular").toLocaleLowerCase()}):f&&(p=n.formatMessage("linkedTo",{where:n.formatMessage("hover").toLocaleLowerCase()}))),e?u.push({label:n.formatMessage("isolate"),event:n.handleBreakLink}):p=n.formatMessage("isolate"),{items:Object(m.Immutable)(u),title:p}},n._renderAction=function(){var e=[],t=n.props,o=t.theme,i=t.direction,u=Object(m.css)(r||(r=C(['\n      box-shadow: none;\n\n      &:after {\n        position: absolute;\n        content: "";\n        width: ',"px;\n        height: ","px;\n        background-color: ",";\n        border: 2px solid ",";\n        border-radius: 50%;\n        z-index: ",";\n      }\n    "],['\n      box-shadow: none;\n\n      &:after {\n        position: absolute;\n        content: "";\n        width: ',"px;\n        height: ","px;\n        background-color: ",";\n        border: 2px solid ",";\n        border-radius: 50%;\n        z-index: ",";\n      }\n    "])),12,12,o.colors.palette.primary[500],o.colors.white,20),p=Object(m.css)(s||(s=C(["\n      box-shadow: none;\n      height: ","px;\n      left: 0px;\n      right: 0px;\n      bottom: ",'px;\n      &:after {\n        position: absolute;\n        content: "";\n        bottom: 50%;\n        left: 0;\n        right: 0;\n        height: 2px;\n        background-color: ',";\n        z-index: ",";\n      }\n    "],["\n      box-shadow: none;\n      height: ","px;\n      left: 0px;\n      right: 0px;\n      bottom: ",'px;\n      &:after {\n        position: absolute;\n        content: "";\n        bottom: 50%;\n        left: 0;\n        right: 0;\n        height: 2px;\n        background-color: ',";\n        z-index: ",";\n      }\n    "])),16,-8,o.colors.palette.primary[300],20),h=Object(m.css)(a||(a=C(["\n      box-shadow: none;\n      width: ","px;\n      top: 0px;\n      bottom: 0px;\n      right: ",'px;\n      &:after {\n        position: absolute;\n        content: "";\n        right: 50%;\n        top: 0;\n        bottom: 0;\n        width: 2px;\n        background-color: ',";\n        z-index: ",";\n      }\n    "],["\n      box-shadow: none;\n      width: ","px;\n      top: 0px;\n      bottom: 0px;\n      right: ",'px;\n      &:after {\n        position: absolute;\n        content: "";\n        right: 50%;\n        top: 0;\n        bottom: 0;\n        width: 2px;\n        background-color: ',";\n        z-index: ",";\n      }\n    "])),16,-8,o.colors.palette.primary[300],20),g=Object(m.css)(l||(l=C(["\n      position: absolute;\n    "],["\n      position: absolute;\n    "]))),f=Object(m.css)(c||(c=C(["\n      width: ","px;\n      top: ","px;\n      bottom: ","px;\n      right: ","px;\n\n      &:after {\n        top: 50%;\n        right: 50%;\n        margin-top: ","px;\n        margin-right: ","px;\n      }\n    "],["\n      width: ","px;\n      top: ","px;\n      bottom: ","px;\n      right: ","px;\n\n      &:after {\n        top: 50%;\n        right: 50%;\n        margin-top: ","px;\n        margin-right: ","px;\n      }\n    "])),16,10,10,-8,-5,-5),v=Object(m.css)(d||(d=C(["\n      height: ","px;\n      left: ","px;\n      right: ","px;\n      bottom: ","px;\n\n      &:after {\n        left: 50%;\n        bottom: 50%;\n        margin-left: ","px;\n        margin-bottom: ","px;\n      }\n    "],["\n      height: ","px;\n      left: ","px;\n      right: ","px;\n      bottom: ","px;\n\n      &:after {\n        left: 50%;\n        bottom: 50%;\n        margin-left: ","px;\n        margin-bottom: ","px;\n      }\n    "])),16,10,10,-8,-5,-5);return i===S.f.Horizon?(e.push(Object(m.jsx)("span",{key:"10",className:"list-card-rnd-resize-left-line",css:[g,h]})),e.push(Object(m.jsx)("span",{key:"4",className:"list-card-rnd-resize-right",css:[g,u,f]}))):(e.push(Object(m.jsx)("span",{key:"9",className:"list-card-rnd-resize-bottom-line",css:[g,p]})),e.push(Object(m.jsx)("span",{key:"6",className:"list-card-rnd-resize-bottom",css:[g,u,v]}))),e},n.getCardToolsStyle=function(e){return Object(m.css)(u||(u=C(["\n        width: 100%;\n        .btn {\n          width: 100%;\n        }\n        .dropdown-toggle {\n          justify-content: center;\n        }\n        "],["\n        width: 100%;\n        .btn {\n          width: 100%;\n        }\n        .dropdown-toggle {\n          justify-content: center;\n        }\n        "])))},n.renderCardTools=function(){var e=n.props.index;if(window.jimuConfig.isInBuilder&&!(e>0)){var t=n.props,o=t.cardConfigs,i=t.selection,r=t.widgetId,s=t.appMode,a=t.builderSupportModules,l=t.datasourceId,c=t.browserSizeMode,d=t.builderStatus,u=t.selectionIsInList,h=t.selectionIsList,g=t.hideCardTool,f=a.jimuForBuilderLib.getAppConfigAction().appConfig,b=!0,w=a.widgetModules,y=w.searchUtils,x=w.BuilderDropDown,I=w.BuilderPopper,O=w.GLOBAL_RESIZING_CLASS_NAME,L=w.GLOBAL_H5_DRAGGING_CLASS_NAME,k=w.GLOBAL_DRAGGING_CLASS_NAME,D=w.BuilderButton,P=w.withBuilderTheme,_=h;(u||_)&&s!==m.AppMode.Run&&!g&&l||(b=!1);var A=!_&&i&&y&&y.getRelatedLayoutItemsInWidgetByLayoutInfo(f,i,r,c).length>1,E=n.getCopyDropdownItems(A),B=E.items,N=E.title,H=B&&B.length>0,F=P((function(e){return Object(m.jsx)("div",{className:"status-group d-flex flex-column align-items-center p-2",css:n.getCardToolsStyle(e)},Object(m.jsx)(D,{active:d===S.m.Regular,onClick:function(e){return n.handleBuilderStatusChange(e,S.m.Regular)}},n.formatMessage("regular")),o[S.m.Hover].enable&&Object(m.jsx)(D,{active:d===S.m.Hover,className:"mt-1",onClick:function(e){return n.handleBuilderStatusChange(e,S.m.Hover)}},n.formatMessage("hover")),o[S.m.Selected].selectionMode!==S.l.None&&Object(m.jsx)(D,{active:d===S.m.Selected,className:"mt-1",onClick:function(e){return n.handleBuilderStatusChange(e,S.m.Selected)}},n.formatMessage("selected")),!_&&(H||A)&&Object(m.jsx)(x,{className:"mt-1 w-100",toggleIsIcon:!0,toggleTitle:N,toggleType:"default",direction:"left",toggleContent:function(e){return Object(m.jsx)(v.Icon,{icon:A?R:j,size:16})},modifiers:z,items:B}))}));return b&&n.props.isEditing&&(o[S.m.Hover].enable||o[S.m.Selected].selectionMode!==S.l.None)&&Object(m.jsx)(I,{placement:"left-start",css:Object(m.css)(p||(p=C(["\n          ."," &,\n          ."," &,\n          ."," & {\n            &.popper{\n              display: none;\n            }\n          }\n        "],["\n          ."," &,\n          ."," &,\n          ."," & {\n            &.popper{\n              display: none;\n            }\n          }\n        "])),k,O,L),reference:n.resizeRef.current,offset:M,modifiers:T,open:b},F())}},n.isItemAccept=function(e,t){var o,i;if(!e)return!1;var r=n.props.isEditing,s=null===(i=null===(o=e.manifest)||void 0===o?void 0:o.properties)||void 0===i?void 0:i.supportRepeat,a=n.props,l=a.builderSupportModules,c=a.widgetId,d=l.jimuForBuilderLib.getAppConfigAction().appConfig,u=l.widgetModules.selectionInList;return r&&s&&(!e.layoutInfo||e.layoutInfo&&u(e.layoutInfo,c,d,!1))},n.getEditorStyle=function(){return Object(m.css)(h||(h=C(["\n      &.list-card-content {\n        .fixed-layout {\n          border: 0 !important;\n        }\n      }\n    "],["\n      &.list-card-content {\n        .fixed-layout {\n          border: 0 !important;\n        }\n      }\n    "])))},n.state={didMount:!1},n.resizeRef=m.React.createRef(),n.providerData=n.getNewProviderData(),n}return I(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=this.shouldComponentUpdateExcept(e,t,["listStyle","selection"]);if(!(n=n||!m.utils.isDeepEqual(this.props.listStyle,e.listStyle))){var o=this.props,i=o.selectionIsInList;(o.selectionIsList||i)&&(n=!m.utils.isDeepEqual(this.props.selection,e.selection))}return n},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.selectionIsInList,o=t.isEditing,i=t.direction,r=t.isRTL,s=t.lockItemRatio,a=t.index;window.jimuConfig.isInBuilder&&0===a&&this.interactable&&(!o||n||s?this.interactable.resizable(!1):(this.interactable.resizable({edges:{top:!1,left:i===S.f.Horizon&&r,bottom:i===S.f.Vertical,right:i===S.f.Horizon&&!r}}),this.interactable.resizable(!0)))},t.prototype.componentDidMount=function(){var e=this;if(0===this.props.index&&window.jimuConfig.isInBuilder&&this.resizeRef.current){var t=this.props,n=t.interact,o=t.handleResizeCard,i=t.direction,r=t.isRTL;this.interactable=n(this.resizeRef.current).resizable({edges:{top:!1,left:i===S.f.Horizon&&r,bottom:i===S.f.Vertical,right:i===S.f.Horizon&&!r},modifiers:[n.modifiers.restrictEdges({outer:"parent",endOnly:!0}),n.modifiers.restrictSize({min:{width:S.h,height:S.h}})],inertia:!1,onstart:function(t){var n=e.props.changeIsResizingCard;n&&n(!0),t.stopPropagation()},onmove:function(t){t.stopPropagation(),e.lastResizeCall&&cancelAnimationFrame(e.lastResizeCall);var n=t.rect,i={width:n.right-n.left,height:n.bottom-n.top};e.lastResizeCall=requestAnimationFrame((function(){var e={};o(i,!1,e.top,e.left)}))},onend:function(t){t.stopPropagation(),e.lastResizeCall&&cancelAnimationFrame(e.lastResizeCall),e.lastResizeCall=requestAnimationFrame((function(){var n=t.rect,i={width:n.right-n.left,height:n.bottom-n.top};o(i,!0);var r=e.props.changeIsResizingCard;r&&r(!1)}))}})}this.setState({didMount:!0})},t.prototype.componentWillUnMount=function(){this.lastResizeCall&&cancelAnimationFrame(this.lastResizeCall),this.interactable&&(this.interactable.unset(),this.interactable=null)},t.prototype.handleBuilderStatusChange=function(e,t){this.editStatus("showCardSetting",t),this.editStatus("builderStatus",t),(0,this.props.selectCard)(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},t.prototype.render=function(){var e=this.props,t=e.selectable,n=e.active,o=e.cardConfigs,i=e.LayoutEntry,r=e.selectionIsInList,s=e.isEditing,a=e.widgetId,l=e.listStyle,c=e.lockItemRatio,d=e.builderStatus,u=e.layouts,p=this.state.didMount,h=u[d],g=o[d].backgroundStyle,f=O({},v.styleUtils.toCSSStyle(g||{})),S=O({},v.styleUtils.toCSSStyle({borderRadius:(null==g?void 0:g.borderRadius)||0}||{})),b=this.getNewProviderData();return this.isProviderEqual(b,this.providerData)||(this.providerData=b),Object(m.jsx)(m.RepeatedDataSourceProvider,{data:this.providerData},Object(m.jsx)(v.ListGroupItem,{active:t&&n,css:this.getStyle(),style:O(O({},S),l),className:Object(m.classNames)("surface-1","list-card-"+a),onClick:this.handleItemClick},p&&this.renderCardTools(),Object(m.jsx)("div",{className:"list-card-content d-flex",style:f,css:this.getEditorStyle(),ref:this.resizeRef},Object(m.jsx)(i,{isItemAccepted:this.isItemAccept,isRepeat:!0,layouts:h,isInWidget:!0}),s&&!r&&!c&&this._renderAction())))},t}(x),k=m.ReactRedux.connect((function(e,t){var n,o=t.selectionIsList,i=t.builderSupportModules,r=t.appMode,s=t.widgetId,a=t.browserSizeMode;if(!window.jimuConfig.isInBuilder||r===m.AppMode.Run)return{selection:void 0,showBreak:!1};var l=null===(n=null==i?void 0:i.widgetModules)||void 0===n?void 0:n.searchUtils,c=i.jimuForBuilderLib.getAppConfigAction().appConfig,d=0===t.index&&t.selectionIsInList&&e&&e.appRuntimeInfo&&e.appRuntimeInfo.selection;return{selection:d,showBreak:!o&&d&&l&&l.getRelatedLayoutItemsInWidgetByLayoutInfo(c,d,s,a).length>1}}))(L),D=n(16),P=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_=function(){return(_=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},A=function(e){function t(t){var n=e.call(this,t)||this;return n.updateExpressionRecords=function(){var e,t;n.expressionRecords={},(null===(e=n.providerData)||void 0===e?void 0:e.dataSourceId)&&(null===(t=n.providerData)||void 0===t?void 0:t.record)&&(n.expressionRecords[n.providerData.dataSourceId]=n.providerData.record)},n.onUrlExpResolveChange=function(e){if(e.isSuccessful)n.setState({url:e.value});else{e.value;m.ExpressionResolverErrorCode.Failed,n.setState({url:""})}},n.handleItemClick=function(e){var t=n.props,o=t.onChange,i=t.active,r=n,s=r.providerData,a=r.linkRef,l=e.target&&e.target.tagName||"";if("a"===l.toLowerCase()||"button"===l.toLowerCase()||"linkClick"===e.exbEventType||i||a.current&&a.current.click(),i){var c=e.target&&e.target.tagName||"";"a"!==c.toLowerCase()&&"button"!==c.toLowerCase()&&"linkClick"!==e.exbEventType&&o(s&&s.record)}else o(s&&s.record);"linkClick"===e.exbEventType&&delete e.exbEventType},n.handleLinkClick=function(e){e.stopPropagation()},n.state={url:""},n.providerData=n.getNewProviderData(),n.updateExpressionRecords(),n.layoutRef=m.React.createRef(),n.linkRef=m.React.createRef(),n}return P(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=this.shouldComponentUpdateExcept(e,t,["listStyle"]);return n=n||!m.utils.isDeepEqual(this.props.listStyle,e.listStyle)},t.prototype.render=function(){var e,t,n=this.props,o=n.selectable,i=n.active,r=n.cardConfigs,s=n.widgetId,a=n.listStyle,l=n.layouts,c=n.hoverLayoutOpen,d=n.appMode,u=n.isHover,p=n.linkParam,h=n.useDataSources,g=this.props.queryObject,f=this.state.url,w=void 0,y=void 0;window.jimuConfig.isInBuilder&&d!==m.AppMode.Run?(y=r[S.m.Regular].backgroundStyle,w=l[S.m.Regular]):(w=l[S.m.Regular],y=r[S.m.Regular].backgroundStyle,p&&p.linkType&&(e=p.openType,t={linkType:p.linkType},p.linkType===m.LinkType.WebAddress?(t.value=f,g=void 0):t.value=p.value),c&&u&&l[S.m.Hover]&&(w=l[S.m.Hover],y=r[S.m.Hover].backgroundStyle),o&&i&&l[S.m.Selected]&&(w=l[S.m.Selected],y=r[S.m.Selected].backgroundStyle,g=void 0,t=void 0,e=void 0));var x=_({},v.styleUtils.toCSSStyle(y||{})),I=_({},v.styleUtils.toCSSStyle({borderRadius:(null==y?void 0:y.borderRadius)||0}||{})),C=this.getNewProviderData();return this.isProviderEqual(C,this.providerData)||(this.providerData=C,this.updateExpressionRecords()),Object(m.jsx)(m.RepeatedDataSourceProvider,{data:this.providerData},Object(m.jsx)(v.ListGroupItem,{active:o&&i,css:this.getStyle(),style:_(_({},a),I),className:Object(m.classNames)("surface-1","list-card-"+s),onClick:this.handleItemClick},Object(m.jsx)("div",{className:"list-card-content d-flex",style:x},Object(m.jsx)("div",{className:"position-relative h-100 w-100"},Object(m.jsx)(D.Fragment,null,Object(m.jsx)(v._Link,{className:"p-0 w-100 h-100 position-absolute border-0 list-clear-background",ref:this.linkRef,to:t,onClick:this.handleLinkClick,target:e,queryObject:g}),Object(m.jsx)("div",{className:"d-flex w-100 h-100",ref:this.layoutRef},Object(m.jsx)(b.FixedLayoutViewer,{layouts:w}))))),Object(m.jsx)(m.ExpressionResolverComponent,{useDataSources:h,expression:null==p?void 0:p.expression,onChange:this.onUrlExpResolveChange,widgetId:this.props.widgetId})))},t}(x),E=n(75),B=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),N=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},H=new(0,m.esri.Sanitizer),F=function(e){function t(t){var n=e.call(this,t)||this;return n.handleChange=function(e){n.setState({searchText:e,isShowSuggestion:!0},(function(){var t=n.props.onSearchTextChange;t&&t(e)}))},n.handleSubmit=function(e,t){void 0===t&&(t=!1);var o=n.props.onSubmit;o&&o(e,t)},n.onKeyUp=function(e){e&&e.target&&13===e.keyCode&&(n.setState({isShowSuggestion:!1}),n.handleSubmit(e.target.value,!0))},n.onSuggestionConfirm=function(e){n.setState({searchText:e,isShowSuggestion:!1},(function(){var t;n.handleSubmit(e),null===(t=n.props)||void 0===t||t.toggleSearchBoxVisible(!0)}))},n.handleClear=function(e){n.setState({searchText:""}),e.stopPropagation()},n.getStyle=function(){var e,t,o,i,r,s,a,l,c,d=n.props.theme;return Object(m.css)(g||(g=N(["\n      position: relative;\n      .search-input {\n        cursor: pointer;\n        padding-left: 3px;\n        border: 0;\n        // border-bottom-width: 1px;\n        // border-bottom-style: solid;\n        // border-color: ",";\n        background: transparent;\n        height: ",";\n        min-width: 0;\n      }\n      .search-input:focus {\n        background: transparent;\n      }\n      .search-loading-con {\n        @keyframes loading {\n          0% {transform: rotate(0deg); };\n          100% {transform: rotate(360deg)};\n        }\n        width: ",";\n        height: ",";\n        min-width: ",";\n        border: 2px solid ",";\n        border-radius: 50%;\n        border-top: 2px solid ",";\n        box-sizing: border-box;\n        animation:loading 2s infinite linear;\n        margin-right: ",";\n      }\n      .clear-search, .search-back {\n        cursor: pointer;\n        padding: ",";\n        background: none;\n        border: none;\n        color: ","\n      }\n      .search-back {\n        margin-left: ",";\n      }\n      .clear-search:hover {\n        background: none;\n      }\n    "],["\n      position: relative;\n      .search-input {\n        cursor: pointer;\n        padding-left: 3px;\n        border: 0;\n        // border-bottom-width: 1px;\n        // border-bottom-style: solid;\n        // border-color: ",";\n        background: transparent;\n        height: ",";\n        min-width: 0;\n      }\n      .search-input:focus {\n        background: transparent;\n      }\n      .search-loading-con {\n        @keyframes loading {\n          0% {transform: rotate(0deg); };\n          100% {transform: rotate(360deg)};\n        }\n        width: ",";\n        height: ",";\n        min-width: ",";\n        border: 2px solid ",";\n        border-radius: 50%;\n        border-top: 2px solid ",";\n        box-sizing: border-box;\n        animation:loading 2s infinite linear;\n        margin-right: ",";\n      }\n      .clear-search, .search-back {\n        cursor: pointer;\n        padding: ",";\n        background: none;\n        border: none;\n        color: ","\n      }\n      .search-back {\n        margin-left: ",";\n      }\n      .clear-search:hover {\n        background: none;\n      }\n    "])),d.colors.primary,m.polished.rem(26),m.polished.rem(13),m.polished.rem(13),m.polished.rem(13),null===(o=null===(t=null===(e=null==d?void 0:d.colors)||void 0===e?void 0:e.palette)||void 0===t?void 0:t.secondary)||void 0===o?void 0:o[300],null===(s=null===(r=null===(i=null==d?void 0:d.colors)||void 0===i?void 0:i.palette)||void 0===r?void 0:r.primary)||void 0===s?void 0:s[500],m.polished.rem(4),m.polished.rem(6),null===(c=null===(l=null===(a=null==d?void 0:d.colors)||void 0===a?void 0:a.palette)||void 0===l?void 0:l.dark)||void 0===c?void 0:c[800],m.polished.rem(-6))},n.getSuggestionListStyle=function(){var e=n.props.suggestionWidth;return Object(m.css)(f||(f=N(["\n      & {\n        max-height: ",";\n        min-width: ",";\n        overflow: auto;\n      }\n      button {\n        display: block;\n        width: 100%;\n        text-align: left;\n        border: none;\n        border-radius: 0;\n      }\n      button:hover {\n        border: none;\n      }\n    "],["\n      & {\n        max-height: ",";\n        min-width: ",";\n        overflow: auto;\n      }\n      button {\n        display: block;\n        width: 100%;\n        text-align: left;\n        border: none;\n        border-radius: 0;\n      }\n      button:hover {\n        border: none;\n      }\n    "])),m.polished.rem(300),m.polished.rem(e))},n.clearSearchText=function(){var e;n.state.searchText&&(n.handleChange(""),null===(e=n.props)||void 0===e||e.toggleSearchBoxVisible(!0))},n.state={searchText:t.searchText||"",isShowSuggestion:!1},n}return B(t,e),t.prototype.componentDidUpdate=function(e){if(this.props.searchText!==e.searchText&&this.props.searchText!==this.state.searchText){var t=this.props.searchText;this.setState({searchText:t})}},t.prototype.render=function(){var e=this,t=this.props,o=t.placeholder,i=t.className,r=t.showClear,s=t.hideSearchIcon,a=t.inputRef,l=t.onFocus,c=t.onBlur,d=t.theme,u=t.searchSuggestion,p=t.showLoading,h=t.formatMessage,g=t.isShowBackButton,f=this.state,S=f.searchText,b=f.isShowSuggestion;return Object(m.jsx)("div",null,Object(m.jsx)("div",{css:this.getStyle(),className:"d-flex align-items-center "+i},g&&Object(m.jsx)(v.Button,{color:"tertiary",className:"search-back",icon:!0,size:"sm",onClick:function(t){var n;null===(n=e.props)||void 0===n||n.toggleSearchBoxVisible(!1)},title:h("topToolBack")},Object(m.jsx)(v.Icon,{size:20,icon:n(235),color:d.colors.palette.dark[800]})),!s&&!g&&Object(m.jsx)(v.Button,{type:"tertiary",icon:!0,size:"sm",onClick:function(t){return e.handleSubmit(e.state.searchText)}},Object(m.jsx)(v.Icon,{size:16,icon:n(79),color:d.colors.palette.light[800]})),Object(m.jsx)(v.TextInput,{className:"search-input",ref:a,placeholder:o,onChange:function(t){return e.handleChange(t.target.value)},onBlur:c,onFocus:l,value:S||"",onKeyDown:function(t){return e.onKeyUp(t)}}),p&&Object(m.jsx)("div",{className:"search-loading-con"}),S&&Object(m.jsx)(v.Button,{color:"tertiary",className:"clear-search",icon:!0,size:"sm",onClick:this.clearSearchText,title:h("clearSearch")},Object(m.jsx)(v.Icon,{size:14,icon:n(56),color:d.colors.palette.dark[800]})),r&&Object(m.jsx)(v.Button,{color:"tertiary",icon:!0,size:"sm",onClick:this.handleSubmit},Object(m.jsx)(v.Icon,{size:12,icon:n(56)}))),Object(m.jsx)("div",{ref:function(t){return e.reference=t}},Object(m.jsx)(v.Popper,{css:this.getSuggestionListStyle(),placement:"bottom-start",reference:this.reference,offset:[0,8],open:b,toggle:function(t){e.setState({isShowSuggestion:!b})}},u.map((function(t,n){var o=H.sanitize(t.suggestionHtml);return Object(m.jsx)(v.Button,{key:n,type:"secondary",size:"sm",onClick:function(){e.onSuggestionConfirm(t.suggestion)},dangerouslySetInnerHTML:{__html:o}})})))))},t}(m.React.PureComponent);function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var G=function(e,t){var n;void 0===t&&(t=q);var o,i=[],r=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return r&&n===this&&t(s,i)||(o=e.apply(this,s),r=!0,n=this,i=s),o}};var Q="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function Y(e){cancelAnimationFrame(e.id)}function K(e,t){var n=Q();var o={id:requestAnimationFrame((function i(){Q()-n>=t?e.call(null):o.id=requestAnimationFrame(i)}))};return o}var X=null;function Z(e){if(void 0===e&&(e=!1),null===X||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var o=document.createElement("div"),i=o.style;return i.width="100px",i.height="100px",t.appendChild(o),document.body.appendChild(t),t.scrollLeft>0?X="positive-descending":(t.scrollLeft=1,X=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),X}return X}var $=function(e,t){return e};function J(e){var t,n,o=e.getItemOffset,i=e.getEstimatedTotalSize,r=e.getItemSize,s=e.getOffsetForIndexAndAlignment,a=e.getStartIndexForOffset,l=e.getStopIndexForStartIndex,c=e.initInstanceProps,d=e.shouldResetStyleCacheOnItemSizeChange,u=e.validateProps;return n=t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=c(n.props,W(W(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:W(W(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=G((function(e,t,o,i){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:o,visibleStopIndex:i})})),n._callOnScroll=void 0,n._callOnScroll=G((function(e,t,o){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:o})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,i=n.props,s=i.direction,a=i.itemSize,l=i.layout,c=n._getItemStyleCache(d&&a,d&&l,d&&s);if(c.hasOwnProperty(e))t=c[e];else{var u,p=o(n.props,e,n._instanceProps),h=r(n.props,e,n._instanceProps),g="horizontal"===s||"horizontal"===l;c[e]=((u={position:"absolute"})["rtl"===s?"right":"left"]=g?p:0,u.top=g?0:p,u.height=g?"100%":h,u.width=g?h:"100%",t=u)}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=G((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,o=t.clientWidth,i=t.scrollLeft,r=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===i)return null;var t=n.props.direction,s=i;if("rtl"===t)switch(Z()){case"negative":s=-i;break;case"positive-descending":s=r-o-i}return s=Math.max(0,Math.min(s,r-o)),{isScrolling:!0,scrollDirection:e.scrollOffset<i?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,o=t.clientHeight,i=t.scrollHeight,r=t.scrollTop;n.setState((function(e){if(e.scrollOffset===r)return null;var t=Math.max(0,Math.min(r,i-o));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&Y(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=K(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}V(t,e),t.getDerivedStateFromProps=function(e,t){return ee(e,t),u(e),null};var n=t.prototype;return n.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},n.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,o=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(s(this.props,e,t,o,this._instanceProps))},n.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,o=e.layout;if("number"==typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===o?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},n.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,o=this.state,i=o.scrollOffset;if(o.scrollUpdateWasRequested&&null!=this._outerRef){var r=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(Z()){case"negative":r.scrollLeft=-i;break;case"positive-ascending":r.scrollLeft=i;break;default:var s=r.clientWidth,a=r.scrollWidth;r.scrollLeft=a-s-i}else r.scrollLeft=i;else r.scrollTop=i}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&Y(this._resetIsScrollingTimeoutId)},n.render=function(){var e=this.props,t=e.children,n=e.className,o=e.direction,r=e.height,s=e.innerRef,a=e.innerElementType,l=e.innerTagName,c=e.itemCount,d=e.itemData,u=e.itemKey,p=void 0===u?$:u,h=e.layout,g=e.outerElementType,f=e.outerTagName,m=e.style,v=e.useIsScrolling,S=e.width,b=this.state.isScrolling,w="horizontal"===o||"horizontal"===h,y=w?this._onScrollHorizontal:this._onScrollVertical,x=this._getRangeToRender(),I=x[0],C=x[1],O=[];if(c>0)for(var j=I;j<=C;j++)O.push(Object(D.createElement)(t,{data:d,key:p(j,d),index:j,isScrolling:v?b:void 0,style:this._getItemStyle(j)}));var R=i(this.props,this._instanceProps);return Object(D.createElement)(g||f||"div",{className:n,onScroll:y,ref:this._outerRefSetter,style:U({position:"relative",height:r,width:S,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:o},m)},Object(D.createElement)(a||l||"div",{children:O,ref:s,style:{height:w?"100%":R,pointerEvents:b?"none":void 0,width:w?R:"100%"}}))},n._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],o=e[2],i=e[3];this._callOnItemsRendered(t,n,o,i)}if("function"==typeof this.props.onScroll){var r=this.state,s=r.scrollDirection,a=r.scrollOffset,l=r.scrollUpdateWasRequested;this._callOnScroll(s,a,l)}},n._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,o=this.state,i=o.isScrolling,r=o.scrollDirection,s=o.scrollOffset;if(0===t)return[0,0,0,0];var c=a(this.props,s,this._instanceProps),d=l(this.props,c,s,this._instanceProps),u=i&&"backward"!==r?1:Math.max(1,n),p=i&&"forward"!==r?1:Math.max(1,n);return[Math.max(0,c-u),Math.max(0,Math.min(t-1,d+p)),c,d]},t}(D.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var ee=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},te=function(e,t,n){var o=e.itemSize,i=n.itemMetadataMap,r=n.lastMeasuredIndex;if(t>r){var s=0;if(r>=0){var a=i[r];s=a.offset+a.size}for(var l=r+1;l<=t;l++){var c=o(l);i[l]={offset:s,size:c},s+=c}n.lastMeasuredIndex=t}return i[t]},ne=function(e,t,n,o,i){for(;o<=n;){var r=o+Math.floor((n-o)/2),s=te(e,r,t).offset;if(s===i)return r;s<i?o=r+1:s>i&&(n=r-1)}return o>0?o-1:0},oe=function(e,t,n,o){for(var i=e.itemCount,r=1;n<i&&te(e,n,t).offset<o;)n+=r,r*=2;return ne(e,t,Math.min(n,i-1),Math.floor(n/2),o)},ie=function(e,t){var n=e.itemCount,o=t.itemMetadataMap,i=t.estimatedItemSize,r=t.lastMeasuredIndex,s=0;if(r>=n&&(r=n-1),r>=0){var a=o[r];s=a.offset+a.size}return s+(n-r-1)*i},re=J({getItemOffset:function(e,t,n){return te(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:ie,getOffsetForIndexAndAlignment:function(e,t,n,o,i){var r=e.direction,s=e.height,a=e.layout,l=e.width,c="horizontal"===r||"horizontal"===a?l:s,d=te(e,t,i),u=ie(e,i),p=Math.max(0,Math.min(u-c,d.offset)),h=Math.max(0,d.offset-c+d.size);switch("smart"===n&&(n=o>=h-c&&o<=p+c?"auto":"center"),n){case"start":return p;case"end":return h;case"center":return Math.round(h+(p-h)/2);case"auto":default:return o>=h&&o<=p?o:o<h?h:p}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var o=t.itemMetadataMap,i=t.lastMeasuredIndex;return(i>0?o[i].offset:0)>=n?ne(e,t,i,0,n):oe(e,t,Math.max(0,i),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,o){for(var i=e.direction,r=e.height,s=e.itemCount,a=e.layout,l=e.width,c="horizontal"===i||"horizontal"===a?l:r,d=te(e,t,o),u=n+c,p=d.offset+d.size,h=t;h<s-1&&p<u;)h++,p+=te(e,h,o).size;return h},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,o){void 0===o&&(o=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),o&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});var se,ae,le=n(76),ce=n(37),de=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ue=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},pe=n(92),he=[0,5],ge=function(e){function t(t){var n=e.call(this,t)||this;return n.formatMessage=function(e,t){return n.props.formatMessage(e,t)},n.onPopperToggle=function(e){var t=n.props.filter,o=n.state.isOpen;o||n.setState({currentFilter:t}),n.setState({isOpen:!o})},n.onItemClick=function(e,t){n.setState({isOpen:!1}),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},n.handleFilterChange=function(e){n.setState({currentFilter:e})},n.handleApplyClick=function(e){var t=n.state.currentFilter,o=n.props,i=o.handleFilterApplyChange;(0,o.handleFilterChange)(t),i(!0),n.setState({isOpen:!1})},n.handleClearClick=function(e){(0,n.props.handleFilterApplyChange)(!1),n.setState({isOpen:!1})},n.getStyle=function(){var e=n.props.theme;return Object(m.css)(se||(se=ue(["\n      position: relative;\n      .dot {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        right: -2px;\n        top: 0px;\n        .dot-bottom {\n          width: 6px;\n          height: 6px;\n          background-color: transparent;\n          .dot-top {\n            width: 4px;\n            height: 4px;\n            background-color: ",";\n          }\n        }\n      }\n      :hover {\n        .dot-top {\n          background-color: ",";\n        }\n      }\n      & .active {\n        .dot-top {\n          background-color: ",";\n        }\n        :hover {\n          .dot-top {\n            background-color: ",";\n          }\n        }\n      }\n    "],["\n      position: relative;\n      .dot {\n        position: absolute;\n        width: 6px;\n        height: 6px;\n        right: -2px;\n        top: 0px;\n        .dot-bottom {\n          width: 6px;\n          height: 6px;\n          background-color: transparent;\n          .dot-top {\n            width: 4px;\n            height: 4px;\n            background-color: ",";\n          }\n        }\n      }\n      :hover {\n        .dot-top {\n          background-color: ",";\n        }\n      }\n      & .active {\n        .dot-top {\n          background-color: ",";\n        }\n        :hover {\n          .dot-top {\n            background-color: ",";\n          }\n        }\n      }\n    "])),e.colors.palette.dark[600],e.colors.palette.primary[500],e.colors.white,e.colors.white)},n.getPopperStyle=function(){return Object(m.css)(ae||(ae=ue(["\n      .filter-button-con button{\n        max-width: ",";\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    "],["\n      .filter-button-con button{\n        max-width: ",";\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }\n    "])),m.polished.rem(100))},n.toggleRef=m.React.createRef(),n.state={isOpen:!1,currentFilter:t.filter},n}return de(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.filter,o=t.appMode;n!==e.filter&&this.setState({currentFilter:n}),o!==e.appMode&&o===m.AppMode.Design&&this.setState({isOpen:!1})},t.prototype.render=function(){var e=this.props,t=e.filter,n=e.selectedDs,o=e.widgetId,i=e.title,r=e.applied,s=this.state,a=s.isOpen,l=s.currentFilter,c=r&&(null==t?void 0:t.sql)===(null==l?void 0:l.sql);return Object(m.jsx)(D.Fragment,null,Object(m.jsx)(v.Button,{css:this.getStyle(),size:"sm",type:"tertiary",icon:!0,title:i,ref:this.toggleRef,onClick:this.onPopperToggle},Object(m.jsx)(v.Icon,{icon:pe,size:16}),r&&Object(m.jsx)("div",{className:"dot align-items-center justify-content-center"},Object(m.jsx)("div",{className:"dot-bottom rounded-circle"},Object(m.jsx)("div",{className:"dot-top rounded-circle"})))),Object(m.jsx)(v.Popper,{placement:"bottom-start",reference:this.toggleRef.current,offset:he,toggle:this.onPopperToggle,css:this.getPopperStyle(),open:a},Object(m.jsx)("div",{style:{padding:m.polished.rem(20),width:m.polished.rem(250)}},Object(m.jsx)("div",null,Object(m.jsx)(ce.SqlExpressionRuntime,{widgetId:o,dataSource:n,expression:l,onChange:this.handleFilterChange})),Object(m.jsx)("div",{className:"d-flex w-100 mt-3 filter-button-con"},Object(m.jsx)(v.Button,{disabled:c,onClick:this.handleApplyClick,type:"primary",title:this.formatMessage("apply")},this.formatMessage("apply")),Object(m.jsx)(v.Button,{disabled:!r,style:{marginLeft:m.polished.rem(19)},onClick:this.handleClearClick,title:this.formatMessage("clear")},this.formatMessage("clear"))))))},t}(m.React.PureComponent),fe=n(50),me=n(51),ve=n(45),Se=n(41);function be(e){var t=e.isRTL,n=e.totalPage,o=e.pageStyle,i=e.direction,r=e.currentPage,s=e.scrollStatus,a=e.isScrollEnd,l=e.isEditing,c=e.handleScrollDown,d=e.handleScrollUp,u=e.handleSwitchPage,p=e.formatMessage;return m.React.createElement("div",{className:"bottom-tools w-100 d-flex align-items-center justify-content-center pl-2 pr-2"},o===S.k.MultiPage?m.React.createElement(v.Pagination,{size:"sm",totalPage:n,current:r,onChangePage:u}):m.React.createElement("div",{className:"d-flex scroll-navigator"},m.React.createElement(v.Button,{title:p("previous"),disabled:"start"===s,type:"secondary",size:"sm",icon:!0,onClick:d},m.React.createElement(v.Icon,{autoFlip:!0,icon:i===S.f.Horizon?ve:me,size:12})),m.React.createElement(v.Button,{title:p("next"),disabled:"end"===s||a,type:"secondary",size:"sm",style:t?{marginRight:m.polished.rem(10)}:{marginLeft:m.polished.rem(10)},icon:!0,onClick:c},m.React.createElement(v.Icon,{autoFlip:!0,icon:i===S.f.Horizon?Se:fe,size:12}))),window.jimuConfig.isInBuilder&&l&&m.React.createElement("div",{className:"editing-mask-bottom-tool"}))}function we(e,t,n){var o={page:1,pageSize:10},i=t.searchFields.split(",");t.searchOpen&&t.searchFields&&e&&(o.where=(o.where||"1=1")+" AND ",o.where+="("+i.map((function(t){return t+" LIKE '%"+e+"%'"})).join(" OR ")+")");var r=new RegExp("("+e+")","gi");return function(e,t){if(!t)return Promise.resolve([]);return t.type===m.DataSourceTypes.FeatureLayer?t.query(e).then((function(t){return function(e,t){var n;return(null==e?void 0:e.where)===(null===(n=null==t?void 0:t.queryParams)||void 0===n?void 0:n.where)?Promise.resolve(null==t?void 0:t.records):Promise.reject(!1)}(e,t)})):Promise.resolve([])}(o,n).then((function(t){var n=[];return i.forEach((function(o){t.forEach((function(t){var i,s=null===(i=null==t?void 0:t.feature)||void 0===i?void 0:i.attributes[o];if(s&&n.indexOf(s)<0&&s.match(r)){var a={suggestionHtml:ye(s,e),suggestion:s};n.push(a)}}))})),Promise.resolve(n)}))}function ye(e,t){if(!t)return e;var n=new RegExp("("+t+")","gi");return e.replace(n,"<strong >$1</strong>")}function xe(e,t,n){return n===S.f.Horizon?Ie(e.width,t.width):Ie(e.height,t.height)}function Ie(e,t){return Math.abs(e-t)<1e-4}function Ce(e){var t=e.config,n=e.builderStatus,o=e.browserSizeMode,i=t.cardConfigs[n];i&&i.cardSize||(i=t.cardConfigs[S.m.Regular]);var r=i.cardSize[o];return r||(r=i.cardSize[Object.keys(i.cardSize)[0]]),r}function Oe(e,t,n){var o,i=Ce(n),r=n.config,s=n.isHeightAuto,a=n.isWidthAuto;if(r.pageStyle===S.k.Scroll){if(!e)return 0;if(r.direction===S.f.Vertical){if(0===e.height)return 0;s&&(t=document.body.scrollHeight),o=Math.ceil(t/(i.height+r.space))+1}else{if(0===e.width)return 0;var l=e.width;a&&(l=document.body.scrollWidth),o=Math.ceil(l/(i.width+r.space))+1}r.navigatorOpen&&(o=Math.max(o,r.scrollStep))}else o=r.itemsPerPage;return o}function je(e,t){var n=S.a;return e&&(n=e.clientHeight),n=t?n:0}function Re(e,t,n){var o=n?S.e:0;if(!e)return 0;var i=e.height-o-t;return i<0?0:i}function Me(e,t){var n=e.config;return!(!t.datasource||n.pageStyle===S.k.Scroll&&!n.navigatorOpen)}function Te(e){return ze(e)||De(e)||Pe(e)||ke(e)||Le(e)}function ze(e){var t=e.config;if(!t.sortOpen||!t.sorts||t.sorts.length<1)return!1;var n=t.sorts,o=!1;return n.some((function(e){return e.rule&&e.rule.some((function(e){return e&&e.jimuFieldName&&(o=!0),o})),o})),o}function Le(e){var t=e.config;return t.searchOpen&&t.searchFields&&""!==t.searchFields}function ke(e){var t=e.config;return t.filterOpen&&!!t.filter}function De(e){var t=e.config;return t.showSelectedOnlyOpen&&t.cardConfigs[S.m.Selected].selectionMode!==S.l.None}function Pe(e){var t=e.config;return t.showClearSelected&&t.cardConfigs[S.m.Selected].selectionMode!==S.l.None}var _e,Ae,Ee,Be,Ne=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},He=m.utils.memoize((function(e){var t=e.showTopTools,n=e.bottomToolH,o=e.topRightToolW,i=e.hasRecords,r=e.currentCardSize,s=e.direction,a=e.pageStyle,l=e.scrollBarOpen,c=e.appMode,d=e.theme,u=e.isHeightAuto,p=e.isWidthAuto,h=t?S.e:0,g=s===S.f.Horizon,f=s===S.f.Horizon?"column":"row";return Object(m.css)(_e||(_e=Ne(["\n    &.list-container {\n      /* position: ","; */\n      position: relative;\n      z-index: 0;\n      overflow: hidden;\n      .bottom-boundary {\n        height: 2px;\n        width: 2px;\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        opacity: 0;\n      }\n      ","\n\n\n      .editing-mask-list {\n        position: absolute;\n        top: ","px;\n        left: ","px;\n        bottom: ",";\n        right: 0;\n        z-index: 10;\n        background-color: ",";\n      }\n\n      .editing-mask-ds-tool {\n        position: absolute;\n        z-index: 10;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        background-color: ",";\n      }\n\n      .editing-mask-bottom-tool {\n        position: absolute;\n        z-index: 10;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        background-color: ",";\n      }\n\n      .tip-mask-list {\n        position: absolute;\n        top: ","px;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        z-index: 10;\n        padding-top: 20%;\n      }\n\n      .datasource-tools {\n        position: relative;\n        height: ",";\n        padding-bottom: ",";\n        .sort-fields-input {\n          width: 200px;\n          margin-left: 8px;\n          margin-right: 16px;\n        }\n\n        .tool-row {\n          height: ","px;\n        }\n        .ds-tools-line {\n          width: 100%;\n          height: 1px;\n          margin-top: ",";\n          background-color: ",";\n        }\n        .ds-tools-line-blue {\n          background-color: ",";\n        }\n        .list-search-div {\n          width: calc(100% - ","px);\n          .list-search {\n            margin-bottom: ",";\n            width: 100%;\n          }\n        }\n\n      }\n      .tools-menu {\n        color: ",";\n        margin-top: ",";\n      }\n      .tools-menu:hover {\n        color: ",";\n      }\n      .bottom-tools {\n        position: relative;\n        padding-top: ",";\n        min-height: ",";\n        .scroll-navigator {\n          .btn {\n            border-radius: ",";\n          }\n        }\n      }\n\n      .widget-list-list:focus {\n        outline: none;\n      }\n      .widget-list-list {\n        &>div {\n          position: relative;\n          flex: 1;\n          box-sizing: content-box;\n          ",";\n          ",";\n        }\n        padding: 0;\n        position: relative;\n        /* box-sizing: border-box; */\n        ","\n        height: "," !important;\n        width: "," !important;\n        display: flex;\n        ",";\n        ",";\n        ",";\n        ","\n      }\n      ","\n    }\n  "],["\n    &.list-container {\n      /* position: ","; */\n      position: relative;\n      z-index: 0;\n      overflow: hidden;\n      .bottom-boundary {\n        height: 2px;\n        width: 2px;\n        position: absolute;\n        bottom: 0;\n        right: 0;\n        opacity: 0;\n      }\n      ","\n\n\n      .editing-mask-list {\n        position: absolute;\n        top: ","px;\n        left: ","px;\n        bottom: ",";\n        right: 0;\n        z-index: 10;\n        background-color: ",";\n      }\n\n      .editing-mask-ds-tool {\n        position: absolute;\n        z-index: 10;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        background-color: ",";\n      }\n\n      .editing-mask-bottom-tool {\n        position: absolute;\n        z-index: 10;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        background-color: ",";\n      }\n\n      .tip-mask-list {\n        position: absolute;\n        top: ","px;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        z-index: 10;\n        padding-top: 20%;\n      }\n\n      .datasource-tools {\n        position: relative;\n        height: ",";\n        padding-bottom: ",";\n        .sort-fields-input {\n          width: 200px;\n          margin-left: 8px;\n          margin-right: 16px;\n        }\n\n        .tool-row {\n          height: ","px;\n        }\n        .ds-tools-line {\n          width: 100%;\n          height: 1px;\n          margin-top: ",";\n          background-color: ",";\n        }\n        .ds-tools-line-blue {\n          background-color: ",";\n        }\n        .list-search-div {\n          width: calc(100% - ","px);\n          .list-search {\n            margin-bottom: ",";\n            width: 100%;\n          }\n        }\n\n      }\n      .tools-menu {\n        color: ",";\n        margin-top: ",";\n      }\n      .tools-menu:hover {\n        color: ",";\n      }\n      .bottom-tools {\n        position: relative;\n        padding-top: ",";\n        min-height: ",";\n        .scroll-navigator {\n          .btn {\n            border-radius: ",";\n          }\n        }\n      }\n\n      .widget-list-list:focus {\n        outline: none;\n      }\n      .widget-list-list {\n        &>div {\n          position: relative;\n          flex: 1;\n          box-sizing: content-box;\n          ",";\n          ",";\n        }\n        padding: 0;\n        position: relative;\n        /* box-sizing: border-box; */\n        ","\n        height: "," !important;\n        width: "," !important;\n        display: flex;\n        ",";\n        ",";\n        ",";\n        ","\n      }\n      ","\n    }\n  "])),u?"absolute":"relative",s===S.f.Horizon?"\n          margin-left: "+S.i+"px;\n          height: "+(u?"auto":"100%")+";\n          width: "+(p?"auto":"calc(100% - "+S.i+"px)")+";\n        ":"\n          margin-top: "+S.i+"px;\n          width: "+(p?"auto":"100%")+";\n          height: "+(u?"auto":"calc(100% - "+S.i+"px)")+";\n        ",s===S.f.Vertical&&i?r.height+h:h,s===S.f.Horizon&&i?r.width:0,m.polished.rem(n),m.polished.rgba(d.colors.black,.2),m.polished.rgba(d.colors.black,.2),m.polished.rgba(d.colors.black,.2),h,m.polished.rem(h),m.polished.rem(S.d),S.e-S.d,m.polished.rem(6),d.colors.palette.light[500],d.colors.palette.info[500],o,m.polished.rem(-4),d.colors.palette.light[800],m.polished.rem(4),d.colors.palette.info[500],m.polished.rem(S.b),m.polished.rem(S.a),d.borderRadiuses.circle,g&&"padding-right: "+m.polished.rem(15),!g&&"padding-bottom: "+m.polished.rem(15),window.jimuConfig.isInBuilder&&c!==m.AppMode.Run?"overflow: hidden !important;":"overflow-"+(g?"y":"x")+": hidden !important;",u?"auto":"calc(100% - "+h+"px - "+n+"px)",p?"auto":"100%","flex-direction: "+f,u&&"min-height: "+r.height+"px;",p&&"min-width: "+r.width+"px;",g?"\n              max-width: "+document.body.scrollWidth+"px;\n            ":"\n              max-height: "+document.body.scrollHeight+"px;\n            ",a!==S.k.Scroll||l?"":"\n          .widget-list-list::-webkit-scrollbar {\n            display: none; //Safari and Chrome\n          }\n          .widget-list-list {\n              -ms-overflow-style: none; //IE 10+\n              overflow: -moz-scrollbars-none; //Firefox\n          }\n        ")}));function Fe(e,t,n){var o,i,r,s,a,l,c,d,u,p,h=e.config,g=e.id,f=e.appMode,v=e.isHeightAuto,b=e.isWidthAuto,w=e.theme;return Object(m.css)(Ae||(Ae=Ne(["\n    "," {\n      overflow: visible;\n      background-color: transparent;\n      border: "," solid ",";\n      height: ",";\n      width: ",";\n      .list-with-mask {\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        top: 0;\n        background-color: ",";\n        z-index: 1;\n      }\n      .refresh-loading-con {\n        right: 0;\n        bottom:",";\n        align-items: center;\n        height: ",";\n        .auto-refresh-loading {\n          background: ",";\n          color: ",";\n          font-size: ",";\n          line-height: ",";\n          padding: 0 ",";\n        }\n        &.horizon-loading {\n          bottom:",";\n        }\n        &.vertical-loading {\n          right: ",";\n        }\n      }\n      .loading-con {\n        @keyframes loading {\n          0% {transform: rotate(0deg); };\n          100% {transform: rotate(360deg)};\n        }\n        width: ",";\n        height: ",";\n        border: 1px solid ",";\n        border-radius: 50%;\n        border-top: 1px solid ",";\n        box-sizing: border-box;\n        animation:loading 2s infinite linear;\n        margin-right: ",";\n      }\n      .widget-list {\n        overflow: ",";\n        height: ",";\n        width: ",";\n        /* align-items: ",";\n        justify-content: ","; */\n        ","\n      }\n    }\n\n  "],["\n    "," {\n      overflow: visible;\n      background-color: transparent;\n      border: "," solid ",";\n      height: ",";\n      width: ",";\n      .list-with-mask {\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        top: 0;\n        background-color: ",";\n        z-index: 1;\n      }\n      .refresh-loading-con {\n        right: 0;\n        bottom:",";\n        align-items: center;\n        height: ",";\n        .auto-refresh-loading {\n          background: ",";\n          color: ",";\n          font-size: ",";\n          line-height: ",";\n          padding: 0 ",";\n        }\n        &.horizon-loading {\n          bottom:",";\n        }\n        &.vertical-loading {\n          right: ",";\n        }\n      }\n      .loading-con {\n        @keyframes loading {\n          0% {transform: rotate(0deg); };\n          100% {transform: rotate(360deg)};\n        }\n        width: ",";\n        height: ",";\n        border: 1px solid ",";\n        border-radius: 50%;\n        border-top: 1px solid ",";\n        box-sizing: border-box;\n        animation:loading 2s infinite linear;\n        margin-right: ",";\n      }\n      .widget-list {\n        overflow: ",";\n        height: ",";\n        width: ",";\n        /* align-items: ",";\n        justify-content: ","; */\n        ","\n      }\n    }\n\n  "])),"&.list-widget-"+g,m.polished.rem(S.c),m.polished.rgba(w.colors.black,window.jimuConfig.isInBuilder&&t?.2:0),v?"auto":"100%",b?"auto":"100%",m.polished.rgba(w.colors.black,0),n?m.polished.rem(S.a):0,m.polished.rem(24),m.polished.rgba(null===(r=null===(i=null===(o=w.colors)||void 0===o?void 0:o.palette)||void 0===i?void 0:i.dark)||void 0===r?void 0:r[100],.2),null===(s=w.colors)||void 0===s?void 0:s.black,m.polished.rem(12),m.polished.rem(24),m.polished.rem(7),n?m.polished.rem(S.a+6):m.polished.rem(6),m.polished.rem(6),m.polished.rem(16),m.polished.rem(16),null===(c=null===(l=null===(a=null==w?void 0:w.colors)||void 0===a?void 0:a.palette)||void 0===l?void 0:l.dark)||void 0===c?void 0:c[100],null===(p=null===(u=null===(d=null==w?void 0:w.colors)||void 0===d?void 0:d.palette)||void 0===u?void 0:u.dark)||void 0===p?void 0:p[800],m.polished.rem(4),window.jimuConfig.isInBuilder&&f!==m.AppMode.Run?"hidden":"auto",v?"auto":"100%",b?"auto":"100%",h.alignType,h.alignType,h.direction===S.f.Horizon?"\n            overflow-y: hidden;\n          ":"\n            overflow-x: hidden;\n          ")}function Ue(e){var t=e.theme;return Object(m.css)(Ee||(Ee=Ne(["\n    &{\n      padding: "," ",";\n      height: ",";\n      width: ",";\n    }\n    .ds-tools-line {\n      width: 100%;\n      height: 1px;\n      background-color: ",";\n    }\n    .ds-tools-line-blue {\n      background-color: ",";\n    }\n    .close-search {\n      margin-top: ",";\n    }\n  "],["\n    &{\n      padding: "," ",";\n      height: ",";\n      width: ",";\n    }\n    .ds-tools-line {\n      width: 100%;\n      height: 1px;\n      background-color: ",";\n    }\n    .ds-tools-line-blue {\n      background-color: ",";\n    }\n    .close-search {\n      margin-top: ",";\n    }\n  "])),m.polished.rem(6),m.polished.rem(11),m.polished.rem(40),m.polished.rem(246),t.colors.palette.light[500],t.colors.palette.info[500],m.polished.rem(-6))}function Ve(e){var t=e.theme;return Object(m.css)(Be||(Be=Ne(["\n    .close-search {\n      border: 1px solid ",";\n      box-sizing: border-box;\n      background-color: ",";\n    }\n    .search-box-content {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n  "],["\n    .close-search {\n      border: 1px solid ",";\n      box-sizing: border-box;\n      background-color: ",";\n    }\n    .search-box-content {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n  "])),t.colors.palette.light[500],t.colors.white)}var We=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qe=function(e,t){var n,o,i,r,s=null===(i=null===(o=null===(n=Object(m.getAppStore)().getState())||void 0===n?void 0:n.appConfig)||void 0===o?void 0:o.widgets[t])||void 0===i?void 0:i.useDataSources[0],a=m.DataSourceManager.getInstance();return e&&s&&(r=a.createDataSourceByUseDataSource(Object.assign({},s,{mainDataSourceId:s.mainDataSourceId}),"localId")),Promise.resolve(r)},Ge=new(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.versions=[{version:"1.1.0",description:"",upgrader:function(e,t){var n=e.filter;return qe(n,t).then((function(t){var o=e,i=n?Object(ce.updateSQLExpressionByVersion)(n,"1.1.0",t):null;return o=o.set("filter",i)}))}}],t}return We(t,e),t}(m.BaseVersionManager)),Qe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ye=function(){return(Ye=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ke=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},Xe=n(101),Ze=n(236),$e=n(79),Je=n(237),et=[{fake:!0},{fake:!0},{fake:!0}],tt=Object.assign({},E.a,v.defaultMessages),nt=function(e){function t(t){var n=e.call(this,t)||this;n.isFirstLoad=!0,n.isMount=!1,n.isHasScrolled=!1,n.updateWidgetRectTimeout=void 0,n.setSelectionStatus=function(){var e=n.props,t=e.id,o=e.selectionIsInSelf;n.props.dispatch(m.appActions.widgetStatePropChange(t,"selectionIsInSelf",o))},n.updateScrollContentSize=function(e){var t=n.props.config;t.direction===e.direction&&t.space===e.space||n.setScrollContentSize()},n.scrollToSelectedItems=function(e){var t=e.getSelectedRecordIds();if(n.isMySelected)return n.isMySelected=!1,void(n.lastSelectedRecordIds=t||[]);if(t&&t.length>0){var o=!0;if(n.lastSelectedRecordIds&&t.length===n.lastSelectedRecordIds.length?t.some((function(e){if(!n.lastSelectedRecordIds.find((function(t){return t===e})))return o=!1,!0})):o=!1,!o||n.needScroll){var i=-1;if(n.records&&n.records.find((function(e,n){var o;if((null===(o=e.getId)||void 0===o?void 0:o.call(e))===t[0])return i=n,!0})),-1===i){var r=e.getRecords();if(r&&r.find((function(e,n){var o;if((null===(o=e.getId)||void 0===o?void 0:o.call(e))===t[0])return i=n,!0})),i>-1){var s=Math.ceil((i+1)/n.getPageSize());n.needScroll=!0,n.setState({page:s})}}else n.scrollToIndex(i),n.needScroll=!1}}n.lastSelectedRecordIds=t||[]},n.onDSCreated=function(e){n.setState({datasource:e})},n.onResize=function(e,t){var o={width:e,height:t},i=n.props.config;if(!n.state.isResizingCard){var r=Me(n.props,n.state),s=Re(o,je(n.paginatorDiv.current,r),Te(n.props)),a=n.state.currentCardSize,l={width:a.width,height:a.height},c=!1;if(i.lockItemRatio){var d=l.width/l.height;i.direction===S.f.Horizon?(l.height=s,l.width=s*d,Ie(l.width,a.width)||(c=!0)):(l.height=e/d,l.width=e,Ie(l.height,a.height)||(c=!0))}else i.direction===S.f.Horizon?l.height=s:l.width=e;l.width<S.h||l.height<S.h||(n.setState({widgetRect:o,currentCardSize:l},(function(){c&&n.refreshList()})),n.resizeTimeout&&(clearTimeout(n.resizeTimeout),n.resizeTimeout=void 0),i.lockItemRatio&&(n.resizeTimeout=setTimeout((function(){n.handleResizeCard(l,!0,!1,!1,!0)}),500)),n.updateCardToolPosition(),n.setListDivSize(),xe(l,a,i.direction))}},n.updateCardToolPosition=function(){n.props.selectionIsSelf&&(n.setState({hideCardTool:!0}),n.updateCardToolTimeout&&(clearTimeout(n.updateCardToolTimeout),n.updateCardToolTimeout=void 0),n.updateCardToolTimeout=setTimeout((function(){n.setState({hideCardTool:!1})}),500))},n.refreshList=function(e){void 0===e&&(e=!0),n.listRef.current&&n.listRef.current.resetAfterIndex(0,e)},n.isDsConfigured=function(){var e=n.props.useDataSources;return!!e&&!!e[0]},n.selectRecords=function(e){var t=n.state.datasource;if(t&&(m.MessageManager.getInstance().publishMessage(new m.DataRecordsSelectionChangeMessage(n.props.id,e)),e)){n.isMySelected=!0,t.selectRecordsByIds(e.map((function(e){return e.getId()})));var o=n.getOutputDs();o&&o.selectRecordsByIds(e.map((function(e){return e.getId()})))}},n.formatMessage=function(e,t){return n.props.intl.formatMessage({id:e,defaultMessage:tt[e]},t)},n.editStatus=function(e,t){var o=n.props,i=o.dispatch,r=o.id;i(m.appActions.widgetStatePropChange(r,e,t))},n.editWidgetConfig=function(e){window.jimuConfig.isInBuilder&&n.props.builderSupportModules.jimuForBuilderLib.getAppConfigAction().editWidgetConfig(n.props.id,e).exec()},n.scrollToIndex=function(e,t){void 0===t&&(t="start"),n.listRef.current&&n.listRef.current.scrollToItem(e,t)},n.isEditing=function(){var e=n.props,t=e.appMode,o=e.config,i=e.selectionIsSelf,r=e.selectionIsInSelf;return!!window.jimuConfig.isInBuilder&&((i||r)&&window.jimuConfig.isInBuilder&&t!==m.AppMode.Run&&o.isItemStyleConfirm)},n.handleItemChange=function(e){var t=n.props.config,o=n.state.datasource;if(o&&e){var i=o.getSelectedRecords()||[];if(t.cardConfigs[S.m.Selected].selectionMode&&t.cardConfigs[S.m.Selected].selectionMode!==S.l.None){var r=e.getId(),s=i.find((function(e){return e.getId()===r}));t.cardConfigs[S.m.Selected].selectionMode===S.l.Single?s?n.selectRecords([]):n.selectRecords([e]):(i=s?i.filter((function(e){return e.getId()!==r})):[e].concat(i),n.selectRecords(i))}}},n.handleListPointerDown=function(e){n.setState({forceShowMask:!0}),n.mouseClickTimeout&&(clearTimeout(n.mouseClickTimeout),n.mouseClickTimeout=void 0),n.mouseClickTimeout=setTimeout((function(){n.setState({forceShowMask:!1})}),200)},n.handleScrollUp=function(e){var t=n.props.config.scrollStep,o=n.getListVisibleStartIndex()-t;o<0&&(o=0),n.scrollToIndex(o,"start")},n.handleScrollDown=function(e){var t=n.props.config.scrollStep,o=n.listVisibleStopIndex,i=n.getListVisibleStartIndex();o+t>=n.records.length-1&&n.records.length<n.getTotalCount()?(n.isSwitchPage=!0,n.setState({page:n.state.page+1})):n.scrollToIndex(i+t,"start")},n.handleSwitchPage=function(e){var t=n.getTotalPage();e<1||e>t||e!==n.state.page&&(n.isSwitchPage=!0,n.lastQueryStart=n.state.page,n.setState({page:e}))},n.handleListMouseLeave=function(e){n.isEditing()||n.setState({hoverIndex:-1})},n.handleListMouseMove=function(e){if(!n.isEditing()){var t=n.state.listDivBoundRect,o=n.props,i=o.config,r=o.isRTL;if(!n.listOutDivRef)return!1;var s,a=n.lastScrollOffset;s=i.direction===S.f.Horizon?r?t.right-e.clientX:e.clientX-t.left:e.clientY-t.top;var l=n.itemSize(0),c=Math.floor((a+s)/l);a+s-c*l>l-i.space&&(c=-1),c!==n.state.hoverIndex&&n.setState({hoverIndex:c})}},n.lastScrollOffset=0,n.handleListScroll=function(e){e.scrollDirection;var t,o,i=e.scrollOffset,r=(e.scrollUpdateWasRequested,n.props),s=r.appMode,a=r.config,l=n.listOutDivRef,c=n.state,d=c.datasource,u=c.scrollStatus;n.lastScrollOffset=i,!l||(null!==(o=null===(t=n.records)||void 0===t?void 0:t.length)&&void 0!==o?o:0)<1||a.pageStyle!==S.k.Scroll||n.queryStatus===m.DataSourceStatus.Loading||!d||window.jimuConfig.isInBuilder&&s!==m.AppMode.Run||(n.isHasScrolled=!0,!function(e,t){return!e||t<2}(l,n.lastScrollOffset)?"mid"!==u&&n.setState({scrollStatus:"mid"}):"start"!==u&&n.setState({scrollStatus:"start"}))},n.getTotalPage=function(){var e=n.totalCount,t=n.props.config,o=e,i=Math.floor(o/t.itemsPerPage);return 0===o%t.itemsPerPage?i:i+1},n.getListVisibleStartIndex=function(){var e=n.lastScrollOffset,t=n.props.config,o=n.itemSize(0),i=1*e/o,r=Math.floor(i);return(i-r)*o>o-t.space&&r++,r},n.handleSortOptionChange=function(e,t){n.setState({sortOptionName:t.label,page:1},(function(){}))},n.handleSearchTextChange=function(e){var t=n;""!==e&&e||n.handleSearchSubmit(void 0),clearTimeout(t.suggestionsQueryTimeout),n.suggestionsQueryTimeout=setTimeout((function(){t.getSearchSuggestions(e)}),200)},n.getSearchSuggestions=function(e){we(e,n.props.config,n.state.datasource).then((function(e){n.setState({searchSuggestion:e})}))},n.handleSearchSubmit=function(e,t){void 0===t&&(t=!1),(n.state.searchText!==e||t)&&n.setState({searchText:e,page:1},(function(){}))},n.handleFilterChange=function(e){n.setState({currentFilter:e,page:1},(function(){}))},n.handleFilterApplyChange=function(e){var t={filterApplied:e,queryStart:0};n.setState(t,(function(){}))},n.handleShowSelectionClick=function(e){var t=n.state.showSelectionOnly;n.setState({showSelectionOnly:!t})},n.handleClearSelectionClick=function(e){n.setState({showSelectionOnly:!1}),n.selectRecords([])},n._getCurrentPage=function(){return n.state.page},n.getTotalCount=function(){return n.totalCount||0},n.selectCard=function(){n.props.selectionIsInSelf&&n.selectSelf()},n.editBuilderAndSettingStatus=function(e){n.editStatus("showCardSetting",e),n.editStatus("builderStatus",e)},n.getSortItems=function(){var e=n.props.config,t=[];return e.sorts&&e.sorts.forEach((function(e){e.rule&&e.rule.forEach((function(o){o&&o.jimuFieldName&&t.push({label:e.ruleOptionName,event:n.handleSortOptionChange})}))})),Object(m.Immutable)(t)},n.renderListTopTools=function(e,t){var o=n.state,i=o.widgetRect,r=o.isSearchBoxVisible,s=o.isOpenTopToolsPopper,a=(null==i?void 0:i.width)||620;return Object(m.jsx)("div",{className:"datasource-tools w-100"},a>=S.j&&Object(m.jsx)("div",{className:"tool-row row1 d-flex align-items-end w-100 justify-content-between"},n.renderSearchTools(e,t),(!r||a>=360)&&n.renderTopRightTools(e,t)),a<S.j&&Object(m.jsx)("div",{className:"float-right",ref:function(e){return n.reference=e}},Object(m.jsx)(v.Button,{type:"tertiary",icon:!0,size:"sm",className:"tools-menu",title:n.formatMessage("guideStep9Title"),onClick:function(e){n.setState({isOpenTopToolsPopper:!s})}},Object(m.jsx)(v.Icon,{size:16,icon:Je})),n.renderListTopToolsInPoper(e,t)),window.jimuConfig.isInBuilder&&n.isEditing()&&Object(m.jsx)("div",{className:"editing-mask-ds-tool"}))},n.renderListTopToolsInPoper=function(e,t){var o=n.state,i=o.widgetRect,r=o.isSearchBoxVisible,s=o.isOpenTopToolsPopper,a=n.isEditing(),l=((null==i?void 0:i.width)||620)<S.j&&s&&!a;return Object(m.jsx)("div",null,Object(m.jsx)(v.Popper,{placement:"bottom-start",reference:n.reference,offset:[-10,0],open:l,showArrow:!0,toggle:function(e){n.setState({isOpenTopToolsPopper:!l})}},Object(m.jsx)("div",{className:"tool-row row1 d-flex align-items-end justify-content-between",css:Ue(n.props)},n.renderSearchTools(e,t),!r&&n.renderTopRightTools(e,t))))},n.renderSearchTools=function(e,t){var o=n.isEditing()||!e||t!==m.DataSourceStatus.Loaded,i=n.state,r=i.searchText,s=i.widgetRect,a=i.isSearchBoxVisible,l=i.showLoading,c=(null==s?void 0:s.width)||620,d=n.props,u=d.theme,p=d.config,h=c<360?"ds-tools-line-blue":"",g=(null==p?void 0:p.searchHint)||n.formatMessage("search"),f=c<360&&a;return Object(m.jsx)("div",{className:"list-search-div flex-grow-1",css:Ve(n.props)},Le(n.props)&&Object(m.jsx)("div",{className:"d-flex search-box-content"},(c>=360||a)&&Object(m.jsx)("div",{className:"flex-grow-1 w-100"},Object(m.jsx)(F,{theme:u,placeholder:g,searchText:r,onSearchTextChange:n.handleSearchTextChange,onSubmit:n.handleSearchSubmit,disabled:o,searchSuggestion:n.state.searchSuggestion,suggestionWidth:c,showLoading:l,formatMessage:n.formatMessage,isShowBackButton:f,toggleSearchBoxVisible:n.toggleSearchBoxVisible,className:"list-search "}),Object(m.jsx)("div",{className:Object(m.classNames)("ds-tools-line",h)})),c<360&&!a&&Object(m.jsx)(v.Button,{type:"tertiary",icon:!0,size:"sm",onClick:function(e){n.toggleSearchBoxVisible(!0)},title:n.formatMessage("search")},Object(m.jsx)(v.Icon,{size:16,icon:$e,color:u.colors.palette.light[800]}))))},n.toggleSearchBoxVisible=function(e){void 0===e&&(e=!1);var t=n.state.widgetRect;n.setState({isSearchBoxVisible:e}),((null==t?void 0:t.width)||620)<S.j&&(clearTimeout(n.showPopperTimeOut),n.showPopperTimeOut=setTimeout((function(){n.setState({isOpenTopToolsPopper:!0})})))},n.getPageSize=function(){var e=n.state.widgetRect,t=Me(n.props,n.state),o=Re(e,je(n.paginatorDiv.current,t),Te(n.props))||1;return Math.max(Oe(e,o,n.props),1)},n.renderTopRightTools=function(e,t){var o=n.state,i=o.sortOptionName,r=o.showSelectionOnly,s=o.currentFilter,a=o.filterApplied,l=n.props,c=l.config,d=l.theme,u=l.id,p=l.appMode,h=n.getSortItems(),g=e&&e.getSelectedRecords(),f=g&&g.length>0;return Object(m.jsx)("div",{className:"d-flex align-items-center mr-1",ref:n.listTopRightToolsDiv},ze(n.props)&&Object(m.jsx)(D.Fragment,null,Object(m.jsx)(le.a,{theme:d,items:h,appMode:p,toggleType:"tertiary",toggleContent:function(e){return i||h&&h[0].label},size:"sm",caret:!0,showActive:!0,toggleTitle:n.formatMessage("listSort"),activeLabel:i||h&&h[0].label})),ke(n.props)&&Object(m.jsx)(ge,{filter:s||c.filter,appMode:p,applied:a,title:n.formatMessage("filter"),selectedDs:n.state.datasource,handleFilterChange:n.handleFilterChange,handleFilterApplyChange:n.handleFilterApplyChange,formatMessage:n.formatMessage,theme:d,widgetId:u}),De(n.props)&&Object(m.jsx)(v.Button,{disabled:!f,type:"tertiary",title:n.formatMessage("showSelected"),icon:!0,size:"sm",active:r,onClick:n.handleShowSelectionClick},Object(m.jsx)(v.Icon,{icon:Xe,size:16})),Pe(n.props)&&Object(m.jsx)(v.Button,{disabled:!f,type:"tertiary",title:n.formatMessage("clearSelected"),icon:!0,size:"sm",onClick:n.handleClearSelectionClick},Object(m.jsx)(v.Icon,{icon:Ze,size:16})))},n.renderList=function(e,t){var o,i,r=n.state,s=r.LayoutEntry,a=r.showSelectionOnly,l=r.widgetRect,c=r.scrollStatus,d=r.autoRefreshLoadingString,u=r.toolsDivWidth,p=r.currentCardSize,h=r.isScrollEnd,g=n.props,f=g.config,v=g.isRTL,b=g.appMode,w=g.showLoading,y=g.theme,x=g.isHeightAuto,I=g.isWidthAuto,C=null==t?void 0:t.status,O=null==e?void 0:e.count;if(n.queryStatus=C,!n.isMount)return!1;C===m.DataSourceStatus.Unloaded?e=void 0:C===m.DataSourceStatus.Loaded&&null!==O&&(n.totalCount!==O&&(n.setPageTimeout=setTimeout((function(){n.setState({page:1})}),1)),n.totalCount=O);var j=!1;(w||window.jimuConfig.isInBuilder&&!s||e&&C===m.DataSourceStatus.Loading)&&(j=!0);var R=(null==e?void 0:e.getAutoRefreshInterval())||0;n.resetAutoRefreshTimes(j,R),R>0&&n.setRefreshLoadingString(j);var M=et,T=Me(n.props,n.state),z=je(n.paginatorDiv.current,T),L=Te(n.props),k=Re(l,z,L)||1,P=Oe(l,k,n.props),_=l&&l.width||S.h,A=window.jimuConfig.isInBuilder&&b!==m.AppMode.Run?0:P;if(e&&f.isItemStyleConfirm){M=e&&(f.pageStyle===S.k.Scroll?e.getRecordsByPage(1,P*n.state.page):e.getRecordsByPage(n.state.page,P))||[];var E=e.getSelectedRecords();M=a?E:n.initSelectedRecords(M,E)}window.jimuConfig.isInBuilder&&b!==m.AppMode.Run&&!j&&M.length<1&&(M=et),j&&!n.isFirstLoad||(n.records=M),n.isFirstLoad=!1,M.length,n.lastSpace!==f.space&&(n.lastSpace=f.space,n.innerElementType=Object(D.forwardRef)((function(e,t){var o=e.style,i=Ke(e,["style"]);return Object(m.jsx)("div",Ye({ref:t,onMouseMove:n.handleListMouseMove,onMouseLeave:n.handleListMouseLeave,style:Ye(Ye({},o),{height:parseFloat(o.height)-(f.direction===S.f.Horizon?0:f.space)+"px",width:parseFloat(o.width)-(f.direction===S.f.Vertical?0:f.space)+"px"})},i))})));var B={pageStyle:null==f?void 0:f.pageStyle,scrollBarOpen:null==f?void 0:f.scrollBarOpen,direction:null==f?void 0:f.direction,appMode:b,theme:y,isHeightAuto:x,isWidthAuto:I,currentCardSize:p,showTopTools:L,bottomToolH:z,topRightToolW:u,hasRecords:(null!==(i=null===(o=n.records)||void 0===o?void 0:o.length)&&void 0!==i?i:0)>0},N=He(B);return Object(m.jsx)("div",{className:"list-container animation",css:N},L&&n.renderListTopTools(e,C),Object(m.jsx)(re,{className:"widget-list-list",ref:n.listRef,useIsScrolling:!0,outerRef:n.setListOutDivRef,direction:v?"rtl":"ltr",layout:f.direction===S.f.Horizon?"horizontal":"vertical",itemCount:n.records.length,overscanCount:A,itemKey:n.itemKey,width:_,height:k,onItemsRendered:n.onItemsRendered,itemData:n.getItemsByRecords(n.records),innerElementType:n.innerElementType,itemSize:n.itemSize,onScroll:n.handleListScroll},n.itemRender),T&&Object(m.jsx)("div",{ref:n.paginatorDiv},Object(m.jsx)(be,{isRTL:v,totalPage:n.getTotalPage(),currentPage:n._getCurrentPage(),isEditing:n.isEditing(),isScrollEnd:h,pageStyle:f.pageStyle,direction:f.direction,scrollStatus:c,handleScrollUp:n.handleScrollUp,handleScrollDown:n.handleScrollDown,handleSwitchPage:n.handleSwitchPage,formatMessage:n.formatMessage})),window.jimuConfig.isInBuilder&&n.isEditing()&&!(!j&&(!M||M.length<1))&&Object(m.jsx)("div",{className:"editing-mask-list"}),!j&&(!M||M.length<1)&&Object(m.jsx)("div",{className:"tip-mask-list text-center"},n.formatMessage("listNoData")),(j||R>0)&&Object(m.jsx)("div",{className:Object(m.classNames)("position-absolute refresh-loading-con d-flex align-items-center",n.getRefreshLoadingClass())},j&&Object(m.jsx)("div",{className:"loading-con"}),R>0&&Object(m.jsx)("div",{className:"flex-grow-1 auto-refresh-loading"},d)))},n.initSelectedRecords=function(e,t){var n=e||[];return null==t||t.forEach((function(t){var o=!1,i=null==t?void 0:t.getId();null==e||e.forEach((function(e){var t=null==e?void 0:e.getId();i==t&&(o=!0)})),o||n.push(t)})),n},n.setListOutDivRef=function(e){if(e){var t="bottomBoundary"+n.props.id;n.listOutDivRef=e,n.setListDivSize();var o=document.createElement("div");o.id=t,o.className="bottom-boundary";var i,r,s,a,l=n.listOutDivRef.getElementsByTagName("div")[0];n.setScrollContentSize(),l.appendChild(o),i=document.getElementById(t),r=n.listOutDivRef,s=n.intersectionObserverCallback,new IntersectionObserver((function(e,t){var n=e[0].intersectionRatio>0;s&&s(n)}),a||{root:r}).observe(i)}},n.setScrollContentSize=function(){var e;if(n.listOutDivRef){var t=(null===(e=n.props)||void 0===e?void 0:e.config).direction,o=n.listOutDivRef.getElementsByTagName("div")[0];t===S.f.Horizon?o.style.height="100%":o.style.width="100%"}},n.intersectionObserverCallback=function(e){var t,o,i=n.props,r=i.appMode,s=i.config,a=n.listOutDivRef,l=n.state.datasource;n.setState({isScrollEnd:e}),!a||(null!==(o=null===(t=n.records)||void 0===t?void 0:t.length)&&void 0!==o?o:0)<1||s.pageStyle===S.k.Scroll&&n.queryStatus!==m.DataSourceStatus.Loading&&l&&(!window.jimuConfig.isInBuilder||r===m.AppMode.Run&&e)&&n.isHasScrolled&&(n.records.length<n.getTotalCount()?(n.setState({page:n.state.page+1,scrollStatus:"end"}),n.isSwitchPage=!0):n.setState({scrollStatus:"end"}))},n.setListDivSize=function(){var e,t=n.listOutDivRef,o=(null==t?void 0:t.clientWidth)||null,i=(null==t?void 0:t.clientHeight)||null,r=(null===(e=n.listTopRightToolsDiv.current)||void 0===e?void 0:e.clientWidth)||0,s=(null==t?void 0:t.getBoundingClientRect())||null,a={clientWidth:o,clientHeight:i};n.setState({listDivSize:a,toolsDivWidth:r,listDivBoundRect:s})},n.getRefreshLoadingClass=function(){var e=n.props,t=e.config,o=e.appMode,i=t.direction,r=t.scrollBarOpen,s=window.jimuConfig.isInBuilder&&o===m.AppMode.Design;return!r||s?"":i==S.f.Vertical?"vertical-loading":"horizon-loading"},n.resetAutoRefreshTimes=function(e,t){void 0===e&&(e=!1);var o=n;clearTimeout(n.resetAutoRefreshTime),t<=0&&clearInterval(n.autoRefreshLoadingTime),n.resetAutoRefreshTime=setTimeout((function(){e&&t>0&&o.setState({autoRefreshLoadingString:o.formatMessage("lastUpdateAFewTime")}),o.setState({showLoading:e})}),0)},n.setRefreshLoadingString=function(e){if(void 0===e&&(e=!1),!e)return!1;var t=0,o=n;clearInterval(n.autoRefreshLoadingTime),n.autoRefreshLoadingTime=setInterval((function(){t++,o.setState({autoRefreshLoadingString:o.getLoadingString(t)})}),6e4)},n.getLoadingString=function(e){var t=n.formatMessage("lastUpdateAFewTime");return e>1&&e<=2?t=n.formatMessage("lastUpdateAMinute"):e>2&&(t=n.formatMessage("lastUpdateTime",{updateTime:e})),t},n.onItemsRendered=function(e){e.overscanStartIndex,e.overscanStopIndex;var t=e.visibleStartIndex,o=e.visibleStopIndex;n.listVisibleStartIndex=t,n.listVisibleStopIndex=o;var i=n.props.config;n.needRefreshListOnListRendered&&(n.needRefreshListOnListRendered=!1,n.refreshList()),n.isSwitchPage&&(i.pageStyle===S.k.Scroll?n.records.length>o+1&&(n.isSwitchPage=!1,n.onItemsRenderedTimeout=setTimeout((function(){n.handleScrollDown(null)}),500)):n.isSwitchPage=!1)},n.itemSize=function(e){var t=n.props.config,o=n.state.currentCardSize;return t.direction===S.f.Horizon?o.width+t.space:o.height+t.space},n.getItemsByRecords=function(e){var t=n.props,o=t.config,i=t.selectionIsInSelf,r=t.selectionIsSelf,s=t.builderStatus,a=t.appMode,l=t.queryObject,c=t.useDataSources,d=n.state,u=d.datasource,p=d.hoverIndex,h=(u&&o.isItemStyleConfirm?u.getSelectedRecordIds():[]).map((function(e){return e+""}));return e&&e.map((function(e,t){var d=0===t&&window.jimuConfig.isInBuilder&&a===m.AppMode.Design?{hideCardTool:n.state.hideCardTool,selectionIsList:r,selectionIsInList:i,isEditing:n.isEditing(),builderStatus:s,lockItemRatio:o.lockItemRatio,changeIsResizingCard:n.changeIsResizingCard}:{linkParam:o.linkParam,queryObject:l,useDataSources:c};return Ye(Ye({index:t,isHover:p===t,record:o.isItemStyleConfirm?e:void 0,active:!e.fake&&o.isItemStyleConfirm&&u&&h.indexOf(e.getId())>-1},n.getOtherProps()),d)}))},n.getOtherProps=function(){var e=n.props,t=e.config,o=e.theme,i=e.id,r=e.appMode,s=e.builderSupportModules,a=e.layouts,l=e.browserSizeMode,c=e.dispatch,d=e.isRTL,u=n.state.datasource;return{browserSizeMode:l,space:t.space,isRTL:d,builderSupportModules:s,formatMessage:n.formatMessage,dispatch:c,widgetId:i,interact:window.jimuConfig.isInBuilder&&s.widgetModules.interact,selectCard:n.selectCard,handleResizeCard:n.handleResizeCard,appMode:r,onChange:n.handleItemChange,hoverLayoutOpen:t.cardConfigs[S.m.Hover].enable,selectable:t.cardConfigs[S.m.Selected].selectionMode!==S.l.None,direction:t.direction,theme:o,LayoutEntry:n.state.LayoutEntry,layouts:a,cardConfigs:t.cardConfigs,datasourceId:u&&u.id}},n.itemRender=function(e){var t=e.style,o=e.index,i=e.data,r=n.props,s=r.appMode,a=r.config;t=a.direction===S.f.Horizon?Ye(Ye({},t),{width:parseFloat(t.width)-a.space+"px"}):Ye(Ye({},t),{height:parseFloat(t.height)-a.space+"px"});var l=0===o&&window.jimuConfig.isInBuilder&&s===m.AppMode.Design?k:A;return Object(m.jsx)(l,Ye({listStyle:t,widgetId:n.props.id},i[o]))},n.itemKey=function(e){var t=n.records[e];return""+(t.getId&&t.getId()||e)};var o=t.config;n.paginatorDiv=m.React.createRef(),n.listTopRightToolsDiv=m.React.createRef();var i={LayoutEntry:null,page:1,sortOptionName:o.sorts&&o.sorts[0]&&o.sorts[0].ruleOptionName,currentCardSize:Ce(t),forceShowMask:!1,showList:!0,widgetRect:void 0,searchText:"",currentFilter:void 0,filterApplied:!1,showSelectionOnly:!1,hideCardTool:!1,scrollStatus:"start",datasource:void 0,hoverIndex:-1,isScrolling:!1,isScrollSpeedOver:!1,isResizingCard:!1,searchSuggestion:[],isSearchBoxVisible:!1,isOpenTopToolsPopper:!1,latestUpdateTime:0,showLoading:!1,autoRefreshLoadingString:"",listDivSize:{clientWidth:null,clientHeight:null},toolsDivWidth:null,listDivBoundRect:null,isScrollEnd:!1};return n.selectSelf=n.selectSelf.bind(n),n.handleResizeCard=n.handleResizeCard.bind(n),n.listRef=m.React.createRef(),window.jimuConfig.isInBuilder?i.LayoutEntry=n.props.builderSupportModules.LayoutEntry:i.LayoutEntry=b.FixedLayoutViewer,n.state=i,n.onResize=n.onResize.bind(n),n.changeIsResizingCard=n.changeIsResizingCard.bind(n),n.setRefreshLoadingString=n.setRefreshLoadingString.bind(n),n.resetAutoRefreshTimes=n.resetAutoRefreshTimes.bind(n),n.debounceOnResize=m.lodash.debounce((function(e,t){return n.onResize(e,t)}),200),n}return Qe(t,e),t.prototype.componentDidMount=function(){this.isMount=!0},t.prototype.componentWillUnmount=function(){clearTimeout(this.resizeTimeout),clearTimeout(this.updateCardToolTimeout),clearTimeout(this.mouseClickTimeout),clearTimeout(this.suggestionsQueryTimeout),clearTimeout(this.showPopperTimeOut),clearTimeout(this.resetAutoRefreshTime),clearTimeout(this.setPageTimeout),clearTimeout(this.onItemsRenderedTimeout),clearInterval(this.autoRefreshLoadingTime),this.isMount=!1},t.prototype.componentDidUpdate=function(e,t){var n,o,i=this,r=this.props,s=r.config,a=r.appMode,l=r.top,c=r.left,d=r.selectionIsSelf,u=r.selectionStatus,p=r.builderStatus,h=r.isHeightAuto,g=this.state,f=g.datasource,v=g.listDivSize;if(window.jimuConfig.isInBuilder&&a!==m.AppMode.Run||f&&s.cardConfigs[S.m.Selected].selectionMode!==S.l.None&&this.scrollToSelectedItems(f),window.jimuConfig.isInBuilder){var b=!1,w=!1,y=Ce(this.props),x=Ce(e);if(this.updateScrollContentSize(e.config),s.direction!==e.config.direction||!xe(x,y,s.direction)||l!==e.top||c!==e.left)if(w=!0,xe(x,y,s.direction))s.direction!==e.config.direction&&this.handleResizeCard(this.state.currentCardSize,!0,!1,!1,!0);else{var I={currentCardSize:y};b=!0,this.setState(I,(function(){b&&i.refreshList()}))}b||Ie(s.space,e.config.space)&&s.direction===e.config.direction||(b=!0,this.refreshList()),s.pageStyle!==e.config.pageStyle&&this.setState({page:1});var C=this.props.useDataSources,O=e.useDataSources;if(C&&C[0]){var j=O&&O[0];j&&j.dataSourceId===C[0].dataSourceId||this.setState({page:1})}else this.setState({datasource:void 0});var R=Me(this.props,this.state),M=Me(e,t),T=Te(this.props),z=Te(e);if(R!==M||T!==z)if(h)w=!0;else if(s.direction===S.f.Horizon){var L=(null===(n=this.state.widgetRect)||void 0===n?void 0:n.height)||(null==v?void 0:v.clientHeight);if((L-=je(this.paginatorDiv.current,R)+(T?1:0)*S.e)<S.h)return;var k={height:L,width:y.width};this.handleResizeCard(k,!0,!1,!1,!0)}if(w&&this.updateCardToolPosition(),s.sortOpen)s.sorts!==e.config.sorts&&this.setState({sortOptionName:void 0});if(s.filterOpen)s.filter!==e.config.filter&&this.setState({currentFilter:void 0,filterApplied:!1});s.cardConfigs[S.m.Selected].selectionMode!==e.config.cardConfigs[S.m.Selected].selectionMode&&this.selectRecords([])}e.appMode!=a&&(a===m.AppMode.Run?this.editBuilderAndSettingStatus(S.m.Regular):(u!==p&&(u?this.editBuilderAndSettingStatus(u):d||this.editBuilderAndSettingStatus(S.m.Regular)),this.setState({showSelectionOnly:!1,searchText:void 0,filterApplied:!1,hoverIndex:-1},(function(){i.scrollToIndex(0)})))),(null==e?void 0:e.selectionIsInSelf)!==(null===(o=this.props)||void 0===o?void 0:o.selectionIsInSelf)&&this.setSelectionStatus()},t.prototype.changeIsResizingCard=function(e){this.setState({isResizingCard:e})},t.prototype.handleResizeCard=function(e,t,n,o,i){var r=this;void 0===t&&(t=!1),void 0===i&&(i=!1),t?(e.width=parseFloat(e.width.toFixed(2)),e.height=parseFloat(e.height.toFixed(2)),window.jimuConfig.isInBuilder&&this.props.builderSupportModules.widgetModules.handleResizeCard(this.props,e,n,o,t,i)):this.setState({currentCardSize:e},(function(){r.refreshList(!1)}))},t.prototype.selectSelf=function(){window.jimuConfig.isInBuilder&&this.props.builderSupportModules.widgetModules.selectSelf(this.props)},t.prototype.getOutputDs=function(){var e=this.props.outputDataSources&&this.props.outputDataSources[0],t=this.props.useDataSources&&this.props.useDataSources[0];if(e&&t)return m.DataSourceManager.getInstance().getDataSource(e)},t.prototype.render=function(){var e=this,t=this.props,o=t.config,i=t.id,r=t.appMode,s=t.browserSizeMode,a=t.selectionIsInSelf,l=t.selectionIsSelf,c=t.useDataSources,d=t.builderStatus,u=t.layouts,p=Object(m.getAppStore)().getState().appConfig,h=this.state,g=h.forceShowMask,f=h.datasource,S=h.widgetRect,w=h.page,y=window.jimuConfig.isInBuilder,x=Object(m.classNames)("jimu-widget","widget-list","list-widget-"+i);if(!o.itemStyle)return Object(m.jsx)(v.WidgetPlaceholder,{widgetId:this.props.id,icon:n(238),message:this.formatMessage("placeHolderTip")});var I=Me(this.props,this.state),C=Oe(S,Re(S,je(this.paginatorDiv.current,I),Te(this.props)),this.props),O=function(e,t,n){var o,i,r,s={returnGeometry:!0},a=t.config,l=t.stateProps,c=t.useDataSources,d=e.sortOptionName,u=e.searchText,p=e.currentFilter,h=e.filterApplied,g=e.datasource,f=c&&c[0];if(!g||!f)return null;if(!g.query)return null;if(a.sortOpen&&a.sorts&&((null===(i=null===(o=null==(r=(r=a.sorts.find((function(e){return e.ruleOptionName===d})))||a.sorts[0])?void 0:r.rule)||void 0===o?void 0:o[0])||void 0===i?void 0:i.jimuFieldName)||(r=void 0),r)){var v=[];r.rule.forEach((function(e){e.jimuFieldName&&v.push(e.jimuFieldName+" "+e.order)})),(null==g?void 0:g.type)===m.DataSourceTypes.FeatureLayer?s.orderByFields=v.join(","):s.orderByFields=v}if(a.filterOpen&&h&&a.filter&&p&&p.sql&&(s.where=(s.where||"1=1")+" AND ",s.where+="("+p.sql+")"),l){var S=null==l?void 0:l[m.MessageType.ExtentChange];S&&(s.geometry=S.queryExtent,S.querySQL&&(s.where=(s.where||"1=1")+" AND ",s.where+="("+S.querySQL+")"));var b=l[m.MessageType.DataRecordsSelectionChange];b&&b.querySQL&&(s.where=(s.where||"1=1")+" AND ",s.where+="("+b.querySQL+")")}return a.searchOpen&&a.searchFields&&u&&(s.where=(s.where||"1=1")+" AND ",s.where+="("+a.searchFields.split(",").map((function(e){return a.searchExact?e+" = '"+u+"'":e+" LIKE '%"+u+"%'"})).join(" OR ")+")"),n>0&&(s.page=e.page,s.pageSize=n),s}(this.state,this.props,C);if(!function(e,t,n){return!!n&&(e=n.getRealQueryParams(e,"query"),t=n.getRealQueryParams(t,"query"),!(!e||!t)&&(delete e.page,delete e.pageSize,delete e.resultOffset,delete e.resultRecordCount,delete t.page,delete t.pageSize,delete t.resultOffset,delete t.resultRecordCount,m.utils.isDeepEqual(e,t)))}(O,this.lastQuery,f)&&1!==w){var j=O;O=this.lastQuery,this.lastQuery=j,this.setState({page:1})}var R=p.layouts[b.searchUtils.findLayoutId(u[d],s,p.mainSizeMode)],M=R&&R.type;return Object(m.jsx)("div",{className:x,css:Fe(this.props,this.isEditing(),I),onPointerDown:function(t){return y&&r!==m.AppMode.Run&&!l&&!a&&e.handleListPointerDown(t)}},Object(m.jsx)("div",{className:"widget-list d-flex"},this.isDsConfigured()?Object(m.jsx)(m.DataSourceComponent,{query:f?O:null,useDataSource:c&&c[0],onDataSourceCreated:this.onDSCreated,widgetId:this.props.id,queryCount:!0},this.renderList):this.renderList()),y&&r!==m.AppMode.Run&&(g||!a&&!l||!o.isItemStyleConfirm&&M)&&Object(m.jsx)("div",{className:"list-with-mask"}),Object(m.jsx)(m.ReactResizeDetector,{handleWidth:!0,handleHeight:!0,onResize:this.debounceOnResize}))},t.versionManager=Ge,t.mapExtraStateProps=function(e,t){var n,o,i,r,s,a,l,c,d,u,p,h,g,f,m,v=e&&e.appConfig,w=t.layouts,y=t.layoutId,x=t.layoutItemId,I=t.builderSupportModules,C=t.id,O=e&&e.browserSizeMode,j=e&&e.widgetsState&&e.widgetsState[t.id]&&e.widgetsState[t.id].builderStatus||S.m.Regular;if(v){var R=v&&e.appConfig.layouts&&e.appConfig.layouts[b.searchUtils.findLayoutId(w[j],O,v.mainSizeMode)];m=R&&R.type}var M=null===(n=v.layouts)||void 0===n?void 0:n[y],T=null===(i=null===(o=null==M?void 0:M.content)||void 0===o?void 0:o[x])||void 0===i?void 0:i.setting,z=(null===(r=null==T?void 0:T.autoProps)||void 0===r?void 0:r.height)===b.LayoutItemSizeModes.Auto||!0===(null===(s=null==T?void 0:T.autoProps)||void 0===s?void 0:s.height),L=(null===(a=null==T?void 0:T.autoProps)||void 0===a?void 0:a.width)===b.LayoutItemSizeModes.Auto||!0===(null===(l=null==T?void 0:T.autoProps)||void 0===l?void 0:l.width),k=void 0;if(window.jimuConfig.isInBuilder){var D=null===(p=null===(u=null===(d=null===(c=v.layouts)||void 0===c?void 0:c[y])||void 0===d?void 0:d.content)||void 0===u?void 0:u[x])||void 0===p?void 0:p.bbox;k=D&&{left:D.left,top:D.top}}var P,_=e&&e.appRuntimeInfo&&e.appRuntimeInfo.selection,A=_&&I&&I.widgetModules&&I.widgetModules.selectionInList(_,C,v,!1);return A&&(P=Object.keys(w).find((function(e){return b.searchUtils.findLayoutId(w[e],O,v.mainSizeMode)===_.layoutId}))),{selectionIsSelf:!(!_||_.layoutId!==y||_.layoutItemId!==x),selectionIsInSelf:!!A,selectionStatus:P,appMode:null===(h=null==e?void 0:e.appRuntimeInfo)||void 0===h?void 0:h.appMode,browserSizeMode:e&&e.browserSizeMode,builderStatus:e&&e.widgetsState&&e.widgetsState[t.id]&&e.widgetsState[t.id].builderStatus||S.m.Regular,showLoading:null===(f=null===(g=null==e?void 0:e.widgetsState)||void 0===g?void 0:g[t.id])||void 0===f?void 0:f.showLoading,isRTL:e&&e.appContext&&e.appContext.isRTL,subLayoutType:m,left:k&&k.left,top:k&&k.top,isHeightAuto:z,isWidthAuto:L,queryObject:e.queryObject}},t}(m.React.PureComponent);t.default=nt},37:function(e,t){e.exports=r},41:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M9.521 5.47L3.981.162a.592.592 0 00-.813 0 .534.534 0 000 .779L8.448 6l-5.28 5.06a.534.534 0 000 .779.592.592 0 00.813 0l5.54-5.31a.726.726 0 000-1.058z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},45:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M2.479 5.47L8.019.162a.592.592 0 01.813 0 .534.534 0 010 .779L3.552 6l5.28 5.06a.534.534 0 010 .779.592.592 0 01-.813 0l-5.54-5.31a.726.726 0 010-1.058z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},5:function(e,t){e.exports=o},50:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M5.47 9.521L.162 3.981a.592.592 0 010-.813.534.534 0 01.779 0L6 8.448l5.06-5.28a.534.534 0 01.779 0 .592.592 0 010 .813l-5.31 5.54a.726.726 0 01-1.058 0z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},51:function(e,t){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M5.47 3.229L.162 8.769a.592.592 0 000 .813.534.534 0 00.779 0L6 4.302l5.06 5.28a.534.534 0 00.779 0 .592.592 0 000-.813l-5.31-5.54a.726.726 0 00-1.058 0z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},56:function(e,t){e.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><path d="M7.745 7l4.1 4.1a.527.527 0 01-.745.746L7 7.746l-4.1 4.1a.527.527 0 01-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 01.746-.746l4.1 4.1 4.1-4.1a.527.527 0 01.746.746L7.746 7z" fill="#000"></path><path d="M1 1h12v12H1z"></path></g></svg>'},75:function(e,t,n){"use strict";t.a={_widgetLabel:"List",_widgetDescription:"A widget to display data in a list view.",_action_filter_label:"Filter",_layout_REGULAR_label:"Regular",_layout_HOVER_label:"Hover",_layout_SELECTED_label:"Selected",applyTo:"Apply to {status}",listLoading:"Loading",pleaseSelect:"Please select",listNoData:"No data",selectSortFields:"Select sorting fields",clearFilter:"Clear filter",clearSelection:"Clear selection",isolate:"Isolate",linkedToAnd:"Linked to {where1} and {where2}",linkedTo:"Linked to {where}",placeHolderTip:"Please select a list template.",showSelected:"Show selected",clearSelected:"Clear selected",listSorting:"Sorting",listSort:"Sort",lastUpdateTime:"Last update: {updateTime} minutes ago",lastUpdateAMinute:"Last update: a minute ago",lastUpdateAFewTime:"Last update: a few seconds ago",guideStep2Title:"Template",guideStep2Content:"Click on a template and click start.",guideStep3Title:"Data",guideStep3Content:"Click on select data to add a data source.",guideStep4Title:"Add new data",guideStep4Content:"Click add new data to select a web map.",guideStep5Title:"Select data",guideStep5Content:"Click the feature layer in the select data panel and close the panel.",guideStep6Title:"Data",guideStep6Content:"Specifies the data source, allows you to filter the data and limit the number of features that appear in the list.",guideStep7Title:"Arrangement",guideStep7Content:"Click the expand icon to explore the Arrangement section. In here, it allows you to define the direction, height, spacing, and paging style for your list.",guideStep8Title:"States",guideStep8Content:"Click the expand icon to explore the available States. In this section, it provides a visual representation to communicate the state of the list items. There are three states: regular, selected, and hover. By default, the selected state is always on.",guideStep9Title:"Tools",guideStep9Content:"Click the expand icon to explore the available Tools. In here, you can include search, sort, filter, and show selected tools in your list.",guideStep10Title:"Select image",guideStep10Content:"Click the image widget to configure it in the content panel.",guideStep10Title2:"Image settings",guideStep10Content2:"Allows you to select the image source and other settings for your widget.",guideStep11Title:"Select text",guideStep11Content:"Click the text widget to add attributes in the widget toolbar.",guideStep11Title2:"Text settings",guideStep11Content2:"Provides the configurations and style, including adding dynamic content from the widget toolbar. ",guideStep12Title:"End of tour",guideStep12Content:"Add other widgets to enhance your experience.",clearSearch:"Clear search",minimize:"Minimize",topToolBack:"Back"}},76:function(e,t,n){"use strict";var o,i,r=n(0),s=n(1),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},c=function(e){function t(t){var n=e.call(this,t)||this;n.onDropDownToggle=function(e){e.stopPropagation();var t=n.props,o=t.isDropDownOpen,i=t.onDropDownOpenChange;if(void 0!==o)i&&i(!o);else{var r=n.state.isOpen;n.setState({isOpen:!r})}},n.onItemClick=function(e,t){var o=n.props,i=o.isDropDownOpen,r=o.onDropDownOpenChange;void 0!==i?r&&r(!1):n.setState({isOpen:!1}),t.event(e,t),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},n.onDropDownMouseClick=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},n.getStyle=function(){return Object(r.css)(i||(i=l(["\n      & button {\n        padding: 0\n      }\n    "],["\n      & button {\n        padding: 0\n      }\n    "])))},n.state={isOpen:!1};var o=t.withBuilderStyle;return n.MyDropdown=o?o(s.Dropdown):s.Dropdown,n.MyDropdownToggle=o?o(s.DropdownToggle):s.DropdownToggle,n.MyDropdownMenu=o?o(s.DropdownMenu):s.DropdownMenu,n.MyDropdownItem=o?o(s.DropdownItem):s.DropdownItem,n}return a(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.items,o=t.toggleContent,i=t.caret,s=t.toggleType,a=t.menuContent,l=t.appMode,c=t.modifiers,d=t.toggleIsIcon,u=t.theme,p=t.isDropDownOpen,h=t.size,g=t.appendToBody,f=t.toggleTitle,m=t.direction,v=t.menuCss,S=t.className,b=t.showActive,w=t.activeLabel,y=t.fluid,x=this.state.isOpen;x=void 0===p?x:p;var I=this.MyDropdown,C=this.MyDropdownToggle,O=this.MyDropdownMenu,j=this.MyDropdownItem;return Object(r.jsx)(I,{size:h,toggle:this.onDropDownToggle,direction:m,fluid:y,isOpen:x&&l!==r.AppMode.Design,className:"my-dropdown "+S,css:this.getStyle()},o&&Object(r.jsx)(C,{icon:d,title:f,size:h,type:s,caret:i},o&&o(u)),Object(r.jsx)(O,{appendToBody:g,modifiers:c,css:v&&v(u)},a?a(u):n&&n.asMutable().map((function(t,n){return!t.hide&&Object(r.jsx)(j,{key:n,className:"no-user-select",title:t.label,active:b&&t.label===w,onClick:function(n){return e.onItemClick(n,t)}},t.label)}))))},t}(r.React.PureComponent);t.a=c},79:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M7 1a6 6 0 100 12A6 6 0 007 1zm0 13a7 7 0 115.621-2.828l-.222.284 3.405 3.404a.668.668 0 01-.944.944L11.456 12.4A6.974 6.974 0 017 14z" fill="#000" fill-rule="evenodd"></path></svg>'},88:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M3.433.822l8 13.856-.866.5L9.31 13H1.5v-3h1v2h6.232L4.114 4H2.5v2h.95l-1.5 2-1.5-2H1.5V3h2.036l-.97-1.678.867-.5zM14.049 8l1.5 2H14.5v3h-3.035l-.576-1H13.5v-2h-.951l1.5-2zm.451-5v3h-1V4H6.268L5.69 3h8.81z" fill="#FFF" fill-rule="evenodd"></path></svg>'},89:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.049 8l1.5 2h-1.05v3H1.502v-3H2.5v2h11v-2h-.951l1.5-2zm.451-5v3h-1V4h-11v2h.951l-1.5 2-1.5-2h1.05V3h13z" fill="#FFF" fill-rule="evenodd"></path></svg>'},92:function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M15 0v1.53h-.062L9.556 6.825v7.982a.5.5 0 01-.851.356l-2.26-2.224V6.818L1.07 1.53H1V0h14zm-1 1H2v.042l5.444 5.357v6.121l1.111 1.093V6.406L14 1.05V1z" fill="#C5C5C5" fill-rule="nonzero"></path><circle cx="3" cy="3" r="3" transform="translate(15 -5)" fill="#050505"></circle></g></svg>'}}))}}}));
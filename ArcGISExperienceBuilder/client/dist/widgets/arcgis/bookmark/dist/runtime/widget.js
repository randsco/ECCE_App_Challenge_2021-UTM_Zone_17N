System.register(["jimu-core","jimu-ui","jimu-arcgis","jimu-layouts/layout-runtime","jimu-core/react"],(function(e){var n,t,i,o,a;return{setters:[function(e){n=e},function(e){t=e},function(e){i=e},function(e){o=e},function(e){a=e}],execute:function(){e(function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=394)}({0:function(e,t){e.exports=n},1:function(e,n){e.exports=t},144:function(e,n){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 32"><path d="M10.942 1.099c2.56-.213 5.227.64 7.36 2.133 3.2 2.24 5.12 6.187 4.587 10.027-.32 2.24-1.28 4.373-2.347 6.4-2.027 3.733-4.693 7.04-7.467 10.24-.32.32-.533.64-.853.853-.427.427-1.173.32-1.493-.107-2.027-2.24-3.947-4.587-5.653-7.04-1.493-2.133-2.88-4.373-3.84-6.827-.533-1.28-.96-2.667-.96-4.053-.107-2.667.747-5.44 2.56-7.573 1.92-2.453 4.907-3.84 8.107-4.053zM9.556 3.232c-2.027.427-3.947 1.6-5.227 3.2a8.366 8.366 0 00-2.027 5.44c0 1.813.64 3.52 1.28 5.12a33.403 33.403 0 003.84 6.187 48.471 48.471 0 004.16 5.12c2.56-2.88 5.013-5.973 6.933-9.387.96-1.707 1.813-3.413 2.24-5.333s0-3.84-.853-5.547c-.96-1.813-2.56-3.307-4.373-4.16-1.92-.853-4.053-.96-5.973-.64zm1.493 2.347c1.6-.213 3.2.32 4.373 1.387 1.173.96 1.813 2.453 1.92 3.947s-.533 2.88-1.493 3.947c-1.067 1.173-2.56 1.813-4.16 1.813-1.493 0-3.093-.64-4.16-1.707-.96-.853-1.6-2.347-1.6-3.733 0-1.493.533-2.987 1.6-3.947.96-1.067 2.133-1.6 3.52-1.707zm-.213 2.133c-1.28.213-2.347 1.28-2.667 2.56-.32 1.173 0 2.347.747 3.2 1.173 1.28 3.2 1.6 4.693.64 1.387-.853 2.027-2.667 1.387-4.16-.533-1.707-2.453-2.667-4.16-2.24z"></path></svg>'},145:function(e,n){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M16 0C7.2 0 0 7.2 0 16s7.2 16 16 16 16-7.2 16-16S24.8 0 16 0zm-3.2 23.2V8.8l9.6 7.2-9.6 7.2z"></path></svg>'},146:function(e,n){e.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 16.629C8 17.386 7.463 18 6.8 18H4.2c-.663 0-1.2-.614-1.2-1.371V3.37C3 2.614 3.537 2 4.2 2h2.6C7.463 2 8 2.614 8 3.371V16.63zM18 3.37C18 2.614 17.463 2 16.8 2h-2.6c-.663 0-1.2.614-1.2 1.371V16.63c0 .757.537 1.371 1.2 1.371h2.6c.663 0 1.2-.614 1.2-1.371V3.37z" fill="#FFF" fill-rule="nonzero"></path></svg>'},147:function(e,n){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjU2cHgiIGhlaWdodD0iMjU2cHgiIHZpZXdCb3g9IjAgMCAyNTYgMjU2IiB2ZXJzaW9uPSIxLjEiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNjAgKDg4MTAzKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4NCiAgICA8dGl0bGU+aWNvbi1pbWFnZTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IkJhc2ljcy1TcGVjaWZpY2F0aW9uIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IlBsYWNlaG9sZGVycyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE2Ny4wMDAwMDAsIC02NTcuMDAwMDAwKSIgZmlsbD0iI0M1QzVDNSI+DQogICAgICAgICAgICA8ZyBpZD0iQ29tYmluZWQtU2hhcGUtQ29weS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjcuMDAwMDAwLCA2NTcuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE3My43MTQyODYsODkgTDI1NiwxOTggTDAsMTk4IEw2NCwxMTYuMjUgTDEwOS43MTQyODYsMTcwLjc1IEwxNzMuNzE0Mjg2LDg5IFogTTk5LDU4IEMxMDcuODM2NTU2LDU4IDExNSw2NS4xNjM0NDQgMTE1LDc0IEMxMTUsODIuODM2NTU2IDEwNy44MzY1NTYsOTAgOTksOTAgQzkwLjE2MzQ0NCw5MCA4Myw4Mi44MzY1NTYgODMsNzQgQzgzLDY1LjE2MzQ0NCA5MC4xNjM0NDQsNTggOTksNTggWiIgaWQ9IkNvbWJpbmVkLVNoYXBlLUNvcHkiLz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},16:function(e,n){e.exports=a},394:function(e,n,t){"use strict";t.r(n),t.d(n,"Widget",(function(){return O}));var i,o,a=t(0),r=t(1),s=t(6),l={_widgetLabel:"Bookmark",_widgetDescription:"A widget identify specific geographic locations and save to refer later.",addBookmark:"Add bookmark",autoPlay:"Auto Play",layoutTips:"This is the customizable area",bookmarkList:"Bookmark list",graphicLayer:"Bookmark graphics layer"},d=t(16),c=t(4),p=t(5),m=(i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),u=new(function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.versions=[{version:"1.2.0",description:"1.2.0",upgrader:function(e){var n=e;return n.bookmarks?(n.bookmarks.forEach((function(e,t){Object.keys(e.layersConfig||{}).forEach((function(i){var o=e.layersConfig[i];n=n.setIn(["bookmarks",t,"layersConfig",i],{visibility:o})}))})),n):n}}],n}return m(n,e),n}(a.BaseVersionManager)),g=function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(n,t)};return function(n,t){function i(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}(),b=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},h=t(69),v=t(144),x=t(145),f=t(146),k=t(50),y=t(51),j=t(45),w=t(41),O=function(e){function n(n){var i=e.call(this,n)||this;i.Graphic=null,i.GraphicsLayer=null,i.Extent=null,i.Viewpoint=null,i.Basemap=null,i.autoOffCondition=function(e){var n,t,o=i.props,r=o.config,l=o.appMode,d=o.browserSizeMode,c=r.pageStyle,p=r.autoPlayAllow,m=r.autoInterval,u=r.autoLoopAllow,g=d!==e.browserSizeMode,b=m!==(null===(n=e.config)||void 0===n?void 0:n.autoInterval)||u!==(null===(t=e.config)||void 0===t?void 0:t.autoLoopAllow);return l===a.AppMode.Design||c===s.d.Scroll||!1===p||b||g},i.getRuntimeUuid=function(){var e=i.props,n=e.id,t=e.mapWidgetId;return a.utils.getLocalStorageAppKey()+"-"+n+"-"+(t||"default")+"-RtBmArray"},i.settingLayout=function(){var e=i.props,n=e.layoutId,t=e.layoutItemId,o=e.id,r=e.selectionIsSelf,s=i.state.isSetLayout;n&&o&&t&&!s&&r&&(i.props.dispatch(a.appActions.widgetStatePropChange(o,"layoutInfo",{layoutId:n,layoutItemId:t})),i.setState({isSetLayout:!0}))},i.formatMessage=function(e,n){var t=Object.assign({},l,r.defaultMessages,a.defaultMessages);return i.props.intl.formatMessage({id:e,defaultMessage:t[e]},n)},i.isEditing=function(){var e=i.props,n=e.appMode,t=e.config,o=e.selectionIsSelf,r=e.selectionIsInSelf;return!!window.jimuConfig.isInBuilder&&((o||r)&&window.jimuConfig.isInBuilder&&n!==a.AppMode.Run&&t.isTemplateConfirm)},i.handleRuntimeAdd=function(){i.rtBookmarkId++;var e=i.state.jimuMapView;if(e){var n=e.view,t=i.props,o=t.appMode,r=t.id;if(o===a.AppMode.Run){var s=JSON.parse(JSON.stringify(n.map)).operationalLayers,l=i.getLayersConfig(s),d="RtBm-"+a.utils.getUUID(),c={id:d,name:i.formatMessage("_widgetLabel")+"("+i.rtBookmarkId+")",title:i.formatMessage("_widgetLabel")+"-"+i.rtBookmarkId,type:n.type,extent:n.extent.toJSON(),viewpoint:n.viewpoint.toJSON(),showFlag:!0,runTimeFlag:!0,mapViewId:e.id,mapDataSourceId:e.datasourceId,layersConfig:l},p=i.getRuntimeUuid(),m=JSON.parse(localStorage.getItem(p))||[];localStorage.setItem(p,JSON.stringify(m.concat(r+"-"+d))),localStorage.setItem(r+"-"+d,JSON.stringify(c)),i.setState({runtimeBmArray:m.concat(r+"-"+d)})}}},i.getLayersConfig=function(e){var n=function(e,t){return e.map((function(e){t[e.id]={layers:{}};var i=void 0===(null==e?void 0:e.visibility)&&!!(null==e?void 0:e.visible);t[e.id].visibility=i;var o=e.layers||e.sublayers||e.allSublayers;o&&o.length>0&&n(o,t[e.id].layers)})),t};return n(e,{})},i.showLayersConfig=function(e,n,t,i){if(void 0===t&&(t=[]),void 0===i&&(i=!1),!i){var o=function(e,n){e.map((function(e){var i,a,r,s=!(t.findIndex((function(n){return n.id===e.id}))>-1);e.visible=void 0===(null===(i=n[e.id])||void 0===i?void 0:i.visibility)?s:null===(a=n[e.id])||void 0===a?void 0:a.visibility;var l=e.layers||e.sublayers||e.allSublayers,d=null===(r=null==n?void 0:n[e.id])||void 0===r?void 0:r.layers;l&&l.length>0&&d&&Object.keys(d).length>0&&o(l.toArray(),d)}))};o(e,n)}},i.showMapOrgLayer=function(e,n){var t=function(e,n){e.map((function(e){for(var i in n){var o=n[i];if(e.visible=!1,e.id===o.id){e.visible=!0;break}}e.layers&&e.layers.length>0&&t(e.layers.toArray(),n)}))};t(e,n)},i.onViewBookmark=function(e){var n,t;if(e){var o=i.state,r=o.jimuMapView,s=o.viewGroup,l=i.props.id,d=(null===(t=null===(n=i.props)||void 0===n?void 0:n.stateProps)||void 0===t?void 0:t.activeBookmarkId)||0;e&&!e.runTimeFlag&&d!==e.id&&i.props.dispatch(a.appActions.widgetStatePropChange(l,"activeBookmarkId",e.id)),r&&(e&&r.datasourceId!==e.mapDataSourceId?s&&s.switchMap().then((function(){i.viewBookmark(e)})):i.viewBookmark(e))}},i.viewBookmark=function(e){var n,t=i.props,o=t.appMode,r=t.config,l=i.state.jimuMapView,d=e.extent,c=e.viewpoint,p={duration:1e3};if(o===a.AppMode.Run&&l&&l.view){"3d"===l.view.type?l.view.goTo({target:i.Viewpoint.fromJSON(c)},p):l.view.goTo({extent:i.Extent.fromJSON(d)},p),e.baseMap&&(l.view.map.basemap=i.Basemap.fromJSON(e.baseMap));var m=l.view.map.layers.toArray(),u=null===(n=JSON.parse(JSON.stringify(l.view.map)))||void 0===n?void 0:n.operationalLayers,g=l.datasourceId!==e.mapDataSourceId;e.mapOriginFlag?i.showMapOrgLayer(m,e.visibleLayers):i.showLayersConfig(m,e.layersConfig,u,g);var b=e.graphics&&e.graphics.length>0;if(i.graphicsLayerCreated[l.id]){var h=l.view.map.findLayerById(i.graphicsLayerId[l.id]);if(r.displayType===s.b.Selected)h.removeAll(),b&&e.graphics.map((function(e){h.graphics.push(i.Graphic.fromJSON(e))}));else if(i.graphicsPainted[l.id][e.id]){if(b){var v=[];e.graphics.map((function(e){var n=h.graphics.findIndex((function(n){return n.attributes.id===e.attributes.id}));n>-1&&v.push(h.graphics.getItemAt(n))})),h.removeMany(v),e.graphics.map((function(e){h.graphics.push(i.Graphic.fromJSON(e))}))}}else b&&e.graphics.map((function(e){h.graphics.push(i.Graphic.fromJSON(e))})),i.graphicsPainted[l.id][e.id]=!0}else{var x=new i.GraphicsLayer({listMode:"hide",title:i.formatMessage("graphicLayer"),elevationInfo:{mode:"relative-to-scene"}});b&&e.graphics.map((function(e){x.graphics.push(i.Graphic.fromJSON(e))})),l.view.map.add(x),i.graphicsPainted[l.id]={},i.graphicsPainted[l.id][e.id]=!0,i.graphicsLayerId[l.id]=x.id,i.graphicsLayerCreated[l.id]=!0}}},i.getStyle=function(e){var n=i.props,r=n.id,l=n.appMode,d=n.config,c=[s.f.Custom1,s.f.Custom2];return Object(a.css)(o||(o=b(["\n      "," {\n        overflow: ",";\n        height: 100%;\n        width: 100%;\n        .bookmark-title-height{\n          height: 45px;\n        }\n        .bookmark-list-height {\n          height: calc(100% - 45px);\n          overflow-y: ",";\n        }\n        .bookmark-title {\n          flex-grow: 1;\n          padding: 0 15px;\n          line-height: 45px;\n          font-size: ",";\n        }\n        .bookmark-btn-container {\n          width: 32px;\n          height: 32px;\n        }\n        .bookmark-btn {\n          font-weight: bold;\n          font-size: ",";\n        }\n        .bookmark-view-auto {\n          overflow-y: ",";\n        }\n        .gallery-card-add {\n          cursor: pointer;\n          min-width: 200px;\n          height: 189px;\n          display: grid;\n          border: 1px solid ",";\n          background: ",";\n          margin: ",";\n        }\n        .card-add {\n          cursor: pointer;\n          height: 159px;\n          display: inline-flex;\n          border: 1px solid ",";\n          background: ",";\n          width: 150px;\n          margin: 15px 10px;\n          position: relative;\n          .add-placeholder {\n            height: 120px;\n          }\n        }\n        .list-add {\n          cursor: pointer;\n          height: 37px;\n          display: inline-flex;\n          border: 1px solid ",";\n          background: ",";\n          width: calc(100% - 30px);\n          margin: 0 15px 15px;\n          position: relative;\n        }\n        .gallery-add-icon {\n          position: relative;\n          top: 50%;\n          left: 50%;\n          width: 20px;\n          height: 20px;\n          margin-top: -",";\n          margin-left: -",";\n        }\n        .bookmark-container {\n          ",";\n          width: 100%;\n          color: ",";\n          .bookmark-runtimeSeparator {\n            margin: 10px 15px 15px;\n            border: 1px dashed ",";\n          }\n          .widget-card-content {\n            padding: 8px 9px !important;\n          }\n          .bookmark-card-col {\n            width: 170px;\n            padding: 10px 10px 0;\n            position: relative;\n            .widget-card-image-inner {\n              width: 148px;\n              height: 120px;\n            }\n            .card-inner {\n              transition: all 0.5s;\n            }\n          }\n          .bookmark-list-col {\n            padding: "," 0;\n            align-items: center !important;\n            margin: 8px 15px 0;\n          }\n          .bookmark-pointer {\n            cursor: pointer;\n            &:hover {\n              background: ",";\n            }\n          }\n          .bookmark-only-pointer {\n            cursor: pointer;\n          }\n          .bookmark-custom-pointer {\n            cursor: pointer;\n            border: 1px solid ",";\n            ","\n            ","\n            ","\n          }\n          .layout-height{\n            height: "," !important;\n          }\n          .border-none {\n            border: none !important;\n          }\n          .runtime-bookmarkCard {\n            .runtimeBookmarkCard-upload,\n            .runtimeBookmarkCard-operation {\n              display: none;\n            }\n            &:hover {\n              .runtimeBookmarkCard-operation {\n                display: block;\n                position: absolute;\n                right: 10px;\n                background: ",";\n                opacity: 0.9;\n              }\n              .runtimeBookmarkCard-upload {\n                display: block;\n                position: absolute;\n                right: 10px;\n                bottom: 48px;\n                background: ",";\n                opacity: 0.9;\n              }\n            }\n          }\n          .runtime-bookmarkList {\n            display: inline-block !important;\n            width: calc(100% - 30px);\n            padding: "," 0;\n            margin: 0 15px 6px;\n            align-items: center !important;\n            .runtimeBookmarkList-operation {\n              margin-right: 15px;\n              display: none;\n              height: 28px;\n            }\n            &:hover {\n              .runtimeBookmarkList-operation {\n                display: block;\n              }\n            }\n          }\n          .runtime-title-con {\n            padding: 4px 0 !important;\n          }\n          .runtime-title {\n            width: auto;\n            border: none;\n            background-color: transparent;\n            display: inline-block !important;\n            height: 29px;\n            &:focus {\n              border: 1px solid ",";\n            }\n            &:hover {\n              border: 1px solid ",";\n            }\n          }\n          .suspension-drop-btn{\n            border-radius: 12px;\n            border: 0;\n          }\n          .suspension-drop-placeholder{\n            width: 32px;\n          }\n          .suspension-nav-placeholder1{\n            height: 32px;\n            width: 60px;\n          }\n          .suspension-nav-placeholder2{\n            height: 24px;\n            width: 100px;\n          }\n          .suspension-noborder-btn{\n            border: 0;\n            padding-left: ",";\n          }\n          .suspension-tools-top {\n            position: absolute;\n            top: 5px;\n            left: 5px;\n            z-index: 1;\n            .caret-icon {\n              margin-left: ",";\n            }\n          }\n          .suspension-top-number {\n            position: absolute;\n            top: 5px;\n            right: 5px;\n            background: ",";\n            border-radius: 10px;\n            opacity: 0.8;\n            width: 40px;\n            text-align: center;\n            z-index: 1;\n          }\n          .suspension-tools-middle {\n            display: flex;\n            width: 100%;\n            padding: 0 ",";\n            position: absolute;\n            top: 50%;\n            margin-top: ",";\n            z-index: 1;\n            .middle-nav-group button {\n              background: ",";\n              opacity: 0.8;\n              border-radius: 50%;\n            }\n          }\n          .suspension-middle-play {\n            position: absolute;\n            right: 5px;\n            bottom: 20px;\n            z-index: 2;\n          }\n          .suspension-navbar {\n            display: flex;\n            width: 100%;\n            padding: 0 ",";\n            position: absolute;\n            top: 50%;\n            z-index: 1;\n            .navbar-btn-pre{\n              position: absolute;\n              left: 5px;\n              border-radius: 50%;\n            }\n            .navbar-btn-next{\n              position: absolute;\n              right: 5px;\n              border-radius: 50%;\n            }\n          }\n          .suspension-navbar-verticle {\n            display: flex;\n            height: 100%;\n            position: absolute;\n            top: 0;\n            left: 50%;\n            z-index: 1;\n            margin-left: -13px;\n            .navbar-btn-pre{\n              position: absolute;\n              top: 5px;\n              border-radius: 50%;\n            }\n            .navbar-btn-next{\n              position: absolute;\n              bottom: 5px;\n              border-radius: 50%;\n            }\n          }\n          .suspension-tools-text {\n            display: flex;\n            width: 100%;\n            padding: ",";\n            position: absolute;\n            border-top: 1px solid ",";\n            bottom: 0;\n            z-index: 1;\n            .caret-icon {\n              margin-left: ",";\n            }\n            .nav-btn-text {\n              width: 100px;\n            }\n          }\n          .suspension-tools-bottom {\n            display: flex;\n            width: 100%;\n            padding: 0 ",";\n            position: absolute;\n            bottom: 5px;\n            z-index: 1;\n            .caret-icon {\n              margin-left: ",";\n            }\n            .scroll-navigator {\n              .btn {\n                border-radius: ",";\n              }\n            }\n            .nav-btn-bottom {\n              width: ",";\n              border-radius: 16px;\n              opacity: 0.8;\n              background: ",";\n            }\n            .number-count {\n              border-radius: 10px;\n              opacity: 0.8;\n              background: ",";\n              width: 40px;\n              text-align: center;\n            }\n          }\n          .bookmark-slide {\n            position: absolute;\n            bottom: ",";\n            opacity: 0.8;\n            background: ",";\n            width: calc(100% - 2px);\n            z-index: 1;\n            padding: ",";\n            .bookmark-slide-title {\n              font-size: ",";\n              font-weight: bold;\n            }\n            .bookmark-slide-description {\n              font-size: ",";\n              max-height: 80px;\n              overflow-y: auto;\n            }\n          }\n          .bookmark-slide-gallery {\n            position: absolute;\n            bottom: ",";\n            opacity: 0.8;\n            background: ",";\n            width: calc(100% - 2px);\n            z-index: 1;\n            padding: ",";\n            .bookmark-slide-title {\n              font-size: ",";\n              font-weight: bold;\n            }\n            .bookmark-slide-description {\n              max-height: 60px;\n              overflow-y: auto;\n              font-size: ",";\n            }\n          }\n          .bookmark-text {\n            background: ",";\n            width: calc(100% - 2px);\n            height: 60%;\n            z-index: 1;\n            padding: ",";\n            .bookmark-text-title {\n              font-size: ",";\n              font-weight: bold;\n            }\n            .bookmark-text-description {\n              height: calc(100% - 75px);\n              overflow-y: auto;\n              font-size: ",";\n            }\n          }\n          .gallery-card {\n            min-width: 200px;\n            min-height: 180px;\n            height: auto;\n            position: relative;\n            padding: ",";\n            margin: ",";\n            .gallery-card-inner {\n              transition: all 0.5s;\n              &:hover {\n                transform: scale(1.05);\n              }\n            }\n            .gallery-card-operation {\n              display: none;\n            }\n            &:hover {\n              .gallery-card-operation {\n                display: block;\n                position: absolute;\n                top: ",";\n                right: ",";\n                background: ",";\n                opacity: 0.9;\n              }\n            }\n            .gallery-img {\n              width: 198px;\n              height: 150px;\n              display: inline-flex;\n            }\n            .gallery-img-vertical {\n              width: 100%;\n              height: 200px;\n            }\n          }\n          .gallery-slide-card {\n            ",";\n            ",";\n            height: calc(100% - ",");\n            position: relative;\n            margin: ",";\n            padding-top: ",";\n            ",";\n            &:first-of-type {\n              margin-top: ",";\n              padding-top: ",";\n            }\n            &:last-of-type {\n              ",";\n            }\n            .gallery-slide-inner {\n              transition: all 0.5s;\n              &:hover {\n                transform: scale(1.05);\n                .bookmark-slide-gallery {\n                  width: 100%;\n                }\n              }\n            }\n          }\n          .gallery-slide-lastItem {\n            padding-right: 16px;\n            margin-bottom: 16px;\n          }\n          .nav-bar {\n            height: 48px;\n            width: 280px;\n            min-width: 280px;\n            border: 1px solid ",";\n            background: ",";\n            padding: 0 ",";\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            margin-top: -24px;\n            margin-left: -140px;\n            .scroll-navigator {\n              .btn {\n                border-radius: ",";\n              }\n            }\n            .navbtn {\n              width: 100px;\n            }\n          }\n          .example-tips {\n            margin-top: -10px;\n            top: 50%;\n            position: relative;\n            text-align: center;\n          }\n        }\n        .bookmark-container::-webkit-scrollbar {\n          display: none;\n        }\n        .gallery-container {\n          display: inline-flex !important;\n          overflow-x: ",";\n        }\n        .gallery-container-ver {\n          overflow-y: ",";\n        }\n        .horizon-line {\n          margin: 10px 15px;\n          border-bottom: 1px solid ",";\n        }\n        .vertical-line {\n          margin: 10px 15px;\n          border-right: 1px solid ",";\n        }\n        .vertical-border {\n          padding-right: ",";\n        }\n        .default-img {\n          width: 100%;\n          height: 100%;\n          background: "," url(",") center center no-repeat;\n          background-size: 50% 50%;\n        }\n        .edit-mask {\n          height: calc(100% - 49px);\n          z-index: 2;\n        }\n      }\n    "],["\n      "," {\n        overflow: ",";\n        height: 100%;\n        width: 100%;\n        .bookmark-title-height{\n          height: 45px;\n        }\n        .bookmark-list-height {\n          height: calc(100% - 45px);\n          overflow-y: ",";\n        }\n        .bookmark-title {\n          flex-grow: 1;\n          padding: 0 15px;\n          line-height: 45px;\n          font-size: ",";\n        }\n        .bookmark-btn-container {\n          width: 32px;\n          height: 32px;\n        }\n        .bookmark-btn {\n          font-weight: bold;\n          font-size: ",";\n        }\n        .bookmark-view-auto {\n          overflow-y: ",";\n        }\n        .gallery-card-add {\n          cursor: pointer;\n          min-width: 200px;\n          height: 189px;\n          display: grid;\n          border: 1px solid ",";\n          background: ",";\n          margin: ",";\n        }\n        .card-add {\n          cursor: pointer;\n          height: 159px;\n          display: inline-flex;\n          border: 1px solid ",";\n          background: ",";\n          width: 150px;\n          margin: 15px 10px;\n          position: relative;\n          .add-placeholder {\n            height: 120px;\n          }\n        }\n        .list-add {\n          cursor: pointer;\n          height: 37px;\n          display: inline-flex;\n          border: 1px solid ",";\n          background: ",";\n          width: calc(100% - 30px);\n          margin: 0 15px 15px;\n          position: relative;\n        }\n        .gallery-add-icon {\n          position: relative;\n          top: 50%;\n          left: 50%;\n          width: 20px;\n          height: 20px;\n          margin-top: -",";\n          margin-left: -",";\n        }\n        .bookmark-container {\n          ",";\n          width: 100%;\n          color: ",";\n          .bookmark-runtimeSeparator {\n            margin: 10px 15px 15px;\n            border: 1px dashed ",";\n          }\n          .widget-card-content {\n            padding: 8px 9px !important;\n          }\n          .bookmark-card-col {\n            width: 170px;\n            padding: 10px 10px 0;\n            position: relative;\n            .widget-card-image-inner {\n              width: 148px;\n              height: 120px;\n            }\n            .card-inner {\n              transition: all 0.5s;\n            }\n          }\n          .bookmark-list-col {\n            padding: "," 0;\n            align-items: center !important;\n            margin: 8px 15px 0;\n          }\n          .bookmark-pointer {\n            cursor: pointer;\n            &:hover {\n              background: ",";\n            }\n          }\n          .bookmark-only-pointer {\n            cursor: pointer;\n          }\n          .bookmark-custom-pointer {\n            cursor: pointer;\n            border: 1px solid ",";\n            ","\n            ","\n            ","\n          }\n          .layout-height{\n            height: "," !important;\n          }\n          .border-none {\n            border: none !important;\n          }\n          .runtime-bookmarkCard {\n            .runtimeBookmarkCard-upload,\n            .runtimeBookmarkCard-operation {\n              display: none;\n            }\n            &:hover {\n              .runtimeBookmarkCard-operation {\n                display: block;\n                position: absolute;\n                right: 10px;\n                background: ",";\n                opacity: 0.9;\n              }\n              .runtimeBookmarkCard-upload {\n                display: block;\n                position: absolute;\n                right: 10px;\n                bottom: 48px;\n                background: ",";\n                opacity: 0.9;\n              }\n            }\n          }\n          .runtime-bookmarkList {\n            display: inline-block !important;\n            width: calc(100% - 30px);\n            padding: "," 0;\n            margin: 0 15px 6px;\n            align-items: center !important;\n            .runtimeBookmarkList-operation {\n              margin-right: 15px;\n              display: none;\n              height: 28px;\n            }\n            &:hover {\n              .runtimeBookmarkList-operation {\n                display: block;\n              }\n            }\n          }\n          .runtime-title-con {\n            padding: 4px 0 !important;\n          }\n          .runtime-title {\n            width: auto;\n            border: none;\n            background-color: transparent;\n            display: inline-block !important;\n            height: 29px;\n            &:focus {\n              border: 1px solid ",";\n            }\n            &:hover {\n              border: 1px solid ",";\n            }\n          }\n          .suspension-drop-btn{\n            border-radius: 12px;\n            border: 0;\n          }\n          .suspension-drop-placeholder{\n            width: 32px;\n          }\n          .suspension-nav-placeholder1{\n            height: 32px;\n            width: 60px;\n          }\n          .suspension-nav-placeholder2{\n            height: 24px;\n            width: 100px;\n          }\n          .suspension-noborder-btn{\n            border: 0;\n            padding-left: ",";\n          }\n          .suspension-tools-top {\n            position: absolute;\n            top: 5px;\n            left: 5px;\n            z-index: 1;\n            .caret-icon {\n              margin-left: ",";\n            }\n          }\n          .suspension-top-number {\n            position: absolute;\n            top: 5px;\n            right: 5px;\n            background: ",";\n            border-radius: 10px;\n            opacity: 0.8;\n            width: 40px;\n            text-align: center;\n            z-index: 1;\n          }\n          .suspension-tools-middle {\n            display: flex;\n            width: 100%;\n            padding: 0 ",";\n            position: absolute;\n            top: 50%;\n            margin-top: ",";\n            z-index: 1;\n            .middle-nav-group button {\n              background: ",";\n              opacity: 0.8;\n              border-radius: 50%;\n            }\n          }\n          .suspension-middle-play {\n            position: absolute;\n            right: 5px;\n            bottom: 20px;\n            z-index: 2;\n          }\n          .suspension-navbar {\n            display: flex;\n            width: 100%;\n            padding: 0 ",";\n            position: absolute;\n            top: 50%;\n            z-index: 1;\n            .navbar-btn-pre{\n              position: absolute;\n              left: 5px;\n              border-radius: 50%;\n            }\n            .navbar-btn-next{\n              position: absolute;\n              right: 5px;\n              border-radius: 50%;\n            }\n          }\n          .suspension-navbar-verticle {\n            display: flex;\n            height: 100%;\n            position: absolute;\n            top: 0;\n            left: 50%;\n            z-index: 1;\n            margin-left: -13px;\n            .navbar-btn-pre{\n              position: absolute;\n              top: 5px;\n              border-radius: 50%;\n            }\n            .navbar-btn-next{\n              position: absolute;\n              bottom: 5px;\n              border-radius: 50%;\n            }\n          }\n          .suspension-tools-text {\n            display: flex;\n            width: 100%;\n            padding: ",";\n            position: absolute;\n            border-top: 1px solid ",";\n            bottom: 0;\n            z-index: 1;\n            .caret-icon {\n              margin-left: ",";\n            }\n            .nav-btn-text {\n              width: 100px;\n            }\n          }\n          .suspension-tools-bottom {\n            display: flex;\n            width: 100%;\n            padding: 0 ",";\n            position: absolute;\n            bottom: 5px;\n            z-index: 1;\n            .caret-icon {\n              margin-left: ",";\n            }\n            .scroll-navigator {\n              .btn {\n                border-radius: ",";\n              }\n            }\n            .nav-btn-bottom {\n              width: ",";\n              border-radius: 16px;\n              opacity: 0.8;\n              background: ",";\n            }\n            .number-count {\n              border-radius: 10px;\n              opacity: 0.8;\n              background: ",";\n              width: 40px;\n              text-align: center;\n            }\n          }\n          .bookmark-slide {\n            position: absolute;\n            bottom: ",";\n            opacity: 0.8;\n            background: ",";\n            width: calc(100% - 2px);\n            z-index: 1;\n            padding: ",";\n            .bookmark-slide-title {\n              font-size: ",";\n              font-weight: bold;\n            }\n            .bookmark-slide-description {\n              font-size: ",";\n              max-height: 80px;\n              overflow-y: auto;\n            }\n          }\n          .bookmark-slide-gallery {\n            position: absolute;\n            bottom: ",";\n            opacity: 0.8;\n            background: ",";\n            width: calc(100% - 2px);\n            z-index: 1;\n            padding: ",";\n            .bookmark-slide-title {\n              font-size: ",";\n              font-weight: bold;\n            }\n            .bookmark-slide-description {\n              max-height: 60px;\n              overflow-y: auto;\n              font-size: ",";\n            }\n          }\n          .bookmark-text {\n            background: ",";\n            width: calc(100% - 2px);\n            height: 60%;\n            z-index: 1;\n            padding: ",";\n            .bookmark-text-title {\n              font-size: ",";\n              font-weight: bold;\n            }\n            .bookmark-text-description {\n              height: calc(100% - 75px);\n              overflow-y: auto;\n              font-size: ",";\n            }\n          }\n          .gallery-card {\n            min-width: 200px;\n            min-height: 180px;\n            height: auto;\n            position: relative;\n            padding: ",";\n            margin: ",";\n            .gallery-card-inner {\n              transition: all 0.5s;\n              &:hover {\n                transform: scale(1.05);\n              }\n            }\n            .gallery-card-operation {\n              display: none;\n            }\n            &:hover {\n              .gallery-card-operation {\n                display: block;\n                position: absolute;\n                top: ",";\n                right: ",";\n                background: ",";\n                opacity: 0.9;\n              }\n            }\n            .gallery-img {\n              width: 198px;\n              height: 150px;\n              display: inline-flex;\n            }\n            .gallery-img-vertical {\n              width: 100%;\n              height: 200px;\n            }\n          }\n          .gallery-slide-card {\n            ",";\n            ",";\n            height: calc(100% - ",");\n            position: relative;\n            margin: ",";\n            padding-top: ",";\n            ",";\n            &:first-of-type {\n              margin-top: ",";\n              padding-top: ",";\n            }\n            &:last-of-type {\n              ",";\n            }\n            .gallery-slide-inner {\n              transition: all 0.5s;\n              &:hover {\n                transform: scale(1.05);\n                .bookmark-slide-gallery {\n                  width: 100%;\n                }\n              }\n            }\n          }\n          .gallery-slide-lastItem {\n            padding-right: 16px;\n            margin-bottom: 16px;\n          }\n          .nav-bar {\n            height: 48px;\n            width: 280px;\n            min-width: 280px;\n            border: 1px solid ",";\n            background: ",";\n            padding: 0 ",";\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            margin-top: -24px;\n            margin-left: -140px;\n            .scroll-navigator {\n              .btn {\n                border-radius: ",";\n              }\n            }\n            .navbtn {\n              width: 100px;\n            }\n          }\n          .example-tips {\n            margin-top: -10px;\n            top: 50%;\n            position: relative;\n            text-align: center;\n          }\n        }\n        .bookmark-container::-webkit-scrollbar {\n          display: none;\n        }\n        .gallery-container {\n          display: inline-flex !important;\n          overflow-x: ",";\n        }\n        .gallery-container-ver {\n          overflow-y: ",";\n        }\n        .horizon-line {\n          margin: 10px 15px;\n          border-bottom: 1px solid ",";\n        }\n        .vertical-line {\n          margin: 10px 15px;\n          border-right: 1px solid ",";\n        }\n        .vertical-border {\n          padding-right: ",";\n        }\n        .default-img {\n          width: 100%;\n          height: 100%;\n          background: "," url(",") center center no-repeat;\n          background-size: 50% 50%;\n        }\n        .edit-mask {\n          height: calc(100% - 49px);\n          z-index: 2;\n        }\n      }\n    "])),"&.bookmark-widget-"+r,window.jimuConfig.isInBuilder&&l!==a.AppMode.Run?"hidden":"auto",window.jimuConfig.isInBuilder&&l!==a.AppMode.Run?"hidden !important":"auto",a.polished.rem(16),a.polished.rem(12),window.jimuConfig.isInBuilder&&l!==a.AppMode.Run&&-1===c.indexOf(d.templateType)?"hidden":"auto",e.colors.secondary,e.colors.white,d.direction===s.a.Horizon?a.polished.rem(12):a.polished.rem(16),e.colors.palette.light[400],e.colors.white,e.colors.palette.light[400],e.colors.white,a.polished.rem(10),a.polished.rem(10),d.templateType!==s.f.Card&&d.templateType!==s.f.List&&"height: 100%",e.colors.black,e.colors.secondary,a.polished.rem(8),e.colors.palette.light[200],e.colors.light,d.direction===s.a.Vertical&&"position: absolute;",d.direction===s.a.Vertical&&"width: calc(100% - 40px) !important;",d.direction===s.a.Vertical&&"height: calc(100% - "+d.space+"px) !important;",d.pageStyle===s.d.Paging?"calc(100% - 49px)":"100%",e.colors.secondary,e.colors.secondary,a.polished.rem(4),e.colors.secondary,e.colors.secondary,a.polished.rem(7),a.polished.rem(2),e.colors.white,a.polished.rem(8),d.direction===s.a.Horizon?"-13px":"-26px",e.colors.white,a.polished.rem(8),a.polished.rem(8),e.colors.secondary,a.polished.rem(2),a.polished.rem(8),a.polished.rem(3),e.borderRadiuses.circle,d.autoPlayAllow?"100px":"60px",e.colors.white,e.colors.white,d.templateType===s.f.Slide3?"1px":"unset",e.colors.white,a.polished.rem(8),a.polished.rem(16),a.polished.rem(13),d.templateType===s.f.Slide3?0:"unset",e.colors.white,a.polished.rem(8),a.polished.rem(16),a.polished.rem(13),e.colors.white,a.polished.rem(8),a.polished.rem(16),a.polished.rem(14),d.direction===s.a.Horizon?"unset":a.polished.rem(16),d.direction===s.a.Horizon?a.polished.rem(12):"unset",d.direction===s.a.Horizon?0:a.polished.rem(20),d.direction===s.a.Horizon?0:a.polished.rem(20),e.colors.light,d.direction===s.a.Horizon&&"width: "+d.itemWidth+"px !important",d.direction===s.a.Horizon?"min-width: "+d.itemWidth+"px !important":"height: "+d.itemHeight+"px !important",a.polished.rem(32),d.direction===s.a.Horizon?a.polished.rem(16)+" 0":"0 "+a.polished.rem(16),d.direction===s.a.Horizon?"unset":a.polished.rem(d.space),d.direction===s.a.Horizon&&"margin-left: "+a.polished.rem(d.space),d.direction===s.a.Horizon?a.polished.rem(16):a.polished.rem(10),d.direction===s.a.Horizon?"unset":a.polished.rem(10),d.direction===s.a.Horizon?"padding-right: "+a.polished.rem(16):"margin-bottom: "+a.polished.rem(20),e.colors.secondary,e.colors.light,a.polished.rem(8),e.borderRadiuses.circle,window.jimuConfig.isInBuilder&&l!==a.AppMode.Run&&-1===c.indexOf(d.templateType)?"hidden":"auto",window.jimuConfig.isInBuilder&&l!==a.AppMode.Run&&-1===c.indexOf(d.templateType)?"hidden":"auto",e.colors.secondary,e.colors.secondary,a.polished.rem(16),e.colors.palette.light[200],t(147))},i.onActiveViewChange=function(e){var n=i.props,t=n.appMode,o=n.config;i.setState({jimuMapView:e}),e&&t===a.AppMode.Run&&o.initBookmark&&!i.alreadyActiveLoading&&o.bookmarks.length>0&&(i.alreadyActiveLoading=!0,e.view.when((function(){i.setState({bookmarkOnViewId:o.bookmarks[0].id}),i.onViewBookmark(o.bookmarks[0])})))},i.handleViewGroupCreate=function(e){i.setState({viewGroup:e})},i.typedImgExist=function(e){var n,t;return e.imgSourceType===s.c.Snapshot?null===(n=e.snapParam)||void 0===n?void 0:n.url:null===(t=e.imgParam)||void 0===t?void 0:t.url},i.renderSlideViewTop=function(e){var n,t,o=e.imgSourceType===s.c.Snapshot,l=o?null===(n=e.snapParam)||void 0===n?void 0:n.url:null===(t=e.imgParam)||void 0===t?void 0:t.url;return Object(a.jsx)("div",{className:"w-100 h-100 bookmark-pointer surface-1",onClick:function(){return i.onViewBookmark(e)},key:e.id||"webmap-"+e.name},Object(a.jsx)("div",{className:"bookmark-slide"},Object(a.jsx)("div",{className:"bookmark-slide-title"},e.name),Object(a.jsx)("div",{className:"bookmark-slide-description"},e.description)),l?Object(a.jsx)(r.ImageWithParam,{imageParam:o?e.snapParam:e.imgParam,altText:e.name,useFadein:!0,imageFillMode:e.imagePosition}):Object(a.jsx)("div",{className:"default-img"}))},i.renderSlideViewText=function(e){var n,t,o=e.imgSourceType===s.c.Snapshot,l=o?null===(n=e.snapParam)||void 0===n?void 0:n.url:null===(t=e.imgParam)||void 0===t?void 0:t.url;return Object(a.jsx)("div",{className:"w-100 h-100 bookmark-only-pointer surface-1",onClick:function(){return i.onViewBookmark(e)},key:e.id||"webmap-"+e.name},Object(a.jsx)("div",{className:"w-100",style:{height:"40%"}},l?Object(a.jsx)(r.ImageWithParam,{imageParam:o?e.snapParam:e.imgParam,altText:e.name,useFadein:!0,imageFillMode:e.imagePosition}):Object(a.jsx)("div",{className:"default-img"})),Object(a.jsx)("div",{className:"bookmark-text"},Object(a.jsx)("div",{className:"bookmark-text-title"},e.name),Object(a.jsx)("div",{className:"bookmark-text-description"},e.description)))},i.renderSlideViewBottom=function(e){var n,t,o=e.imgSourceType===s.c.Snapshot,l=o?null===(n=e.snapParam)||void 0===n?void 0:n.url:null===(t=e.imgParam)||void 0===t?void 0:t.url;return Object(a.jsx)("div",{className:"w-100 h-100 bookmark-pointer surface-1",onClick:function(){return i.onViewBookmark(e)},key:e.id||"webmap-"+e.name},l?Object(a.jsx)(r.ImageWithParam,{imageParam:o?e.snapParam:e.imgParam,altText:e.name,useFadein:!0,imageFillMode:e.imagePosition}):Object(a.jsx)("div",{className:"default-img"}),Object(a.jsx)("div",{className:"bookmark-slide"},Object(a.jsx)("div",{className:"bookmark-slide-title"},e.name),Object(a.jsx)("div",{className:"bookmark-slide-description"},e.description)))},i.renderCustomContents=function(e){var n=i.state.LayoutEntry,t=i.props.layouts;if(e.layoutName)return Object(a.jsx)("div",{className:"w-100 h-100 bookmark-only-pointer surface-1",onClick:function(){return i.onViewBookmark(e)},key:e.id},Object(a.jsx)(n,{isRepeat:!0,layouts:t[e.layoutName],isInWidget:!0,className:"layout-height"}))},i.renderCustomExample=function(){var e=i.state.LayoutEntry,n=i.props.layouts;if(n[s.e.Regular])return Object(a.jsx)("div",{className:"w-100 h-100 bookmark-only-pointer surface-1"},Object(a.jsx)(e,{isRepeat:!0,layouts:n[s.e.Regular],isInWidget:!0,className:"layout-height"}))},i.handleArrowChange=function(e){var n=i.props.config,t=i.state.jimuMapView,o=i.getMapBookmarks(t)||[],a=n.displayFromWeb?n.bookmarks.concat(o):n.bookmarks,r=a.length;if(0!==r){var s=i.state.bookmarkOnViewId,l=a.findIndex((function(e){return e.id===s}))>-1?a.findIndex((function(e){return e.id===s})):0;l!==r-1||e?0===l&&e?l=r-1:e&&l>0?l--:e||l++:l=0,i.setState({bookmarkOnViewId:a[l].id}),i.onViewBookmark(a[l])}},i.handleOnViewChange=function(e){var n,t=i.props,o=t.appMode,r=t.config,s=null===(n=null==e?void 0:e.target)||void 0===n?void 0:n.value,l=i.state.jimuMapView,d=i.getMapBookmarks(l)||[],c=r.displayFromWeb?r.bookmarks.concat(d):r.bookmarks,p=c.findIndex((function(e){return e.id===s}))>-1?c.findIndex((function(e){return e.id===s})):0;i.setState({bookmarkOnViewId:s}),o===a.AppMode.Run&&i.onViewBookmark(c[p])},i.getBookmarksOptions=function(e){var n=[];return e.map((function(e){n.push(Object(a.jsx)("option",{key:e.id,value:e.id},e.name))})),n},i.handleAutoPlay=function(){var e=i.props,n=e.config,t=e.useMapWidgetIds,o=e.id,r=i.state,s=r.bookmarkOnViewId,l=r.autoPlayStart,d=r.playTimer,c=r.jimuMapView,p=i.getMapBookmarks(c)||[],m=n.displayFromWeb?n.bookmarks.concat(p):n.bookmarks;if(0!==m.length){if(l)return d&&clearInterval(d),void i.setState({autoPlayStart:!1,playTimer:void 0});t&&0!==t.length&&Object(a.getAppStore)().dispatch(a.appActions.requestAutoControlMapWidget(t[0],o));var u=n.autoInterval,g=n.autoLoopAllow,b=m.findIndex((function(e){return e.id===s}));-1!==b&&b!==m.length-1||(b=0),i.setState({bookmarkOnViewId:m[b].id}),i.onViewBookmark(m[b]);var h=setInterval((function(){if(b++,g)b>=m.length&&(b=0);else if(b>=m.length)return clearInterval(h),d&&clearInterval(d),void i.setState({autoPlayStart:!1,playTimer:void 0});i.setState({bookmarkOnViewId:m[b].id}),i.onViewBookmark(m[b])}),1e3*u+1e3);i.setState({autoPlayStart:!0,playTimer:h})}},i.renderBottomTools=function(e){var n=i.props.config,o=i.state.jimuMapView,l=i.getMapBookmarks(o)||[],c=n.displayFromWeb?n.bookmarks.concat(l):n.bookmarks,p=c.length,m=i.state,u=m.bookmarkOnViewId,g=m.autoPlayStart,b=1;b=e?0:c.findIndex((function(e){return e.id===u}))>-1?c.findIndex((function(e){return e.id===u}))+1:1;var h=Object(a.jsx)(r.Icon,{icon:t(84),size:14,style:{marginRight:3}});return function(e){var t;switch(e){case s.f.Slide1:t=Object(a.jsx)("div",{className:"suspension-tools-bottom align-items-center justify-content-around"},c.length>1?Object(a.jsx)(r.Select,{size:"sm",value:u,onChange:i.handleOnViewChange,style:{width:32},buttonProps:{arrow:h,className:"suspension-drop-btn",type:"default"},title:i.formatMessage("bookmarkList")},i.getBookmarksOptions(c)):Object(a.jsx)("div",{className:"suspension-drop-placeholder"}),c.length>1?Object(a.jsx)(r.NavButtonGroup,{type:"tertiary",vertical:!1,onChange:i.handleArrowChange,className:"nav-btn-bottom",previousTitle:i.formatMessage("previous"),nextTitle:i.formatMessage("next")},Object(a.jsx)("div",{className:"bookmark-btn-container"},n.autoPlayAllow&&Object(a.jsx)(r.Button,{icon:!0,className:"bookmark-btn",type:"link",onClick:i.handleAutoPlay,title:i.formatMessage("autoPlay"),"data-testid":"triggerAuto"},Object(a.jsx)(r.Icon,{icon:g?f:x,className:"mr-1",size:16})))):Object(a.jsx)("div",{className:"suspension-nav-placeholder1"}),Object(a.jsx)("span",{className:"number-count"},b,"/",p));break;case s.f.Slide2:case s.f.Custom1:case s.f.Custom2:t=c.length>1?Object(a.jsx)("div",{className:"suspension-tools-text align-items-center justify-content-around"},Object(a.jsx)(r.Select,{size:"sm",value:u,onChange:i.handleOnViewChange,style:{width:32},buttonProps:{arrow:h,className:"suspension-noborder-btn",type:"default"},title:i.formatMessage("bookmarkList")},i.getBookmarksOptions(c)),Object(a.jsx)(r.NavButtonGroup,{type:"tertiary",vertical:!1,onChange:i.handleArrowChange,className:"nav-btn-text",previousTitle:i.formatMessage("previous"),nextTitle:i.formatMessage("next")},Object(a.jsx)("span",null,b,"/",p)),Object(a.jsx)("div",{className:"bookmark-btn-container"},n.autoPlayAllow&&Object(a.jsx)(r.Button,{icon:!0,className:"bookmark-btn",type:"link",onClick:i.handleAutoPlay,title:i.formatMessage("autoPlay")},Object(a.jsx)(r.Icon,{icon:g?f:x,className:"mr-1",size:18})))):Object(a.jsx)("div",{className:"align-items-center"});break;case s.f.Slide3:t=Object(a.jsx)(d.Fragment,null,Object(a.jsx)("div",{className:"suspension-tools-top align-items-center justify-content-around"},c.length>1?Object(a.jsx)(r.Select,{size:"sm",value:u,onChange:i.handleOnViewChange,style:{width:32},className:"top-drop",buttonProps:{arrow:h,className:"suspension-drop-btn",type:"default"},title:i.formatMessage("bookmarkList")},i.getBookmarksOptions(c)):Object(a.jsx)("div",{className:"suspension-drop-placeholder"})),Object(a.jsx)("span",{className:"suspension-top-number"},b,"/",p),Object(a.jsx)("div",{className:"suspension-tools-middle"},c.length>1&&Object(a.jsx)(r.NavButtonGroup,{type:"tertiary",vertical:!1,onChange:i.handleArrowChange,className:"middle-nav-group",previousTitle:i.formatMessage("previous"),nextTitle:i.formatMessage("next")})),n.autoPlayAllow&&Object(a.jsx)("div",{className:"suspension-middle-play"},Object(a.jsx)(r.Button,{icon:!0,className:"bookmark-btn",type:"link",onClick:i.handleAutoPlay,title:i.formatMessage("autoPlay")},Object(a.jsx)(r.Icon,{icon:g?f:x,className:"mr-1",size:30}))))}return t}(n.templateType)},i.renderSlideScroll=function(e){var n=e.map((function(e,n){var t,o,l=e.imgSourceType===s.c.Snapshot,d=l?null===(t=e.snapParam)||void 0===t?void 0:t.url:null===(o=e.imgParam)||void 0===o?void 0:o.url;return Object(a.jsx)("div",{className:"gallery-slide-card",key:n},Object(a.jsx)("div",{className:"w-100 h-100 bookmark-pointer gallery-slide-inner surface-1",onClick:function(){return i.onViewBookmark(e)}},Object(a.jsx)("div",{className:"bookmark-slide-gallery"},Object(a.jsx)("div",{className:"bookmark-slide-title"},e.name),Object(a.jsx)("div",{className:"bookmark-slide-description"},e.description)),d?Object(a.jsx)(r.ImageWithParam,{imageParam:l?e.snapParam:e.imgParam,altText:e.name,useFadein:!0,imageFillMode:e.imagePosition}):Object(a.jsx)("div",{className:"default-img"})))})),t=Object(a.jsx)("div",{className:"gallery-slide-lastItem",key:"last"});return n.asMutable({deep:!0}).concat(t)},i.renderCustomScroll=function(e){var n=i.state.LayoutEntry,t=i.props.layouts,o=e.map((function(e,o){return Object(a.jsx)("div",{className:"gallery-slide-card",key:o},Object(a.jsx)("div",{className:"w-100 h-100 bookmark-custom-pointer surface-1",onClick:function(){return i.onViewBookmark(e)}},Object(a.jsx)(n,{isRepeat:!0,layouts:t[e.layoutName],isInWidget:!0,className:"layout-height"})))})),r=Object(a.jsx)("div",{className:"gallery-slide-lastItem",key:"last"});return o.asMutable({deep:!0}).concat(r)},i.scrollContainer=function(e){i.containerRef.current.scrollBy(e)},i.handleScroll=function(e){var n;void 0===e&&(e="next");var t=Object(a.getAppStore)().getState(),o=null===(n=null==t?void 0:t.appContext)||void 0===n?void 0:n.isRTL,r=i.props.config,l=r.itemHeight,d=void 0===l?280:l,c=r.itemWidth,p=void 0===c?210:c,m=r.space,u=void 0===m?0:m,g=r.direction===s.a.Horizon;if(i.containerRef.current&&"next"===e){var b=g?{top:0,left:o?-(p+u):p+u,behavior:"smooth"}:{top:d,left:0,behavior:"smooth"};i.scrollContainer(b)}else if(i.containerRef.current&&"previous"===e){b=g?{top:0,left:o?p+u:-(p+u),behavior:"smooth"}:{top:-d,left:0,behavior:"smooth"};i.scrollContainer(b)}},i.renderNavbar=function(e){var n=i.props.config;return Object(a.jsx)("div",{key:"navBar",className:(n.direction===s.a.Horizon?"suspension-navbar":"suspension-navbar-verticle")+" align-items-center justify-content-between"},Object(a.jsx)(r.Button,{title:i.formatMessage("previous"),type:"primary",size:"sm",icon:!0,onClick:function(){return i.handleScroll("previous")},className:"navbar-btn-pre"},Object(a.jsx)(r.Icon,{autoFlip:!0,icon:e?j:y,size:12})),Object(a.jsx)(r.Button,{title:i.formatMessage("next"),type:"primary",size:"sm",icon:!0,onClick:function(){return i.handleScroll("next")},className:"navbar-btn-next"},Object(a.jsx)(r.Icon,{autoFlip:!0,icon:e?w:k,size:12})))},i.getMapBookmarks=function(e){var n,t;if(e&&(null==e?void 0:e.datasourceId)){var i=e.view;if(!i)return;var o=null===(n=e.view)||void 0===n?void 0:n.map,a=[];return"3d"===i.type?a=(null===(t=o.presentation)||void 0===t?void 0:t.slides)?JSON.parse(JSON.stringify(o.presentation.slides)):[]:"2d"===i.type&&(a=(null==o?void 0:o.bookmarks)?JSON.parse(JSON.stringify(o.bookmarks)):[]),a.map((function(n,t){var i,o;return n.id="maporigin-"+t,n.runTimeFlag=!0,n.mapOriginFlag=!0,n.mapDataSourceId=e.datasourceId,(null===(i=n.thumbnail)||void 0===i?void 0:i.url)?n.imgParam={url:n.thumbnail.url}:n.imgParam={},(null===(o=n.title)||void 0===o?void 0:o.text)&&(n.name=n.title.text),n.imagePosition=r.ImageFillMode.Fill,n}))}},i.renderBookmarkList=function(e){var n=i.props,o=n.appMode,l=n.config,c=l.transitionInfo,p=i.state,m=p.bookmarkOnViewId,u=p.autoPlayStart,g=p.jimuMapView,b=i.getMapBookmarks(g)||[];l.displayFromWeb&&(e=e.concat(b));var k=e.findIndex((function(e){return e.id===m}))>-1?e.findIndex((function(e){return e.id===m})):0,y=0===k?1:Math.max(0,k-1),j=l.direction===s.a.Horizon,w=[s.f.Slide1,s.f.Slide2,s.f.Slide3,s.f.Custom1,s.f.Custom2],O=l.templateType===s.f.Gallery||-1!==w.indexOf(l.templateType)&&l.pageStyle===s.d.Scroll;return Object(a.jsx)("div",{className:"bookmark-container "+(O?j?"gallery-container":"gallery-container-ver":""),ref:i.containerRef},function(n){var p,g,b,w,O,N,S,I,C;switch(n){case s.f.Card:C=e.map((function(e,n){var t,l,c=e.imgSourceType===s.c.Snapshot,p=c?null===(t=e.snapParam)||void 0===t?void 0:t.url:null===(l=e.imgParam)||void 0===l?void 0:l.url;return Object(a.jsx)(d.Fragment,{key:n},Object(a.jsx)("div",{className:"d-inline-flex bookmark-card-col"},Object(a.jsx)(r.Card,{onClick:function(){return i.onViewBookmark(e)},className:(o===a.AppMode.Run?"bookmark-pointer":"")+" card-inner surface-1"},Object(a.jsx)("div",{className:"widget-card-image"},Object(a.jsx)("div",{className:"widget-card-image-inner"},p?Object(a.jsx)(r.ImageWithParam,{imageParam:c?e.snapParam:e.imgParam,altText:e.name,useFadein:!0,imageFillMode:e.imagePosition}):Object(a.jsx)("div",{className:"default-img"}))),Object(a.jsx)(r.CardBody,{className:"widget-card-content text-truncate"},Object(a.jsx)("span",{className:"text-capitalize",title:e.name},e.name)))))}));break;case s.f.List:C=e.map((function(e,n){return Object(a.jsx)("div",{key:n,onClick:function(){return i.onViewBookmark(e)},className:(o===a.AppMode.Run?"bookmark-pointer":"")+" d-flex bookmark-list-col surface-1"},Object(a.jsx)(r.Icon,{icon:v,className:"ml-3",size:14}),Object(a.jsx)("div",{className:"ml-2"},e.name))}));break;case s.f.Slide1:var M=e.map((function(e){return i.renderSlideViewTop(e)}));return Object(a.jsx)(d.Fragment,null,l.pageStyle===s.d.Paging?Object(a.jsx)(a.TransitionContainer,{previousIndex:y,currentIndex:k,transitionType:null===(p=null==c?void 0:c.transition)||void 0===p?void 0:p.type,direction:null===(g=null==c?void 0:c.transition)||void 0===g?void 0:g.direction,playId:null==c?void 0:c.previewId},M):i.renderSlideScroll(e),l.pageStyle===s.d.Scroll&&i.renderNavbar(l.direction===s.a.Horizon),l.pageStyle===s.d.Paging&&i.renderBottomTools());case s.f.Slide2:var z=e.map((function(e){return i.renderSlideViewText(e)}));return Object(a.jsx)(d.Fragment,null,l.pageStyle===s.d.Paging?Object(a.jsx)(a.TransitionContainer,{previousIndex:y,currentIndex:k,transitionType:null===(b=null==c?void 0:c.transition)||void 0===b?void 0:b.type,direction:null===(w=null==c?void 0:c.transition)||void 0===w?void 0:w.direction,playId:null==c?void 0:c.previewId},z):i.renderSlideScroll(e),l.pageStyle===s.d.Scroll&&i.renderNavbar(l.direction===s.a.Horizon),l.pageStyle===s.d.Paging&&i.renderBottomTools());case s.f.Slide3:var A=e.map((function(e){return i.renderSlideViewBottom(e)}));return Object(a.jsx)(d.Fragment,null,l.pageStyle===s.d.Paging?Object(a.jsx)(a.TransitionContainer,{previousIndex:y,currentIndex:k,transitionType:null===(O=null==c?void 0:c.transition)||void 0===O?void 0:O.type,direction:null===(N=null==c?void 0:c.transition)||void 0===N?void 0:N.direction,playId:null==c?void 0:c.previewId},A):i.renderSlideScroll(e),l.pageStyle===s.d.Scroll&&i.renderNavbar(l.direction===s.a.Horizon),l.pageStyle===s.d.Paging&&i.renderBottomTools());case s.f.Gallery:var B=i.getRuntimeUuid(),P=JSON.parse(localStorage.getItem(B))||[],T=e.map((function(e,n){var t,l,d=e.imgSourceType===s.c.Snapshot,c=d?null===(t=e.snapParam)||void 0===t?void 0:t.url:null===(l=e.imgParam)||void 0===l?void 0:l.url;return Object(a.jsx)("div",{className:"gallery-card",key:n},Object(a.jsx)(r.Card,{onClick:function(){return i.onViewBookmark(e)},className:(o===a.AppMode.Run?"bookmark-pointer":"")+" gallery-card-inner surface-1"},Object(a.jsx)("div",{className:"widget-card-image bg-light-300 "+(j?"gallery-img":"gallery-img-vertical")},c?Object(a.jsx)(r.ImageWithParam,{imageParam:d?e.snapParam:e.imgParam,altText:e.name,useFadein:!0,imageFillMode:e.imagePosition}):Object(a.jsx)("div",{className:"default-img"})),Object(a.jsx)(r.CardBody,{className:"widget-card-content text-truncate"},Object(a.jsx)("span",{className:"text-capitalize",title:e.name},e.name))))})),L=P.map((function(e,n){var s=JSON.parse(localStorage.getItem(e)),l=a.React.createRef();return Object(a.jsx)("div",{className:"gallery-card",key:"RuntimeGallery-"+n},Object(a.jsx)(r.Card,{onClick:function(){return i.onViewBookmark(s)},className:(o===a.AppMode.Run?"bookmark-pointer":"")+" gallery-card-inner surface-1"},Object(a.jsx)("div",{className:"widget-card-image bg-light-300 "+(j?"gallery-img":"gallery-img-vertical")},Object(a.jsx)("div",{className:"default-img"})),Object(a.jsx)(r.CardBody,{className:"widget-card-content text-truncate runtime-title-con"},Object(a.jsx)(r.TextInput,{className:"runtime-title w-100",ref:l,size:"sm",title:s.name,value:s.name||"",onClick:function(e){return e.stopPropagation()},onChange:function(n){return i.onRuntimeBookmarkNameChange(e,n.target.value)},onKeyDown:function(e){return i.handleKeydown(e,l)}}))),Object(a.jsx)("span",{className:"gallery-card-operation float-right"},Object(a.jsx)(r.Button,{title:i.formatMessage("deleteOption"),onClick:function(){return i.handleRuntimeDelete(e)},type:"tertiary",icon:!0},Object(a.jsx)(r.Icon,{icon:t(59),size:12}))))})),R=l.runtimeAddAllow?Object(a.jsx)(d.Fragment,{key:"galleryAdd"},Object(a.jsx)("div",{className:"gallery-card-add",onClick:i.handleRuntimeAdd,title:i.formatMessage("addBookmark")},Object(a.jsx)("div",{className:"gallery-add-icon"},Object(a.jsx)(r.Icon,{icon:h,className:"mr-1",size:16}))),Object(a.jsx)("div",{className:"vertical-border"})):Object(a.jsx)("div",{className:"vertical-border",key:"last"}),V=T.asMutable({deep:!0}).concat(L),D=i.renderNavbar(l.direction===s.a.Horizon);V.push(R),V.push(D),C=V;break;case s.f.Navigator:var F=l.bookmarks.length,G=l.bookmarks.findIndex((function(e){return e.id===m}))>-1?l.bookmarks.findIndex((function(e){return e.id===m}))+1:1;return Object(a.jsx)("div",{className:"nav-bar d-flex align-items-center justify-content-around"},Object(a.jsx)(r.Select,{size:"sm",value:m,onChange:i.handleOnViewChange,style:{width:32}},i.getBookmarksOptions(e)),Object(a.jsx)(r.Button,{icon:!0,className:"bookmark-btn",type:"tertiary",onClick:i.handleRuntimeAdd},Object(a.jsx)(r.Icon,{icon:h,className:"mr-1",size:16})),Object(a.jsx)(r.NavButtonGroup,{type:"tertiary",circle:!0,vertical:!1,onChange:i.handleArrowChange,className:"navbtn"},Object(a.jsx)("span",null,G,"/",F)),Object(a.jsx)(r.Button,{icon:!0,className:"bookmark-btn",type:"tertiary",onClick:i.handleAutoPlay,disabled:!l.autoPlayAllow},Object(a.jsx)(r.Icon,{icon:u?f:x,className:"mr-1",size:16})));case s.f.Custom1:case s.f.Custom2:var H=i.isEditing(),E=e.map((function(e){return i.renderCustomContents(e)}));return Object(a.jsx)(d.Fragment,null,l.pageStyle===s.d.Paging?Object(a.jsx)(a.TransitionContainer,{previousIndex:y,currentIndex:k,transitionType:null===(S=null==c?void 0:c.transition)||void 0===S?void 0:S.type,direction:null===(I=null==c?void 0:c.transition)||void 0===I?void 0:I.direction,playId:null==c?void 0:c.previewId},E):i.renderCustomScroll(e),l.pageStyle===s.d.Scroll&&i.renderNavbar(l.direction===s.a.Horizon),l.pageStyle===s.d.Paging&&i.renderBottomTools(),!H&&l.pageStyle===s.d.Paging&&o===a.AppMode.Design&&Object(a.jsx)("div",{className:"edit-mask position-absolute w-100"}))}return C}(l.templateType))},i.renderExampleSlideScroll=function(e){return Object(a.jsx)("div",{className:"gallery-slide-card"},Object(a.jsx)("div",{className:"w-100 h-100 bookmark-pointer surface-1"},Object(a.jsx)("div",{className:"bookmark-slide-gallery"},Object(a.jsx)("div",{className:"bookmark-slide-title"},e.title),Object(a.jsx)("div",{className:"bookmark-slide-description"},e.description)),Object(a.jsx)("div",{className:"default-img"})))},i.renderBookmarkExample=function(e){var n=i.props,t=n.appMode,o=n.config,l=o.direction===s.a.Horizon,c=o.templateType===s.f.Gallery;return Object(a.jsx)("div",{className:"bookmark-container "+(c?l?"gallery-container":"gallery-container-ver":""),ref:i.containerRef},function(n){var c;switch(n){case s.f.Card:c=new Array(3).fill(1).map((function(n,t){return Object(a.jsx)("div",{className:"d-inline-flex bookmark-card-col",key:t},Object(a.jsx)(r.Card,{className:"surface-1"},Object(a.jsx)("div",{className:"widget-card-image bg-light-300"},Object(a.jsx)("div",{className:"widget-card-image-inner"},Object(a.jsx)("div",{className:"default-img"}))),Object(a.jsx)(r.CardBody,{className:"widget-card-content text-truncate"},Object(a.jsx)("span",{className:"text-capitalize",title:e.name},e.name))))}));break;case s.f.List:c=new Array(3).fill(1).map((function(n,t){return Object(a.jsx)("div",{className:"d-flex bookmark-list-col surface-1",key:t},Object(a.jsx)(r.Icon,{icon:v,className:"ml-3",size:14}),Object(a.jsx)("div",{className:"ml-2"},e.name))}));break;case s.f.Slide1:c=Object(a.jsx)(d.Fragment,null,o.pageStyle===s.d.Paging?Object(a.jsx)(a.TransitionContainer,{previousIndex:1,currentIndex:0,transitionType:o.transition,direction:o.transitionDirection},Object(a.jsx)("div",{className:"w-100 h-100 bookmark-pointer surface-1"},Object(a.jsx)("div",{className:"bookmark-slide"},Object(a.jsx)("div",{className:"bookmark-slide-title"},e.title),Object(a.jsx)("div",{className:"bookmark-slide-description"},e.description)),Object(a.jsx)("div",{className:"default-img"}))):i.renderExampleSlideScroll(e),o.pageStyle===s.d.Scroll&&i.renderNavbar(o.direction===s.a.Horizon),o.pageStyle===s.d.Paging&&i.renderBottomTools(!0));break;case s.f.Slide2:c=Object(a.jsx)(d.Fragment,null,o.pageStyle===s.d.Paging?Object(a.jsx)(a.TransitionContainer,{previousIndex:1,currentIndex:0,transitionType:o.transition,direction:o.transitionDirection},Object(a.jsx)("div",{className:"w-100 h-100 bookmark-only-pointer surface-1"},Object(a.jsx)("div",{className:"w-100",style:{height:"40%"}},Object(a.jsx)("div",{className:"default-img"})),Object(a.jsx)("div",{className:"bookmark-text"},Object(a.jsx)("div",{className:"bookmark-text-title"},e.title),Object(a.jsx)("div",{className:"bookmark-text-description"},e.description)))):i.renderExampleSlideScroll(e),o.pageStyle===s.d.Scroll&&i.renderNavbar(o.direction===s.a.Horizon),o.pageStyle===s.d.Paging&&i.renderBottomTools(!0));break;case s.f.Slide3:c=Object(a.jsx)(d.Fragment,null,o.pageStyle===s.d.Paging?Object(a.jsx)(a.TransitionContainer,{previousIndex:1,currentIndex:0,transitionType:o.transition,direction:o.transitionDirection},Object(a.jsx)("div",{className:"w-100 h-100 bookmark-pointer surface-1"},Object(a.jsx)("div",{className:"default-img"}),Object(a.jsx)("div",{className:"bookmark-slide"},Object(a.jsx)("div",{className:"bookmark-slide-title"},e.title),Object(a.jsx)("div",{className:"bookmark-slide-description"},e.description)))):i.renderExampleSlideScroll(e),o.pageStyle===s.d.Scroll&&i.renderNavbar(o.direction===s.a.Horizon),o.pageStyle===s.d.Paging&&i.renderBottomTools(!0));break;case s.f.Gallery:c=new Array(3).fill(1).map((function(n,i){return Object(a.jsx)("div",{className:"gallery-card",key:i},Object(a.jsx)(r.Card,{className:(t===a.AppMode.Run?"bookmark-pointer":"")+" surface-1"},Object(a.jsx)("div",{className:"widget-card-image bg-light-300 "+(l?"gallery-img":"gallery-img-vertical")},Object(a.jsx)("div",{className:"default-img"})),Object(a.jsx)(r.CardBody,{className:"widget-card-content text-truncate"},Object(a.jsx)("span",{className:"text-capitalize",title:e.name},e.name))))}));break;case s.f.Custom1:case s.f.Custom2:var p=i.isEditing(),m=i.renderCustomExample();c=Object(a.jsx)(d.Fragment,null,o.pageStyle===s.d.Paging?Object(a.jsx)(a.TransitionContainer,{previousIndex:1,currentIndex:0,transitionType:o.transition,direction:o.transitionDirection},m):Object(a.jsx)("div",{className:"gallery-slide-card"},m),o.pageStyle===s.d.Scroll&&i.renderNavbar(o.direction===s.a.Horizon),o.pageStyle===s.d.Paging&&i.renderBottomTools(!0),!p&&o.pageStyle===s.d.Paging&&t===a.AppMode.Design&&Object(a.jsx)("div",{className:"edit-mask position-absolute w-100 h-100"}))}return c}(o.templateType))},i.onRuntimeBookmarkNameChange=function(e,n){var t=JSON.parse(localStorage.getItem(e));t.name=n,localStorage.setItem(e,JSON.stringify(t))},i.handleKeydown=function(e,n){13===e.keyCode&&n.current.blur()},i.handleRuntimeDelete=function(e){var n=i.getRuntimeUuid(),t=JSON.parse(localStorage.getItem(n))||[],o=t.findIndex((function(n){return n===e}));o>-1&&t.splice(o,1),localStorage.setItem(n,JSON.stringify(t)),localStorage.removeItem(e),i.setState({runtimeBmArray:t})},i.renderRuntimeBookmarkList=function(){var e=i.props,n=e.appMode,o=e.config,l=i.getRuntimeUuid(),c=JSON.parse(localStorage.getItem(l))||[];return Object(a.jsx)("div",{className:"bookmark-container"},(c&&c.length>0&&o.templateType!==s.f.Gallery||o.runtimeAddAllow)&&Object(a.jsx)("div",{className:"bookmark-runtimeSeparator"}),function(){var e;switch(o.templateType){case s.f.Card:e=c.map((function(e){var o=JSON.parse(localStorage.getItem(e)),s=a.React.createRef();return Object(a.jsx)(d.Fragment,{key:e},Object(a.jsx)("div",{className:"d-inline-flex bookmark-card-col runtime-bookmarkCard"},Object(a.jsx)(r.Card,{onClick:function(){return i.onViewBookmark(o)},className:(n===a.AppMode.Run?"bookmark-pointer":"")+" surface-1"},Object(a.jsx)("div",{className:"widget-card-image bg-light-300"},Object(a.jsx)("div",{className:"widget-card-image-inner"},Object(a.jsx)("div",{className:"default-img"}))),Object(a.jsx)(r.CardBody,{className:"widget-card-content runtime-title-con"},Object(a.jsx)(r.TextInput,{className:"runtime-title w-100",ref:s,size:"sm",title:o.name,value:o.name||"",onClick:function(e){return e.stopPropagation()},onChange:function(n){return i.onRuntimeBookmarkNameChange(e,n.target.value)},onKeyDown:function(e){return i.handleKeydown(e,s)}}))),Object(a.jsx)("span",{className:"runtimeBookmarkCard-operation float-right"},Object(a.jsx)(r.Button,{title:i.formatMessage("deleteOption"),onClick:function(){return i.handleRuntimeDelete(e)},type:"tertiary",icon:!0},Object(a.jsx)(r.Icon,{icon:t(59),size:12})))))}));var l=Object(a.jsx)(d.Fragment,{key:"card-add"},Object(a.jsx)("div",{className:"card-add",onClick:i.handleRuntimeAdd,title:i.formatMessage("addBookmark")},Object(a.jsx)("div",{className:"add-placeholder"}),Object(a.jsx)("div",{className:"gallery-add-icon"},Object(a.jsx)(r.Icon,{icon:h,className:"mr-1",size:16}))),Object(a.jsx)("div",{className:"vertical-border"}));o.runtimeAddAllow&&e.push(l);break;case s.f.List:e=c.map((function(e){var o=JSON.parse(localStorage.getItem(e)),s=a.React.createRef();return Object(a.jsx)("div",{key:e,onClick:function(){return i.onViewBookmark(o)},className:(n===a.AppMode.Run?"bookmark-pointer":"")+" d-flex runtime-bookmarkList surface-1"},Object(a.jsx)(r.Icon,{icon:v,className:"ml-3",size:14}),Object(a.jsx)(r.TextInput,{className:"runtime-title",ref:s,size:"sm",title:o.name,value:o.name||"",onChange:function(n){return i.onRuntimeBookmarkNameChange(e,n.target.value)},onKeyDown:function(e){return i.handleKeydown(e,s)}}),Object(a.jsx)("span",{className:"runtimeBookmarkList-operation float-right"},Object(a.jsx)(r.Button,{title:i.formatMessage("deleteOption"),onClick:function(){return i.handleRuntimeDelete(e)},type:"tertiary",icon:!0},Object(a.jsx)(r.Icon,{icon:t(59),size:12}))))}));var p=Object(a.jsx)(d.Fragment,{key:"list-add"},Object(a.jsx)("div",{className:"list-add",onClick:i.handleRuntimeAdd,title:i.formatMessage("addBookmark")},Object(a.jsx)("div",{className:"gallery-add-icon"},Object(a.jsx)(r.Icon,{icon:h,className:"mr-1",size:16}))),Object(a.jsx)("div",{className:"vertical-border"}));o.runtimeAddAllow&&e.push(p)}return e}())};var c=i.getRuntimeUuid(),m=JSON.parse(localStorage.getItem(c))||[],u={jimuMapView:void 0,widgetRect:void 0,apiLoaded:!1,viewGroup:void 0,bookmarkOnViewId:1,autoPlayStart:!1,LayoutEntry:null,runtimeBmArray:m,playTimer:void 0,isSetLayout:!1};window.jimuConfig.isInBuilder?u.LayoutEntry=i.props.builderSupportModules.LayoutEntry:u.LayoutEntry=p.FixedLayoutViewer;var g=0;if(m.length>0){var O=m[m.length-1],N=JSON.parse(localStorage.getItem(O)).title,S=N.lastIndexOf("-");g=parseInt(N.substring(S+1))}return i.state=u,i.graphicsLayerCreated={},i.graphicsPainted={},i.graphicsLayerId={},i.runtimeReference=void 0,i.containerRef=a.React.createRef(),i.rtBookmarkId=g,i.showInView=!1,i.alreadyActiveLoading=!1,i}return g(n,e),n.getDerivedStateFromProps=function(e,n){if(!e||0===Object.keys(e).length||!n||0===Object.keys(n).length)return null;var t=n.autoPlayStart,i=n.playTimer;return e.autoplayActiveId!==e.id?(t&&i&&clearInterval(i),{autoPlayStart:!1,playTimer:void 0}):null},n.prototype.componentDidMount=function(){var e=this;this.state.apiLoaded||Object(c.loadArcGISJSAPIModules)(["esri/Graphic","esri/layers/GraphicsLayer","esri/geometry/Extent","esri/Viewpoint","esri/Basemap"]).then((function(n){e.Graphic=n[0],e.GraphicsLayer=n[1],e.Extent=n[2],e.Viewpoint=n[3],e.Basemap=n[4],e.setState({apiLoaded:!0})}))},n.prototype.componentDidUpdate=function(e){var n,t,i,o,r,s,l=this,d=this.props,c=d.config,p=d.appMode,m=d.id,u=this.state,g=u.autoPlayStart,b=u.playTimer,h=u.jimuMapView,v=(null===(t=null===(n=this.props)||void 0===n?void 0:n.stateProps)||void 0===t?void 0:t.activeBookmarkId)||0;if(e.appMode===a.AppMode.Design&&p===a.AppMode.Run&&h&&c.initBookmark&&c.bookmarks.length>0&&this.showInView&&h.view.when((function(){l.setState({bookmarkOnViewId:c.bookmarks[0].id}),l.onViewBookmark(c.bookmarks[0])})),this.autoOffCondition(e)&&g)return b&&clearInterval(b),void this.setState({autoPlayStart:!1,playTimer:void 0});if(((null===(o=null===(i=this.props)||void 0===i?void 0:i.stateProps)||void 0===o?void 0:o.settingChangeBookmark)||!1)&&v){var x=c.bookmarks.findIndex((function(e){return e.id===v}))>-1?c.bookmarks.findIndex((function(e){return e.id===v})):0;this.setState({bookmarkOnViewId:v}),this.props.dispatch(a.appActions.widgetStatePropChange(m,"settingChangeBookmark",!1)),p===a.AppMode.Run&&this.onViewBookmark(c.bookmarks[x])}if((null===(s=null===(r=this.props)||void 0===r?void 0:r.stateProps)||void 0===s?void 0:s.lastFlag)||!1){this.props.dispatch(a.appActions.widgetStatePropChange(m,"lastFlag",!1));var f=h.view.map.findLayerById(this.graphicsLayerId[h.id]);f&&f.removeAll()}this.settingLayout()},n.prototype.componentWillUnmount=function(){var e=this.state.jimuMapView;if(!Object(a.getAppStore)().getState().appConfig.widgets[this.props.id]&&e){var n=e.view.map.findLayerById(this.graphicsLayerId[e.id]);n&&n.removeAll();var t=this.getRuntimeUuid();(JSON.parse(localStorage.getItem(t))||[]).map((function(e){localStorage.removeItem(e)})),localStorage.removeItem(t)}},n.prototype.render=function(){var e=this,n=this.props,t=n.config,i=n.id,o=n.useMapWidgetIds,r=n.theme,l=this.state.jimuMapView,m=t.runtimeAddAllow,u=Object(a.classNames)("jimu-widget","widget-bookmark","bookmark-widget-"+i),g=this.getMapBookmarks(l)||[],b=t.displayFromWeb?t.bookmarks.concat(g).length:t.bookmarks.length,h=this.getRuntimeUuid(),v=(JSON.parse(localStorage.getItem(h))||[]).length,x={id:99999,name:this.formatMessage("_widgetLabel"),title:this.formatMessage("_widgetLabel"),description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",type:"2d",mapViewId:"widget_egeditor-dataSource_eg",mapDataSourceId:"dataSource_eg"},f=[s.f.Slide1,s.f.Slide2,s.f.Slide3,s.f.Gallery,s.f.Custom1,s.f.Custom2];return Object(a.jsx)(p.ViewportVisibilityContext.Consumer,null,(function(n){return n||(e.alreadyActiveLoading=!1),e.showInView=n,Object(a.jsx)("div",{className:u,css:e.getStyle(r)},n&&Object(a.jsx)(d.Fragment,null,Object(a.jsx)(c.JimuMapViewComponent,{useMapWidgetIds:o,onActiveViewChange:e.onActiveViewChange,onViewGroupCreate:e.handleViewGroupCreate}),m||0!==v||0!==b?Object(a.jsx)(d.Fragment,null,Object(a.jsx)("div",{className:"h-100 d-flex flex-wrap bookmark-view-auto"},(b>0||t.templateType===s.f.Gallery)&&e.renderBookmarkList(t.bookmarks),(v>0||m)&&-1===f.indexOf(t.templateType)&&e.renderRuntimeBookmarkList())):Object(a.jsx)(d.Fragment,null,Object(a.jsx)("div",{className:"h-100 d-flex flex-wrap bookmark-view-auto"},e.renderBookmarkExample(x)))))}))},n.mapExtraStateProps=function(e,n){var t,i=e&&e.appConfig,o=n.layouts,r=n.layoutId,s=n.layoutItemId,l=n.builderSupportModules,d=n.id,c=n.useMapWidgetIds,p=e&&e.appRuntimeInfo&&e.appRuntimeInfo.selection,m=p&&l&&l.widgetModules&&l.widgetModules.selectionInBookmark(p,d,i,!1),u=e&&e.mapWidgetsInfo,g=c&&0!==c.length?c[0]:void 0,b=(null==e?void 0:e.browserSizeMode)||a.BrowserSizeMode.Large;return{appMode:e&&e.appRuntimeInfo&&e.appRuntimeInfo.appMode,appConfig:e&&e.appConfig,layouts:o,selectionIsSelf:p&&p.layoutId===r&&p.layoutItemId===s,selectionIsInSelf:m,autoplayActiveId:g?null===(t=u[g])||void 0===t?void 0:t.autoControlWidgetId:void 0,mapWidgetId:g,browserSizeMode:b}},n.versionManager=u,n}(a.React.PureComponent);n.default=O},4:function(e,n){e.exports=i},41:function(e,n){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M9.521 5.47L3.981.162a.592.592 0 00-.813 0 .534.534 0 000 .779L8.448 6l-5.28 5.06a.534.534 0 000 .779.592.592 0 00.813 0l5.54-5.31a.726.726 0 000-1.058z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},45:function(e,n){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M2.479 5.47L8.019.162a.592.592 0 01.813 0 .534.534 0 010 .779L3.552 6l5.28 5.06a.534.534 0 010 .779.592.592 0 01-.813 0l-5.54-5.31a.726.726 0 010-1.058z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},5:function(e,n){e.exports=o},50:function(e,n){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M5.47 9.521L.162 3.981a.592.592 0 010-.813.534.534 0 01.779 0L6 8.448l5.06-5.28a.534.534 0 01.779 0 .592.592 0 010 .813l-5.31 5.54a.726.726 0 01-1.058 0z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},51:function(e,n){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M5.47 3.229L.162 8.769a.592.592 0 000 .813.534.534 0 00.779 0L6 4.302l5.06 5.28a.534.534 0 00.779 0 .592.592 0 000-.813l-5.31-5.54a.726.726 0 00-1.058 0z" fill="#000"></path><path d="M0 0h12v12H0z"></path></g></svg>'},59:function(e,n){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M2.561 7.876l1.138 20.023C3.699 30.164 5.83 32 8.459 32h15.724c2.629 0 4.76-1.836 4.76-4.101l1.095-20.023H2.562zm28.806-1.42c.005-.844.008-.901.008-.957 0-2.202-1.483-3.411-3.472-3.411l-5.537.005C22.366.937 21.082 0 19.768 0h-6.893c-1.314 0-2.64.937-2.64 2.093l-5.543-.005c-2.197 0-3.472 1.473-3.472 3.411 0 .057.003.113.008.957h30.139zm-10.306 6.682c0-.638.588-1.156 1.314-1.156s1.314.517 1.314 1.156v13.24c0 .638-.588 1.156-1.314 1.156s-1.314-.517-1.314-1.156v-13.24zm-6.077 0c0-.638.589-1.156 1.315-1.156s1.314.517 1.314 1.156v13.24c0 .638-.588 1.156-1.314 1.156s-1.315-.517-1.315-1.156v-13.24zm-6.074 0c0-.638.588-1.156 1.315-1.156s1.314.517 1.314 1.156v13.24c0 .638-.589 1.156-1.314 1.156s-1.315-.517-1.315-1.156v-13.24z"></path></svg>'},6:function(e,n,t){"use strict";var i,o,a,r,s,l;t.d(n,"a",(function(){return i})),t.d(n,"d",(function(){return o})),t.d(n,"b",(function(){return a})),t.d(n,"f",(function(){return r})),t.d(n,"e",(function(){return s})),t.d(n,"c",(function(){return l})),function(e){e.Horizon="HORIZON",e.Vertical="VERTICAL"}(i||(i={})),function(e){e.Scroll="SCROLL",e.Paging="PAGING"}(o||(o={})),function(e){e.All="ALL",e.Selected="SELECTED"}(a||(a={})),function(e){e.Card="CARD",e.List="LIST",e.Slide1="SLIDE1",e.Slide2="SLIDE2",e.Slide3="SLIDE3",e.Gallery="GALLERY",e.Navigator="NAVIGATOR",e.Custom1="CUSTOM1",e.Custom2="CUSTOM2"}(r||(r={})),function(e){e.Default="DEFAULT",e.Regular="REGULAR",e.Hover="HOVER"}(s||(s={})),function(e){e.Snapshot="SNAPSHOT",e.Custom="CUSTOM"}(l||(l={}))},69:function(e,n){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 0a.75.75 0 01.75.75v6.5h6.5a.75.75 0 110 1.5h-6.5v6.5a.75.75 0 11-1.5 0v-6.5H.75a.75.75 0 110-1.5h6.5V.75A.75.75 0 018 0z" fill="#000" fill-rule="evenodd"></path></svg>'},84:function(e,n){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M0 0h12v12H0z"></path><path d="M3.5 1h8a.5.5 0 110 1h-8a.5.5 0 010-1zM1 2.5a1 1 0 100-2 1 1 0 000 2zm0 4a1 1 0 100-2 1 1 0 000 2zm0 2a1 1 0 110 2 1 1 0 010-2zm10.5.5a.5.5 0 110 1h-8a.5.5 0 010-1h8zm0-4a.5.5 0 110 1h-8a.5.5 0 010-1h8z" fill="#000" fill-rule="nonzero"></path></g></svg>'}}))}}}));